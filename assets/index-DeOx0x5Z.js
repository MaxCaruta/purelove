function c_(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var dN={exports:{}},jp={},uN={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=Symbol.for("react.element"),h_=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),p_=Symbol.for("react.profiler"),g_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),y_=Symbol.for("react.forward_ref"),v_=Symbol.for("react.suspense"),b_=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),_2=Symbol.iterator;function N_(e){return e===null||typeof e!="object"?null:(e=_2&&e[_2]||e["@@iterator"],typeof e=="function"?e:null)}var hN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fN=Object.assign,mN={};function Xd(e,t,s){this.props=e,this.context=t,this.refs=mN,this.updater=s||hN}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pN(){}pN.prototype=Xd.prototype;function Gy(e,t,s){this.props=e,this.context=t,this.refs=mN,this.updater=s||hN}var Ky=Gy.prototype=new pN;Ky.constructor=Gy;fN(Ky,Xd.prototype);Ky.isPureReactComponent=!0;var C2=Array.isArray,gN=Object.prototype.hasOwnProperty,Yy={current:null},xN={key:!0,ref:!0,__self:!0,__source:!0};function yN(e,t,s){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)gN.call(t,n)&&!xN.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:qh,type:e,key:a,ref:o,props:i,_owner:Yy.current}}function j_(e,t){return{$$typeof:qh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jy(e){return typeof e=="object"&&e!==null&&e.$$typeof===qh}function S_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var A2=/\/+/g;function E0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?S_(""+e.key):t.toString(36)}function dm(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qh:case h_:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+E0(o,0):n,C2(i)?(s="",e!=null&&(s=e.replace(A2,"$&/")+"/"),dm(i,t,s,"",function(d){return d})):i!=null&&(Jy(i)&&(i=j_(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(A2,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",C2(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+E0(a,l);o+=dm(a,t,s,c,i)}else if(c=N_(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+E0(a,l++),o+=dm(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(e,t,s){if(e==null)return e;var n=[],i=0;return dm(e,n,"","",function(a){return t.call(s,a,i++)}),n}function k_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},um={transition:null},__={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:um,ReactCurrentOwner:Yy};function vN(){throw Error("act(...) is not supported in production builds of React.")}zt.Children={map:Mf,forEach:function(e,t,s){Mf(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Mf(e,function(){t++}),t},toArray:function(e){return Mf(e,function(t){return t})||[]},only:function(e){if(!Jy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zt.Component=Xd;zt.Fragment=f_;zt.Profiler=p_;zt.PureComponent=Gy;zt.StrictMode=m_;zt.Suspense=v_;zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;zt.act=vN;zt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fN({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Yy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gN.call(t,c)&&!xN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:qh,type:e.type,key:i,ref:a,props:n,_owner:o}};zt.createContext=function(e){return e={$$typeof:x_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g_,_context:e},e.Consumer=e};zt.createElement=yN;zt.createFactory=function(e){var t=yN.bind(null,e);return t.type=e,t};zt.createRef=function(){return{current:null}};zt.forwardRef=function(e){return{$$typeof:y_,render:e}};zt.isValidElement=Jy;zt.lazy=function(e){return{$$typeof:w_,_payload:{_status:-1,_result:e},_init:k_}};zt.memo=function(e,t){return{$$typeof:b_,type:e,compare:t===void 0?null:t}};zt.startTransition=function(e){var t=um.transition;um.transition={};try{e()}finally{um.transition=t}};zt.unstable_act=vN;zt.useCallback=function(e,t){return Pn.current.useCallback(e,t)};zt.useContext=function(e){return Pn.current.useContext(e)};zt.useDebugValue=function(){};zt.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};zt.useEffect=function(e,t){return Pn.current.useEffect(e,t)};zt.useId=function(){return Pn.current.useId()};zt.useImperativeHandle=function(e,t,s){return Pn.current.useImperativeHandle(e,t,s)};zt.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};zt.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};zt.useMemo=function(e,t){return Pn.current.useMemo(e,t)};zt.useReducer=function(e,t,s){return Pn.current.useReducer(e,t,s)};zt.useRef=function(e){return Pn.current.useRef(e)};zt.useState=function(e){return Pn.current.useState(e)};zt.useSyncExternalStore=function(e,t,s){return Pn.current.useSyncExternalStore(e,t,s)};zt.useTransition=function(){return Pn.current.useTransition()};zt.version="18.3.1";uN.exports=zt;var E=uN.exports;const ir=d_(E),bN=c_({__proto__:null,default:ir},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=E,A_=Symbol.for("react.element"),E_=Symbol.for("react.fragment"),P_=Object.prototype.hasOwnProperty,T_=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L_={key:!0,ref:!0,__self:!0,__source:!0};function wN(e,t,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)P_.call(t,n)&&!L_.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:A_,type:e,key:a,ref:o,props:i,_owner:T_.current}}jp.Fragment=E_;jp.jsx=wN;jp.jsxs=wN;dN.exports=jp;var r=dN.exports,Hg={},NN={exports:{}},ui={},jN={exports:{}},SN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,B){var X=Z.length;Z.push(B);e:for(;0<X;){var J=X-1>>>1,P=Z[J];if(0<i(P,B))Z[J]=B,Z[X]=P,X=J;else break e}}function s(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var B=Z[0],X=Z.pop();if(X!==B){Z[0]=X;e:for(var J=0,P=Z.length,H=P>>>1;J<H;){var Q=2*(J+1)-1,G=Z[Q],ae=Q+1,xe=Z[ae];if(0>i(G,X))ae<P&&0>i(xe,G)?(Z[J]=xe,Z[ae]=X,J=ae):(Z[J]=G,Z[Q]=X,J=Q);else if(ae<P&&0>i(xe,X))Z[J]=xe,Z[ae]=X,J=ae;else break e}}return B}function i(Z,B){var X=Z.sortIndex-B.sortIndex;return X!==0?X:Z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,p=!1,x=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Z){for(var B=s(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=Z)n(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=s(d)}}function k(Z){if(j=!1,b(Z),!x)if(s(c)!==null)x=!0,ie(C);else{var B=s(d);B!==null&&oe(k,B.startTime-Z)}}function C(Z,B){x=!1,j&&(j=!1,y(L),L=-1),p=!0;var X=m;try{for(b(B),f=s(c);f!==null&&(!(f.expirationTime>B)||Z&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,m=f.priorityLevel;var P=J(f.expirationTime<=B);B=e.unstable_now(),typeof P=="function"?f.callback=P:f===s(c)&&n(c),b(B)}else n(c);f=s(c)}if(f!==null)var H=!0;else{var Q=s(d);Q!==null&&oe(k,Q.startTime-B),H=!1}return H}finally{f=null,m=X,p=!1}}var _=!1,M=null,L=-1,$=5,K=-1;function I(){return!(e.unstable_now()-K<$)}function O(){if(M!==null){var Z=e.unstable_now();K=Z;var B=!0;try{B=M(!0,Z)}finally{B?W():(_=!1,M=null)}}else _=!1}var W;if(typeof v=="function")W=function(){v(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,le=Y.port2;Y.port1.onmessage=O,W=function(){le.postMessage(null)}}else W=function(){N(O,0)};function ie(Z){M=Z,_||(_=!0,W())}function oe(Z,B){L=N(function(){Z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,ie(C))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var X=m;m=B;try{return Z()}finally{m=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,B){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var X=m;m=Z;try{return B()}finally{m=X}},e.unstable_scheduleCallback=function(Z,B,X){var J=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,Z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=X+P,Z={id:u++,callback:B,priorityLevel:Z,startTime:X,expirationTime:P,sortIndex:-1},X>J?(Z.sortIndex=X,t(d,Z),s(c)===null&&Z===s(d)&&(j?(y(L),L=-1):j=!0,oe(k,X-J))):(Z.sortIndex=P,t(c,Z),x||p||(x=!0,ie(C))),Z},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(Z){var B=m;return function(){var X=m;m=B;try{return Z.apply(this,arguments)}finally{m=X}}}})(SN);jN.exports=SN;var M_=jN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_=E,di=M_;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kN=new Set,ch={};function wc(e,t){Rd(e,t),Rd(e+"Capture",t)}function Rd(e,t){for(ch[e]=t,e=0;e<t.length;e++)kN.add(t[e])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wg=Object.prototype.hasOwnProperty,R_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E2={},P2={};function D_(e){return Wg.call(P2,e)?!0:Wg.call(E2,e)?!1:R_.test(e)?P2[e]=!0:(E2[e]=!0,!1)}function O_(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F_(e,t,s,n){if(t===null||typeof t>"u"||O_(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tn(e,t,s,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wr[e]=new Tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wr[t]=new Tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wr[e]=new Tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wr[e]=new Tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wr[e]=new Tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wr[e]=new Tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wr[e]=new Tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wr[e]=new Tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wr[e]=new Tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Qy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xy,Qy);Wr[t]=new Tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xy,Qy);Wr[t]=new Tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xy,Qy);Wr[t]=new Tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wr[e]=new Tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wr[e]=new Tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zy(e,t,s,n){var i=Wr.hasOwnProperty(t)?Wr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F_(t,s,i,n)&&(s=null),n||i===null?D_(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var ko=I_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,If=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),_N=Symbol.for("react.provider"),CN=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),Xo=Symbol.for("react.lazy"),AN=Symbol.for("react.offscreen"),T2=Symbol.iterator;function Su(e){return e===null||typeof e!="object"?null:(e=T2&&e[T2]||e["@@iterator"],typeof e=="function"?e:null)}var Gs=Object.assign,P0;function Bu(e){if(P0===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);P0=t&&t[1]||""}return`
`+P0+e}var T0=!1;function L0(e,t){if(!e||T0)return"";T0=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{T0=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Bu(e):""}function B_(e){switch(e.tag){case 5:return Bu(e.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return e=L0(e.type,!1),e;case 11:return e=L0(e.type.render,!1),e;case 1:return e=L0(e.type,!0),e;default:return""}}function Jg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ed:return"Fragment";case Zc:return"Portal";case Gg:return"Profiler";case ev:return"StrictMode";case Kg:return"Suspense";case Yg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CN:return(e.displayName||"Context")+".Consumer";case _N:return(e._context.displayName||"Context")+".Provider";case tv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sv:return t=e.displayName||null,t!==null?t:Jg(e.type)||"Memo";case Xo:t=e._payload,e=e._init;try{return Jg(e(t))}catch{}}return null}function U_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jg(t);case 8:return t===ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function EN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z_(e){var t=EN(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rf(e){e._valueTracker||(e._valueTracker=z_(e))}function PN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=EN(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Tm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xg(e,t){var s=t.checked;return Gs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function L2(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=vl(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TN(e,t){t=t.checked,t!=null&&Zy(e,"checked",t,!1)}function Qg(e,t){TN(e,t);var s=vl(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zg(e,t.type,s):t.hasOwnProperty("defaultValue")&&Zg(e,t.type,vl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M2(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zg(e,t,s){(t!=="number"||Tm(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Uu=Array.isArray;function vd(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+vl(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ex(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Gs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I2(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Ge(92));if(Uu(s)){if(1<s.length)throw Error(Ge(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:vl(s)}}function LN(e,t){var s=vl(t.value),n=vl(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function R2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Df,IN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Df=Df||document.createElement("div"),Df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dh(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$_=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(e){$_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hu[t]=Hu[e]})});function RN(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Hu.hasOwnProperty(e)&&Hu[e]?(""+t).trim():t+"px"}function DN(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=RN(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var V_=Gs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sx(e,t){if(t){if(V_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function rx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nx=null;function rv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ix=null,bd=null,wd=null;function D2(e){if(e=Gh(e)){if(typeof ix!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=Ap(t),ix(e.stateNode,e.type,t))}}function ON(e){bd?wd?wd.push(e):wd=[e]:bd=e}function FN(){if(bd){var e=bd,t=wd;if(wd=bd=null,D2(e),t)for(e=0;e<t.length;e++)D2(t[e])}}function BN(e,t){return e(t)}function UN(){}var M0=!1;function zN(e,t,s){if(M0)return e(t,s);M0=!0;try{return BN(e,t,s)}finally{M0=!1,(bd!==null||wd!==null)&&(UN(),FN())}}function uh(e,t){var s=e.stateNode;if(s===null)return null;var n=Ap(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Ge(231,t,typeof s));return s}var ax=!1;if(go)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){ax=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{ax=!1}function q_(e,t,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Wu=!1,Lm=null,Mm=!1,ox=null,H_={onError:function(e){Wu=!0,Lm=e}};function W_(e,t,s,n,i,a,o,l,c){Wu=!1,Lm=null,q_.apply(H_,arguments)}function G_(e,t,s,n,i,a,o,l,c){if(W_.apply(this,arguments),Wu){if(Wu){var d=Lm;Wu=!1,Lm=null}else throw Error(Ge(198));Mm||(Mm=!0,ox=d)}}function Nc(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function $N(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O2(e){if(Nc(e)!==e)throw Error(Ge(188))}function K_(e){var t=e.alternate;if(!t){if(t=Nc(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return O2(i),e;if(a===n)return O2(i),t;a=a.sibling}throw Error(Ge(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(Ge(189))}}if(s.alternate!==n)throw Error(Ge(190))}if(s.tag!==3)throw Error(Ge(188));return s.stateNode.current===s?e:t}function VN(e){return e=K_(e),e!==null?qN(e):null}function qN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qN(e);if(t!==null)return t;e=e.sibling}return null}var HN=di.unstable_scheduleCallback,F2=di.unstable_cancelCallback,Y_=di.unstable_shouldYield,J_=di.unstable_requestPaint,ar=di.unstable_now,X_=di.unstable_getCurrentPriorityLevel,nv=di.unstable_ImmediatePriority,WN=di.unstable_UserBlockingPriority,Im=di.unstable_NormalPriority,Q_=di.unstable_LowPriority,GN=di.unstable_IdlePriority,Sp=null,Ta=null;function Z_(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Sp,e,void 0,(e.current.flags&128)===128)}catch{}}var ra=Math.clz32?Math.clz32:sC,eC=Math.log,tC=Math.LN2;function sC(e){return e>>>=0,e===0?32:31-(eC(e)/tC|0)|0}var Of=64,Ff=4194304;function zu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rm(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=zu(l):(a&=o,a!==0&&(n=zu(a)))}else o=s&~i,o!==0?n=zu(o):a!==0&&(n=zu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-ra(t),i=1<<s,n|=e[s],t&=~i;return n}function rC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nC(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ra(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=rC(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function lx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KN(){var e=Of;return Of<<=1,!(Of&4194240)&&(Of=64),e}function I0(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Hh(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ra(t),e[t]=s}function iC(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-ra(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function iv(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ra(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var cs=0;function YN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JN,av,XN,QN,ZN,cx=!1,Bf=[],cl=null,dl=null,ul=null,hh=new Map,fh=new Map,el=[],aC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B2(e,t){switch(e){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":hh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function _u(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Gh(t),t!==null&&av(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oC(e,t,s,n,i){switch(t){case"focusin":return cl=_u(cl,e,t,s,n,i),!0;case"dragenter":return dl=_u(dl,e,t,s,n,i),!0;case"mouseover":return ul=_u(ul,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return hh.set(a,_u(hh.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,fh.set(a,_u(fh.get(a)||null,e,t,s,n,i)),!0}return!1}function ej(e){var t=sc(e.target);if(t!==null){var s=Nc(t);if(s!==null){if(t=s.tag,t===13){if(t=$N(s),t!==null){e.blockedOn=t,ZN(e.priority,function(){XN(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=dx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);nx=n,s.target.dispatchEvent(n),nx=null}else return t=Gh(s),t!==null&&av(t),e.blockedOn=s,!1;t.shift()}return!0}function U2(e,t,s){hm(e)&&s.delete(t)}function lC(){cx=!1,cl!==null&&hm(cl)&&(cl=null),dl!==null&&hm(dl)&&(dl=null),ul!==null&&hm(ul)&&(ul=null),hh.forEach(U2),fh.forEach(U2)}function Cu(e,t){e.blockedOn===t&&(e.blockedOn=null,cx||(cx=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,lC)))}function mh(e){function t(i){return Cu(i,e)}if(0<Bf.length){Cu(Bf[0],e);for(var s=1;s<Bf.length;s++){var n=Bf[s];n.blockedOn===e&&(n.blockedOn=null)}}for(cl!==null&&Cu(cl,e),dl!==null&&Cu(dl,e),ul!==null&&Cu(ul,e),hh.forEach(t),fh.forEach(t),s=0;s<el.length;s++)n=el[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<el.length&&(s=el[0],s.blockedOn===null);)ej(s),s.blockedOn===null&&el.shift()}var Nd=ko.ReactCurrentBatchConfig,Dm=!0;function cC(e,t,s,n){var i=cs,a=Nd.transition;Nd.transition=null;try{cs=1,ov(e,t,s,n)}finally{cs=i,Nd.transition=a}}function dC(e,t,s,n){var i=cs,a=Nd.transition;Nd.transition=null;try{cs=4,ov(e,t,s,n)}finally{cs=i,Nd.transition=a}}function ov(e,t,s,n){if(Dm){var i=dx(e,t,s,n);if(i===null)q0(e,t,n,Om,s),B2(e,n);else if(oC(i,e,t,s,n))n.stopPropagation();else if(B2(e,n),t&4&&-1<aC.indexOf(e)){for(;i!==null;){var a=Gh(i);if(a!==null&&JN(a),a=dx(e,t,s,n),a===null&&q0(e,t,n,Om,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else q0(e,t,n,null,s)}}var Om=null;function dx(e,t,s,n){if(Om=null,e=rv(n),e=sc(e),e!==null)if(t=Nc(e),t===null)e=null;else if(s=t.tag,s===13){if(e=$N(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Om=e,null}function tj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X_()){case nv:return 1;case WN:return 4;case Im:case Q_:return 16;case GN:return 536870912;default:return 16}default:return 16}}var nl=null,lv=null,fm=null;function sj(){if(fm)return fm;var e,t=lv,s=t.length,n,i="value"in nl?nl.value:nl.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[a-n];n++);return fm=i.slice(e,1<n?1-n:void 0)}function mm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uf(){return!0}function z2(){return!1}function hi(e){function t(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uf:z2,this.isPropagationStopped=z2,this}return Gs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),t}var Qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cv=hi(Qd),Wh=Gs({},Qd,{view:0,detail:0}),uC=hi(Wh),R0,D0,Au,kp=Gs({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Au&&(Au&&e.type==="mousemove"?(R0=e.screenX-Au.screenX,D0=e.screenY-Au.screenY):D0=R0=0,Au=e),R0)},movementY:function(e){return"movementY"in e?e.movementY:D0}}),$2=hi(kp),hC=Gs({},kp,{dataTransfer:0}),fC=hi(hC),mC=Gs({},Wh,{relatedTarget:0}),O0=hi(mC),pC=Gs({},Qd,{animationName:0,elapsedTime:0,pseudoElement:0}),gC=hi(pC),xC=Gs({},Qd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yC=hi(xC),vC=Gs({},Qd,{data:0}),V2=hi(vC),bC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NC[e])?!!t[e]:!1}function dv(){return jC}var SC=Gs({},Wh,{key:function(e){if(e.key){var t=bC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dv,charCode:function(e){return e.type==="keypress"?mm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kC=hi(SC),_C=Gs({},kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q2=hi(_C),CC=Gs({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dv}),AC=hi(CC),EC=Gs({},Qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=hi(EC),TC=Gs({},kp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LC=hi(TC),MC=[9,13,27,32],uv=go&&"CompositionEvent"in window,Gu=null;go&&"documentMode"in document&&(Gu=document.documentMode);var IC=go&&"TextEvent"in window&&!Gu,rj=go&&(!uv||Gu&&8<Gu&&11>=Gu),H2=" ",W2=!1;function nj(e,t){switch(e){case"keyup":return MC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ij(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var td=!1;function RC(e,t){switch(e){case"compositionend":return ij(t);case"keypress":return t.which!==32?null:(W2=!0,H2);case"textInput":return e=t.data,e===H2&&W2?null:e;default:return null}}function DC(e,t){if(td)return e==="compositionend"||!uv&&nj(e,t)?(e=sj(),fm=lv=nl=null,td=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rj&&t.locale!=="ko"?null:t.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OC[e.type]:t==="textarea"}function aj(e,t,s,n){ON(n),t=Fm(t,"onChange"),0<t.length&&(s=new cv("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ku=null,ph=null;function FC(e){xj(e,0)}function _p(e){var t=nd(e);if(PN(t))return e}function BC(e,t){if(e==="change")return t}var oj=!1;if(go){var F0;if(go){var B0="oninput"in document;if(!B0){var K2=document.createElement("div");K2.setAttribute("oninput","return;"),B0=typeof K2.oninput=="function"}F0=B0}else F0=!1;oj=F0&&(!document.documentMode||9<document.documentMode)}function Y2(){Ku&&(Ku.detachEvent("onpropertychange",lj),ph=Ku=null)}function lj(e){if(e.propertyName==="value"&&_p(ph)){var t=[];aj(t,ph,e,rv(e)),zN(FC,t)}}function UC(e,t,s){e==="focusin"?(Y2(),Ku=t,ph=s,Ku.attachEvent("onpropertychange",lj)):e==="focusout"&&Y2()}function zC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _p(ph)}function $C(e,t){if(e==="click")return _p(t)}function VC(e,t){if(e==="input"||e==="change")return _p(t)}function qC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ia=typeof Object.is=="function"?Object.is:qC;function gh(e,t){if(ia(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Wg.call(t,i)||!ia(e[i],t[i]))return!1}return!0}function J2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X2(e,t){var s=J2(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=J2(s)}}function cj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dj(){for(var e=window,t=Tm();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Tm(e.document)}return t}function hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HC(e){var t=dj(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&cj(s.ownerDocument.documentElement,s)){if(n!==null&&hv(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=X2(s,a);var o=X2(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WC=go&&"documentMode"in document&&11>=document.documentMode,sd=null,ux=null,Yu=null,hx=!1;function Q2(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hx||sd==null||sd!==Tm(n)||(n=sd,"selectionStart"in n&&hv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yu&&gh(Yu,n)||(Yu=n,n=Fm(ux,"onSelect"),0<n.length&&(t=new cv("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=sd)))}function zf(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var rd={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionend:zf("Transition","TransitionEnd")},U0={},uj={};go&&(uj=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function Cp(e){if(U0[e])return U0[e];if(!rd[e])return e;var t=rd[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in uj)return U0[e]=t[s];return e}var hj=Cp("animationend"),fj=Cp("animationiteration"),mj=Cp("animationstart"),pj=Cp("transitionend"),gj=new Map,Z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cl(e,t){gj.set(e,t),wc(t,[e])}for(var z0=0;z0<Z2.length;z0++){var $0=Z2[z0],GC=$0.toLowerCase(),KC=$0[0].toUpperCase()+$0.slice(1);Cl(GC,"on"+KC)}Cl(hj,"onAnimationEnd");Cl(fj,"onAnimationIteration");Cl(mj,"onAnimationStart");Cl("dblclick","onDoubleClick");Cl("focusin","onFocus");Cl("focusout","onBlur");Cl(pj,"onTransitionEnd");Rd("onMouseEnter",["mouseout","mouseover"]);Rd("onMouseLeave",["mouseout","mouseover"]);Rd("onPointerEnter",["pointerout","pointerover"]);Rd("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function eb(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,G_(n,t,void 0,e),e.currentTarget=null}function xj(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;eb(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;eb(i,l,d),a=c}}}if(Mm)throw e=ox,Mm=!1,ox=null,e}function Cs(e,t){var s=t[xx];s===void 0&&(s=t[xx]=new Set);var n=e+"__bubble";s.has(n)||(yj(t,e,2,!1),s.add(n))}function V0(e,t,s){var n=0;t&&(n|=4),yj(s,e,n,t)}var $f="_reactListening"+Math.random().toString(36).slice(2);function xh(e){if(!e[$f]){e[$f]=!0,kN.forEach(function(s){s!=="selectionchange"&&(YC.has(s)||V0(s,!1,e),V0(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$f]||(t[$f]=!0,V0("selectionchange",!1,t))}}function yj(e,t,s,n){switch(tj(t)){case 1:var i=cC;break;case 4:i=dC;break;default:i=ov}s=i.bind(null,t,s,e),i=void 0,!ax||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function q0(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=sc(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}zN(function(){var d=a,u=rv(s),f=[];e:{var m=gj.get(e);if(m!==void 0){var p=cv,x=e;switch(e){case"keypress":if(mm(s)===0)break e;case"keydown":case"keyup":p=kC;break;case"focusin":x="focus",p=O0;break;case"focusout":x="blur",p=O0;break;case"beforeblur":case"afterblur":p=O0;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=AC;break;case hj:case fj:case mj:p=gC;break;case pj:p=PC;break;case"scroll":p=uC;break;case"wheel":p=LC;break;case"copy":case"cut":case"paste":p=yC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=q2}var j=(t&4)!==0,N=!j&&e==="scroll",y=j?m!==null?m+"Capture":null:m;j=[];for(var v=d,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=uh(v,y),k!=null&&j.push(yh(v,k,b)))),N)break;v=v.return}0<j.length&&(m=new p(m,x,null,s,u),f.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&s!==nx&&(x=s.relatedTarget||s.fromElement)&&(sc(x)||x[xo]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=s.relatedTarget||s.toElement,p=d,x=x?sc(x):null,x!==null&&(N=Nc(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(j=$2,k="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(j=q2,k="onPointerLeave",y="onPointerEnter",v="pointer"),N=p==null?m:nd(p),b=x==null?m:nd(x),m=new j(k,v+"leave",p,s,u),m.target=N,m.relatedTarget=b,k=null,sc(u)===d&&(j=new j(y,v+"enter",x,s,u),j.target=b,j.relatedTarget=N,k=j),N=k,p&&x)t:{for(j=p,y=x,v=0,b=j;b;b=zc(b))v++;for(b=0,k=y;k;k=zc(k))b++;for(;0<v-b;)j=zc(j),v--;for(;0<b-v;)y=zc(y),b--;for(;v--;){if(j===y||y!==null&&j===y.alternate)break t;j=zc(j),y=zc(y)}j=null}else j=null;p!==null&&tb(f,m,p,j,!1),x!==null&&N!==null&&tb(f,N,x,j,!0)}}e:{if(m=d?nd(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=BC;else if(G2(m))if(oj)C=VC;else{C=zC;var _=UC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=$C);if(C&&(C=C(e,d))){aj(f,C,s,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&Zg(m,"number",m.value)}switch(_=d?nd(d):window,e){case"focusin":(G2(_)||_.contentEditable==="true")&&(sd=_,ux=d,Yu=null);break;case"focusout":Yu=ux=sd=null;break;case"mousedown":hx=!0;break;case"contextmenu":case"mouseup":case"dragend":hx=!1,Q2(f,s,u);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":Q2(f,s,u)}var M;if(uv)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else td?nj(e,s)&&(L="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(L="onCompositionStart");L&&(rj&&s.locale!=="ko"&&(td||L!=="onCompositionStart"?L==="onCompositionEnd"&&td&&(M=sj()):(nl=u,lv="value"in nl?nl.value:nl.textContent,td=!0)),_=Fm(d,L),0<_.length&&(L=new V2(L,e,null,s,u),f.push({event:L,listeners:_}),M?L.data=M:(M=ij(s),M!==null&&(L.data=M)))),(M=IC?RC(e,s):DC(e,s))&&(d=Fm(d,"onBeforeInput"),0<d.length&&(u=new V2("onBeforeInput","beforeinput",null,s,u),f.push({event:u,listeners:d}),u.data=M))}xj(f,t)})}function yh(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Fm(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=uh(e,s),a!=null&&n.unshift(yh(e,a,i)),a=uh(e,t),a!=null&&n.push(yh(e,a,i))),e=e.return}return n}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tb(e,t,s,n,i){for(var a=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=uh(s,a),c!=null&&o.unshift(yh(s,c,l))):i||(c=uh(s,a),c!=null&&o.push(yh(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var JC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function sb(e){return(typeof e=="string"?e:""+e).replace(JC,`
`).replace(XC,"")}function Vf(e,t,s){if(t=sb(t),sb(e)!==t&&s)throw Error(Ge(425))}function Bm(){}var fx=null,mx=null;function px(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gx=typeof setTimeout=="function"?setTimeout:void 0,QC=typeof clearTimeout=="function"?clearTimeout:void 0,rb=typeof Promise=="function"?Promise:void 0,ZC=typeof queueMicrotask=="function"?queueMicrotask:typeof rb<"u"?function(e){return rb.resolve(null).then(e).catch(eA)}:gx;function eA(e){setTimeout(function(){throw e})}function H0(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),mh(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);mh(t)}function hl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Zd=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Zd,vh="__reactProps$"+Zd,xo="__reactContainer$"+Zd,xx="__reactEvents$"+Zd,tA="__reactListeners$"+Zd,sA="__reactHandles$"+Zd;function sc(e){var t=e[Ea];if(t)return t;for(var s=e.parentNode;s;){if(t=s[xo]||s[Ea]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=nb(e);e!==null;){if(s=e[Ea])return s;e=nb(e)}return t}e=s,s=e.parentNode}return null}function Gh(e){return e=e[Ea]||e[xo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function Ap(e){return e[vh]||null}var yx=[],id=-1;function Al(e){return{current:e}}function Es(e){0>id||(e.current=yx[id],yx[id]=null,id--)}function ws(e,t){id++,yx[id]=e.current,e.current=t}var bl={},fn=Al(bl),Gn=Al(!1),fc=bl;function Dd(e,t){var s=e.type.contextTypes;if(!s)return bl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kn(e){return e=e.childContextTypes,e!=null}function Um(){Es(Gn),Es(fn)}function ib(e,t,s){if(fn.current!==bl)throw Error(Ge(168));ws(fn,t),ws(Gn,s)}function vj(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ge(108,U_(e)||"Unknown",i));return Gs({},s,n)}function zm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bl,fc=fn.current,ws(fn,e),ws(Gn,Gn.current),!0}function ab(e,t,s){var n=e.stateNode;if(!n)throw Error(Ge(169));s?(e=vj(e,t,fc),n.__reactInternalMemoizedMergedChildContext=e,Es(Gn),Es(fn),ws(fn,e)):Es(Gn),ws(Gn,s)}var uo=null,Ep=!1,W0=!1;function bj(e){uo===null?uo=[e]:uo.push(e)}function rA(e){Ep=!0,bj(e)}function El(){if(!W0&&uo!==null){W0=!0;var e=0,t=cs;try{var s=uo;for(cs=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}uo=null,Ep=!1}catch(i){throw uo!==null&&(uo=uo.slice(e+1)),HN(nv,El),i}finally{cs=t,W0=!1}}return null}var ad=[],od=0,$m=null,Vm=0,Ci=[],Ai=0,mc=null,ho=1,fo="";function Yl(e,t){ad[od++]=Vm,ad[od++]=$m,$m=e,Vm=t}function wj(e,t,s){Ci[Ai++]=ho,Ci[Ai++]=fo,Ci[Ai++]=mc,mc=e;var n=ho;e=fo;var i=32-ra(n)-1;n&=~(1<<i),s+=1;var a=32-ra(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ho=1<<32-ra(t)+i|s<<i|n,fo=a+e}else ho=1<<a|s<<i|n,fo=e}function fv(e){e.return!==null&&(Yl(e,1),wj(e,1,0))}function mv(e){for(;e===$m;)$m=ad[--od],ad[od]=null,Vm=ad[--od],ad[od]=null;for(;e===mc;)mc=Ci[--Ai],Ci[Ai]=null,fo=Ci[--Ai],Ci[Ai]=null,ho=Ci[--Ai],Ci[Ai]=null}var ci=null,oi=null,Ls=!1,ta=null;function Nj(e,t){var s=Pi(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ob(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ci=e,oi=hl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ci=e,oi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=mc!==null?{id:ho,overflow:fo}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Pi(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ci=e,oi=null,!0):!1;default:return!1}}function vx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bx(e){if(Ls){var t=oi;if(t){var s=t;if(!ob(e,t)){if(vx(e))throw Error(Ge(418));t=hl(s.nextSibling);var n=ci;t&&ob(e,t)?Nj(n,s):(e.flags=e.flags&-4097|2,Ls=!1,ci=e)}}else{if(vx(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,Ls=!1,ci=e}}}function lb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ci=e}function qf(e){if(e!==ci)return!1;if(!Ls)return lb(e),Ls=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!px(e.type,e.memoizedProps)),t&&(t=oi)){if(vx(e))throw jj(),Error(Ge(418));for(;t;)Nj(e,t),t=hl(t.nextSibling)}if(lb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){oi=hl(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}oi=null}}else oi=ci?hl(e.stateNode.nextSibling):null;return!0}function jj(){for(var e=oi;e;)e=hl(e.nextSibling)}function Od(){oi=ci=null,Ls=!1}function pv(e){ta===null?ta=[e]:ta.push(e)}var nA=ko.ReactCurrentBatchConfig;function Eu(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Ge(309));var n=s.stateNode}if(!n)throw Error(Ge(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ge(284));if(!s._owner)throw Error(Ge(290,e))}return e}function Hf(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cb(e){var t=e._init;return t(e._payload)}function Sj(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function s(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=gl(y,v),y.index=0,y.sibling=null,y}function a(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,k){return v===null||v.tag!==6?(v=Z0(b,y.mode,k),v.return=y,v):(v=i(v,b),v.return=y,v)}function c(y,v,b,k){var C=b.type;return C===ed?u(y,v,b.props.children,k,b.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xo&&cb(C)===v.type)?(k=i(v,b.props),k.ref=Eu(y,v,b),k.return=y,k):(k=wm(b.type,b.key,b.props,null,y.mode,k),k.ref=Eu(y,v,b),k.return=y,k)}function d(y,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=eg(b,y.mode,k),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function u(y,v,b,k,C){return v===null||v.tag!==7?(v=lc(b,y.mode,k,C),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Z0(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case If:return b=wm(v.type,v.key,v.props,null,y.mode,b),b.ref=Eu(y,null,v),b.return=y,b;case Zc:return v=eg(v,y.mode,b),v.return=y,v;case Xo:var k=v._init;return f(y,k(v._payload),b)}if(Uu(v)||Su(v))return v=lc(v,y.mode,b,null),v.return=y,v;Hf(y,v)}return null}function m(y,v,b,k){var C=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(y,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case If:return b.key===C?c(y,v,b,k):null;case Zc:return b.key===C?d(y,v,b,k):null;case Xo:return C=b._init,m(y,v,C(b._payload),k)}if(Uu(b)||Su(b))return C!==null?null:u(y,v,b,k,null);Hf(y,b)}return null}function p(y,v,b,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,l(v,y,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case If:return y=y.get(k.key===null?b:k.key)||null,c(v,y,k,C);case Zc:return y=y.get(k.key===null?b:k.key)||null,d(v,y,k,C);case Xo:var _=k._init;return p(y,v,b,_(k._payload),C)}if(Uu(k)||Su(k))return y=y.get(b)||null,u(v,y,k,C,null);Hf(v,k)}return null}function x(y,v,b,k){for(var C=null,_=null,M=v,L=v=0,$=null;M!==null&&L<b.length;L++){M.index>L?($=M,M=null):$=M.sibling;var K=m(y,M,b[L],k);if(K===null){M===null&&(M=$);break}e&&M&&K.alternate===null&&t(y,M),v=a(K,v,L),_===null?C=K:_.sibling=K,_=K,M=$}if(L===b.length)return s(y,M),Ls&&Yl(y,L),C;if(M===null){for(;L<b.length;L++)M=f(y,b[L],k),M!==null&&(v=a(M,v,L),_===null?C=M:_.sibling=M,_=M);return Ls&&Yl(y,L),C}for(M=n(y,M);L<b.length;L++)$=p(M,y,L,b[L],k),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?L:$.key),v=a($,v,L),_===null?C=$:_.sibling=$,_=$);return e&&M.forEach(function(I){return t(y,I)}),Ls&&Yl(y,L),C}function j(y,v,b,k){var C=Su(b);if(typeof C!="function")throw Error(Ge(150));if(b=C.call(b),b==null)throw Error(Ge(151));for(var _=C=null,M=v,L=v=0,$=null,K=b.next();M!==null&&!K.done;L++,K=b.next()){M.index>L?($=M,M=null):$=M.sibling;var I=m(y,M,K.value,k);if(I===null){M===null&&(M=$);break}e&&M&&I.alternate===null&&t(y,M),v=a(I,v,L),_===null?C=I:_.sibling=I,_=I,M=$}if(K.done)return s(y,M),Ls&&Yl(y,L),C;if(M===null){for(;!K.done;L++,K=b.next())K=f(y,K.value,k),K!==null&&(v=a(K,v,L),_===null?C=K:_.sibling=K,_=K);return Ls&&Yl(y,L),C}for(M=n(y,M);!K.done;L++,K=b.next())K=p(M,y,L,K.value,k),K!==null&&(e&&K.alternate!==null&&M.delete(K.key===null?L:K.key),v=a(K,v,L),_===null?C=K:_.sibling=K,_=K);return e&&M.forEach(function(O){return t(y,O)}),Ls&&Yl(y,L),C}function N(y,v,b,k){if(typeof b=="object"&&b!==null&&b.type===ed&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case If:e:{for(var C=b.key,_=v;_!==null;){if(_.key===C){if(C=b.type,C===ed){if(_.tag===7){s(y,_.sibling),v=i(_,b.props.children),v.return=y,y=v;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xo&&cb(C)===_.type){s(y,_.sibling),v=i(_,b.props),v.ref=Eu(y,_,b),v.return=y,y=v;break e}s(y,_);break}else t(y,_);_=_.sibling}b.type===ed?(v=lc(b.props.children,y.mode,k,b.key),v.return=y,y=v):(k=wm(b.type,b.key,b.props,null,y.mode,k),k.ref=Eu(y,v,b),k.return=y,y=k)}return o(y);case Zc:e:{for(_=b.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){s(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{s(y,v);break}else t(y,v);v=v.sibling}v=eg(b,y.mode,k),v.return=y,y=v}return o(y);case Xo:return _=b._init,N(y,v,_(b._payload),k)}if(Uu(b))return x(y,v,b,k);if(Su(b))return j(y,v,b,k);Hf(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(s(y,v.sibling),v=i(v,b),v.return=y,y=v):(s(y,v),v=Z0(b,y.mode,k),v.return=y,y=v),o(y)):s(y,v)}return N}var Fd=Sj(!0),kj=Sj(!1),qm=Al(null),Hm=null,ld=null,gv=null;function xv(){gv=ld=Hm=null}function yv(e){var t=qm.current;Es(qm),e._currentValue=t}function wx(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function jd(e,t){Hm=e,gv=ld=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qn=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(gv!==e)if(e={context:e,memoizedValue:t,next:null},ld===null){if(Hm===null)throw Error(Ge(308));ld=e,Hm.dependencies={lanes:0,firstContext:e}}else ld=ld.next=e;return t}var rc=null;function vv(e){rc===null?rc=[e]:rc.push(e)}function _j(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,vv(t)):(s.next=i.next,i.next=s),t.interleaved=s,yo(e,n)}function yo(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Qo=!1;function bv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fl(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Yt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,yo(e,s)}return i=n.interleaved,i===null?(t.next=t,vv(n)):(t.next=i.next,i.next=t),n.interleaved=t,yo(e,s)}function pm(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,iv(e,s)}}function db(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Wm(e,t,s,n){var i=e.updateQueue;Qo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,j=l;switch(m=t,p=s,j.tag){case 1:if(x=j.payload,typeof x=="function"){f=x.call(p,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=j.payload,m=typeof x=="function"?x.call(p,f,m):x,m==null)break e;f=Gs({},f,m);break e;case 2:Qo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);gc|=o,e.lanes=o,e.memoizedState=f}}function ub(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(Ge(191,i));i.call(n)}}}var Kh={},La=Al(Kh),bh=Al(Kh),wh=Al(Kh);function nc(e){if(e===Kh)throw Error(Ge(174));return e}function wv(e,t){switch(ws(wh,t),ws(bh,e),ws(La,Kh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tx(t,e)}Es(La),ws(La,t)}function Bd(){Es(La),Es(bh),Es(wh)}function Aj(e){nc(wh.current);var t=nc(La.current),s=tx(t,e.type);t!==s&&(ws(bh,e),ws(La,s))}function Nv(e){bh.current===e&&(Es(La),Es(bh))}var Fs=Al(0);function Gm(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G0=[];function jv(){for(var e=0;e<G0.length;e++)G0[e]._workInProgressVersionPrimary=null;G0.length=0}var gm=ko.ReactCurrentDispatcher,K0=ko.ReactCurrentBatchConfig,pc=0,Ws=null,Nr=null,Mr=null,Km=!1,Ju=!1,Nh=0,iA=0;function tn(){throw Error(Ge(321))}function Sv(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ia(e[s],t[s]))return!1;return!0}function kv(e,t,s,n,i,a){if(pc=a,Ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gm.current=e===null||e.memoizedState===null?cA:dA,e=s(n,i),Ju){a=0;do{if(Ju=!1,Nh=0,25<=a)throw Error(Ge(301));a+=1,Mr=Nr=null,t.updateQueue=null,gm.current=uA,e=s(n,i)}while(Ju)}if(gm.current=Ym,t=Nr!==null&&Nr.next!==null,pc=0,Mr=Nr=Ws=null,Km=!1,t)throw Error(Ge(300));return e}function _v(){var e=Nh!==0;return Nh=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Ws.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Ri(){if(Nr===null){var e=Ws.alternate;e=e!==null?e.memoizedState:null}else e=Nr.next;var t=Mr===null?Ws.memoizedState:Mr.next;if(t!==null)Mr=t,Nr=e;else{if(e===null)throw Error(Ge(310));Nr=e,e={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Mr===null?Ws.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function jh(e,t){return typeof t=="function"?t(e):t}function Y0(e){var t=Ri(),s=t.queue;if(s===null)throw Error(Ge(311));s.lastRenderedReducer=e;var n=Nr,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((pc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ws.lanes|=u,gc|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,ia(n,t.memoizedState)||(qn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,Ws.lanes|=a,gc|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function J0(e){var t=Ri(),s=t.queue;if(s===null)throw Error(Ge(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);ia(a,t.memoizedState)||(qn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Ej(){}function Pj(e,t){var s=Ws,n=Ri(),i=t(),a=!ia(n.memoizedState,i);if(a&&(n.memoizedState=i,qn=!0),n=n.queue,Cv(Mj.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||Mr!==null&&Mr.memoizedState.tag&1){if(s.flags|=2048,Sh(9,Lj.bind(null,s,n,i,t),void 0,null),Rr===null)throw Error(Ge(349));pc&30||Tj(s,t,i)}return i}function Tj(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ws.updateQueue,t===null?(t={lastEffect:null,stores:null},Ws.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Lj(e,t,s,n){t.value=s,t.getSnapshot=n,Ij(t)&&Rj(e)}function Mj(e,t,s){return s(function(){Ij(t)&&Rj(e)})}function Ij(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ia(e,s)}catch{return!0}}function Rj(e){var t=yo(e,1);t!==null&&na(t,e,1,-1)}function hb(e){var t=Aa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:e},t.queue=e,e=e.dispatch=lA.bind(null,Ws,e),[t.memoizedState,e]}function Sh(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Ws.updateQueue,t===null?(t={lastEffect:null,stores:null},Ws.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Dj(){return Ri().memoizedState}function xm(e,t,s,n){var i=Aa();Ws.flags|=e,i.memoizedState=Sh(1|t,s,void 0,n===void 0?null:n)}function Pp(e,t,s,n){var i=Ri();n=n===void 0?null:n;var a=void 0;if(Nr!==null){var o=Nr.memoizedState;if(a=o.destroy,n!==null&&Sv(n,o.deps)){i.memoizedState=Sh(t,s,a,n);return}}Ws.flags|=e,i.memoizedState=Sh(1|t,s,a,n)}function fb(e,t){return xm(8390656,8,e,t)}function Cv(e,t){return Pp(2048,8,e,t)}function Oj(e,t){return Pp(4,2,e,t)}function Fj(e,t){return Pp(4,4,e,t)}function Bj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uj(e,t,s){return s=s!=null?s.concat([e]):null,Pp(4,4,Bj.bind(null,t,e),s)}function Av(){}function zj(e,t){var s=Ri();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Sv(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function $j(e,t){var s=Ri();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Sv(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Vj(e,t,s){return pc&21?(ia(s,t)||(s=KN(),Ws.lanes|=s,gc|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qn=!0),e.memoizedState=s)}function aA(e,t){var s=cs;cs=s!==0&&4>s?s:4,e(!0);var n=K0.transition;K0.transition={};try{e(!1),t()}finally{cs=s,K0.transition=n}}function qj(){return Ri().memoizedState}function oA(e,t,s){var n=pl(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Hj(e))Wj(t,s);else if(s=_j(e,t,s,n),s!==null){var i=En();na(s,e,n,i),Gj(s,t,n)}}function lA(e,t,s){var n=pl(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hj(e))Wj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,ia(l,o)){var c=t.interleaved;c===null?(i.next=i,vv(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=_j(e,t,i,n),s!==null&&(i=En(),na(s,e,n,i),Gj(s,t,n))}}function Hj(e){var t=e.alternate;return e===Ws||t!==null&&t===Ws}function Wj(e,t){Ju=Km=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Gj(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,iv(e,s)}}var Ym={readContext:Ii,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},cA={readContext:Ii,useCallback:function(e,t){return Aa().memoizedState=[e,t===void 0?null:t],e},useContext:Ii,useEffect:fb,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,xm(4194308,4,Bj.bind(null,t,e),s)},useLayoutEffect:function(e,t){return xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return xm(4,2,e,t)},useMemo:function(e,t){var s=Aa();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Aa();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oA.bind(null,Ws,e),[n.memoizedState,e]},useRef:function(e){var t=Aa();return e={current:e},t.memoizedState=e},useState:hb,useDebugValue:Av,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=hb(!1),t=e[0];return e=aA.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Ws,i=Aa();if(Ls){if(s===void 0)throw Error(Ge(407));s=s()}else{if(s=t(),Rr===null)throw Error(Ge(349));pc&30||Tj(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,fb(Mj.bind(null,n,a,e),[e]),n.flags|=2048,Sh(9,Lj.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Aa(),t=Rr.identifierPrefix;if(Ls){var s=fo,n=ho;s=(n&~(1<<32-ra(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Nh++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=iA++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dA={readContext:Ii,useCallback:zj,useContext:Ii,useEffect:Cv,useImperativeHandle:Uj,useInsertionEffect:Oj,useLayoutEffect:Fj,useMemo:$j,useReducer:Y0,useRef:Dj,useState:function(){return Y0(jh)},useDebugValue:Av,useDeferredValue:function(e){var t=Ri();return Vj(t,Nr.memoizedState,e)},useTransition:function(){var e=Y0(jh)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:Ej,useSyncExternalStore:Pj,useId:qj,unstable_isNewReconciler:!1},uA={readContext:Ii,useCallback:zj,useContext:Ii,useEffect:Cv,useImperativeHandle:Uj,useInsertionEffect:Oj,useLayoutEffect:Fj,useMemo:$j,useReducer:J0,useRef:Dj,useState:function(){return J0(jh)},useDebugValue:Av,useDeferredValue:function(e){var t=Ri();return Nr===null?t.memoizedState=e:Vj(t,Nr.memoizedState,e)},useTransition:function(){var e=J0(jh)[0],t=Ri().memoizedState;return[e,t]},useMutableSource:Ej,useSyncExternalStore:Pj,useId:qj,unstable_isNewReconciler:!1};function Xi(e,t){if(e&&e.defaultProps){t=Gs({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Nx(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Gs({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tp={isMounted:function(e){return(e=e._reactInternals)?Nc(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=En(),i=pl(e),a=mo(n,i);a.payload=t,s!=null&&(a.callback=s),t=fl(e,a,i),t!==null&&(na(t,e,i,n),pm(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=En(),i=pl(e),a=mo(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=fl(e,a,i),t!==null&&(na(t,e,i,n),pm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=En(),n=pl(e),i=mo(s,n);i.tag=2,t!=null&&(i.callback=t),t=fl(e,i,n),t!==null&&(na(t,e,n,s),pm(t,e,n))}};function mb(e,t,s,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!gh(s,n)||!gh(i,a):!0}function Kj(e,t,s){var n=!1,i=bl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ii(a):(i=Kn(t)?fc:fn.current,n=t.contextTypes,a=(n=n!=null)?Dd(e,i):bl),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function pb(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Tp.enqueueReplaceState(t,t.state,null)}function jx(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},bv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ii(a):(a=Kn(t)?fc:fn.current,i.context=Dd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nx(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Tp.enqueueReplaceState(i,i.state,null),Wm(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ud(e,t){try{var s="",n=t;do s+=B_(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function X0(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Sx(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var hA=typeof WeakMap=="function"?WeakMap:Map;function Yj(e,t,s){s=mo(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Xm||(Xm=!0,Ix=n),Sx(e,t)},s}function Jj(e,t,s){s=mo(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){Sx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Sx(e,t),typeof n!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function gb(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new hA;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=_A.bind(null,e,t,s),t.then(e,e))}function xb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yb(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=mo(-1,1),t.tag=2,fl(s,t,1))),s.lanes|=1),e)}var fA=ko.ReactCurrentOwner,qn=!1;function _n(e,t,s,n){t.child=e===null?kj(t,null,s,n):Fd(t,e.child,s,n)}function vb(e,t,s,n,i){s=s.render;var a=t.ref;return jd(t,i),n=kv(e,t,s,n,a,i),s=_v(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(Ls&&s&&fv(t),t.flags|=1,_n(e,t,n,i),t.child)}function bb(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Dv(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,Xj(e,t,a,n,i)):(e=wm(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:gh,s(o,n)&&e.ref===t.ref)return vo(e,t,i)}return t.flags|=1,e=gl(a,n),e.ref=t.ref,e.return=t,t.child=e}function Xj(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(gh(a,n)&&e.ref===t.ref)if(qn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(qn=!0);else return t.lanes=e.lanes,vo(e,t,i)}return kx(e,t,s,n,i)}function Qj(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ws(dd,ai),ai|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ws(dd,ai),ai|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,ws(dd,ai),ai|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,ws(dd,ai),ai|=n;return _n(e,t,i,s),t.child}function Zj(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function kx(e,t,s,n,i){var a=Kn(s)?fc:fn.current;return a=Dd(t,a),jd(t,i),s=kv(e,t,s,n,a,i),n=_v(),e!==null&&!qn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(Ls&&n&&fv(t),t.flags|=1,_n(e,t,s,i),t.child)}function wb(e,t,s,n,i){if(Kn(s)){var a=!0;zm(t)}else a=!1;if(jd(t,i),t.stateNode===null)ym(e,t),Kj(t,s,n),jx(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ii(d):(d=Kn(s)?fc:fn.current,d=Dd(t,d));var u=s.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&pb(t,o,n,d),Qo=!1;var m=t.memoizedState;o.state=m,Wm(t,n,o,i),c=t.memoizedState,l!==n||m!==c||Gn.current||Qo?(typeof u=="function"&&(Nx(t,s,u,n),c=t.memoizedState),(l=Qo||mb(t,s,l,n,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cj(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Xi(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ii(c):(c=Kn(s)?fc:fn.current,c=Dd(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&pb(t,o,n,c),Qo=!1,m=t.memoizedState,o.state=m,Wm(t,n,o,i);var x=t.memoizedState;l!==f||m!==x||Gn.current||Qo?(typeof p=="function"&&(Nx(t,s,p,n),x=t.memoizedState),(d=Qo||mb(t,s,d,n,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return _x(e,t,s,n,a,i)}function _x(e,t,s,n,i,a){Zj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&ab(t,s,!1),vo(e,t,a);n=t.stateNode,fA.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fd(t,e.child,null,a),t.child=Fd(t,null,l,a)):_n(e,t,l,a),t.memoizedState=n.state,i&&ab(t,s,!0),t.child}function e4(e){var t=e.stateNode;t.pendingContext?ib(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ib(e,t.context,!1),wv(e,t.containerInfo)}function Nb(e,t,s,n,i){return Od(),pv(i),t.flags|=256,_n(e,t,s,n),t.child}var Cx={dehydrated:null,treeContext:null,retryLane:0};function Ax(e){return{baseLanes:e,cachePool:null,transitions:null}}function t4(e,t,s){var n=t.pendingProps,i=Fs.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ws(Fs,i&1),e===null)return bx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ip(o,n,0,null),e=lc(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ax(s),t.memoizedState=Cx,e):Ev(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return mA(e,t,o,n,l,i,s);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gl(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=gl(l,a):(a=lc(a,o,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ax(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Cx,n}return a=e.child,e=a.sibling,n=gl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Ev(e,t){return t=Ip({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wf(e,t,s,n){return n!==null&&pv(n),Fd(t,e.child,null,s),e=Ev(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mA(e,t,s,n,i,a,o){if(s)return t.flags&256?(t.flags&=-257,n=X0(Error(Ge(422))),Wf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ip({mode:"visible",children:n.children},i,0,null),a=lc(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Fd(t,e.child,null,o),t.child.memoizedState=Ax(o),t.memoizedState=Cx,a);if(!(t.mode&1))return Wf(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Ge(419)),n=X0(a,n,void 0),Wf(e,t,o,n)}if(l=(o&e.childLanes)!==0,qn||l){if(n=Rr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yo(e,i),na(n,e,i,-1))}return Rv(),n=X0(Error(Ge(421))),Wf(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=CA.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,oi=hl(i.nextSibling),ci=t,Ls=!0,ta=null,e!==null&&(Ci[Ai++]=ho,Ci[Ai++]=fo,Ci[Ai++]=mc,ho=e.id,fo=e.overflow,mc=t),t=Ev(t,n.children),t.flags|=4096,t)}function jb(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wx(e.return,t,s)}function Q0(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function s4(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(_n(e,t,n.children,s),n=Fs.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jb(e,s,t);else if(e.tag===19)jb(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ws(Fs,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Gm(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Q0(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gm(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Q0(t,!0,s,null,a);break;case"together":Q0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ym(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vo(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),gc|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,s=gl(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=gl(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function pA(e,t,s){switch(t.tag){case 3:e4(t),Od();break;case 5:Aj(t);break;case 1:Kn(t.type)&&zm(t);break;case 4:wv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ws(qm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ws(Fs,Fs.current&1),t.flags|=128,null):s&t.child.childLanes?t4(e,t,s):(ws(Fs,Fs.current&1),e=vo(e,t,s),e!==null?e.sibling:null);ws(Fs,Fs.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return s4(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ws(Fs,Fs.current),n)break;return null;case 22:case 23:return t.lanes=0,Qj(e,t,s)}return vo(e,t,s)}var r4,Ex,n4,i4;r4=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ex=function(){};n4=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,nc(La.current);var a=null;switch(s){case"input":i=Xg(e,i),n=Xg(e,n),a=[];break;case"select":i=Gs({},i,{value:void 0}),n=Gs({},n,{value:void 0}),a=[];break;case"textarea":i=ex(e,i),n=ex(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bm)}sx(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ch.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ch.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Cs("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};i4=function(e,t,s,n){s!==n&&(t.flags|=4)};function Pu(e,t){if(!Ls)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function gA(e,t,s){var n=t.pendingProps;switch(mv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Kn(t.type)&&Um(),sn(t),null;case 3:return n=t.stateNode,Bd(),Es(Gn),Es(fn),jv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&(Ox(ta),ta=null))),Ex(e,t),sn(t),null;case 5:Nv(t);var i=nc(wh.current);if(s=t.type,e!==null&&t.stateNode!=null)n4(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ge(166));return sn(t),null}if(e=nc(La.current),qf(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[Ea]=t,n[vh]=a,e=(t.mode&1)!==0,s){case"dialog":Cs("cancel",n),Cs("close",n);break;case"iframe":case"object":case"embed":Cs("load",n);break;case"video":case"audio":for(i=0;i<$u.length;i++)Cs($u[i],n);break;case"source":Cs("error",n);break;case"img":case"image":case"link":Cs("error",n),Cs("load",n);break;case"details":Cs("toggle",n);break;case"input":L2(n,a),Cs("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Cs("invalid",n);break;case"textarea":I2(n,a),Cs("invalid",n)}sx(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vf(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vf(n.textContent,l,e),i=["children",""+l]):ch.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Cs("scroll",n)}switch(s){case"input":Rf(n),M2(n,a,!0);break;case"textarea":Rf(n),R2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Bm)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MN(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Ea]=t,e[vh]=n,r4(e,t,!1,!1),t.stateNode=e;e:{switch(o=rx(s,n),s){case"dialog":Cs("cancel",e),Cs("close",e),i=n;break;case"iframe":case"object":case"embed":Cs("load",e),i=n;break;case"video":case"audio":for(i=0;i<$u.length;i++)Cs($u[i],e);i=n;break;case"source":Cs("error",e),i=n;break;case"img":case"image":case"link":Cs("error",e),Cs("load",e),i=n;break;case"details":Cs("toggle",e),i=n;break;case"input":L2(e,n),i=Xg(e,n),Cs("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Gs({},n,{value:void 0}),Cs("invalid",e);break;case"textarea":I2(e,n),i=ex(e,n),Cs("invalid",e);break;default:i=n}sx(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IN(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&dh(e,c):typeof c=="number"&&dh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ch.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Cs("scroll",e):c!=null&&Zy(e,a,c,o))}switch(s){case"input":Rf(e),M2(e,n,!1);break;case"textarea":Rf(e),R2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?vd(e,!!n.multiple,a,!1):n.defaultValue!=null&&vd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bm)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)i4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ge(166));if(s=nc(wh.current),nc(La.current),qf(t)){if(n=t.stateNode,s=t.memoizedProps,n[Ea]=t,(a=n.nodeValue!==s)&&(e=ci,e!==null))switch(e.tag){case 3:Vf(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vf(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Ea]=t,t.stateNode=n}return sn(t),null;case 13:if(Es(Fs),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ls&&oi!==null&&t.mode&1&&!(t.flags&128))jj(),Od(),t.flags|=98560,a=!1;else if(a=qf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ge(317));a[Ea]=t}else Od(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),a=!1}else ta!==null&&(Ox(ta),ta=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fs.current&1?Sr===0&&(Sr=3):Rv())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return Bd(),Ex(e,t),e===null&&xh(t.stateNode.containerInfo),sn(t),null;case 10:return yv(t.type._context),sn(t),null;case 17:return Kn(t.type)&&Um(),sn(t),null;case 19:if(Es(Fs),a=t.memoizedState,a===null)return sn(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Pu(a,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gm(e),o!==null){for(t.flags|=128,Pu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ws(Fs,Fs.current&1|2),t.child}e=e.sibling}a.tail!==null&&ar()>zd&&(t.flags|=128,n=!0,Pu(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gm(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Pu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ls)return sn(t),null}else 2*ar()-a.renderingStartTime>zd&&s!==1073741824&&(t.flags|=128,n=!0,Pu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ar(),t.sibling=null,s=Fs.current,ws(Fs,n?s&1|2:s&1),t):(sn(t),null);case 22:case 23:return Iv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ai&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function xA(e,t){switch(mv(t),t.tag){case 1:return Kn(t.type)&&Um(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bd(),Es(Gn),Es(fn),jv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nv(t),null;case 13:if(Es(Fs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));Od()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Es(Fs),null;case 4:return Bd(),null;case 10:return yv(t.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var Gf=!1,cn=!1,yA=typeof WeakSet=="function"?WeakSet:Set,ot=null;function cd(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){tr(e,t,n)}else s.current=null}function Px(e,t,s){try{s()}catch(n){tr(e,t,n)}}var Sb=!1;function vA(e,t){if(fx=Dm,e=dj(),hv(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var p;f!==s||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(mx={focusedElem:e,selectionRange:s},Dm=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var j=x.memoizedProps,N=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?j:Xi(t.type,j),N);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(k){tr(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return x=Sb,Sb=!1,x}function Xu(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Px(t,s,a)}i=i.next}while(i!==n)}}function Lp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Tx(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function a4(e){var t=e.alternate;t!==null&&(e.alternate=null,a4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ea],delete t[vh],delete t[xx],delete t[tA],delete t[sA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o4(e){return e.tag===5||e.tag===3||e.tag===4}function kb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lx(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Bm));else if(n!==4&&(e=e.child,e!==null))for(Lx(e,t,s),e=e.sibling;e!==null;)Lx(e,t,s),e=e.sibling}function Mx(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mx(e,t,s),e=e.sibling;e!==null;)Mx(e,t,s),e=e.sibling}var $r=null,Zi=!1;function Vo(e,t,s){for(s=s.child;s!==null;)l4(e,t,s),s=s.sibling}function l4(e,t,s){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Sp,s)}catch{}switch(s.tag){case 5:cn||cd(s,t);case 6:var n=$r,i=Zi;$r=null,Vo(e,t,s),$r=n,Zi=i,$r!==null&&(Zi?(e=$r,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):$r.removeChild(s.stateNode));break;case 18:$r!==null&&(Zi?(e=$r,s=s.stateNode,e.nodeType===8?H0(e.parentNode,s):e.nodeType===1&&H0(e,s),mh(e)):H0($r,s.stateNode));break;case 4:n=$r,i=Zi,$r=s.stateNode.containerInfo,Zi=!0,Vo(e,t,s),$r=n,Zi=i;break;case 0:case 11:case 14:case 15:if(!cn&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Px(s,t,o),i=i.next}while(i!==n)}Vo(e,t,s);break;case 1:if(!cn&&(cd(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){tr(s,t,l)}Vo(e,t,s);break;case 21:Vo(e,t,s);break;case 22:s.mode&1?(cn=(n=cn)||s.memoizedState!==null,Vo(e,t,s),cn=n):Vo(e,t,s);break;default:Vo(e,t,s)}}function _b(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new yA),t.forEach(function(n){var i=AA.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Wi(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$r=l.stateNode,Zi=!1;break e;case 3:$r=l.stateNode.containerInfo,Zi=!0;break e;case 4:$r=l.stateNode.containerInfo,Zi=!0;break e}l=l.return}if($r===null)throw Error(Ge(160));l4(a,o,i),$r=null,Zi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){tr(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)c4(t,e),t=t.sibling}function c4(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wi(t,e),_a(e),n&4){try{Xu(3,e,e.return),Lp(3,e)}catch(j){tr(e,e.return,j)}try{Xu(5,e,e.return)}catch(j){tr(e,e.return,j)}}break;case 1:Wi(t,e),_a(e),n&512&&s!==null&&cd(s,s.return);break;case 5:if(Wi(t,e),_a(e),n&512&&s!==null&&cd(s,s.return),e.flags&32){var i=e.stateNode;try{dh(i,"")}catch(j){tr(e,e.return,j)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&TN(i,a),rx(l,o);var d=rx(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?DN(i,f):u==="dangerouslySetInnerHTML"?IN(i,f):u==="children"?dh(i,f):Zy(i,u,f,d)}switch(l){case"input":Qg(i,a);break;case"textarea":LN(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?vd(i,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?vd(i,!!a.multiple,a.defaultValue,!0):vd(i,!!a.multiple,a.multiple?[]:"",!1))}i[vh]=a}catch(j){tr(e,e.return,j)}}break;case 6:if(Wi(t,e),_a(e),n&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(j){tr(e,e.return,j)}}break;case 3:if(Wi(t,e),_a(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(j){tr(e,e.return,j)}break;case 4:Wi(t,e),_a(e);break;case 13:Wi(t,e),_a(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Lv=ar())),n&4&&_b(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(cn=(d=cn)||u,Wi(t,e),cn=d):Wi(t,e),_a(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ot=e,u=e.child;u!==null;){for(f=ot=u;ot!==null;){switch(m=ot,p=m.child,m.tag){case 0:case 11:case 14:case 15:Xu(4,m,m.return);break;case 1:cd(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(j){tr(n,s,j)}}break;case 5:cd(m,m.return);break;case 22:if(m.memoizedState!==null){Ab(f);continue}}p!==null?(p.return=m,ot=p):Ab(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RN("display",o))}catch(j){tr(e,e.return,j)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(j){tr(e,e.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wi(t,e),_a(e),n&4&&_b(e);break;case 21:break;default:Wi(t,e),_a(e)}}function _a(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(o4(s)){var n=s;break e}s=s.return}throw Error(Ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(dh(i,""),n.flags&=-33);var a=kb(e);Mx(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=kb(e);Lx(e,l,o);break;default:throw Error(Ge(161))}}catch(c){tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bA(e,t,s){ot=e,d4(e)}function d4(e,t,s){for(var n=(e.mode&1)!==0;ot!==null;){var i=ot,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Gf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||cn;l=Gf;var d=cn;if(Gf=o,(cn=c)&&!d)for(ot=i;ot!==null;)o=ot,c=o.child,o.tag===22&&o.memoizedState!==null?Eb(i):c!==null?(c.return=o,ot=c):Eb(i);for(;a!==null;)ot=a,d4(a),a=a.sibling;ot=i,Gf=l,cn=d}Cb(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ot=a):Cb(e)}}function Cb(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||Lp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cn)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Xi(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ub(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}ub(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&mh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}cn||t.flags&512&&Tx(t)}catch(m){tr(t,t.return,m)}}if(t===e){ot=null;break}if(s=t.sibling,s!==null){s.return=t.return,ot=s;break}ot=t.return}}function Ab(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ot=s;break}ot=t.return}}function Eb(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Lp(4,t)}catch(c){tr(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){tr(t,i,c)}}var a=t.return;try{Tx(t)}catch(c){tr(t,a,c)}break;case 5:var o=t.return;try{Tx(t)}catch(c){tr(t,o,c)}}}catch(c){tr(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var wA=Math.ceil,Jm=ko.ReactCurrentDispatcher,Pv=ko.ReactCurrentOwner,Ti=ko.ReactCurrentBatchConfig,Yt=0,Rr=null,xr=null,Hr=0,ai=0,dd=Al(0),Sr=0,kh=null,gc=0,Mp=0,Tv=0,Qu=null,$n=null,Lv=0,zd=1/0,lo=null,Xm=!1,Ix=null,ml=null,Kf=!1,il=null,Qm=0,Zu=0,Rx=null,vm=-1,bm=0;function En(){return Yt&6?ar():vm!==-1?vm:vm=ar()}function pl(e){return e.mode&1?Yt&2&&Hr!==0?Hr&-Hr:nA.transition!==null?(bm===0&&(bm=KN()),bm):(e=cs,e!==0||(e=window.event,e=e===void 0?16:tj(e.type)),e):1}function na(e,t,s,n){if(50<Zu)throw Zu=0,Rx=null,Error(Ge(185));Hh(e,s,n),(!(Yt&2)||e!==Rr)&&(e===Rr&&(!(Yt&2)&&(Mp|=s),Sr===4&&tl(e,Hr)),Yn(e,n),s===1&&Yt===0&&!(t.mode&1)&&(zd=ar()+500,Ep&&El()))}function Yn(e,t){var s=e.callbackNode;nC(e,t);var n=Rm(e,e===Rr?Hr:0);if(n===0)s!==null&&F2(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&F2(s),t===1)e.tag===0?rA(Pb.bind(null,e)):bj(Pb.bind(null,e)),ZC(function(){!(Yt&6)&&El()}),s=null;else{switch(YN(n)){case 1:s=nv;break;case 4:s=WN;break;case 16:s=Im;break;case 536870912:s=GN;break;default:s=Im}s=y4(s,u4.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function u4(e,t){if(vm=-1,bm=0,Yt&6)throw Error(Ge(327));var s=e.callbackNode;if(Sd()&&e.callbackNode!==s)return null;var n=Rm(e,e===Rr?Hr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zm(e,n);else{t=n;var i=Yt;Yt|=2;var a=f4();(Rr!==e||Hr!==t)&&(lo=null,zd=ar()+500,oc(e,t));do try{SA();break}catch(l){h4(e,l)}while(!0);xv(),Jm.current=a,Yt=i,xr!==null?t=0:(Rr=null,Hr=0,t=Sr)}if(t!==0){if(t===2&&(i=lx(e),i!==0&&(n=i,t=Dx(e,i))),t===1)throw s=kh,oc(e,0),tl(e,n),Yn(e,ar()),s;if(t===6)tl(e,n);else{if(i=e.current.alternate,!(n&30)&&!NA(i)&&(t=Zm(e,n),t===2&&(a=lx(e),a!==0&&(n=a,t=Dx(e,a))),t===1))throw s=kh,oc(e,0),tl(e,n),Yn(e,ar()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ge(345));case 2:Jl(e,$n,lo);break;case 3:if(tl(e,n),(n&130023424)===n&&(t=Lv+500-ar(),10<t)){if(Rm(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){En(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gx(Jl.bind(null,e,$n,lo),t);break}Jl(e,$n,lo);break;case 4:if(tl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ra(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wA(n/1960))-n,10<n){e.timeoutHandle=gx(Jl.bind(null,e,$n,lo),n);break}Jl(e,$n,lo);break;case 5:Jl(e,$n,lo);break;default:throw Error(Ge(329))}}}return Yn(e,ar()),e.callbackNode===s?u4.bind(null,e):null}function Dx(e,t){var s=Qu;return e.current.memoizedState.isDehydrated&&(oc(e,t).flags|=256),e=Zm(e,t),e!==2&&(t=$n,$n=s,t!==null&&Ox(t)),e}function Ox(e){$n===null?$n=e:$n.push.apply($n,e)}function NA(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!ia(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tl(e,t){for(t&=~Tv,t&=~Mp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-ra(t),n=1<<s;e[s]=-1,t&=~n}}function Pb(e){if(Yt&6)throw Error(Ge(327));Sd();var t=Rm(e,0);if(!(t&1))return Yn(e,ar()),null;var s=Zm(e,t);if(e.tag!==0&&s===2){var n=lx(e);n!==0&&(t=n,s=Dx(e,n))}if(s===1)throw s=kh,oc(e,0),tl(e,t),Yn(e,ar()),s;if(s===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jl(e,$n,lo),Yn(e,ar()),null}function Mv(e,t){var s=Yt;Yt|=1;try{return e(t)}finally{Yt=s,Yt===0&&(zd=ar()+500,Ep&&El())}}function xc(e){il!==null&&il.tag===0&&!(Yt&6)&&Sd();var t=Yt;Yt|=1;var s=Ti.transition,n=cs;try{if(Ti.transition=null,cs=1,e)return e()}finally{cs=n,Ti.transition=s,Yt=t,!(Yt&6)&&El()}}function Iv(){ai=dd.current,Es(dd)}function oc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,QC(s)),xr!==null)for(s=xr.return;s!==null;){var n=s;switch(mv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Um();break;case 3:Bd(),Es(Gn),Es(fn),jv();break;case 5:Nv(n);break;case 4:Bd();break;case 13:Es(Fs);break;case 19:Es(Fs);break;case 10:yv(n.type._context);break;case 22:case 23:Iv()}s=s.return}if(Rr=e,xr=e=gl(e.current,null),Hr=ai=t,Sr=0,kh=null,Tv=Mp=gc=0,$n=Qu=null,rc!==null){for(t=0;t<rc.length;t++)if(s=rc[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}rc=null}return e}function h4(e,t){do{var s=xr;try{if(xv(),gm.current=Ym,Km){for(var n=Ws.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Km=!1}if(pc=0,Mr=Nr=Ws=null,Ju=!1,Nh=0,Pv.current=null,s===null||s.return===null){Sr=1,kh=t,xr=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Hr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xb(o);if(p!==null){p.flags&=-257,yb(p,o,l,a,t),p.mode&1&&gb(a,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var j=new Set;j.add(c),t.updateQueue=j}else x.add(c);break e}else{if(!(t&1)){gb(a,d,t),Rv();break e}c=Error(Ge(426))}}else if(Ls&&l.mode&1){var N=xb(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),yb(N,o,l,a,t),pv(Ud(c,l));break e}}a=c=Ud(c,l),Sr!==4&&(Sr=2),Qu===null?Qu=[a]:Qu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Yj(a,c,t);db(a,y);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ml===null||!ml.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Jj(a,l,t);db(a,k);break e}}a=a.return}while(a!==null)}p4(s)}catch(C){t=C,xr===s&&s!==null&&(xr=s=s.return);continue}break}while(!0)}function f4(){var e=Jm.current;return Jm.current=Ym,e===null?Ym:e}function Rv(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Rr===null||!(gc&268435455)&&!(Mp&268435455)||tl(Rr,Hr)}function Zm(e,t){var s=Yt;Yt|=2;var n=f4();(Rr!==e||Hr!==t)&&(lo=null,oc(e,t));do try{jA();break}catch(i){h4(e,i)}while(!0);if(xv(),Yt=s,Jm.current=n,xr!==null)throw Error(Ge(261));return Rr=null,Hr=0,Sr}function jA(){for(;xr!==null;)m4(xr)}function SA(){for(;xr!==null&&!Y_();)m4(xr)}function m4(e){var t=x4(e.alternate,e,ai);e.memoizedProps=e.pendingProps,t===null?p4(e):xr=t,Pv.current=null}function p4(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=xA(s,t),s!==null){s.flags&=32767,xr=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,xr=null;return}}else if(s=gA(s,t,ai),s!==null){xr=s;return}if(t=t.sibling,t!==null){xr=t;return}xr=t=e}while(t!==null);Sr===0&&(Sr=5)}function Jl(e,t,s){var n=cs,i=Ti.transition;try{Ti.transition=null,cs=1,kA(e,t,s,n)}finally{Ti.transition=i,cs=n}return null}function kA(e,t,s,n){do Sd();while(il!==null);if(Yt&6)throw Error(Ge(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(iC(e,a),e===Rr&&(xr=Rr=null,Hr=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Kf||(Kf=!0,y4(Im,function(){return Sd(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Ti.transition,Ti.transition=null;var o=cs;cs=1;var l=Yt;Yt|=4,Pv.current=null,vA(e,s),c4(s,e),HC(mx),Dm=!!fx,mx=fx=null,e.current=s,bA(s),J_(),Yt=l,cs=o,Ti.transition=a}else e.current=s;if(Kf&&(Kf=!1,il=e,Qm=i),a=e.pendingLanes,a===0&&(ml=null),Z_(s.stateNode),Yn(e,ar()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xm)throw Xm=!1,e=Ix,Ix=null,e;return Qm&1&&e.tag!==0&&Sd(),a=e.pendingLanes,a&1?e===Rx?Zu++:(Zu=0,Rx=e):Zu=0,El(),null}function Sd(){if(il!==null){var e=YN(Qm),t=Ti.transition,s=cs;try{if(Ti.transition=null,cs=16>e?16:e,il===null)var n=!1;else{if(e=il,il=null,Qm=0,Yt&6)throw Error(Ge(331));var i=Yt;for(Yt|=4,ot=e.current;ot!==null;){var a=ot,o=a.child;if(ot.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ot=d;ot!==null;){var u=ot;switch(u.tag){case 0:case 11:case 15:Xu(8,u,a)}var f=u.child;if(f!==null)f.return=u,ot=f;else for(;ot!==null;){u=ot;var m=u.sibling,p=u.return;if(a4(u),u===d){ot=null;break}if(m!==null){m.return=p,ot=m;break}ot=p}}}var x=a.alternate;if(x!==null){var j=x.child;if(j!==null){x.child=null;do{var N=j.sibling;j.sibling=null,j=N}while(j!==null)}}ot=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ot=o;else e:for(;ot!==null;){if(a=ot,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xu(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ot=y;break e}ot=a.return}}var v=e.current;for(ot=v;ot!==null;){o=ot;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ot=b;else e:for(o=v;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lp(9,l)}}catch(C){tr(l,l.return,C)}if(l===o){ot=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ot=k;break e}ot=l.return}}if(Yt=i,El(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Sp,e)}catch{}n=!0}return n}finally{cs=s,Ti.transition=t}}return!1}function Tb(e,t,s){t=Ud(s,t),t=Yj(e,t,1),e=fl(e,t,1),t=En(),e!==null&&(Hh(e,1,t),Yn(e,t))}function tr(e,t,s){if(e.tag===3)Tb(e,e,s);else for(;t!==null;){if(t.tag===3){Tb(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ml===null||!ml.has(n))){e=Ud(s,e),e=Jj(t,e,1),t=fl(t,e,1),e=En(),t!==null&&(Hh(t,1,e),Yn(t,e));break}}t=t.return}}function _A(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&s,Rr===e&&(Hr&s)===s&&(Sr===4||Sr===3&&(Hr&130023424)===Hr&&500>ar()-Lv?oc(e,0):Tv|=s),Yn(e,t)}function g4(e,t){t===0&&(e.mode&1?(t=Ff,Ff<<=1,!(Ff&130023424)&&(Ff=4194304)):t=1);var s=En();e=yo(e,t),e!==null&&(Hh(e,t,s),Yn(e,s))}function CA(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),g4(e,s)}function AA(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ge(314))}n!==null&&n.delete(t),g4(e,s)}var x4;x4=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)qn=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return qn=!1,pA(e,t,s);qn=!!(e.flags&131072)}else qn=!1,Ls&&t.flags&1048576&&wj(t,Vm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ym(e,t),e=t.pendingProps;var i=Dd(t,fn.current);jd(t,s),i=kv(null,t,n,e,i,s);var a=_v();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kn(n)?(a=!0,zm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bv(t),i.updater=Tp,t.stateNode=i,i._reactInternals=t,jx(t,n,e,s),t=_x(null,t,n,!0,a,s)):(t.tag=0,Ls&&a&&fv(t),_n(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(ym(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=PA(n),e=Xi(n,e),i){case 0:t=kx(null,t,n,e,s);break e;case 1:t=wb(null,t,n,e,s);break e;case 11:t=vb(null,t,n,e,s);break e;case 14:t=bb(null,t,n,Xi(n.type,e),s);break e}throw Error(Ge(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xi(n,i),kx(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xi(n,i),wb(e,t,n,i,s);case 3:e:{if(e4(t),e===null)throw Error(Ge(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Cj(e,t),Wm(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ud(Error(Ge(423)),t),t=Nb(e,t,n,s,i);break e}else if(n!==i){i=Ud(Error(Ge(424)),t),t=Nb(e,t,n,s,i);break e}else for(oi=hl(t.stateNode.containerInfo.firstChild),ci=t,Ls=!0,ta=null,s=kj(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Od(),n===i){t=vo(e,t,s);break e}_n(e,t,n,s)}t=t.child}return t;case 5:return Aj(t),e===null&&bx(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,px(n,i)?o=null:a!==null&&px(n,a)&&(t.flags|=32),Zj(e,t),_n(e,t,o,s),t.child;case 6:return e===null&&bx(t),null;case 13:return t4(e,t,s);case 4:return wv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fd(t,null,n,s):_n(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xi(n,i),vb(e,t,n,i,s);case 7:return _n(e,t,t.pendingProps,s),t.child;case 8:return _n(e,t,t.pendingProps.children,s),t.child;case 12:return _n(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ws(qm,n._currentValue),n._currentValue=o,a!==null)if(ia(a.value,o)){if(a.children===i.children&&!Gn.current){t=vo(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=mo(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),wx(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ge(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),wx(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_n(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jd(t,s),i=Ii(i),n=n(i),t.flags|=1,_n(e,t,n,s),t.child;case 14:return n=t.type,i=Xi(n,t.pendingProps),i=Xi(n.type,i),bb(e,t,n,i,s);case 15:return Xj(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xi(n,i),ym(e,t),t.tag=1,Kn(n)?(e=!0,zm(t)):e=!1,jd(t,s),Kj(t,n,i),jx(t,n,i,s),_x(null,t,n,!0,e,s);case 19:return s4(e,t,s);case 22:return Qj(e,t,s)}throw Error(Ge(156,t.tag))};function y4(e,t){return HN(e,t)}function EA(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(e,t,s,n){return new EA(e,t,s,n)}function Dv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PA(e){if(typeof e=="function")return Dv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tv)return 11;if(e===sv)return 14}return 2}function gl(e,t){var s=e.alternate;return s===null?(s=Pi(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wm(e,t,s,n,i,a){var o=2;if(n=e,typeof e=="function")Dv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ed:return lc(s.children,i,a,t);case ev:o=8,i|=8;break;case Gg:return e=Pi(12,s,t,i|2),e.elementType=Gg,e.lanes=a,e;case Kg:return e=Pi(13,s,t,i),e.elementType=Kg,e.lanes=a,e;case Yg:return e=Pi(19,s,t,i),e.elementType=Yg,e.lanes=a,e;case AN:return Ip(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _N:o=10;break e;case CN:o=9;break e;case tv:o=11;break e;case sv:o=14;break e;case Xo:o=16,n=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=Pi(o,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function lc(e,t,s,n){return e=Pi(7,e,n,t),e.lanes=s,e}function Ip(e,t,s,n){return e=Pi(22,e,n,t),e.elementType=AN,e.lanes=s,e.stateNode={isHidden:!1},e}function Z0(e,t,s){return e=Pi(6,e,null,t),e.lanes=s,e}function eg(e,t,s){return t=Pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function TA(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ov(e,t,s,n,i,a,o,l,c){return e=new TA(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},bv(a),e}function LA(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function v4(e){if(!e)return bl;e=e._reactInternals;e:{if(Nc(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var s=e.type;if(Kn(s))return vj(e,s,t)}return t}function b4(e,t,s,n,i,a,o,l,c){return e=Ov(s,n,!0,e,i,a,o,l,c),e.context=v4(null),s=e.current,n=En(),i=pl(s),a=mo(n,i),a.callback=t??null,fl(s,a,i),e.current.lanes=i,Hh(e,i,n),Yn(e,n),e}function Rp(e,t,s,n){var i=t.current,a=En(),o=pl(i);return s=v4(s),t.context===null?t.context=s:t.pendingContext=s,t=mo(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fl(i,t,o),e!==null&&(na(e,i,o,a),pm(e,i,o)),o}function ep(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Fv(e,t){Lb(e,t),(e=e.alternate)&&Lb(e,t)}function MA(){return null}var w4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bv(e){this._internalRoot=e}Dp.prototype.render=Bv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));Rp(e,t,null,null)};Dp.prototype.unmount=Bv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xc(function(){Rp(null,e,null,null)}),t[xo]=null}};function Dp(e){this._internalRoot=e}Dp.prototype.unstable_scheduleHydration=function(e){if(e){var t=QN();e={blockedOn:null,target:e,priority:t};for(var s=0;s<el.length&&t!==0&&t<el[s].priority;s++);el.splice(s,0,e),s===0&&ej(e)}};function Uv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mb(){}function IA(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=ep(o);a.call(d)}}var o=b4(t,n,e,0,null,!1,!1,"",Mb);return e._reactRootContainer=o,e[xo]=o.current,xh(e.nodeType===8?e.parentNode:e),xc(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=ep(c);l.call(d)}}var c=Ov(e,0,!1,null,null,!1,!1,"",Mb);return e._reactRootContainer=c,e[xo]=c.current,xh(e.nodeType===8?e.parentNode:e),xc(function(){Rp(t,c,s,n)}),c}function Fp(e,t,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=ep(o);l.call(c)}}Rp(t,o,e,i)}else o=IA(s,t,e,i,n);return ep(o)}JN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=zu(t.pendingLanes);s!==0&&(iv(t,s|1),Yn(t,ar()),!(Yt&6)&&(zd=ar()+500,El()))}break;case 13:xc(function(){var n=yo(e,1);if(n!==null){var i=En();na(n,e,1,i)}}),Fv(e,1)}};av=function(e){if(e.tag===13){var t=yo(e,134217728);if(t!==null){var s=En();na(t,e,134217728,s)}Fv(e,134217728)}};XN=function(e){if(e.tag===13){var t=pl(e),s=yo(e,t);if(s!==null){var n=En();na(s,e,t,n)}Fv(e,t)}};QN=function(){return cs};ZN=function(e,t){var s=cs;try{return cs=e,t()}finally{cs=s}};ix=function(e,t,s){switch(t){case"input":if(Qg(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=Ap(n);if(!i)throw Error(Ge(90));PN(n),Qg(n,i)}}}break;case"textarea":LN(e,s);break;case"select":t=s.value,t!=null&&vd(e,!!s.multiple,t,!1)}};BN=Mv;UN=xc;var RA={usingClientEntryPoint:!1,Events:[Gh,nd,Ap,ON,FN,Mv]},Tu={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DA={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VN(e),e===null?null:e.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||MA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Sp=Yf.inject(DA),Ta=Yf}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RA;ui.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uv(t))throw Error(Ge(200));return LA(e,t,null,s)};ui.createRoot=function(e,t){if(!Uv(e))throw Error(Ge(299));var s=!1,n="",i=w4;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ov(e,1,!1,null,null,s,!1,n,i),e[xo]=t.current,xh(e.nodeType===8?e.parentNode:e),new Bv(t)};ui.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=VN(t),e=e===null?null:e.stateNode,e};ui.flushSync=function(e){return xc(e)};ui.hydrate=function(e,t,s){if(!Op(t))throw Error(Ge(200));return Fp(null,e,t,!0,s)};ui.hydrateRoot=function(e,t,s){if(!Uv(e))throw Error(Ge(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=w4;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=b4(t,null,e,1,s??null,i,!1,a,o),e[xo]=t.current,xh(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Dp(t)};ui.render=function(e,t,s){if(!Op(t))throw Error(Ge(200));return Fp(null,e,t,!1,s)};ui.unmountComponentAtNode=function(e){if(!Op(e))throw Error(Ge(40));return e._reactRootContainer?(xc(function(){Fp(null,null,e,!1,function(){e._reactRootContainer=null,e[xo]=null})}),!0):!1};ui.unstable_batchedUpdates=Mv;ui.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Op(s))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return Fp(e,t,s,!1,n)};ui.version="18.3.1-next-f1338f8080-20240426";function N4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N4)}catch(e){console.error(e)}}N4(),NN.exports=ui;var OA=NN.exports,Ib=OA;Hg.createRoot=Ib.createRoot,Hg.hydrateRoot=Ib.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},_h.apply(this,arguments)}var al;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(al||(al={}));const Rb="popstate";function FA(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return Fx("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:tp(i)}return UA(t,s,null,e)}function dr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function j4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BA(){return Math.random().toString(36).substr(2,8)}function Db(e,t){return{usr:e.state,key:e.key,idx:t}}function Fx(e,t,s,n){return s===void 0&&(s=null),_h({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?eu(t):t,{state:s,key:t&&t.key||n||BA()})}function tp(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eu(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function UA(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=al.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(_h({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=al.Pop;let N=u(),y=N==null?null:N-d;d=N,c&&c({action:l,location:j.location,delta:y})}function m(N,y){l=al.Push;let v=Fx(j.location,N,y);d=u()+1;let b=Db(v,d),k=j.createHref(v);try{o.pushState(b,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(k)}a&&c&&c({action:l,location:j.location,delta:1})}function p(N,y){l=al.Replace;let v=Fx(j.location,N,y);d=u();let b=Db(v,d),k=j.createHref(v);o.replaceState(b,"",k),a&&c&&c({action:l,location:j.location,delta:0})}function x(N){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof N=="string"?N:tp(N);return v=v.replace(/ $/,"%20"),dr(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let j={get action(){return l},get location(){return e(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Rb,f),c=N,()=>{i.removeEventListener(Rb,f),c=null}},createHref(N){return t(i,N)},createURL:x,encodeLocation(N){let y=x(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(N){return o.go(N)}};return j}var Ob;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ob||(Ob={}));function zA(e,t,s){return s===void 0&&(s="/"),$A(e,t,s)}function $A(e,t,s,n){let i=typeof t=="string"?eu(t):t,a=zv(i.pathname||"/",s);if(a==null)return null;let o=S4(e);VA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=t8(a);l=QA(o[c],d)}return l}function S4(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(dr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=xl([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(dr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),S4(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:JA(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of k4(a.path))i(a,o,c)}),t}function k4(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=k4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function VA(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:XA(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const qA=/^:[\w-]+$/,HA=3,WA=2,GA=1,KA=10,YA=-2,Fb=e=>e==="*";function JA(e,t){let s=e.split("/"),n=s.length;return s.some(Fb)&&(n+=YA),t&&(n+=WA),s.filter(i=>!Fb(i)).reduce((i,a)=>i+(qA.test(a)?HA:a===""?GA:KA),n)}function XA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function QA(e,t,s){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=ZA({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:xl([a,f.pathname]),pathnameBase:i8(xl([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=xl([a,f.pathnameBase]))}return o}function ZA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=e8(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let j=l[f]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function e8(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),j4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function t8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return j4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function s8(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?eu(e):e;return{pathname:s?s.startsWith("/")?s:r8(s,t):t,search:a8(n),hash:o8(i)}}function r8(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function tg(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n8(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function $v(e,t){let s=n8(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Vv(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=eu(e):(i=_h({},e),dr(!i.pathname||!i.pathname.includes("?"),tg("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),tg("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),tg("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=s8(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const xl=e=>e.join("/").replace(/\/\/+/g,"/"),i8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _4=["post","put","patch","delete"];new Set(_4);const c8=["get",..._4];new Set(c8);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ch.apply(this,arguments)}const qv=E.createContext(null),d8=E.createContext(null),Pl=E.createContext(null),Bp=E.createContext(null),_o=E.createContext({outlet:null,matches:[],isDataRoute:!1}),C4=E.createContext(null);function u8(e,t){let{relative:s}=t===void 0?{}:t;tu()||dr(!1);let{basename:n,navigator:i}=E.useContext(Pl),{hash:a,pathname:o,search:l}=E4(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:xl([n,o])),i.createHref({pathname:c,search:l,hash:a})}function tu(){return E.useContext(Bp)!=null}function oa(){return tu()||dr(!1),E.useContext(Bp).location}function A4(e){E.useContext(Pl).static||E.useLayoutEffect(e)}function Dr(){let{isDataRoute:e}=E.useContext(_o);return e?k8():h8()}function h8(){tu()||dr(!1);let e=E.useContext(qv),{basename:t,future:s,navigator:n}=E.useContext(Pl),{matches:i}=E.useContext(_o),{pathname:a}=oa(),o=JSON.stringify($v(i,s.v7_relativeSplatPath)),l=E.useRef(!1);return A4(()=>{l.current=!0}),E.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Vv(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xl([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,a,e])}function f8(){let{matches:e}=E.useContext(_o),t=e[e.length-1];return t?t.params:{}}function E4(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=E.useContext(Pl),{matches:i}=E.useContext(_o),{pathname:a}=oa(),o=JSON.stringify($v(i,n.v7_relativeSplatPath));return E.useMemo(()=>Vv(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function m8(e,t){return p8(e,t)}function p8(e,t,s,n){tu()||dr(!1);let{navigator:i}=E.useContext(Pl),{matches:a}=E.useContext(_o),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=oa(),u;if(t){var f;let N=typeof t=="string"?eu(t):t;c==="/"||(f=N.pathname)!=null&&f.startsWith(c)||dr(!1),u=N}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let N=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=zA(e,{pathname:p}),j=b8(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:xl([c,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:xl([c,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,s,n);return t&&j?E.createElement(Bp.Provider,{value:{location:Ch({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:al.Pop}},j):j}function g8(){let e=S8(),t=l8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),s?E.createElement("pre",{style:i},s):null,null)}const x8=E.createElement(g8,null);class y8 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?E.createElement(_o.Provider,{value:this.props.routeContext},E.createElement(C4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v8(e){let{routeContext:t,match:s,children:n}=e,i=E.useContext(qv);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),E.createElement(_o.Provider,{value:t},n)}function b8(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||dr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:p}=s,x=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let p,x=!1,j=null,N=null;s&&(p=l&&f.route.id?l[f.route.id]:void 0,j=f.route.errorElement||x8,c&&(d<0&&m===0?(_8("route-fallback"),x=!0,N=null):d===m&&(x=!0,N=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),v=()=>{let b;return p?b=j:x?b=N:f.route.Component?b=E.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,E.createElement(v8,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:s!=null},children:b})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?E.createElement(y8,{location:s.location,revalidation:s.revalidation,component:j,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var P4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(P4||{}),T4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(T4||{});function w8(e){let t=E.useContext(qv);return t||dr(!1),t}function N8(e){let t=E.useContext(d8);return t||dr(!1),t}function j8(e){let t=E.useContext(_o);return t||dr(!1),t}function L4(e){let t=j8(),s=t.matches[t.matches.length-1];return s.route.id||dr(!1),s.route.id}function S8(){var e;let t=E.useContext(C4),s=N8(),n=L4();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function k8(){let{router:e}=w8(P4.UseNavigateStable),t=L4(T4.UseNavigateStable),s=E.useRef(!1);return A4(()=>{s.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ch({fromRouteId:t},a)))},[e,t])}const Bb={};function _8(e,t,s){Bb[e]||(Bb[e]=!0)}function C8(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function A8(e){let{to:t,replace:s,state:n,relative:i}=e;tu()||dr(!1);let{future:a,static:o}=E.useContext(Pl),{matches:l}=E.useContext(_o),{pathname:c}=oa(),d=Dr(),u=Vv(t,$v(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(u);return E.useEffect(()=>d(JSON.parse(f),{replace:s,state:n,relative:i}),[d,f,i,s,n]),null}function es(e){dr(!1)}function E8(e){let{basename:t="/",children:s=null,location:n,navigationType:i=al.Pop,navigator:a,static:o=!1,future:l}=e;tu()&&dr(!1);let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:a,static:o,future:Ch({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=eu(n));let{pathname:u="/",search:f="",hash:m="",state:p=null,key:x="default"}=n,j=E.useMemo(()=>{let N=zv(u,c);return N==null?null:{location:{pathname:N,search:f,hash:m,state:p,key:x},navigationType:i}},[c,u,f,m,p,x,i]);return j==null?null:E.createElement(Pl.Provider,{value:d},E.createElement(Bp.Provider,{children:s,value:j}))}function P8(e){let{children:t,location:s}=e;return m8(Bx(t),s)}new Promise(()=>{});function Bx(e,t){t===void 0&&(t=[]);let s=[];return E.Children.forEach(e,(n,i)=>{if(!E.isValidElement(n))return;let a=[...t,i];if(n.type===E.Fragment){s.push.apply(s,Bx(n.props.children,a));return}n.type!==es&&dr(!1),!n.props.index||!n.props.children||dr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Bx(n.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ux.apply(this,arguments)}function T8(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function L8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M8(e,t){return e.button===0&&(!t||t==="_self")&&!L8(e)}function zx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function I8(e,t){let s=zx(e);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const R8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D8="6";try{window.__reactRouterVersion=D8}catch{}const O8="startTransition",Ub=bN[O8];function F8(e){let{basename:t,children:s,future:n,window:i}=e,a=E.useRef();a.current==null&&(a.current=FA({window:i,v5Compat:!0}));let o=a.current,[l,c]=E.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=E.useCallback(f=>{d&&Ub?Ub(()=>c(f)):c(f)},[c,d]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.useEffect(()=>C8(n),[n]),E.createElement(E8,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const B8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=E.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=T8(t,R8),{basename:p}=E.useContext(Pl),x,j=!1;if(typeof d=="string"&&U8.test(d)&&(x=d,B8))try{let b=new URL(window.location.href),k=d.startsWith("//")?new URL(b.protocol+d):new URL(d),C=zv(k.pathname,p);k.origin===b.origin&&C!=null?d=C+k.search+k.hash:j=!0}catch{}let N=u8(d,{relative:i}),y=z8(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:f});function v(b){n&&n(b),b.defaultPrevented||y(b)}return E.createElement("a",Ux({},m,{href:x||N,onClick:j||a?n:v,ref:s,target:c}))});var zb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zb||(zb={}));var $b;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($b||($b={}));function z8(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Dr(),d=oa(),u=E4(e,{relative:o});return E.useCallback(f=>{if(M8(f,s)){f.preventDefault();let m=n!==void 0?n:tp(d)===tp(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,s,e,a,o,l])}function M4(e){let t=E.useRef(zx(e)),s=E.useRef(!1),n=oa(),i=E.useMemo(()=>I8(n.search,s.current?null:t.current),[n.search]),a=Dr(),o=E.useCallback((l,c)=>{const d=zx(typeof l=="function"?l(i):l);s.current=!0,a("?"+d,c)},[a,i]);return[i,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),He=(e,t)=>{const s=E.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>E.createElement("svg",{ref:u,...$8,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${V8(e)}`,l].join(" "),...d},[...t.map(([f,m])=>E.createElement(f,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=He("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=He("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=He("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=He("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=He("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=He("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=He("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=He("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=He("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=He("Church",[["path",{d:"m18 7 4 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9l4-2",key:"gy5gyo"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 22V5l-6-3-6 3v17",key:"1hsnhq"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M10 9h4",key:"u4k05v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=He("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=He("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=He("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=He("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=He("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=He("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=He("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=He("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=He("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=He("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=He("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=He("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=He("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=He("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=He("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=He("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=He("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=He("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=He("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=He("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=He("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=He("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=He("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=He("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=He("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=He("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=He("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=He("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=He("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=He("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=He("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=He("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=He("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=He("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=He("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=He("SquareUser",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=He("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=He("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=He("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=He("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=He("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=He("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=He("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=He("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=He("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=He("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function z4(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=z4(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function $4(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=z4(e))&&(n&&(n+=" "),n+=t);return n}const Qb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zb=$4,V4=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return Zb(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],f=a==null?void 0:a[d];if(u===null)return null;const m=Qb(u)||Qb(f);return i[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:m,...p}=u;return Object.entries(p).every(x=>{let[j,N]=x;return Array.isArray(N)?N.includes({...a,...l}[j]):{...a,...l}[j]===N})?[...d,f,m]:d},[]);return Zb(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},Kv="-",jE=e=>{const t=kE(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Kv);return l[0]===""&&l.length!==1&&l.shift(),q4(l,t)||SE(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},q4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?q4(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Kv);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},ew=/^\[(.+)\]$/,SE=e=>{if(ew.test(e)){const t=ew.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},kE=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return CE(Object.entries(e.classGroups),s).forEach(([a,o])=>{qx(o,n,a,t)}),n},qx=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:tw(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(_E(i)){qx(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{qx(o,tw(t,a),s,n)})})},tw=(e,t)=>{let s=e;return t.split(Kv).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},_E=e=>e.isThemeGetter,CE=(e,t)=>t?e.map(([s,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[s,i]}):e,AE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,n=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},H4="!",EE=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let N=0;N<l.length;N++){let y=l[N];if(d===0){if(y===i&&(n||l.slice(N,N+a)===t)){c.push(l.slice(u,N)),u=N+a;continue}if(y==="/"){f=N;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(H4),x=p?m.substring(1):m,j=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:j}};return s?l=>s({className:l,parseClassName:o}):o},PE=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},TE=e=>({cache:AE(e.cacheSize),parseClassName:EE(e),...jE(e)}),LE=/\s+/,ME=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(LE);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=s(d);let x=!!p,j=n(x?m.substring(0,p):m);if(!j){if(!x){l=d+(l.length>0?" "+l:l);continue}if(j=n(m),!j){l=d+(l.length>0?" "+l:l);continue}x=!1}const N=PE(u).join(":"),y=f?N+H4:N,v=y+j;if(a.includes(v))continue;a.push(v);const b=i(j,x);for(let k=0;k<b.length;++k){const C=b[k];a.push(y+C)}l=d+(l.length>0?" "+l:l)}return l};function IE(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=W4(t))&&(n&&(n+=" "),n+=s);return n}const W4=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=W4(e[n]))&&(s&&(s+=" "),s+=t);return s};function RE(e,...t){let s,n,i,a=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return s=TE(d),n=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=ME(c,s);return i(c,u),u}return function(){return a(IE.apply(null,arguments))}}const _s=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},G4=/^\[(?:([a-z-]+):)?(.+)\]$/i,DE=/^\d+\/\d+$/,OE=new Set(["px","full","screen"]),FE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$E=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ro=e=>Ed(e)||OE.has(e)||DE.test(e),qo=e=>su(e,"length",JE),Ed=e=>!!e&&!Number.isNaN(Number(e)),og=e=>su(e,"number",Ed),Lu=e=>!!e&&Number.isInteger(Number(e)),VE=e=>e.endsWith("%")&&Ed(e.slice(0,-1)),Mt=e=>G4.test(e),Ho=e=>FE.test(e),qE=new Set(["length","size","percentage"]),HE=e=>su(e,qE,K4),WE=e=>su(e,"position",K4),GE=new Set(["image","url"]),KE=e=>su(e,GE,QE),YE=e=>su(e,"",XE),Mu=()=>!0,su=(e,t,s)=>{const n=G4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},JE=e=>BE.test(e)&&!UE.test(e),K4=()=>!1,XE=e=>zE.test(e),QE=e=>$E.test(e),ZE=()=>{const e=_s("colors"),t=_s("spacing"),s=_s("blur"),n=_s("brightness"),i=_s("borderColor"),a=_s("borderRadius"),o=_s("borderSpacing"),l=_s("borderWidth"),c=_s("contrast"),d=_s("grayscale"),u=_s("hueRotate"),f=_s("invert"),m=_s("gap"),p=_s("gradientColorStops"),x=_s("gradientColorStopPositions"),j=_s("inset"),N=_s("margin"),y=_s("opacity"),v=_s("padding"),b=_s("saturate"),k=_s("scale"),C=_s("sepia"),_=_s("skew"),M=_s("space"),L=_s("translate"),$=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Mt,t],O=()=>[Mt,t],W=()=>["",ro,qo],Y=()=>["auto",Ed,Mt],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Mt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ed,Mt];return{cacheSize:500,separator:":",theme:{colors:[Mu],spacing:[ro,qo],blur:["none","",Ho,Mt],brightness:J(),borderColor:[e],borderRadius:["none","","full",Ho,Mt],borderSpacing:O(),borderWidth:W(),contrast:J(),grayscale:B(),hueRotate:J(),invert:B(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[VE,qo],inset:I(),margin:I(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:B(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Mt]}],container:["container"],columns:[{columns:[Ho]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Mt]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lu,Mt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Mt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Lu,Mt]}],"grid-cols":[{"grid-cols":[Mu]}],"col-start-end":[{col:["auto",{span:["full",Lu,Mt]},Mt]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[Mu]}],"row-start-end":[{row:["auto",{span:[Lu,Mt]},Mt]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Mt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Mt,t]}],"min-w":[{"min-w":[Mt,t,"min","max","fit"]}],"max-w":[{"max-w":[Mt,t,"none","full","min","max","fit","prose",{screen:[Ho]},Ho]}],h:[{h:[Mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ho,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",og]}],"font-family":[{font:[Mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Mt]}],"line-clamp":[{"line-clamp":["none",Ed,og]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ro,Mt]}],"list-image":[{"list-image":["none",Mt]}],"list-style-type":[{list:["none","disc","decimal",Mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ro,qo]}],"underline-offset":[{"underline-offset":["auto",ro,Mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),WE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[ro,Mt]}],"outline-w":[{outline:[ro,qo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ro,qo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ho,YE]}],"shadow-color":[{shadow:[Mu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ho,Mt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Mt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Mt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Lu,Mt]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ro,qo,og]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eP=RE(ZE),tP="modulepreload",sP=function(e){return"/"+e},sw={},Nl=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=sP(c),c in sw)return;sw[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":tP,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},rP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Nl(async()=>{const{default:n}=await Promise.resolve().then(()=>ru);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Yv extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class nP extends Yv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rw extends Yv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nw extends Yv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hx||(Hx={}));var iP=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class aP{constructor(t,{headers:s={},customFetch:n,region:i=Hx.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=rP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return iP(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(j=>{throw new nP(j)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new rw(f);if(!f.ok)throw new nw(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof nw||i instanceof rw?i.context:void 0}}})}}var Vn={},Jv={},$p={},Yh={},Vp={},qp={},oP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qd=oP();const lP=qd.fetch,Y4=qd.fetch.bind(qd),J4=qd.Headers,cP=qd.Request,dP=qd.Response,ru=Object.freeze(Object.defineProperty({__proto__:null,Headers:J4,Request:cP,Response:dP,default:Y4,fetch:lP},Symbol.toStringTag,{value:"Module"})),uP=u_(ru);var Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});let hP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hp.default=hP;var X4=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qp,"__esModule",{value:!0});const fP=X4(uP),mP=X4(Hp);let pP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=fP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,f=null,m=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const j=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&N&&N.length>1&&(f=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const j=await a.text();try{d=JSON.parse(j),Array.isArray(d)&&a.status===404&&(u=[],d=null,m=200,p="OK")}catch{a.status===404&&j===""?(m=204,p="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new mP.default(d)}return{error:d,data:u,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};qp.default=pP;var gP=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vp,"__esModule",{value:!0});const xP=gP(qp);let yP=class extends xP.default{select(t){let s=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vp.default=yP;var vP=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yh,"__esModule",{value:!0});const bP=vP(Vp);let wP=class extends bP.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};Yh.default=wP;var NP=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($p,"__esModule",{value:!0});const Iu=NP(Yh);let jP=class{constructor(t,{headers:s={},schema:n,fetch:i}){this.url=t,this.headers=s,this.schema=n,this.fetch=i}select(t,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Iu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Iu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Iu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Iu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Iu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$p.default=jP;var Wp={},Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.version=void 0;Gp.version="0.0.0-automated";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.DEFAULT_HEADERS=void 0;const SP=Gp;Wp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SP.version}`};var Q4=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jv,"__esModule",{value:!0});const kP=Q4($p),_P=Q4(Yh),CP=Wp;let AP=class Z4{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},CP.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new kP.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(s).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=s);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new _P.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Jv.default=AP;var nu=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const e3=nu(Jv);Vn.PostgrestClient=e3.default;const t3=nu($p);Vn.PostgrestQueryBuilder=t3.default;const s3=nu(Yh);Vn.PostgrestFilterBuilder=s3.default;const r3=nu(Vp);Vn.PostgrestTransformBuilder=r3.default;const n3=nu(qp);Vn.PostgrestBuilder=n3.default;const i3=nu(Hp);Vn.PostgrestError=i3.default;var EP=Vn.default={PostgrestClient:e3.default,PostgrestQueryBuilder:t3.default,PostgrestFilterBuilder:s3.default,PostgrestTransformBuilder:r3.default,PostgrestBuilder:n3.default,PostgrestError:i3.default};const{PostgrestClient:PP,PostgrestQueryBuilder:qB,PostgrestFilterBuilder:HB,PostgrestTransformBuilder:WB,PostgrestBuilder:GB,PostgrestError:KB}=EP;function TP(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const LP=TP(),MP="2.11.15",IP=`realtime-js/${MP}`,RP="1.0.0",a3=1e4,DP=1e3;var eh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(eh||(eh={}));var ln;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ln||(ln={}));var ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ea||(ea={}));var Wx;(function(e){e.websocket="websocket"})(Wx||(Wx={}));var ec;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ec||(ec={}));class OP{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class o3{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vs;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vs||(vs={}));const iw=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=FP(o,e,t,i),a),{})},FP=(e,t,s,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!n.includes(a)?l3(a,o):Gx(o)},l3=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return $P(t,s)}switch(e){case vs.bool:return BP(t);case vs.float4:case vs.float8:case vs.int2:case vs.int4:case vs.int8:case vs.numeric:case vs.oid:return UP(t);case vs.json:case vs.jsonb:return zP(t);case vs.timestamp:return VP(t);case vs.abstime:case vs.date:case vs.daterange:case vs.int4range:case vs.int8range:case vs.money:case vs.reltime:case vs.text:case vs.time:case vs.timestamptz:case vs.timetz:case vs.tsrange:case vs.tstzrange:return Gx(t);default:return Gx(t)}},Gx=e=>e,BP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$P=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>l3(t,l))}return e},VP=e=>typeof e=="string"?e.replace(" ","T"):e,c3=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lg{constructor(t,s,n={},i=a3){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aw||(aw={}));class th{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=th.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=th.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=th.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=a[d];if(f){const m=u.map(N=>N.presence_ref),p=f.map(N=>N.presence_ref),x=u.filter(N=>p.indexOf(N.presence_ref)<0),j=f.filter(N=>m.indexOf(N.presence_ref)<0);x.length>0&&(l[d]=x),j.length>0&&(c[d]=j)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,s,n,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ow;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ow||(ow={}));var lw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lw||(lw={}));var co;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(co||(co={}));class Xv{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new lg(this,ea.join,this.params,this.timeout),this.rejoinTimer=new o3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ln.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new th(this),this.broadcastEndpointURL=c3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ln.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(co.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(co.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(co.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,x=[];for(let j=0;j<p;j++){const N=m[j],{filter:{event:y,schema:v,table:b,filter:k}}=N,C=u&&u[j];if(C&&C.event===y&&C.schema===v&&C.table===b&&C.filter===k)x.push(Object.assign(Object.assign({},N),{id:C.id}));else{this.unsubscribe(),this.state=ln.errored,t==null||t(co.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(co.SUBSCRIBED);return}}).receive("error",u=>{this.state=ln.errored,t==null||t(co.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(co.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ln.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new lg(this,ea.leave,{},t),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lg(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ea;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,s,n);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var x,j,N;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(j=p.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var x,j,N,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,C=(x=p.filter)===null||x===void 0?void 0:x.event;return k&&((j=s.ids)===null||j===void 0?void 0:j.includes(k))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:j,table:N,commit_timestamp:y,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:j,table:N,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Xv.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ea.close,{},t)}_onError(t){this._on(ea.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=iw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=iw(t.columns,t.old_record)),s}}const cw=()=>{},qP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HP{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a3,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cw,this.ref=0,this.logger=cw,this.conn=null,this.sendBuffer=[],this.serializer=new OP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Nl(async()=>{const{default:c}=await Promise.resolve().then(()=>ru);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Wx.websocket}`,this.httpEndpoint=c3(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=LP),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RP}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case eh.connecting:return ec.Connecting;case eh.open:return ec.Open;case eh.closing:return ec.Closing;default:return ec.Closed}}isConnected(){return this.connectionState()===ec.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Xv(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:IP};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ea.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(DP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:a,ref:o}=s;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ea.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([qP],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Qv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WP extends Qv{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kx extends Qv{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var GP=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const d3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Nl(async()=>{const{default:n}=await Promise.resolve().then(()=>ru);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},KP=()=>GP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nl(()=>Promise.resolve().then(()=>ru),void 0)).Response:Response}),Yx=e=>{if(Array.isArray(e))return e.map(s=>Yx(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Yx(n)}),t};var jc=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const cg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YP=(e,t,s)=>jc(void 0,void 0,void 0,function*(){const n=yield KP();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new WP(cg(i),e.status||500))}).catch(i=>{t(new Kx(cg(i),i))}):t(new Kx(cg(e),e))}),JP=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function Jh(e,t,s,n,i,a){return jc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,JP(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>YP(c,l,n))})})}function ap(e,t,s,n){return jc(this,void 0,void 0,function*(){return Jh(e,"GET",t,s,n)})}function Zo(e,t,s,n,i){return jc(this,void 0,void 0,function*(){return Jh(e,"POST",t,n,i,s)})}function XP(e,t,s,n,i){return jc(this,void 0,void 0,function*(){return Jh(e,"PUT",t,n,i,s)})}function QP(e,t,s,n){return jc(this,void 0,void 0,function*(){return Jh(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function u3(e,t,s,n,i){return jc(this,void 0,void 0,function*(){return Jh(e,"DELETE",t,n,i,s)})}var Un=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const ZP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eT{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=d3(i)}uploadOrUpdate(t,s,n,i){return Un(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},dw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Lr(a))return{data:null,error:a};throw a}})}upload(t,s,n){return Un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return Un(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:dw.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield f.json();return f.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Lr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return Un(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield Zo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Qv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}update(t,s,n){return Un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return Un(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}copy(t,s,n){return Un(this,void 0,void 0,function*(){try{return{data:{path:(yield Zo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return Un(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Zo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return Un(this,void 0,void 0,function*(){try{const i=yield Zo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}download(t,s){return Un(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ap(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Lr(l))return{data:null,error:l};throw l}})}info(t){return Un(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield ap(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yx(n),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}exists(t){return Un(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield QP(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Lr(n)&&n instanceof Kx){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Un(this,void 0,void 0,function*(){try{return{data:yield u3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}list(t,s,n){return Un(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ZP),s),{prefix:t||""});return{data:yield Zo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const tT="2.7.1",sT={"X-Client-Info":`storage-js/${tT}`};var $c=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class rT{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},sT),s),this.fetch=d3(n)}listBuckets(){return $c(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lr(t))return{data:null,error:t};throw t}})}getBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return $c(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return $c(this,void 0,void 0,function*(){try{return{data:yield XP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}deleteBucket(t){return $c(this,void 0,void 0,function*(){try{return{data:yield u3(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}}class nT extends rT{constructor(t,s={},n){super(t,s,n)}from(t){return new eT(this.url,this.headers,t,this.fetch)}}const iT="2.51.0";let Vu="";typeof Deno<"u"?Vu="deno":typeof document<"u"?Vu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vu="react-native":Vu="node";const aT={"X-Client-Info":`supabase-js-${Vu}/${iT}`},oT={headers:aT},lT={schema:"public"},cT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dT={};var uT=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const hT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Y4:t=fetch,(...s)=>t(...s)},fT=()=>typeof Headers>"u"?J4:Headers,mT=(e,t,s)=>{const n=hT(s),i=fT();return(a,o)=>uT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:d}))})};var pT=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function gT(e){return e.endsWith("/")?e:e+"/"}function xT(e,t){var s,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pT(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const h3="2.71.0",Yc=30*1e3,Jx=3,dg=Jx*Yc,yT="http://localhost:9999",vT="supabase.auth.token",bT={"X-Client-Info":`gotrue-js/${h3}`},Xx="X-Supabase-Api-Version",f3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NT=10*60*1e3;class Zv extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function Tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jT extends Zv{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function ST(e){return Tt(e)&&e.name==="AuthApiError"}class m3 extends Zv{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Tl extends Zv{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class Yo extends Tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kT(e){return Tt(e)&&e.name==="AuthSessionMissingError"}class Jf extends Tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xf extends Tl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qf extends Tl{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _T(e){return Tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class uw extends Tl{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qx extends Tl{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function ug(e){return Tt(e)&&e.name==="AuthRetryableFetchError"}class hw extends Tl{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Zx extends Tl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fw=` 	
\r=`.split(""),CT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fw.length;t+=1)e[fw[t].charCodeAt(0)]=-2;for(let t=0;t<op.length;t+=1)e[op[t].charCodeAt(0)]=t;return e})();function mw(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(op[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(op[n]),t.queuedBits-=6}}function p3(e,t,s){const n=CT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pw(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{PT(o,n,s)};for(let o=0;o<e.length;o+=1)p3(e.charCodeAt(o),i,a);return t.join("")}function AT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ET(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}AT(n,t)}}function PT(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function TT(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)p3(e.charCodeAt(i),s,n);return new Uint8Array(t)}function LT(e){const t=[];return ET(e,s=>t.push(s)),new Uint8Array(t)}function MT(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>mw(i,s,n)),mw(null,s,n),t.join("")}function IT(e){return Math.round(Date.now()/1e3)+e}function RT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yi=()=>typeof window<"u"&&typeof document<"u",Wl={tested:!1,writable:!1},g3=()=>{if(!Yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wl.tested)return Wl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wl.tested=!0,Wl.writable=!0}catch{Wl.tested=!0,Wl.writable=!1}return Wl.writable};function DT(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const x3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Nl(async()=>{const{default:n}=await Promise.resolve().then(()=>ru);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},OT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jc=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Gl=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Wo=async(e,t)=>{await e.removeItem(t)};class Kp{constructor(){this.promise=new Kp.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Kp.promiseConstructor=Promise;function hg(e){const t=e.split(".");if(t.length!==3)throw new Zx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wT.test(t[n]))throw new Zx("JWT not in base64url format");return{header:JSON.parse(pw(t[0])),payload:JSON.parse(pw(t[1])),signature:TT(t[2]),raw:{header:t[0],payload:t[1]}}}async function FT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BT(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function UT(e){return("0"+e.toString(16)).substr(-2)}function zT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,UT).join("")}async function $T(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function VT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await $T(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vc(e,t,s=!1){const n=zT();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Jc(e,`${t}-code-verifier`,i);const a=await VT(n);return[a,n===a?"plain":"s256"]}const qT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HT(e){const t=e.headers.get(Xx);if(!t||!t.match(qT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qc(e){if(!KT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fg(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var YT=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const Xl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JT=[502,503,504];async function gw(e){var t;if(!OT(e))throw new Qx(Xl(e),0);if(JT.includes(e.status))throw new Qx(Xl(e),e.status);let s;try{s=await e.json()}catch(a){throw new m3(Xl(a),a)}let n;const i=HT(e);if(i&&i.getTime()>=f3["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new hw(Xl(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yo}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new hw(Xl(s),e.status,s.weak_password.reasons);throw new jT(Xl(s),e.status||500,n)}const XT=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function Bt(e,t,s,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Xx]||(a[Xx]=f3["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await QT(e,t,s+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function QT(e,t,s,n,i,a){const o=XT(t,n,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Qx(Xl(c),0)}if(l.ok||await gw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await gw(c)}}function oo(e){var t;let s=null;s7(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=IT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function xw(e){const t=oo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZT(e){return{data:e,error:null}}function e7(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a}=e,o=YT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function t7(e){return e}function s7(e){return e.access_token&&e.refresh_token&&e.expires_in}const mg=["global","local","others"];var r7=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class n7{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=x3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=mg[0]){if(mg.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mg.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:sl})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=r7(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:e7,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Tt(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sl})}catch(s){if(Tt(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:t7});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const j=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);d[`${N}Page`]=j}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Tt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){qc(t);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sl})}catch(s){if(Tt(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){qc(t);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:sl})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){qc(t);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:sl})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){qc(t.userId);try{const{data:s,error:n}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(Tt(s))return{data:null,error:s};throw s}}async _deleteFactor(t){qc(t.userId),qc(t.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}}}function yw(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function i7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hc={debug:!!(globalThis&&g3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a7 extends y3{}async function o7(e,t,s){Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Hc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}i7();const l7={url:yT,storageKey:vT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vw(e,t,s){return await s()}const Wc={};class Mh{constructor(t){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mh.nextInstanceID,Mh.nextInstanceID+=1,this.instanceID>0&&Yi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},l7),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new n7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x3(i.fetch),this.lock=i.lock||vw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Yi()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=o7:this.lock=vw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:g3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yw(this.memoryStorage)),Yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=Wc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Wc[this.storageKey]=Object.assign(Object.assign({},Wc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Wc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wc[this.storageKey]=Object.assign(Object.assign({},Wc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${h3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=DT(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Yi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_T(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Tt(s)?{error:s}:{error:new m3("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const a=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:oo}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Tt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,n,i;try{let a;if("email"in t){const{email:u,password:f,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Vc(this.storage,this.storageKey)),a=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:oo})}else if("phone"in t){const{phone:u,password:f,options:m}=t;a=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:oo})}else throw new Xf("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Tt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xw})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xw})}else throw new Xf("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(Tt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,i,a,o,l,c,d,u,f,m,p;let x,j;if("message"in t)x=t.message,j=t.signature;else{const{chain:N,wallet:y,statement:v,options:b}=t;let k;if(Yi())if(typeof y=="object")k=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const C=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),v?{statement:v}:null));let M;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")M=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)M=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)x=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),j=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=_}}try{const{data:N,error:y}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:MT(j)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:oo});if(y)throw y;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Jf}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:y})}catch(N){if(Tt(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const s=await Gl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:a,error:o}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oo});if(await Wo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Jf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Tt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:a,nonce:o}=t,l=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:oo}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Jf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(Tt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Vc(this.storage,this.storageKey));const{error:f}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Xf("You must provide either an email or phone number.")}catch(l){if(Tt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,n;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:oo});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Vc(this.storage,this.storageKey)),await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:ZT})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Yo;const{error:i}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Tt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Bt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await Bt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xf("You must provide either an email or phone number and a type")}catch(s){if(Tt(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Gl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Gl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=fg()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sl}):await this._useSession(async s=>{var n,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yo}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:sl})})}catch(s){if(Tt(s))return kT(s)&&(await this._removeSession(),await Wo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Yo;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vc(this.storage,this.storageKey));const{data:d,error:u}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:sl});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yo;const s=Date.now()/1e3;let n=s,i=!0,a=null;const{payload:o}=hg(t.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(Tt(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yo;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Tt(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Yi())throw new Qf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new uw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qf("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uw("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Qf("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const p=m-u;p*1e3<=Yc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=m-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:j,error:N}=await this._getUser(a);if(N)throw N;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:d,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Tt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Gl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ST(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Wo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=RT(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Vc(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:f,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Yi()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Tt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)throw o;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(Tt(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await BT(async i=>(i>0&&await FT(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&ug(a)&&Date.now()+o-n<Yc})}catch(n){if(this._debug(s,"error",n),Tt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Yi()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Gl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Gl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Jc(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:fg()}else if(i&&!i.user&&!i.user){const o=await Gl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Wo(this.storage,this.storageKey+"-user"),await Jc(this.storage,this.storageKey,i)):i.user=fg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<dg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${dg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ug(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Yo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kp;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Yo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Tt(a)){const o={session:null,error:a};return ug(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Jc(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=structuredClone(i);await Jc(this.storage,this.storageKey,a)}else{const i=structuredClone(s);await Jc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wo(this.storage,this.storageKey),await Wo(this.storage,this.storageKey+"-code-verifier"),await Wo(this.storage,this.storageKey+"-user"),this.userStorage&&await Wo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Yc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yc}ms, refresh threshold is ${Jx} ticks`),i<=Jx&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Vc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await Bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Tt(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(Tt(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await Bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await Bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=hg(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+NT>i)return n;const{data:a,error:o}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=hg(n);s!=null&&s.allowExpired||WT(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=GT(i.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,LT(`${l}.${c}`)))throw new Zx("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}}Mh.nextInstanceID=0;const c7=Mh;class d7 extends c7{constructor(t){super(t)}}var u7=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class h7{constructor(t,s,n){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=gT(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:lT,realtime:dT,auth:Object.assign(Object.assign({},cT),{storageKey:d}),global:oT},f=xT(n??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=mT(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new PP(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new aP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nT(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return u7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d7({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const v3=(e,t,s)=>new h7(e,t,s),b3="https://bnhvcnbsxjrgdhhxdrpa.supabase.co",f7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJuaHZjbmJzeGpyZ2RoaHhkcnBhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMTQ5NTUsImV4cCI6MjA2NjY5MDk1NX0.L_P1nOvzhj1bi4ZtREthB5iI00Q7z6-tgVdrtSnzLEU",m7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJuaHZjbmJzeGpyZ2RoaHhkcnBhIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTExNDk1NSwiZXhwIjoyMDY2NjkwOTU1fQ.NkVY6xYHGQFFaHkT96nieVmSx26yk8SdQSXyg-pVS8o",Fe=v3(b3,f7),Ut=v3(b3,m7,{auth:{autoRefreshToken:!1,persistSession:!1}});if(typeof window<"u"){const e=window.fetch;window.fetch=function(...t){try{return e.apply(this,t)}catch(s){throw console.warn("⚠️ Fetch error (possibly from browser extension):",s),s}}}function mn(...e){return eP($4(e))}function bw(e){return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(e)}const e1=[{value:"ukraine",label:"Ukraine"},{value:"russia",label:"Russia"},{value:"kazakhstan",label:"Kazakhstan"},{value:"belarus",label:"Belarus"},{value:"moldova",label:"Moldova"},{value:"georgia",label:"Georgia"},{value:"armenia",label:"Armenia"},{value:"azerbaijan",label:"Azerbaijan"},{value:"kyrgyzstan",label:"Kyrgyzstan"},{value:"tajikistan",label:"Tajikistan"},{value:"turkmenistan",label:"Turkmenistan"},{value:"uzbekistan",label:"Uzbekistan"}],ey=["Travel","Music","Art","Cooking","Dancing","Reading","Sports","Movies","Photography","Nature","Hiking","Swimming","Yoga","Fashion","Technology","Languages","History","Science","Politics","Philosophy"],ty=[{id:1,amount:100,price:9.99,popular:!1,bonus:0},{id:2,amount:500,price:39.99,popular:!0,bonus:50},{id:3,amount:1e3,price:69.99,popular:!1,bonus:150},{id:4,amount:2e3,price:119.99,popular:!1,bonus:400}],sy=[{id:"weekly",name:"Weekly Premium",duration:7,durationUnit:"days",price:19.99,popular:!1,features:["Unlimited messaging","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"]},{id:"monthly",name:"Monthly Premium",duration:1,durationUnit:"month",price:49.99,popular:!0,features:["Unlimited messaging","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"]},{id:"quarterly",name:"Quarterly Premium",duration:3,durationUnit:"months",price:129.99,popular:!1,features:["Unlimited messaging","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]}],Pd={voiceCall:400,videoCall:1e3,contactInfo:700},t1=async()=>{try{const{data:e,error:t}=await Fe.from("gifts").select("*").eq("is_active",!0).order("category",{ascending:!0}).order("price",{ascending:!0});return t?(console.error("Error loading gifts from database:",t),[]):e||[]}catch(e){return console.error("Error loading gifts:",e),[]}},p7=e=>({id:e.id,name:e.name,description:e.description,cost:e.price,category:e.category,image:e.image_url,delivery:"Virtual purchase with coins"}),g7=async e=>{const t=await t1();return(e&&e!=="all"?t.filter(n=>n.category===e):t).map(p7)},w3=async()=>{const e=await t1();return[...new Set(e.map(s=>s.category))].sort()},N3={LIKES:"purelove_likes_data"};function lp(){const e=localStorage.getItem(N3.LIKES);if(!e)return{likedProfiles:{}};try{const t=JSON.parse(e);return!t||typeof t!="object"?{likedProfiles:{}}:Array.isArray(t)?{likedProfiles:{}}:((!t.likedProfiles||typeof t.likedProfiles!="object"||Array.isArray(t.likedProfiles))&&(t.likedProfiles={}),t)}catch(t){return console.error("Error parsing likes data:",t),{likedProfiles:{}}}}function ry(e){try{localStorage.setItem(N3.LIKES,JSON.stringify(e)),console.log("💾 Saved likes data:",e)}catch(t){console.error("Error saving likes data:",t)}}function j3(e,t="sent"){if(console.log("❤️ Adding like:",{profile:e,status:t}),!e||!e.id){console.error("❌ Invalid profile passed to addLike:",e);return}const s=lp(),n=s.likedProfiles[e.id];console.log("🔍 Existing like:",n);const i=(n==null?void 0:n.status)==="received"&&t==="sent"?"matched":t;console.log("✨ New status:",i),s.likedProfiles[e.id]={likedAt:new Date().toISOString(),status:i,profile:{id:e.id,userId:e.userId,firstName:e.firstName,lastName:e.lastName||"",gender:e.gender,birthDate:e.birthDate,city:e.city,country:e.country,bio:e.bio,interests:e.interests,profession:e.profession,languages:e.languages,photos:e.photos,verified:e.verified,createdAt:e.createdAt}},ry(s),t==="sent"&&Math.random()<.5&&(console.log("💘 Simulating received like back"),setTimeout(()=>{const a=lp();a.likedProfiles[e.id]&&(a.likedProfiles[e.id].status="matched",ry(a))},1e3+Math.random()*2e3))}function S3(e){console.log("💔 Removing like:",e);const t=lp();delete t.likedProfiles[e],ry(t)}function cp(e){return!!lp().likedProfiles[e]}const x7=V4("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 hover:shadow-lg hover:scale-105 shadow-sm",destructive:"bg-red-500 text-white hover:bg-red-600 hover:shadow-lg hover:scale-105",outline:"border border-gray-200 bg-white hover:bg-gray-50 hover:text-primary-500 hover:border-primary-300 hover:shadow-md",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 hover:shadow-md",ghost:"hover:bg-gray-100 hover:text-primary-500 hover:scale-105",link:"text-primary-500 underline-offset-4 hover:underline hover:scale-105",premium:"bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700 hover:shadow-xl hover:scale-105 shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=E.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...i},a)=>r.jsx("button",{className:mn(x7({variant:t,size:s,className:e})),ref:a,...i}));Me.displayName="Button";const bs=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:mn("rounded-2xl border border-gray-100 bg-card text-gray-950 shadow-card transition-shadow hover:shadow-card-hover",e),...t}));bs.displayName="Card";const s1=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:mn("flex flex-col space-y-1.5 p-6",e),...t}));s1.displayName="CardHeader";const r1=E.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:mn("text-2xl font-semibold leading-none tracking-tight",e),...t}));r1.displayName="CardTitle";const y7=E.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:mn("text-sm text-gray-500",e),...t}));y7.displayName="CardDescription";const Ts=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:mn("p-6 pt-0",e),...t}));Ts.displayName="CardContent";const Xh=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:mn("flex items-center p-6 pt-0",e),...t}));Xh.displayName="CardFooter";const v7=V4("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-primary-50 text-primary-700",secondary:"bg-gray-100 text-gray-700",destructive:"bg-red-100 text-red-700",outline:"border border-gray-200 text-gray-700",verified:"bg-green-100 text-green-700",premium:"bg-amber-100 text-amber-700"}},defaultVariants:{variant:"default"}});function zs({className:e,variant:t,...s}){return r.jsx("div",{className:mn(v7({variant:t}),e),...s})}async function b7(e,t,s){var n,i;try{console.log("🔄 [SIGNUP] Starting signup process..."),console.log("📧 [SIGNUP] Email:",e),console.log("👤 [SIGNUP] User data:",s);const a=Fe.auth.signUp({email:e,password:t,options:{data:{first_name:s.firstName,last_name:s.lastName,gender:s.gender,birth_date:s.birthDate,country:s.country,city:s.city}}}),o=new Promise((u,f)=>setTimeout(()=>f(new Error("Signup request timed out")),15e3));console.log("⏱️ [SIGNUP] Waiting for signup response...");const l=await Promise.race([a,o]),{data:c,error:d}=l;return d?(console.error("❌ [SIGNUP] Signup error:",d),{data:null,error:d}):(console.log("✅ [SIGNUP] User created successfully!"),console.log("👤 [SIGNUP] User ID:",(n=c.user)==null?void 0:n.id),console.log("📧 [SIGNUP] User email:",(i=c.user)==null?void 0:i.email),console.log("🎯 [SIGNUP] Profile will be created automatically by auth trigger"),{data:c,error:null})}catch(a){return console.error("❌ [SIGNUP] Sign up exception:",a),{data:null,error:a}}}async function w7(e,t,s=!0){var n,i,a;console.log("🔄 [STEP 1] Starting signIn function..."),console.log("📧 Email:",e),console.log("🔐 Remember me:",s);try{console.log("🔄 [STEP 2] Creating auth request...");const o=Date.now(),l=Fe.auth.signInWithPassword({email:e,password:t});console.log("🕐 [STEP 3] Auth request created, awaiting response..."),console.log("⏱️ Request created at:",new Date().toISOString());const{data:c,error:d}=await l,f=Date.now()-o;return console.log("✅ [STEP 4] Auth response received after",f,"ms"),console.log("📊 Response data present:",!!c),console.log("❌ Response error present:",!!d),c&&(console.log("👤 User ID:",(n=c.user)==null?void 0:n.id),console.log("📧 User email:",(i=c.user)==null?void 0:i.email),console.log("🎫 Session present:",!!c.session),console.log("🔑 Access token present:",!!((a=c.session)!=null&&a.access_token))),d?(console.log("❌ [STEP 5] Auth error details:",d),console.log("🔍 Error message:",d.message),console.log("🔍 Error code:",d.status),{data:null,error:d}):(console.log("✅ [STEP 5] Auth successful, processing session..."),console.log("✅ [STEP 6] Session handled by Supabase automatically"),console.log("✅ [STEP 7] SignIn completed successfully"),console.log("🎉 Total duration:",Date.now()-o,"ms"),{data:c,error:null})}catch(o){return console.error("❌ [ERROR] Sign in exception:",o),console.error("🔍 Error type:",typeof o),console.error("🔍 Error name:",o.name),console.error("🔍 Error message:",o.message),console.error("🔍 Error stack:",o.stack),{data:null,error:o}}}async function N7(){try{const{error:e}=await Fe.auth.signOut();return{error:e}}catch(e){return console.error("Sign out error:",e),{error:e}}}async function ww(){var e,t,s,n,i,a;console.log("🔍 [GET_USER] Starting getCurrentUser...");try{if(console.log("👤 [GET_USER] Fetching auth user..."),!navigator.onLine){console.log("📴 [GET_USER] Device is offline, using cached session data");const{data:{session:p}}=await Fe.auth.getSession();return p!=null&&p.user?{user:p.user,profile:null,error:new Error("Offline - using cached session")}:{user:null,profile:null,error:new Error("No internet connection")}}let o,l=0;const c=1;for(;l<=c;)try{const p=Fe.auth.getUser(),x=new Promise((j,N)=>setTimeout(()=>N(new Error("getUser timeout")),3e3));o=await Promise.race([p,x]);break}catch(p){if(l++,console.warn(`⚠️ [GET_USER] Attempt ${l} failed:`,p),l>c){console.log("🔄 [GET_USER] Falling back to session data...");try{const{data:{session:x}}=await Fe.auth.getSession();if(x!=null&&x.user)return console.log("✅ [GET_USER] Using session fallback"),{user:x.user,profile:null,error:new Error("Auth service unavailable - using session fallback")}}catch(x){console.error("❌ [GET_USER] Session fallback failed:",x)}throw p}await new Promise(x=>setTimeout(x,500*l))}const{data:{user:d},error:u}=o;if(u)return console.error("❌ [GET_USER] Auth user error:",u),{user:null,profile:null,error:u};if(console.log("✅ [GET_USER] Auth user result:",!!d),!d)return console.log("❌ [GET_USER] No authenticated user found"),{user:null,profile:null,error:null};console.log("👤 [GET_USER] User ID:",d.id),console.log("📧 [GET_USER] User email:",d.email),console.log("🔍 [GET_USER] Fetching profile from database...");let f=null,m=null;try{const p=Fe.from("profiles").select("*").eq("id",d.id).single(),x=new Promise((y,v)=>setTimeout(()=>v(new Error("profile fetch timeout")),2e3)),N=await Promise.race([p,x]);f=N.data,m=N.error}catch(p){return console.warn("⚠️ [GET_USER] Profile fetch timed out, continuing with basic user data"),m=p,{user:d,profile:null,error:new Error("Profile service unavailable - using basic user data")}}if(console.log("📊 [GET_USER] Profile query result:",{profile:!!f,error:!!m}),m){if(console.error("❌ [GET_USER] Error fetching profile:",m),m.code==="PGRST116"&&navigator.onLine){console.log("🔧 [GET_USER] Profile not found, creating basic profile...");const p={id:d.id,first_name:((e=d.user_metadata)==null?void 0:e.first_name)||"",last_name:((t=d.user_metadata)==null?void 0:t.last_name)||"",gender:((s=d.user_metadata)==null?void 0:s.gender)||"male",birth_date:((n=d.user_metadata)==null?void 0:n.birth_date)||"",country:((i=d.user_metadata)==null?void 0:i.country)||"",city:((a=d.user_metadata)==null?void 0:a.city)||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};try{const x=Fe.from("profiles").insert(p).select().single(),j=new Promise((b,k)=>setTimeout(()=>k(new Error("profile creation timeout")),2e3)),N=await Promise.race([x,j]),{data:y,error:v}=N;return v?(console.error("❌ [GET_USER] Failed to create profile:",v),{user:d,profile:null,error:v}):(console.log("✅ [GET_USER] Profile created successfully"),{user:d,profile:y,error:null})}catch(x){return console.warn("⚠️ [GET_USER] Profile creation timed out, continuing without profile"),{user:d,profile:null,error:x}}}return{user:d,profile:null,error:m}}return console.log("✅ [GET_USER] Profile found:",f==null?void 0:f.first_name),{user:d,profile:f,error:null}}catch(o){console.error("❌ [GET_USER] Exception in getCurrentUser:",o);try{const{data:{session:l}}=await Fe.auth.getSession();if(l!=null&&l.user)return console.log("🆘 [GET_USER] Emergency fallback to cached session"),{user:l.user,profile:null,error:new Error("Service unavailable - emergency session fallback")}}catch(l){console.error("❌ [GET_USER] Emergency fallback failed:",l)}return{user:null,profile:null,error:o}}}async function j7(e,t){try{const{error:s}=await Fe.from("profiles").update({first_name:t.firstName,last_name:t.lastName,gender:t.gender,birth_date:t.birthDate,country:t.country,city:t.city,bio:t.bio,interests:t.interests,profession:t.profession,languages:t.languages,updated_at:new Date().toISOString()}).eq("id",e);return{error:s}}catch(s){return console.error("Update profile error:",s),{error:s}}}async function S7(e,t){var s;try{if(console.log("📸 [UPLOAD] Starting photo upload for user:",e),console.log("📄 [UPLOAD] File details:",{name:t.name,size:t.size,type:t.type}),!t.type.startsWith("image/"))throw new Error("Please upload an image file (JPG, PNG, GIF, etc.)");if(t.size>5*1024*1024)throw new Error("Image size must be less than 5MB");const n=(s=t.name.split(".").pop())==null?void 0:s.toLowerCase(),i=`${e}-${Date.now()}.${n}`,a=`profiles/${e}/${i}`;console.log("📁 [UPLOAD] File path:",a);const{error:o}=await Fe.storage.from("profile-photos").upload(a,t,{cacheControl:"3600",upsert:!1});if(o)throw console.error("❌ [UPLOAD] Storage upload error:",o),new Error(`Upload failed: ${o.message}`);console.log("✅ [UPLOAD] File uploaded to storage successfully");const{data:l}=Fe.storage.from("profile-photos").getPublicUrl(a);if(!(l!=null&&l.publicUrl))throw new Error("Failed to generate public URL for uploaded image");console.log("🔗 [UPLOAD] Public URL generated:",l.publicUrl);const{data:c,error:d}=await Fe.from("profiles").select("photos").eq("id",e).single();if(d)throw console.error("❌ [UPLOAD] Error fetching current profile:",d),new Error(`Failed to fetch profile: ${d.message}`);const u=(c==null?void 0:c.photos)||[],f=[...u,l.publicUrl];console.log("📸 [UPLOAD] Updating photos array:",{current:u.length,updated:f.length});const{error:m}=await Fe.from("profiles").update({photos:f,updated_at:new Date().toISOString()}).eq("id",e);if(m)throw console.error("❌ [UPLOAD] Error updating profile:",m),new Error(`Failed to update profile: ${m.message}`);return console.log("✅ [UPLOAD] Profile updated successfully"),{url:l.publicUrl,error:null}}catch(n){return console.error("❌ [UPLOAD] Upload profile photo error:",n),{url:null,error:n instanceof Error?n:new Error("Unknown upload error")}}}async function k7(){try{console.log("🔍 [STORAGE] Testing storage access...");const{data:e,error:t}=await Fe.storage.listBuckets();if(t)return console.error("❌ [STORAGE] Error listing buckets:",t),{success:!1,error:t.message,buckets:[]};if(console.log("✅ [STORAGE] Available buckets:",e.map(a=>a.name)),!e.find(a=>a.name==="profile-photos"))return console.log("⚠️ [STORAGE] profile-photos bucket not found"),{success:!1,error:"profile-photos bucket does not exist. Please create it in Supabase Dashboard.",buckets:e.map(a=>a.name)};console.log("✅ [STORAGE] profile-photos bucket found");const{data:n,error:i}=await Fe.storage.from("profile-photos").list("",{limit:1});return i?(console.error("❌ [STORAGE] Error accessing profile-photos bucket:",i),{success:!1,error:`Cannot access profile-photos bucket: ${i.message}`,buckets:e.map(a=>a.name)}):(console.log("✅ [STORAGE] Can access profile-photos bucket"),{success:!0,error:null,buckets:e.map(a=>a.name),canAccessProfilePhotos:!0})}catch(e){return console.error("❌ [STORAGE] Storage test exception:",e),{success:!1,error:e instanceof Error?e.message:"Unknown storage error",buckets:[]}}}const k3=E.createContext(void 0);function _7({children:e}){const[t,s]=E.useState(null),[n,i]=E.useState(!0),[a,o]=E.useState(null),[l,c]=E.useState(navigator.onLine),[d,u]=E.useState(!1),[f,m]=E.useState(!1);E.useEffect(()=>{const M=()=>{console.log("🌐 [AUTH_CONTEXT] Network is back online"),c(!0),!d&&!t&&!f&&(console.log("🔄 [AUTH_CONTEXT] Retrying auth after reconnection..."),p())},L=()=>{console.log("📴 [AUTH_CONTEXT] Network went offline"),c(!1)};return window.addEventListener("online",M),window.addEventListener("offline",L),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",L)}},[d,t,f]);const p=async()=>{var M,L,$,K,I,O,W,Y,le,ie,oe,Z,B,X,J,P,H,Q,G,ae,xe,we,de,Ee,Le,$e,Be,Re;if(f){console.log("⚠️ [AUTH_CONTEXT] CheckUser already in progress, skipping...");return}if(!l&&!d){console.log("📴 [AUTH_CONTEXT] Offline and not initialized, checking local session...");try{const{data:{session:fe}}=await Fe.auth.getSession();if(fe!=null&&fe.user){console.log("✅ [AUTH_CONTEXT] Found cached session while offline");const te={id:fe.user.id,email:fe.user.email||"",firstName:((M=fe.user.user_metadata)==null?void 0:M.first_name)||"",lastName:((L=fe.user.user_metadata)==null?void 0:L.last_name)||"",gender:(($=fe.user.user_metadata)==null?void 0:$.gender)||"male",birthDate:((K=fe.user.user_metadata)==null?void 0:K.birth_date)||"",country:((I=fe.user.user_metadata)==null?void 0:I.country)||"",city:((O=fe.user.user_metadata)==null?void 0:O.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:fe.user.created_at||"",chatSubscription:void 0};s(te),u(!0)}}catch(fe){console.warn("⚠️ [AUTH_CONTEXT] Error checking offline session:",fe)}i(!1);return}console.log("🔍 [AUTH_CONTEXT] Starting user check..."),m(!0);try{const{data:fe}=await Fe.auth.getSession();if(console.log("🔍 [AUTH_CONTEXT] Supabase session result:",{hasSession:!!fe.session,hasUser:!!((W=fe.session)!=null&&W.user),sessionError:!!((Y=fe.session)!=null&&Y.access_token),userEmail:(ie=(le=fe.session)==null?void 0:le.user)==null?void 0:ie.email}),!fe.session){console.log("❌ [AUTH_CONTEXT] No active session found"),s(null),u(!0),i(!1);return}console.log("✅ [AUTH_CONTEXT] Active session found for user:",fe.session.user.email),console.log("🔍 [AUTH_CONTEXT] Getting user data...");const te={id:fe.session.user.id,email:fe.session.user.email||"",firstName:((oe=fe.session.user.user_metadata)==null?void 0:oe.first_name)||"",lastName:((Z=fe.session.user.user_metadata)==null?void 0:Z.last_name)||"",gender:((B=fe.session.user.user_metadata)==null?void 0:B.gender)||"male",birthDate:((X=fe.session.user.user_metadata)==null?void 0:X.birth_date)||"",country:((J=fe.session.user.user_metadata)==null?void 0:J.country)||"",city:((P=fe.session.user.user_metadata)==null?void 0:P.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:fe.session.user.created_at||"",chatSubscription:void 0};s(te),u(!0),i(!1);try{const{user:Ke,profile:We,error:Oe}=await ww();if(!Oe&&We){const Ve={id:Ke.id,email:Ke.email||"",firstName:We.first_name||((H=Ke.user_metadata)==null?void 0:H.first_name)||"",lastName:We.last_name||((Q=Ke.user_metadata)==null?void 0:Q.last_name)||"",gender:We.gender||((G=Ke.user_metadata)==null?void 0:G.gender)||"male",birthDate:We.birth_date||((ae=Ke.user_metadata)==null?void 0:ae.birth_date)||"",country:We.country||((xe=Ke.user_metadata)==null?void 0:xe.country)||"",city:We.city||((we=Ke.user_metadata)==null?void 0:we.city)||"",bio:We.bio||"",interests:We.interests||[],profession:We.profession||"",languages:We.languages||[],photos:We.photos||[],verified:We.verified||!1,premium:We.premium||!1,coins:We.coins||0,role:We.role||"user",createdAt:We.created_at||Ke.created_at||"",chatSubscription:We.chat_subscription||void 0};console.log("✅ [AUTH_CONTEXT] Enhanced user data with profile:",Ve.email),s(Ve)}else console.log("⚠️ [AUTH_CONTEXT] Using basic user data due to profile error:",Oe==null?void 0:Oe.message)}catch(Ke){console.warn("⚠️ [AUTH_CONTEXT] Profile enhancement failed:",Ke)}}catch(fe){console.error("❌ [AUTH_CONTEXT] Error in checkUser:",fe);try{const{data:{session:te}}=await Fe.auth.getSession();if(te!=null&&te.user){console.log("✅ [AUTH_CONTEXT] Emergency fallback to session data");const Ke={id:te.user.id,email:te.user.email||"",firstName:((de=te.user.user_metadata)==null?void 0:de.first_name)||"",lastName:((Ee=te.user.user_metadata)==null?void 0:Ee.last_name)||"",gender:((Le=te.user.user_metadata)==null?void 0:Le.gender)||"male",birthDate:(($e=te.user.user_metadata)==null?void 0:$e.birth_date)||"",country:((Be=te.user.user_metadata)==null?void 0:Be.country)||"",city:((Re=te.user.user_metadata)==null?void 0:Re.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:te.user.created_at||"",chatSubscription:void 0};s(Ke)}else s(null)}catch(te){console.error("❌ [AUTH_CONTEXT] Emergency fallback failed:",te),s(null)}u(!0),i(!1),o(fe)}finally{m(!1)}};E.useEffect(()=>{d||p()},[d]),E.useEffect(()=>{if(!d)return;const{data:M}=Fe.auth.onAuthStateChange(async(K,I)=>{var O,W,Y,le,ie,oe,Z,B,X,J,P,H,Q,G,ae,xe,we,de;if(console.log("🔔 [AUTH_LISTENER] Auth state changed:",K),console.log("👤 [AUTH_LISTENER] Session user present:",!!(I!=null&&I.user)),n){console.log("⚠️ [AUTH_LISTENER] Still loading, ignoring rapid auth change");return}if(K==="SIGNED_IN"&&(I!=null&&I.user)){if(console.log("✅ [AUTH_LISTENER] User signed in"),console.log("👤 [AUTH_LISTENER] User ID:",I.user.id),console.log("📧 [AUTH_LISTENER] User email:",I.user.email),(t==null?void 0:t.id)===I.user.id){console.log("🔄 [AUTH_LISTENER] Same user already loaded, skipping refetch");return}try{const Ee=new Promise((te,Ke)=>setTimeout(()=>Ke(new Error("Auth listener timeout")),3e3)),Le=ww(),$e=await Promise.race([Le,Ee]),{user:Be,profile:Re,error:fe}=$e;if(Be){const te={id:Be.id,email:Be.email||"",firstName:(Re==null?void 0:Re.first_name)||((O=Be.user_metadata)==null?void 0:O.first_name)||"",lastName:(Re==null?void 0:Re.last_name)||((W=Be.user_metadata)==null?void 0:W.last_name)||"",gender:(Re==null?void 0:Re.gender)||((Y=Be.user_metadata)==null?void 0:Y.gender)||"male",birthDate:(Re==null?void 0:Re.birth_date)||((le=Be.user_metadata)==null?void 0:le.birth_date)||"",country:(Re==null?void 0:Re.country)||((ie=Be.user_metadata)==null?void 0:ie.country)||"",city:(Re==null?void 0:Re.city)||((oe=Be.user_metadata)==null?void 0:oe.city)||"",bio:(Re==null?void 0:Re.bio)||"",interests:(Re==null?void 0:Re.interests)||[],profession:(Re==null?void 0:Re.profession)||"",languages:(Re==null?void 0:Re.languages)||[],photos:(Re==null?void 0:Re.photos)||[],verified:(Re==null?void 0:Re.verified)||!1,premium:(Re==null?void 0:Re.premium)||!1,coins:(Re==null?void 0:Re.coins)||0,role:(Re==null?void 0:Re.role)||"user",createdAt:(Re==null?void 0:Re.created_at)||Be.created_at||"",chatSubscription:(Re==null?void 0:Re.chat_subscription)||void 0};console.log("👤 [AUTH_LISTENER] Setting user state from session:",te.email),s(te),console.log("✅ [AUTH_LISTENER] User state set successfully")}else{const te={id:I.user.id,email:I.user.email||"",firstName:((Z=I.user.user_metadata)==null?void 0:Z.first_name)||"",lastName:((B=I.user.user_metadata)==null?void 0:B.last_name)||"",gender:((X=I.user.user_metadata)==null?void 0:X.gender)||"male",birthDate:((J=I.user.user_metadata)==null?void 0:J.birth_date)||"",country:((P=I.user.user_metadata)==null?void 0:P.country)||"",city:((H=I.user.user_metadata)==null?void 0:H.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:I.user.created_at||"",chatSubscription:void 0};s(te)}}catch{console.warn("⚠️ [AUTH_LISTENER] Timeout getting user data, using session fallback");const Le={id:I.user.id,email:I.user.email||"",firstName:((Q=I.user.user_metadata)==null?void 0:Q.first_name)||"",lastName:((G=I.user.user_metadata)==null?void 0:G.last_name)||"",gender:((ae=I.user.user_metadata)==null?void 0:ae.gender)||"male",birthDate:((xe=I.user.user_metadata)==null?void 0:xe.birth_date)||"",country:((we=I.user.user_metadata)==null?void 0:we.country)||"",city:((de=I.user.user_metadata)==null?void 0:de.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:I.user.created_at||"",chatSubscription:void 0};s(Le)}}else K==="SIGNED_OUT"?(console.log("👋 [AUTH_LISTENER] User signed out"),s(null)):K==="TOKEN_REFRESHED"&&(I!=null&&I.user)&&(console.log("🔄 [AUTH_LISTENER] Token refreshed"),(!t||t.id!==I.user.id)&&(console.log("🔄 [AUTH_LISTENER] Refreshing user data after token refresh"),p()))}),L=setInterval(async()=>{if(!l){console.log("📴 [SESSION_REFRESH] Offline, skipping session check");return}try{const{data:{session:K}}=await Fe.auth.getSession();!K&&t&&(console.log("⚠️ [SESSION_REFRESH] Session lost, clearing user"),s(null))}catch(K){console.warn("⚠️ [SESSION_REFRESH] Error checking session:",K)}},10*60*1e3),$=async()=>{if(!l){console.log("📴 [WINDOW_FOCUS] Offline, skipping focus check");return}try{const{data:{session:K}}=await Fe.auth.getSession();!K&&t&&(console.log("🔄 [WINDOW_FOCUS] Session lost on tab return, clearing user"),s(null))}catch(K){console.warn("⚠️ [WINDOW_FOCUS] Error checking session on focus:",K)}};return window.addEventListener("focus",$),()=>{M.subscription.unsubscribe(),clearInterval(L),window.removeEventListener("focus",$)}},[d,n,t==null?void 0:t.id,l]);const x=async(M,L,$)=>{try{i(!0);const{error:K}=await b7(M,L,$);return K?(console.error("Sign up error in context:",K),K&&typeof K=="object"&&"message"in K&&typeof K.message=="string"&&K.message.includes("Database error")?{error:new Error("Database setup issue. Please contact support or try again later.")}:{error:K}):{error:null}}catch(K){return console.error("Error in sign up:",K),o(K),{error:K}}finally{i(!1)}},j=async(M,L,$=!0)=>{var K,I,O,W,Y,le;if(console.log("🏁 [CONTEXT] handleSignIn called"),console.log("📧 [CONTEXT] Email:",M),console.log("🔐 [CONTEXT] Remember me:",$),n)return console.log("⚠️ [CONTEXT] Already loading, ignoring duplicate call"),{error:new Error("Login already in progress")};try{console.log("⏳ [CONTEXT] Setting loading to true..."),i(!0),console.log("🔄 [CONTEXT] Calling signIn function...");const{error:ie}=await w7(M,L,$);if(console.log("✅ [CONTEXT] signIn function returned"),console.log("❌ [CONTEXT] Error present:",!!ie),ie)console.log("❌ [CONTEXT] SignIn error details:",ie);else{console.log("✅ [CONTEXT] SignIn successful, updating user state...");try{const{data:{session:oe}}=await Fe.auth.getSession();if(oe!=null&&oe.user){console.log("✅ [CONTEXT] Session found after login, creating user object...");const Z={id:oe.user.id,email:oe.user.email||"",firstName:((K=oe.user.user_metadata)==null?void 0:K.first_name)||"",lastName:((I=oe.user.user_metadata)==null?void 0:I.last_name)||"",gender:((O=oe.user.user_metadata)==null?void 0:O.gender)||"male",birthDate:((W=oe.user.user_metadata)==null?void 0:W.birth_date)||"",country:((Y=oe.user.user_metadata)==null?void 0:Y.country)||"",city:((le=oe.user.user_metadata)==null?void 0:le.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:oe.user.created_at||"",chatSubscription:void 0};s(Z),u(!0),console.log("✅ [CONTEXT] User state updated after login")}}catch(oe){console.warn("⚠️ [CONTEXT] Error updating user state after login:",oe)}}return console.log("🏁 [CONTEXT] Returning from handleSignIn"),{error:ie}}catch(ie){return console.error("❌ [CONTEXT] Exception in handleSignIn:",ie),o(ie),{error:ie}}finally{console.log("🔄 [CONTEXT] Setting loading to false..."),i(!1),console.log("✅ [CONTEXT] Loading set to false")}},N=async()=>{try{i(!0);const{error:M}=await N7();return M||s(null),{error:M}}catch(M){return console.error("Error in sign out:",M),o(M),{error:M}}finally{i(!1)}},y=async M=>{try{if(i(!0),!t)throw new Error("No user logged in");const{error:L}=await j7(t.id,M);return L||s($=>$?{...$,...M}:null),{error:L}}catch(L){return console.error("Error updating profile:",L),o(L),{error:L}}finally{i(!1)}},v=async M=>{try{if(i(!0),!t)throw new Error("No user logged in");const{url:L,error:$}=await S7(t.id,M);return!$&&L&&s(K=>{if(!K)return null;const I=[...K.photos||[],L];return{...K,photos:I}}),{url:L,error:$}}catch(L){return console.error("Error uploading profile photo:",L),o(L),{url:null,error:L}}finally{i(!1)}},b=async M=>{try{if(!t)throw new Error("No user logged in");const L=t.coins+M,{error:$}=await Fe.from("profiles").update({coins:L}).eq("id",t.id);if($)throw $;return s(K=>K?{...K,coins:L}:null),{error:null}}catch(L){return console.error("Error updating coins:",L),{error:L}}},k=async()=>{try{const{success:M,error:L,buckets:$}=await k7();return{success:M,error:L,buckets:$}}catch(M){return console.error("Error testing storage access:",M),{success:!1,error:M,buckets:[]}}},C=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin"||!1;console.log("🔍 [AUTH_CONTEXT] Admin check:",{userId:t==null?void 0:t.id,userRole:t==null?void 0:t.role,isAdmin:C,hasUser:!!t});const _={user:t,loading:n,error:a,isAdmin:C,signUp:x,signIn:j,signOut:N,updateProfile:y,uploadProfilePhoto:v,updateCoins:b,testStorageAccess:k};return r.jsx(k3.Provider,{value:_,children:e})}function Gr(){const e=E.useContext(k3);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function C7({id:e,title:t,message:s,type:n,duration:i=4e3,onClose:a}){const[o,l]=E.useState(!1),[c,d]=E.useState(i);E.useEffect(()=>{let p;return!o&&c>0&&(p=setTimeout(()=>{d(x=>{const j=x-100;return j<=0?(setTimeout(()=>a(e),0),0):j})},100)),()=>clearTimeout(p)},[o,c,e,a]);const u=()=>{switch(n){case"success":return r.jsx(jr,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(po,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(wl,{className:"h-5 w-5 text-yellow-500"});case"info":return r.jsx(F4,{className:"h-5 w-5 text-blue-500"})}},f=()=>{switch(n){case"success":return"border-l-green-500";case"error":return"border-l-red-500";case"warning":return"border-l-yellow-500";case"info":return"border-l-blue-500"}},m=c/i*100;return r.jsxs("div",{className:`bg-white border-l-4 ${f()} rounded-lg shadow-lg p-4 mb-3 animate-slide-in-right max-w-sm relative overflow-hidden`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[u(),r.jsxs("div",{className:"flex-1 min-w-0",children:[t&&r.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:t}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:s})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-100",onClick:()=>a(e),children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200",children:r.jsx("div",{className:`h-full transition-all duration-100 ease-linear ${n==="success"?"bg-green-500":n==="error"?"bg-red-500":n==="warning"?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${m}%`}})})]})}function n1({toasts:e,onClose:t}){return e.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-[60] space-y-2",children:e.map(s=>r.jsx(C7,{...s,onClose:t},s.id))})}function Qh(){const[e,t]=E.useState([]),s=c=>{const d=Date.now().toString();t(u=>[...u,{...c,id:d}])};return{toasts:e,addToast:s,removeToast:c=>{t(d=>d.filter(u=>u.id!==c))},success:(c,d)=>{s({type:"success",message:c,title:d})},error:(c,d)=>{s({type:"error",message:c,title:d})},warning:(c,d)=>{s({type:"warning",message:c,title:d})},info:(c,d)=>{s({type:"info",message:c,title:d})}}}function _3({profile:e,onMessage:t,showMessageButton:s=!0,showLikeButton:n=!0,className:i=""}){const[a,o]=E.useState(0),[l,c]=E.useState(()=>cp(e.id)),{user:d}=Gr(),u=Qh(),f=Dr(),m=E.useMemo(()=>e.birthDate?new Date().getFullYear()-new Date(e.birthDate).getFullYear():0,[e.birthDate]);E.useEffect(()=>{c(cp(e.id))},[e.id]);const p=()=>{f(`/profile/${e.id}`)},x=v=>{v.stopPropagation(),o(b=>b===0?e.photos.length-1:b-1)},j=v=>{v.stopPropagation(),o(b=>b===e.photos.length-1?0:b+1)},N=v=>{v.stopPropagation(),l?S3(e.id):j3(e),c(!l)},y=v=>{if(v.stopPropagation(),!d){u.error("Please sign in to start messaging","Authentication Required"),setTimeout(()=>{window.location.href="/lcn/login"},1500);return}t&&t(e)};return r.jsxs(bs,{className:`overflow-hidden hover-lift group animate-fade-in cursor-pointer ${i}`,onClick:p,children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsxs("div",{className:"transition-transform duration-500 group-hover:scale-105",children:[e.photos&&e.photos.length>0&&e.photos[a]?r.jsx("img",{src:e.photos[a],alt:`${e.firstName}'s profile`,className:`w-full ${i?"h-[70vh]":"h-96"} object-cover`}):r.jsx("div",{className:`w-full ${i?"h-[70vh]":"h-96"} bg-gray-200 flex items-center justify-center`,children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("p",{className:"text-lg font-medium",children:"No Photo"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Photo not available"})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6 text-white",children:r.jsx("div",{className:"flex items-end justify-between",children:r.jsxs("div",{className:"transform transition-transform duration-300 group-hover:translate-y-[-2px]",children:[r.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[e.firstName,", ",m]}),r.jsx("p",{className:"text-white/90 text-sm flex items-center gap-1",children:r.jsxs("span",{children:[e.city,", ",e.country]})})]})})})]}),e.photos&&e.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full p-2 hover:bg-white hover:scale-110 transition-all duration-200 opacity-0 group-hover:opacity-100",onClick:x,children:r.jsx(Ah,{className:"h-4 w-4 text-gray-700"})}),r.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full p-2 hover:bg-white hover:scale-110 transition-all duration-200 opacity-0 group-hover:opacity-100",onClick:j,children:r.jsx(Eh,{className:"h-4 w-4 text-gray-700"})}),r.jsx("div",{className:"absolute top-4 left-0 right-0 flex justify-center gap-1",children:e.photos.map((v,b)=>r.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${b===a?"w-8 bg-white shadow-lg":"w-2 bg-white/60 hover:bg-white/80"}`},b))})]}),e.verified&&r.jsx("div",{className:"absolute top-4 right-4 animate-bounce-subtle",children:r.jsxs(zs,{variant:"verified",className:"flex items-center gap-1 shadow-lg",children:[r.jsx(ps,{className:"h-3 w-3"}),r.jsx("span",{children:"Verified"})]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-700 line-clamp-2 mb-4 leading-relaxed",children:e.bio}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 stagger-animation",children:[e.interests.slice(0,3).map((v,b)=>r.jsx(zs,{variant:"secondary",className:"text-xs hover:bg-primary-100 hover:text-primary-700 transition-colors duration-200",children:v},b)),e.interests.length>3&&r.jsxs(zs,{variant:"outline",className:"text-xs hover:bg-gray-100 transition-colors duration-200",children:["+",e.interests.length-3," more"]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[n&&r.jsxs(Me,{variant:"outline",size:"sm",className:`flex-1 gap-2 ${l?"bg-rose-500 text-white ":"hover:bg-primary-50  hover:border-primary-300"} transition-all duration-200`,onClick:N,children:[r.jsx(qs,{className:`h-4 w-4 transition-all duration-200 ${l?"fill-current":""}`}),r.jsx("span",{children:l?"Liked":"Like"})]}),s&&t&&r.jsxs(Me,{variant:"default",size:"sm",className:"flex-1 gap-2 hover:shadow-lg hover:scale-[1.02] transition-all duration-200",onClick:y,children:[r.jsx(Ns,{className:"h-4 w-4"}),r.jsx("span",{children:"Message"})]})]})]})]})}const dp=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:mn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));dp.displayName="Avatar";const up=E.forwardRef(({className:e,...t},s)=>r.jsx("img",{ref:s,className:mn("aspect-square h-full w-full",e),...t}));up.displayName="AvatarImage";const hp=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:mn("flex h-full w-full items-center justify-center rounded-full bg-slate-100 text-slate-950",e),...t}));hp.displayName="AvatarFallback";const C3=E.createContext(void 0);function A7({children:e}){const[t,s]=E.useState(!1),[n,i]=E.useState(null),a=l=>{i(l),s(!0)},o=()=>{s(!1),i(null)};return r.jsx(C3.Provider,{value:{showChatWindow:t,chatProfile:n,openChat:a,closeChat:o},children:e})}function Yp(){const e=E.useContext(C3);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e}function E7({senderName:e,senderPhoto:t,message:s,duration:n=6e3,onClose:i,onReply:a,onViewConversation:o}){var p;const[l,c]=E.useState(!1),[d,u]=E.useState(!1);E.useEffect(()=>{const x=setTimeout(()=>c(!0),100),j=setTimeout(()=>{f()},n);try{const N=new(window.AudioContext||window.webkitAudioContext),y=N.createOscillator(),v=N.createGain();y.connect(v),v.connect(N.destination),y.frequency.setValueAtTime(800,N.currentTime),y.frequency.setValueAtTime(600,N.currentTime+.1),v.gain.setValueAtTime(.05,N.currentTime),v.gain.exponentialRampToValueAtTime(.01,N.currentTime+.15),y.start(N.currentTime),y.stop(N.currentTime+.15)}catch{}return"Notification"in window&&Notification.permission==="granted"&&new Notification(`${e}`,{body:s.length>50?s.substring(0,50)+"...":s,icon:t||"/default-avatar.png",tag:"chat-message",requireInteraction:!1}),()=>{clearTimeout(x),clearTimeout(j)}},[n,e,s,t]);const f=()=>{u(!0),setTimeout(()=>{c(!1),i==null||i()},200)},m=()=>{o==null||o(),f()};return!l&&!d?null:r.jsxs("div",{className:`fixed top-4 right-4 z-50 w-80 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden cursor-pointer transition-all duration-200 ease-out ${l&&!d?"translate-y-0 opacity-100 scale-100":"-translate-y-2 opacity-0 scale-95"}`,onClick:m,children:[r.jsx("div",{className:"p-3",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[t?r.jsx("img",{src:t,alt:`${e}'s profile`,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:(p=e[0])==null?void 0:p.toUpperCase()})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border border-white rounded-full"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:e}),r.jsx("button",{onClick:x=>{x.stopPropagation(),f()},className:"p-0.5 rounded-full hover:bg-gray-100 transition-colors ml-2",children:r.jsx(kr,{className:"w-3 h-3 text-gray-400"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-0.5 line-clamp-2",children:s.length>60?s.substring(0,60)+"...":s})]})]})}),r.jsx("div",{className:"h-0.5 bg-gray-100",children:r.jsx("div",{className:"h-full bg-gray-400",style:{width:"100%",animation:`progressShrink ${n}ms linear forwards`}})}),r.jsx("style",{children:`
          @keyframes progressShrink {
            from { width: 100%; }
            to { width: 0%; }
          }
          .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }
        `})]})}const A3=E.createContext(void 0);function P7({children:e}){const{user:t}=Gr(),{openChat:s}=Yp(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(null),d=a.reduce((v,b)=>v+b.unreadCount,0),u=E.useCallback(v=>l===v,[l]),f=E.useCallback(v=>{o(b=>b.filter(k=>k.senderId!==v)),i(b=>b.filter(k=>k.senderId!==v))},[]),m=E.useCallback(v=>{c(v),v&&f(v)},[f]),p=E.useCallback(v=>{u(v.senderId)||(o(b=>{const k=b.findIndex(C=>C.senderId===v.senderId);if(k>=0){const C=[...b];return C[k]={...C[k],unreadCount:C[k].unreadCount+1,lastMessage:v.message,lastMessageTime:v.timestamp},C}else{const C={senderId:v.senderId,senderName:v.senderName,senderPhoto:v.senderPhoto,unreadCount:1,lastMessage:v.message,lastMessageTime:v.timestamp};return[...b,C]}}),i(b=>{const k=b.filter(_=>_.id!==v.id);return[v,...k].slice(0,3)}))},[u]),x=E.useCallback(v=>{i(b=>b.filter(k=>k.id!==v))},[]),j=E.useCallback(()=>{i([])},[]),N=E.useCallback(async v=>{try{console.log("🔔 [NOTIFICATION] Opening chat for sender:",v);const b=window.testProfiles;if(b&&b[v]){console.log("🔔 [NOTIFICATION] Using test profile"),s(b[v]);return}const{data:k,error:C}=await Fe.from("profiles").select("*").eq("id",v).single();if(C){console.error("Error fetching sender profile:",C),window.location.href=`/browse?openChat=${v}`;return}if(k){const _={id:k.id,userId:k.id,firstName:k.first_name,lastName:k.last_name,gender:k.gender,birthDate:k.birth_date,country:k.country,city:k.city,bio:k.bio,interests:k.interests||[],profession:k.profession,languages:k.languages||[],photos:k.photos||[],verified:k.verified||!1,createdAt:k.created_at,height:k.height,weight:k.weight,eyeColor:k.eye_color,hairColor:k.hair_color,appearanceType:k.appearance_type,alcohol:k.alcohol,smoking:k.smoking,children:k.children,religion:k.religion,zodiacSign:k.zodiac_sign,englishLevel:k.english_level,hasIntroVideo:k.has_intro_video||!1,isOnline:k.is_online||!1,hasVideo:k.has_video||!1,hasCameraOn:k.has_camera_on||!1,birthdaySoon:!1,newProfile:!1,top1000:!1};console.log("🔔 [NOTIFICATION] Opening ChatWindow with profile:",_.firstName),s(_)}}catch(b){console.error("Error opening chat from notification:",b),window.location.href=`/browse?openChat=${v}`}},[s]);E.useEffect(()=>{if(!(t!=null&&t.id))return;if(console.log("🔔 [MESSAGE-NOTIFICATIONS] Setting up real-time message notifications for user:",t.id),!navigator.onLine){console.log("📴 [MESSAGE-NOTIFICATIONS] Device is offline, skipping real-time setup");return}"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then($=>{console.log("🔔 [MESSAGE-NOTIFICATIONS] Notification permission:",$)});let v=null,b=0;const k=3;let C=null;const _=()=>{try{v=Fe.channel(`message_notifications_${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},async $=>{var I;console.log("🔔 [MESSAGE-NOTIFICATIONS] New message received:",$);const K=$.new;if(K.sender_id!==t.id){if(u(K.sender_id)){console.log("🔔 [MESSAGE-NOTIFICATIONS] User is in active chat, skipping notification");return}try{const O=Fe.from("profiles").select("id, first_name, last_name, photos").eq("id",K.sender_id).single(),W=new Promise((B,X)=>setTimeout(()=>X(new Error("Profile fetch timeout")),3e3)),{data:Y,error:le}=await Promise.race([O,W]);if(le){console.warn("🔔 [MESSAGE-NOTIFICATIONS] Error fetching sender profile:",le);const B={id:K.id,senderName:"Someone",message:K.content,senderId:K.sender_id,timestamp:K.created_at};p(B);return}const ie=Y?`${Y.first_name} ${Y.last_name}`.trim():"Someone",oe=(I=Y==null?void 0:Y.photos)==null?void 0:I[0],Z={id:K.id,senderName:ie,senderPhoto:oe,message:K.content,senderId:K.sender_id,timestamp:K.created_at};console.log("🔔 [MESSAGE-NOTIFICATIONS] Adding notification:",Z),p(Z)}catch(O){console.error("🔔 [MESSAGE-NOTIFICATIONS] Error processing notification:",O);const W={id:K.id,senderName:"Someone",message:K.content,senderId:K.sender_id,timestamp:K.created_at};p(W)}}}).subscribe($=>{if(console.log("🔔 [MESSAGE-NOTIFICATIONS] Subscription status:",$),$==="SUBSCRIBED")console.log("✅ [MESSAGE-NOTIFICATIONS] Successfully subscribed to real-time messages"),b=0;else if($==="CHANNEL_ERROR"||$==="TIMED_OUT")if(console.warn("⚠️ [MESSAGE-NOTIFICATIONS] Subscription error, attempting to reconnect..."),b<k&&navigator.onLine){b++;const K=Math.min(1e3*Math.pow(2,b-1),1e4);console.log(`🔄 [MESSAGE-NOTIFICATIONS] Reconnect attempt ${b}/${k} in ${K}ms`),C=setTimeout(()=>{v&&Fe.removeChannel(v),_()},K)}else console.error("❌ [MESSAGE-NOTIFICATIONS] Max reconnection attempts reached or offline");else $==="CLOSED"&&console.log("🔌 [MESSAGE-NOTIFICATIONS] Subscription closed")})}catch($){console.error("❌ [MESSAGE-NOTIFICATIONS] Error setting up subscription:",$)}};_();const M=()=>{console.log("🌐 [MESSAGE-NOTIFICATIONS] Back online, reconnecting..."),b=0,v&&Fe.removeChannel(v),_()},L=()=>{console.log("📴 [MESSAGE-NOTIFICATIONS] Gone offline, pausing real-time notifications"),C&&(clearTimeout(C),C=null)};return window.addEventListener("online",M),window.addEventListener("offline",L),()=>{console.log("🔔 [MESSAGE-NOTIFICATIONS] Cleaning up message notification subscription"),C&&clearTimeout(C),v&&Fe.removeChannel(v),window.removeEventListener("online",M),window.removeEventListener("offline",L)}},[t==null?void 0:t.id,p,u]),E.useEffect(()=>{const v=setInterval(()=>{const b=Date.now()-3e5;i(k=>k.filter(C=>new Date(C.timestamp).getTime()>b))},6e4);return()=>clearInterval(v)},[]);const y={notifications:n,unreadConversations:a,totalUnreadCount:d,addNotification:p,removeNotification:x,clearAllNotifications:j,markConversationAsRead:f,isInActiveChat:u,setActiveChat:m};return r.jsxs(A3.Provider,{value:y,children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:n.map((v,b)=>r.jsx("div",{style:{transform:`translateY(${b*10}px)`,zIndex:50-b},children:r.jsx(E7,{senderName:v.senderName,senderPhoto:v.senderPhoto,message:v.message,duration:8e3,onClose:()=>x(v.id),onReply:()=>N(v.senderId),onViewConversation:()=>N(v.senderId)})},v.id))})]})}function i1(){const e=E.useContext(A3);if(e===void 0)throw new Error("useMessageNotifications must be used within a MessageNotificationProvider");return e}function js(){var K,I,O,W;const[e,t]=E.useState(!1),[s,n]=E.useState(!1),i=Dr(),{user:a,signOut:o,isAdmin:l}=Gr(),{openChat:c}=Yp(),{totalUnreadCount:d}=i1();oa();const u=Qh(),[f,m]=E.useState("checking"),[p,x]=E.useState(!1),[j,N]=E.useState(null),[y,v]=E.useState(navigator.onLine),b=E.useRef(null),k=E.useRef(null),C=()=>{t(!e),e&&n(!1)},_=()=>{n(!s)},M=async()=>{await o(),i("/login")},L=()=>{if(!a){u.error("Please sign in to start messaging"),i("/login");return}const Y={id:"6a4dc632-6e3f-42a6-91b6-0644ff94c864",userId:"6a4dc632-6e3f-42a6-91b6-0644ff94c864",firstName:"Elena",lastName:"Volkov",gender:"female",country:"Ukraine",city:"Kyiv",photos:["https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400"],bio:"Looking for meaningful connections and someone to share life adventures with.",profession:"Designer",interests:["Travel","Art","Cooking"],languages:["Ukrainian","English","Russian"],verified:!0,birthDate:"1995-05-15",height:165,children:"No children",smoking:"Non-smoker",religion:"Christian",createdAt:new Date().toISOString()};c(Y),t(!1)};E.useEffect(()=>{const Y=()=>{var ie;try{const oe="https://bnhvcnbsxjrgdhhxdrpa.supabase.co",B=`sb-${(ie=oe==null?void 0:oe.split("//")[1])==null?void 0:ie.split(".")[0]}-auth-token`,X=localStorage.getItem(B);if(X){const J=JSON.parse(X);if(J&&J.access_token){x(!0),m("active"),J.user&&N(J.user),console.log("✅ [NAVBAR] Session found in localStorage, user connected immediately");return}}x(!1),N(null),m("lost"),console.log("❌ [NAVBAR] No session found in localStorage")}catch(oe){console.error("❌ [NAVBAR] Error checking localStorage session:",oe),x(!1),N(null),m("lost")}};Y();const le=ie=>{ie.key&&ie.key.includes("auth-token")&&(console.log("🔄 [NAVBAR] localStorage changed, rechecking session"),Y())};return window.addEventListener("storage",le),a&&(x(!0),m("active")),()=>{window.removeEventListener("storage",le)}},[a]),E.useEffect(()=>{const Y=()=>{v(!0),console.log("🌐 [NAVBAR] Network is back online")},le=()=>{v(!1),console.log("📴 [NAVBAR] Network went offline")};return window.addEventListener("online",Y),window.addEventListener("offline",le),()=>{window.removeEventListener("online",Y),window.removeEventListener("offline",le)}},[]),E.useEffect(()=>{const Y=le=>{b.current&&!b.current.contains(le.target)&&t(!1),k.current&&!k.current.contains(le.target)&&n(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const $=a||j;return r.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white/95 backdrop-blur-md border-b border-gray-100 transition-all duration-300",children:[r.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(it,{to:"/",className:"flex items-center gap-2 group",children:[r.jsx(qs,{className:"h-6 w-6 text-rose-500 fill-rose-500 group-hover:scale-110 transition-transform duration-200"}),r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-rose-500 to-pink-600 bg-clip-text text-transparent",children:"PureLove"})]})}),r.jsxs("nav",{className:"hidden lg:flex items-center gap-8",children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1 cursor-pointer",children:["Brides",r.jsx($d,{className:"h-3 w-3"})]}),r.jsx("div",{className:"absolute left-0 mt-2 w-64 rounded-xl shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:r.jsxs("div",{className:"py-2",children:[r.jsxs(it,{to:"/browse?country=ukraine",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇺🇦"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Ukrainian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Beautiful women from Ukraine"})]})]}),r.jsxs(it,{to:"/browse?country=russia",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇷🇺"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Russian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Elegant women from Russia"})]})]}),r.jsxs(it,{to:"/browse?country=belarus",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇧🇾"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Belarusian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Charming women from Belarus"})]})]}),r.jsxs(it,{to:"/browse?country=poland",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇵🇱"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Polish Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Amazing women from Poland"})]})]}),r.jsxs(it,{to:"/browse?country=kazakhstan",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇰🇿"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Kazakhstani Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Wonderful women from Kazakhstan"})]})]}),r.jsxs(it,{to:"/browse?country=czech",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇨🇿"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Czech Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Lovely women from Czech Republic"})]})]}),r.jsxs(it,{to:"/browse?country=romania",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇷🇴"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Romanian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Gorgeous women from Romania"})]})]}),r.jsxs(it,{to:"/browse?country=bulgaria",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇧🇬"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Bulgarian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Beautiful women from Bulgaria"})]})]}),r.jsxs(it,{to:"/browse?country=latvia",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇱🇻"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Latvian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Stunning women from Latvia"})]})]}),r.jsxs(it,{to:"/browse?country=lithuania",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:"🇱🇹"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Lithuanian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Attractive women from Lithuania"})]})]})]})})]}),r.jsx(it,{to:"/browse",className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1",children:"Browse"}),r.jsx(it,{to:"/pricing",className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1",children:"Pricing"}),r.jsx("button",{onClick:L,className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1 flex items-center gap-1",children:"Live Chat"}),r.jsx(it,{to:"/blog",className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1",children:"Blog"})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-4",children:$?r.jsxs(r.Fragment,{children:[r.jsxs(Me,{onClick:L,variant:"ghost",size:"icon",className:"relative hover:scale-110 transition-transform duration-200",children:[r.jsx(Ns,{className:"h-5 w-5 text-gray-600"}),d>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-rose-500 text-[10px] text-white flex items-center justify-center animate-pulse",children:d>99?"99+":d})]}),r.jsxs(zs,{variant:"secondary",className:"font-medium text-sm px-3 py-1 bg-gradient-to-r from-yellow-50 to-amber-50 text-amber-700 border-amber-200 hover:from-yellow-100 hover:to-amber-100 transition-all duration-200",children:[r.jsx(Jn,{className:"h-4 w-4 mr-1 text-amber-600"}),$.coins||0]}),!y&&r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-red-50 border border-red-200 text-red-700",children:[r.jsx(Xb,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Offline"})]}),r.jsx(it,{to:"/dashboard",children:r.jsxs(Me,{variant:"ghost",className:"flex items-center gap-2 text-gray-600 hover:text-rose-600 hover:bg-rose-50",children:[r.jsx(Kb,{className:"h-4 w-4"}),"Dashboard"]})}),l&&r.jsx(it,{to:"/admin",children:r.jsxs(Me,{variant:"ghost",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 hover:bg-red-50",children:[r.jsx(sa,{className:"h-4 w-4"}),"Admin"]})}),r.jsx(it,{to:"/dashboard",children:r.jsx(Me,{variant:"ghost",size:"icon",className:"rounded-full",children:r.jsxs(dp,{children:[r.jsx(up,{src:((K=$.photos)==null?void 0:K[0])||"https://danielschule.de/wp-content/uploads/2019/12/avatar.jpg"}),r.jsx(hp,{children:((I=$.firstName)==null?void 0:I.charAt(0))||"U"})]})})})]}):r.jsxs(r.Fragment,{children:[r.jsx(it,{to:"/login",children:r.jsx(Me,{variant:"ghost",className:"text-gray-600 hover:text-rose-600 hover:bg-rose-50",children:"Sign In"})}),r.jsx(it,{to:"/signup",children:r.jsx(Me,{className:"bg-rose-500 hover:bg-rose-600 text-white px-6",children:"Join Now"})})]})}),r.jsx("button",{className:"lg:hidden",onClick:C,children:e?r.jsx(kr,{className:"h-6 w-6 text-gray-600"}):r.jsx(sE,{className:"h-6 w-6 text-gray-600"})})]}),e&&r.jsx("div",{className:"lg:hidden border-t animate-fade-in bg-white/95 backdrop-blur-md",children:r.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[r.jsxs("nav",{className:"flex flex-col space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:_,className:"flex items-center justify-between w-full text-sm  text-gray-800 py-1 hover:text-rose-600 transition-colors",children:[r.jsx("div",{className:"flex items-center gap-2",children:"Brides"}),r.jsx($d,{className:`h-4 w-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&r.jsxs("div",{className:"ml-6 space-y-2 animate-fade-in",children:[r.jsxs(it,{to:"/browse?country=ukraine",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇺🇦"})," Ukrainian Brides"]}),r.jsxs(it,{to:"/browse?country=russia",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇷🇺"})," Russian Brides"]}),r.jsxs(it,{to:"/browse?country=belarus",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇧🇾"})," Belarusian Brides"]}),r.jsxs(it,{to:"/browse?country=poland",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇵🇱"})," Polish Brides"]}),r.jsxs(it,{to:"/browse?country=kazakhstan",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇰🇿"})," Kazakhstani Brides"]}),r.jsxs(it,{to:"/browse?country=czech",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇨🇿"})," Czech Brides"]}),r.jsxs(it,{to:"/browse?country=romania",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇷🇴"})," Romanian Brides"]}),r.jsxs(it,{to:"/browse?country=bulgaria",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇧🇬"})," Bulgarian Brides"]}),r.jsxs(it,{to:"/browse?country=latvia",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇱🇻"})," Latvian Brides"]}),r.jsxs(it,{to:"/browse?country=lithuania",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:C,children:[r.jsx("span",{children:"🇱🇹"})," Lithuanian Brides"]})]})]}),r.jsx(it,{to:"/browse",className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2",onClick:C,children:"Browse All Profiles"}),r.jsx(it,{to:"/pricing",className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2",onClick:C,children:"Pricing"}),r.jsx("button",{onClick:L,className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2 flex items-center gap-2",children:"Live Chat"}),r.jsx(it,{to:"/blog",className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2",onClick:C,children:"Blog"})]}),$?r.jsxs("div",{className:"flex flex-col space-y-4 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(dp,{className:"h-8 w-8",children:[r.jsx(up,{src:((O=$.photos)==null?void 0:O[0])||"https://danielschule.de/wp-content/uploads/2019/12/avatar.jpg"}),r.jsx(hp,{children:((W=$.firstName)==null?void 0:W.charAt(0))||"U"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[$.firstName," ",$.lastName]}),r.jsx("p",{className:"text-xs text-gray-500",children:$.email}),!y&&r.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-xs mt-1",children:[r.jsx(Xb,{className:"h-3 w-3"}),r.jsx("span",{children:"Offline"})]})]})]}),r.jsxs(zs,{variant:"secondary",className:"font-medium",children:[$.coins||0," Coins"]})]}),r.jsxs(it,{to:"/dashboard",className:"flex items-center gap-2",onClick:C,children:[r.jsx(Kb,{className:"h-5 w-5"}),r.jsx("span",{children:"Dashboard"})]}),l&&r.jsxs(it,{to:"/admin",className:"flex items-center gap-2 text-red-600",onClick:C,children:[r.jsx(sa,{className:"h-5 w-5"}),r.jsx("span",{children:"Admin Panel"})]}),r.jsxs("button",{onClick:L,className:"flex items-center gap-2 w-full text-left",children:[r.jsx(Ns,{className:"h-5 w-5"}),r.jsx("span",{children:"Messages"}),d>0&&r.jsx("span",{className:"ml-auto h-5 w-5 rounded-full bg-rose-500 text-[10px] text-white flex items-center justify-center",children:d>99?"99+":d})]}),r.jsxs("button",{onClick:()=>{M(),C()},className:"flex items-center gap-2 text-red-600",children:[r.jsx(Wv,{className:"h-5 w-5"}),r.jsx("span",{children:"Sign Out"})]})]}):r.jsxs("div",{className:"flex flex-col space-y-3 pt-6 border-t border-gray-200",children:[r.jsx(it,{to:"/login",onClick:C,children:r.jsx(Me,{variant:"outline",className:"w-full text-gray-600 border-gray-300 hover:text-rose-600 hover:border-rose-300",children:"Sign In"})}),r.jsx(it,{to:"/signup",onClick:C,children:r.jsx(Me,{className:"w-full bg-rose-500 hover:bg-rose-600 text-white",children:"Join Now"})})]})]})})]})}function yr(){return r.jsx("footer",{className:"bg-white border-t",children:r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(qs,{className:"h-6 w-6 text-primary-500 fill-primary-500"}),r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent",children:"PureLove"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Connecting Western men with Eastern European and Central Asian women for meaningful relationships."}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(it,{to:"/browse",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Browse Profiles"})}),r.jsx("li",{children:r.jsx(it,{to:"/messages",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Messages"})}),r.jsx("li",{children:r.jsx(it,{to:"/blog",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Dating Blog"})}),r.jsx("li",{children:r.jsx(it,{to:"/success-stories",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Success Stories"})}),r.jsx("li",{children:r.jsx(it,{to:"/pricing",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Pricing"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Information"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(it,{to:"/about",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx(it,{to:"/how-it-works",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"How It Works"})}),r.jsx("li",{children:r.jsx(it,{to:"/safety",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Safety Tips"})}),r.jsx("li",{children:r.jsx(it,{to:"/faq",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"FAQ"})}),r.jsx("li",{children:r.jsx(it,{to:"/contact",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Contact Us"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(it,{to:"/terms",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx(it,{to:"/privacy",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(it,{to:"/cookie-policy",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Cookie Policy"})}),r.jsx("li",{children:r.jsx(it,{to:"/imbra",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"IMBRA Compliance"})}),r.jsx("li",{children:r.jsx(it,{to:"/anti-scam",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Anti-Scam Policy"})})]})]})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t text-center text-gray-600",children:[r.jsxs("p",{children:["© ",new Date().getFullYear()," PureLove. All rights reserved."]}),r.jsx("p",{className:"mt-2 text-sm",children:"PureLove is committed to ensuring a safe and authentic dating experience. We comply with all international dating regulations including IMBRA."})]})]})})}const $s=E.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:mn("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));$s.displayName="Input";function T7({id:e,title:t,message:s,type:n="warning",confirmText:i="Confirm",cancelText:a="Cancel",onConfirm:o,onCancel:l,onClose:c}){const d=()=>{switch(n){case"danger":return r.jsx(wl,{className:"h-6 w-6 text-red-500"});case"warning":return r.jsx(wl,{className:"h-6 w-6 text-yellow-500"});case"success":return r.jsx(jr,{className:"h-6 w-6 text-green-500"});case"info":return r.jsx(F4,{className:"h-6 w-6 text-blue-500"})}},u=()=>{switch(n){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"success":return"bg-green-600 hover:bg-green-700 text-white";case"info":return"bg-blue-600 hover:bg-blue-700 text-white"}},f=()=>{o(),c(e)},m=()=>{l(),c(e)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[d(),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:m,children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:s})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx(Me,{variant:"outline",onClick:m,className:"px-6",children:a}),r.jsx(Me,{onClick:f,className:`px-6 ${u()}`,children:i})]})]})})}function L7({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(T7,{...s,onClose:t})}function M7(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},confirm:(a,o,l,c=()=>{},d)=>{s({title:a,message:o,onConfirm:l,onCancel:c,type:(d==null?void 0:d.type)||"warning",confirmText:(d==null?void 0:d.confirmText)||"Confirm",cancelText:(d==null?void 0:d.cancelText)||"Cancel"})}}}const a1=E.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:mn("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));a1.displayName="Textarea";function I7({id:e,title:t,message:s,placeholder:n="",defaultValue:i="",multiline:a=!1,onConfirm:o,onCancel:l,onClose:c}){const[d,u]=E.useState(i),f=()=>{o(d),c(e)},m=()=>{l(),c(e)},p=x=>{x.key==="Enter"&&!a&&!x.shiftKey&&(x.preventDefault(),d.trim()&&f())};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ph,{className:"h-6 w-6 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:m,children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("p",{className:"text-gray-700 leading-relaxed",children:s}),a?r.jsx(a1,{value:d,onChange:x=>u(x.target.value),placeholder:n,className:"min-h-[100px] resize-none",autoFocus:!0}):r.jsx($s,{value:d,onChange:x=>u(x.target.value),onKeyPress:p,placeholder:n,autoFocus:!0})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx(Me,{variant:"outline",onClick:m,className:"px-6",children:"Cancel"}),r.jsx(Me,{onClick:f,disabled:!d.trim(),className:"px-6 bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]})]})})}function R7({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(I7,{...s,onClose:t})}function D7(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},prompt:(a,o,l,c=()=>{},d)=>{s({title:a,message:o,onConfirm:l,onCancel:c,placeholder:(d==null?void 0:d.placeholder)||"",defaultValue:(d==null?void 0:d.defaultValue)||"",multiline:(d==null?void 0:d.multiline)||!1})}}}function O7(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Nw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function E3(...e){return t=>{let s=!1;const n=e.map(i=>{const a=Nw(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Nw(e[i],null)}}}}function P3(...e){return E.useCallback(E3(...e),e)}function F7(e,t=[]){let s=[];function n(a,o){const l=E.createContext(o),c=s.length;s=[...s,o];const d=f=>{var y;const{scope:m,children:p,...x}=f,j=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,N=E.useMemo(()=>x,Object.values(x));return r.jsx(j.Provider,{value:N,children:p})};d.displayName=a+"Provider";function u(f,m){var j;const p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,x=E.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>E.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,B7(i,...t)]}function B7(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var T3=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},U7=bN[" useInsertionEffect ".trim().toString()]||T3;function z7({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,a,o]=$7({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:i;{const u=E.useRef(e!==void 0);E.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=E.useCallback(u=>{var f;if(l){const m=V7(u)?u(e):u;m!==e&&((f=o.current)==null||f.call(o,m))}else a(u)},[l,e,a,o]);return[c,d]}function $7({defaultProp:e,onChange:t}){const[s,n]=E.useState(e),i=E.useRef(s),a=E.useRef(t);return U7(()=>{a.current=t},[t]),E.useEffect(()=>{var o;i.current!==s&&((o=a.current)==null||o.call(a,s),i.current=s)},[s,i]),[s,n,a]}function V7(e){return typeof e=="function"}function q7(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function H7(e){const[t,s]=E.useState(void 0);return T3(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}function W7(e){const t=G7(e),s=E.forwardRef((n,i)=>{const{children:a,...o}=n,l=E.Children.toArray(a),c=l.find(Y7);if(c){const d=c.props.children,u=l.map(f=>f===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:f);return r.jsx(t,{...o,ref:i,children:E.isValidElement(d)?E.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}function G7(e){const t=E.forwardRef((s,n)=>{const{children:i,...a}=s;if(E.isValidElement(i)){const o=X7(i),l=J7(a,i.props);return i.type!==E.Fragment&&(l.ref=n?E3(n,o):o),E.cloneElement(i,l)}return E.Children.count(i)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var K7=Symbol("radix.slottable");function Y7(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K7}function J7(e,t){const s={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function X7(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Q7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L3=Q7.reduce((e,t)=>{const s=W7(`Primitive.${t}`),n=E.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Jp="Switch",[Z7,YB]=F7(Jp),[eL,tL]=Z7(Jp),M3=E.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,p]=E.useState(null),x=P3(t,b=>p(b)),j=E.useRef(!1),N=m?u||!!m.closest("form"):!0,[y,v]=z7({prop:i,defaultProp:a??!1,onChange:d,caller:Jp});return r.jsxs(eL,{scope:s,checked:y,disabled:l,children:[r.jsx(L3.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":O3(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:O7(e.onClick,b=>{v(k=>!k),N&&(j.current=b.isPropagationStopped(),j.current||b.stopPropagation())})}),N&&r.jsx(D3,{control:m,bubbles:!j.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});M3.displayName=Jp;var I3="SwitchThumb",R3=E.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,i=tL(I3,s);return r.jsx(L3.span,{"data-state":O3(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});R3.displayName=I3;var sL="SwitchBubbleInput",D3=E.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...i},a)=>{const o=E.useRef(null),l=P3(o,a),c=q7(s),d=H7(t);return E.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==s&&p){const x=new Event("click",{bubbles:n});p.call(u,s),u.dispatchEvent(x)}},[c,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D3.displayName=sL;function O3(e){return e?"checked":"unchecked"}var F3=M3,rL=R3;const Cn=E.forwardRef(({className:e,...t},s)=>r.jsx(F3,{className:mn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-500 data-[state=unchecked]:bg-gray-200",e),...t,ref:s,children:r.jsx(rL,{className:mn("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cn.displayName=F3.displayName;function nL({id:e,title:t,settings:s,onSave:n,onCancel:i,onClose:a}){const[o,l]=E.useState(s),c=()=>{n(o),a(e)},d=()=>{i(),a(e)},u=(f,m)=>{l(p=>({...p,[f]:m}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(sa,{className:"h-6 w-6 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:d,children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Hv,{className:"h-4 w-4"}),"Notifications"]}),r.jsxs("div",{className:"space-y-3 ml-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Receive notifications for new messages"})]}),r.jsx(Cn,{checked:o.notifications,onCheckedChange:f=>u("notifications",f)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message Preview"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Show message content in notifications"})]}),r.jsx(Cn,{checked:o.messagePreview,onCheckedChange:f=>u("messagePreview",f)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(U4,{className:"h-4 w-4"}),"Audio"]}),r.jsx("div",{className:"space-y-3 ml-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message Sounds"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Play sound when receiving messages"})]}),r.jsx(Cn,{checked:o.sounds,onCheckedChange:f=>u("sounds",f)})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ps,{className:"h-4 w-4"}),"Privacy"]}),r.jsxs("div",{className:"space-y-3 ml-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Read Receipts"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Let others know when you've read their messages"})]}),r.jsx(Cn,{checked:o.readReceipts,onCheckedChange:f=>u("readReceipts",f)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Online Status"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Show when you're online to other users"})]}),r.jsx(Cn,{checked:o.onlineStatus,onCheckedChange:f=>u("onlineStatus",f)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Ns,{className:"h-4 w-4"}),"Chat Management"]}),r.jsx("div",{className:"space-y-3 ml-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Auto Archive"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically archive inactive conversations"})]}),r.jsx(Cn,{checked:o.autoArchive,onCheckedChange:f=>u("autoArchive",f)})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx(Me,{variant:"outline",onClick:d,className:"px-6",children:"Cancel"}),r.jsx(Me,{onClick:c,className:"px-6 bg-blue-600 hover:bg-blue-700 text-white",children:"Save Settings"})]})]})})}function iL({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(nL,{...s,onClose:t})}function aL(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},openSettings:(a,o,l,c=()=>{})=>{s({title:a,settings:o,onSave:l,onCancel:c})}}}function oL({id:e,title:t,archivedConversations:s,onUnarchive:n,onDelete:i,onCancel:a,onClose:o}){const[l,c]=E.useState(""),d=()=>{a(),o(e)},u=x=>{n(x)},f=x=>{i(x)},m=x=>{const N=new Date().getTime()-x.getTime(),y=Math.floor(N/(1e3*60*60*24));return y===0?"Today":y===1?"Yesterday":y<7?`${y} days ago`:y<30?`${Math.floor(y/7)} weeks ago`:x.toLocaleDateString()},p=s.filter(x=>x.profile.firstName.toLowerCase().includes(l.toLowerCase())||x.lastMessage.toLowerCase().includes(l.toLowerCase()));return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[80vh] animate-scale-in flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vb,{className:"h-6 w-6 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r.jsx("span",{className:"bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded-full",children:s.length})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:d,children:r.jsx(kr,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx($s,{placeholder:"Search archived conversations...",value:l,onChange:x=>c(x.target.value),className:"pl-10"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:p.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[r.jsx(Vb,{className:"h-12 w-12 text-gray-300 mb-4"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.length===0?"No Archived Conversations":"No Results Found"}),r.jsx("p",{className:"text-gray-500 max-w-sm",children:s.length===0?"When you archive conversations, they will appear here. You can always unarchive them later.":"Try adjusting your search terms to find the conversation you're looking for."})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:p.map(x=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:x.profile.photos[0],alt:x.profile.firstName,className:"w-12 h-12 rounded-full object-cover"}),x.profile.verified&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:"✓"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:x.profile.firstName}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(_r,{className:"h-3 w-3"}),r.jsxs("span",{children:["Archived ",m(x.archivedAt)]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate mb-2",children:x.lastMessage}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:[x.messageCount," messages"]}),r.jsxs("span",{children:["Last: ",m(x.lastMessageTime)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-blue-50 hover:text-blue-600",onClick:()=>u(x.id),title:"Unarchive conversation",children:[r.jsx(uE,{className:"h-3 w-3 mr-1"}),"Unarchive"]}),r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-red-50 hover:text-red-600",onClick:()=>f(x.id),title:"Delete conversation permanently",children:[r.jsx(Ad,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]})]})},x.id))})}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Archived conversations are hidden from your main chat list but preserved."}),r.jsx(Me,{variant:"outline",onClick:d,className:"px-6",children:"Close"})]})})]})})}function lL({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(oL,{...s,onClose:t})}function cL(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},openArchive:(a,o,l,c,d=()=>{})=>{s({title:a,archivedConversations:o,onUnarchive:l,onDelete:c,onCancel:d})}}}const o1=E.createContext({});function l1(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const c1=typeof window<"u",B3=c1?E.useLayoutEffect:E.useEffect,Xp=E.createContext(null);function d1(e,t){e.indexOf(t)===-1&&e.push(t)}function u1(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const No=(e,t,s)=>s>t?t:s<e?e:s;let h1=()=>{};const jo={},U3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function z3(e){return typeof e=="object"&&e!==null}const $3=e=>/^0[^.\s]+$/u.test(e);function f1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Li=e=>e,dL=(e,t)=>s=>t(e(s)),Zh=(...e)=>e.reduce(dL),Ih=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class m1{constructor(){this.subscriptions=[]}add(t){return d1(this.subscriptions,t),()=>u1(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ma=e=>e*1e3,Ia=e=>e/1e3;function V3(e,t){return t?e*(1e3/t):0}const q3=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,uL=1e-7,hL=12;function fL(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=q3(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>uL&&++l<hL);return o}function ef(e,t,s,n){if(e===t&&s===n)return Li;const i=a=>fL(a,0,1,e,s);return a=>a===0||a===1?a:q3(i(a),t,n)}const H3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,W3=e=>t=>1-e(1-t),G3=ef(.33,1.53,.69,.99),p1=W3(G3),K3=H3(p1),Y3=e=>(e*=2)<1?.5*p1(e):.5*(2-Math.pow(2,-10*(e-1))),g1=e=>1-Math.sin(Math.acos(e)),J3=W3(g1),X3=H3(g1),mL=ef(.42,0,1,1),pL=ef(0,0,.58,1),Q3=ef(.42,0,.58,1),gL=e=>Array.isArray(e)&&typeof e[0]!="number",Z3=e=>Array.isArray(e)&&typeof e[0]=="number",xL={linear:Li,easeIn:mL,easeInOut:Q3,easeOut:pL,circIn:g1,circInOut:X3,circOut:J3,backIn:p1,backInOut:K3,backOut:G3,anticipate:Y3},yL=e=>typeof e=="string",jw=e=>{if(Z3(e)){h1(e.length===4);const[t,s,n,i]=e;return ef(t,s,n,i)}else if(yL(e))return xL[e];return e},Zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vL(e,t){let s=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,f=!1,m=!1)=>{const x=m&&i?s:n;return f&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[s,n]=[n,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,d.process(u))}};return d}const bL=40;function eS(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Zf.reduce((b,k)=>(b[k]=vL(a),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:m,render:p,postRender:x}=o,j=()=>{const b=jo.useManualTiming?i.timestamp:performance.now();s=!1,jo.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,bL),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),f.process(i),m.process(i),p.process(i),x.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(j))},N=()=>{s=!0,n=!0,i.isProcessing||e(j)};return{schedule:Zf.reduce((b,k)=>{const C=o[k];return b[k]=(_,M=!1,L=!1)=>(s||N(),C.schedule(_,M,L)),b},{}),cancel:b=>{for(let k=0;k<Zf.length;k++)o[Zf[k]].cancel(b)},state:i,steps:o}}const{schedule:Ms,cancel:jl,state:Vr,steps:pg}=eS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Li,!0);let jm;function wL(){jm=void 0}const Wn={now:()=>(jm===void 0&&Wn.set(Vr.isProcessing||jo.useManualTiming?Vr.timestamp:performance.now()),jm),set:e=>{jm=e,queueMicrotask(wL)}},tS=e=>t=>typeof t=="string"&&t.startsWith(e),x1=tS("--"),NL=tS("var(--"),y1=e=>NL(e)?jL.test(e.split("/*")[0].trim()):!1,jL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rh={...iu,transform:e=>No(0,1,e)},em={...iu,default:1},sh=e=>Math.round(e*1e5)/1e5,v1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SL(e){return e==null}const kL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b1=(e,t)=>s=>!!(typeof s=="string"&&kL.test(s)&&s.startsWith(e)||t&&!SL(s)&&Object.prototype.hasOwnProperty.call(s,t)),sS=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(v1);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_L=e=>No(0,255,e),gg={...iu,transform:e=>Math.round(_L(e))},ic={test:b1("rgb","red"),parse:sS("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+gg.transform(e)+", "+gg.transform(t)+", "+gg.transform(s)+", "+sh(Rh.transform(n))+")"};function CL(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ny={test:b1("#"),parse:CL,transform:ic.transform},tf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jo=tf("deg"),Ra=tf("%"),St=tf("px"),AL=tf("vh"),EL=tf("vw"),Sw={...Ra,parse:e=>Ra.parse(e)/100,transform:e=>Ra.transform(e*100)},hd={test:b1("hsl","hue"),parse:sS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ra.transform(sh(t))+", "+Ra.transform(sh(s))+", "+sh(Rh.transform(n))+")"},pr={test:e=>ic.test(e)||ny.test(e)||hd.test(e),parse:e=>ic.test(e)?ic.parse(e):hd.test(e)?hd.parse(e):ny.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ic.transform(e):hd.transform(e),getAnimatableNone:e=>{const t=pr.parse(e);return t.alpha=0,pr.transform(t)}},PL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TL(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(v1))==null?void 0:t.length)||0)+(((s=e.match(PL))==null?void 0:s.length)||0)>0}const rS="number",nS="color",LL="var",ML="var(",kw="${}",IL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dh(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(IL,c=>(pr.test(c)?(n.color.push(a),i.push(nS),s.push(pr.parse(c))):c.startsWith(ML)?(n.var.push(a),i.push(LL),s.push(c)):(n.number.push(a),i.push(rS),s.push(parseFloat(c))),++a,kw)).split(kw);return{values:s,split:l,indexes:n,types:i}}function iS(e){return Dh(e).values}function aS(e){const{split:t,types:s}=Dh(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===rS?a+=sh(i[o]):l===nS?a+=pr.transform(i[o]):a+=i[o]}return a}}const RL=e=>typeof e=="number"?0:pr.test(e)?pr.getAnimatableNone(e):e;function DL(e){const t=iS(e);return aS(e)(t.map(RL))}const Sl={test:TL,parse:iS,createTransformer:aS,getAnimatableNone:DL};function xg(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function OL({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=xg(c,l,e+1/3),a=xg(c,l,e),o=xg(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function fp(e,t){return s=>s>0?t:e}const Hs=(e,t,s)=>e+(t-e)*s,yg=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},FL=[ny,ic,hd],BL=e=>FL.find(t=>t.test(e));function _w(e){const t=BL(e);if(!t)return!1;let s=t.parse(e);return t===hd&&(s=OL(s)),s}const Cw=(e,t)=>{const s=_w(e),n=_w(t);if(!s||!n)return fp(e,t);const i={...s};return a=>(i.red=yg(s.red,n.red,a),i.green=yg(s.green,n.green,a),i.blue=yg(s.blue,n.blue,a),i.alpha=Hs(s.alpha,n.alpha,a),ic.transform(i))},iy=new Set(["none","hidden"]);function UL(e,t){return iy.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function zL(e,t){return s=>Hs(e,t,s)}function w1(e){return typeof e=="number"?zL:typeof e=="string"?y1(e)?fp:pr.test(e)?Cw:qL:Array.isArray(e)?oS:typeof e=="object"?pr.test(e)?Cw:$L:fp}function oS(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>w1(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function $L(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=w1(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function VL(e,t){const s=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][n[a]],l=e.values[o]??0;s[i]=l,n[a]++}return s}const qL=(e,t)=>{const s=Sl.createTransformer(t),n=Dh(e),i=Dh(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?iy.has(e)&&!i.values.length||iy.has(t)&&!n.values.length?UL(e,t):Zh(oS(VL(n,i),i.values),s):fp(e,t)};function lS(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Hs(e,t,s):w1(e)(e,t)}const HL=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ms.update(t,s),stop:()=>jl(t),now:()=>Vr.isProcessing?Vr.timestamp:Wn.now()}},cS=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},mp=2e4;function N1(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<mp;)t+=s,n=e.next(t);return t>=mp?1/0:t}function WL(e,t=100,s){const n=s({...e,keyframes:[0,t]}),i=Math.min(N1(n),mp);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:Ia(i)}}const GL=5;function dS(e,t,s){const n=Math.max(t-GL,0);return V3(s-e(n),t-n)}const er={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vg=.001;function KL({duration:e=er.duration,bounce:t=er.bounce,velocity:s=er.velocity,mass:n=er.mass}){let i,a,o=1-t;o=No(er.minDamping,er.maxDamping,o),e=No(er.minDuration,er.maxDuration,Ia(e)),o<1?(i=d=>{const u=d*o,f=u*e,m=u-s,p=ay(d,o),x=Math.exp(-f);return vg-m/p*x},a=d=>{const f=d*o*e,m=f*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-f),j=ay(Math.pow(d,2),o);return(-i(d)+vg>0?-1:1)*((m-p)*x)/j}):(i=d=>{const u=Math.exp(-d*e),f=(d-s)*e+1;return-vg+u*f},a=d=>{const u=Math.exp(-d*e),f=(s-d)*(e*e);return u*f});const l=5/e,c=JL(i,a,l);if(e=Ma(e),isNaN(c))return{stiffness:er.stiffness,damping:er.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const YL=12;function JL(e,t,s){let n=s;for(let i=1;i<YL;i++)n=n-e(n)/t(n);return n}function ay(e,t){return e*Math.sqrt(1-t*t)}const XL=["duration","bounce"],QL=["stiffness","damping","mass"];function Aw(e,t){return t.some(s=>e[s]!==void 0)}function ZL(e){let t={velocity:er.velocity,stiffness:er.stiffness,damping:er.damping,mass:er.mass,isResolvedFromDuration:!1,...e};if(!Aw(e,QL)&&Aw(e,XL))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*No(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:er.mass,stiffness:i,damping:a}}else{const s=KL(e);t={...t,...s,mass:er.mass},t.isResolvedFromDuration=!0}return t}function pp(e=er.visualDuration,t=er.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:f,velocity:m,isResolvedFromDuration:p}=ZL({...s,velocity:-Ia(s.velocity||0)}),x=m||0,j=d/(2*Math.sqrt(c*u)),N=o-a,y=Ia(Math.sqrt(c/u)),v=Math.abs(N)<5;n||(n=v?er.restSpeed.granular:er.restSpeed.default),i||(i=v?er.restDelta.granular:er.restDelta.default);let b;if(j<1){const C=ay(y,j);b=_=>{const M=Math.exp(-j*y*_);return o-M*((x+j*y*N)/C*Math.sin(C*_)+N*Math.cos(C*_))}}else if(j===1)b=C=>o-Math.exp(-y*C)*(N+(x+y*N)*C);else{const C=y*Math.sqrt(j*j-1);b=_=>{const M=Math.exp(-j*y*_),L=Math.min(C*_,300);return o-M*((x+j*y*N)*Math.sinh(L)+C*N*Math.cosh(L))/C}}const k={calculatedDuration:p&&f||null,next:C=>{const _=b(C);if(p)l.done=C>=f;else{let M=C===0?x:0;j<1&&(M=C===0?Ma(x):dS(b,C,_));const L=Math.abs(M)<=n,$=Math.abs(o-_)<=i;l.done=L&&$}return l.value=l.done?o:_,l},toString:()=>{const C=Math.min(N1(k),mp),_=cS(M=>k.next(C*M).value,C,30);return C+"ms "+_},toTransition:()=>{}};return k}pp.applyToOptions=e=>{const t=WL(e,100,pp);return e.ease=t.ease,e.duration=Ma(t.duration),e.type="keyframes",e};function oy({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],m={done:!1,value:f},p=L=>l!==void 0&&L<l||c!==void 0&&L>c,x=L=>l===void 0?c:c===void 0||Math.abs(l-L)<Math.abs(c-L)?l:c;let j=s*t;const N=f+j,y=o===void 0?N:o(N);y!==N&&(j=y-f);const v=L=>-j*Math.exp(-L/n),b=L=>y+v(L),k=L=>{const $=v(L),K=b(L);m.done=Math.abs($)<=d,m.value=m.done?y:K};let C,_;const M=L=>{p(m.value)&&(C=L,_=pp({keyframes:[m.value,x(m.value)],velocity:dS(b,L,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return M(0),{calculatedDuration:null,next:L=>{let $=!1;return!_&&C===void 0&&($=!0,k(L),M(L)),C!==void 0&&L>=C?_.next(L-C):(!$&&k(L),m)}}}function eM(e,t,s){const n=[],i=s||jo.mix||lS,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Li:t;l=Zh(c,l)}n.push(l)}return n}function tM(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(h1(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=eM(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const m=Ih(e[f],e[f+1],u);return l[f](m)};return s?u=>d(No(e[0],e[a-1],u)):d}function sM(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Ih(0,t,n);e.push(Hs(s,1,i))}}function rM(e){const t=[0];return sM(t,e.length-1),t}function nM(e,t){return e.map(s=>s*t)}function iM(e,t){return e.map(()=>t||Q3).splice(0,e.length-1)}function rh({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=gL(n)?n.map(jw):jw(n),a={done:!1,value:t[0]},o=nM(s&&s.length===t.length?s:rM(t),e),l=tM(o,t,{ease:Array.isArray(i)?i:iM(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const aM=e=>e!==null;function j1(e,{repeat:t,repeatType:s="loop"},n,i=1){const a=e.filter(aM),l=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const oM={decay:oy,inertia:oy,tween:rh,keyframes:rh,spring:pp};function uS(e){typeof e.type=="string"&&(e.type=oM[e.type])}class S1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const lM=e=>e/100;class k1 extends S1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;uS(t);const{type:s=rh,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=s||rh;c!==rh&&typeof l[0]!="number"&&(this.mixKeyframes=Zh(lM,lS(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=N1(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:m,repeatDelay:p,type:x,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,k=n;if(f){const L=Math.min(this.currentTime,i)/l;let $=Math.floor(L),K=L%1;!K&&L>=1&&(K=1),K===1&&$--,$=Math.min($,f+1),!!($%2)&&(m==="reverse"?(K=1-K,p&&(K-=p/l)):m==="mirror"&&(k=o)),b=No(0,1,K)*l}const C=v?{done:!1,value:u[0]}:k.next(b);a&&(C.value=a(C.value));let{done:_}=C;!v&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return M&&x!==oy&&(C.value=j1(u,this.options,N,this.speed)),j&&j(C.value),M&&this.finish(),C}then(t,s){return this.finished.then(t,s)}get duration(){return Ia(this.calculatedDuration)}get time(){return Ia(this.currentTime)}set time(t){var s;t=Ma(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wn.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Ia(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=HL,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function cM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ac=e=>e*180/Math.PI,ly=e=>{const t=ac(Math.atan2(e[1],e[0]));return cy(t)},dM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ly,rotateZ:ly,skewX:e=>ac(Math.atan(e[1])),skewY:e=>ac(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},cy=e=>(e=e%360,e<0&&(e+=360),e),Ew=ly,Pw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Tw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),uM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pw,scaleY:Tw,scale:e=>(Pw(e)+Tw(e))/2,rotateX:e=>cy(ac(Math.atan2(e[6],e[5]))),rotateY:e=>cy(ac(Math.atan2(-e[2],e[0]))),rotateZ:Ew,rotate:Ew,skewX:e=>ac(Math.atan(e[4])),skewY:e=>ac(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dy(e){return e.includes("scale")?1:0}function uy(e,t){if(!e||e==="none")return dy(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=uM,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dM,i=l}if(!i)return dy(t);const a=n[t],o=i[1].split(",").map(fM);return typeof a=="function"?a(o):o[a]}const hM=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return uy(s,t)};function fM(e){return parseFloat(e.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(au),Lw=e=>e===iu||e===St,mM=new Set(["x","y","z"]),pM=au.filter(e=>!mM.has(e));function gM(e){const t=[];return pM.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const dc={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>uy(t,"x"),y:(e,{transform:t})=>uy(t,"y")};dc.translateX=dc.x;dc.translateY=dc.y;const uc=new Set;let hy=!1,fy=!1,my=!1;function hS(){if(fy){const e=Array.from(uc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=gM(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fy=!1,hy=!1,uc.forEach(e=>e.complete(my)),uc.clear()}function fS(){uc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fy=!0)})}function xM(){my=!0,fS(),hS(),my=!1}class _1{constructor(t,s,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(uc.add(this),hy||(hy=!0,Ms.read(fS),Ms.resolveKeyframes(hS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&s){const l=n.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}cM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uc.delete(this)}cancel(){this.state==="scheduled"&&(uc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yM=e=>e.startsWith("--");function vM(e,t,s){yM(t)?e.style.setProperty(t,s):e.style[t]=s}const bM=f1(()=>window.ScrollTimeline!==void 0),wM={};function NM(e,t){const s=f1(e);return()=>wM[t]??s()}const mS=NM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Mw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function pS(e,t){if(e)return typeof e=="function"?mS()?cS(e,t):"ease-out":Z3(e)?qu(e):Array.isArray(e)?e.map(s=>pS(s,t)||Mw.easeOut):Mw[e]}function jM(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const f=pS(l,i);Array.isArray(f)&&(u.easing=f);const m={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function gS(e){return typeof e=="function"&&"applyToOptions"in e}function SM({type:e,...t}){return gS(e)&&mS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class kM extends S1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,h1(typeof t.type!="string");const d=SM(t);this.animation=jM(s,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=j1(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):vM(s,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return Ia(Number(t))}get time(){return Ia(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ma(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&bM()?(this.animation.timeline=t,Li):s(this)}}const xS={anticipate:Y3,backInOut:K3,circInOut:X3};function _M(e){return e in xS}function CM(e){typeof e.ease=="string"&&_M(e.ease)&&(e.ease=xS[e.ease])}const Iw=10;class AM extends kM{constructor(t){CM(t),uS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new k1({...o,autoplay:!1}),c=Ma(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Iw).value,l.sample(c).value,Iw),l.stop()}}const Rw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sl.test(e)||e==="0")&&!e.startsWith("url("));function EM(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function PM(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Rw(i,t),l=Rw(a,t);return!o||!l?!1:EM(e)||(s==="spring"||gS(s))&&n}const TM=new Set(["opacity","clipPath","filter","transform"]),LM=f1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MM(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return LM()&&s&&TM.has(s)&&(s!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const IM=40;class RM extends S1{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){var x;super(),this.stop=()=>{var j,N;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Wn.now();const m={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||_1;this.keyframeResolver=new p(l,(j,N,y)=>this.onKeyframesResolved(j,N,m,!y),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=Wn.now(),PM(t,a,o,l)||((jo.instantAnimations||!c)&&(u==null||u(j1(t,n,s))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>IM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},p=!d&&MM(m)?new AM({...m,element:m.motionValue.owner.current}):new k1(m);p.finished.then(()=>this.notifyFinished()).catch(Li),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const DM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OM(e){const t=DM.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function yS(e,t,s=1){const[n,i]=OM(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return U3(o)?parseFloat(o):o}return y1(i)?yS(i,t,s+1):i}function C1(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const vS=new Set(["width","height","top","left","right","bottom",...au]),FM={test:e=>e==="auto",parse:e=>e},bS=e=>t=>t.test(e),wS=[iu,St,Ra,Jo,EL,AL,FM],Dw=e=>wS.find(bS(e));function BM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$3(e):!0}const UM=new Set(["brightness","contrast","saturate","opacity"]);function zM(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(v1)||[];if(!n)return e;const i=s.replace(n,"");let a=UM.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const $M=/\b([a-z-]*)\(.*?\)/gu,py={...Sl,getAnimatableNone:e=>{const t=e.match($M);return t?t.map(zM).join(" "):e}},Ow={...iu,transform:Math.round},VM={rotate:Jo,rotateX:Jo,rotateY:Jo,rotateZ:Jo,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:Jo,skewX:Jo,skewY:Jo,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Rh,originX:Sw,originY:Sw,originZ:St},A1={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...VM,zIndex:Ow,fillOpacity:Rh,strokeOpacity:Rh,numOctaves:Ow},qM={...A1,color:pr,backgroundColor:pr,outlineColor:pr,fill:pr,stroke:pr,borderColor:pr,borderTopColor:pr,borderRightColor:pr,borderBottomColor:pr,borderLeftColor:pr,filter:py,WebkitFilter:py},NS=e=>qM[e];function jS(e,t){let s=NS(e);return s!==py&&(s=Sl),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const HM=new Set(["auto","none","0"]);function WM(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!HM.has(a)&&Dh(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=jS(s,i)}class GM extends _1{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),y1(d))){const u=yS(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!vS.has(n)||t.length!==2)return;const[i,a]=t,o=Dw(i),l=Dw(a);if(o!==l)if(Lw(o)&&Lw(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else dc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||BM(t[i]))&&n.push(i);n.length&&WM(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=dc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function KM(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(s==null?void 0:s[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const SS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function kS(e){return z3(e)&&"offsetHeight"in e}const Fw=30,YM=e=>!isNaN(parseFloat(e));class JM{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var o,l;const a=Wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new m1);const n=this.events[t].add(s);return t==="change"?()=>{n(),Ms.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Fw);return V3(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hd(e,t){return new JM(e,t)}const{schedule:E1}=eS(queueMicrotask,!1),Ji={x:!1,y:!1};function _S(){return Ji.x||Ji.y}function XM(e){return e==="x"||e==="y"?Ji[e]?null:(Ji[e]=!0,()=>{Ji[e]=!1}):Ji.x||Ji.y?null:(Ji.x=Ji.y=!0,()=>{Ji.x=Ji.y=!1})}function CS(e,t){const s=KM(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Bw(e){return!(e.pointerType==="touch"||_S())}function QM(e,t,s={}){const[n,i,a]=CS(e,s),o=l=>{if(!Bw(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=f=>{Bw(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const AS=(e,t)=>t?e===t?!0:AS(e,t.parentElement):!1,P1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ZM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eI(e){return ZM.has(e.tagName)||e.tabIndex!==-1}const Sm=new WeakSet;function Uw(e){return t=>{t.key==="Enter"&&e(t)}}function bg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tI=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Uw(()=>{if(Sm.has(s))return;bg(s,"down");const i=Uw(()=>{bg(s,"up")}),a=()=>bg(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function zw(e){return P1(e)&&!_S()}function sI(e,t,s={}){const[n,i,a]=CS(e,s),o=l=>{const c=l.currentTarget;if(!zw(l))return;Sm.add(c);const d=t(c,l),u=(p,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Sm.has(c)&&Sm.delete(c),zw(p)&&typeof d=="function"&&d(p,{success:x})},f=p=>{u(p,c===window||c===document||s.useGlobalTarget||AS(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),kS(l)&&(l.addEventListener("focus",d=>tI(d,i)),!eI(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function ES(e){return z3(e)&&"ownerSVGElement"in e}function rI(e){return ES(e)&&e.tagName==="svg"}const hn=e=>!!(e&&e.getVelocity),nI=[...wS,pr,Sl],iI=e=>nI.find(bS(e)),T1=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class aI extends E.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,i=kS(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oI({children:e,isPresent:t,anchorX:s,root:n}){const i=E.useId(),a=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(T1);return E.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:f,right:m}=o.current;if(t||!a.current||!c||!d)return;const p=s==="left"?`left: ${f}`:`right: ${m}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const j=n??document.head;return j.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{j.removeChild(x),j.contains(x)&&j.removeChild(x)}},[t]),r.jsx(aI,{isPresent:t,childRef:a,sizeRef:o,children:E.cloneElement(e,{ref:a})})}const lI=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const d=l1(cI),u=E.useId();let f=!0,m=E.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:s,custom:i,onExitComplete:p=>{d.set(p,!0);for(const x of d.values())if(!x)return;n&&n()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[s,d,n]);return a&&f&&(m={...m}),E.useMemo(()=>{d.forEach((p,x)=>d.set(x,!1))},[s]),E.useEffect(()=>{!s&&!d.size&&n&&n()},[s]),o==="popLayout"&&(e=r.jsx(oI,{isPresent:s,anchorX:l,root:c,children:e})),r.jsx(Xp.Provider,{value:m,children:e})};function cI(){return new Map}function PS(e=!0){const t=E.useContext(Xp);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,a=E.useId();E.useEffect(()=>{if(e)return i(a)},[e]);const o=E.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,o]:[!0]}const tm=e=>e.key||"";function $w(e){const t=[];return E.Children.forEach(e,s=>{E.isValidElement(s)&&t.push(s)}),t}const Oh=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=PS(o),f=E.useMemo(()=>$w(e),[e]),m=o&&!d?[]:f.map(tm),p=E.useRef(!0),x=E.useRef(f),j=l1(()=>new Map),[N,y]=E.useState(f),[v,b]=E.useState(f);B3(()=>{p.current=!1,x.current=f;for(let _=0;_<v.length;_++){const M=tm(v[_]);m.includes(M)?j.delete(M):j.get(M)!==!0&&j.set(M,!1)}},[v,m.length,m.join("-")]);const k=[];if(f!==N){let _=[...f];for(let M=0;M<v.length;M++){const L=v[M],$=tm(L);m.includes($)||(_.splice(M,0,L),k.push(L))}return a==="wait"&&k.length&&(_=k),b($w(_)),y(f),null}const{forceRender:C}=E.useContext(o1);return r.jsx(r.Fragment,{children:v.map(_=>{const M=tm(_),L=o&&!d?!1:f===v||m.includes(M),$=()=>{if(j.has(M))j.set(M,!0);else return;let K=!0;j.forEach(I=>{I||(K=!1)}),K&&(C==null||C(),b(x.current),o&&(u==null||u()),n&&n())};return r.jsx(lI,{isPresent:L,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:L?void 0:$,anchorX:l,children:_},M)})})},TS=E.createContext({strict:!1}),Vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wd={};for(const e in Vw)Wd[e]={isEnabled:t=>Vw[e].some(s=>!!t[s])};function dI(e){for(const t in e)Wd[t]={...Wd[t],...e[t]}}const uI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uI.has(e)}let LS=e=>!gp(e);function hI(e){typeof e=="function"&&(LS=t=>t.startsWith("on")?!gp(t):e(t))}try{hI(require("@emotion/is-prop-valid").default)}catch{}function fI(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(LS(i)||s===!0&&gp(i)||!t&&!gp(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Qp=E.createContext({});function Zp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fh(e){return typeof e=="string"||Array.isArray(e)}const L1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],M1=["initial",...L1];function e0(e){return Zp(e.animate)||M1.some(t=>Fh(e[t]))}function MS(e){return!!(e0(e)||e.variants)}function mI(e,t){if(e0(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Fh(s)?s:void 0,animate:Fh(n)?n:void 0}}return e.inherit!==!1?t:{}}function pI(e){const{initial:t,animate:s}=mI(e,E.useContext(Qp));return E.useMemo(()=>({initial:t,animate:s}),[qw(t),qw(s)])}function qw(e){return Array.isArray(e)?e.join(" "):e}const Bh={};function gI(e){for(const t in e)Bh[t]=e[t],x1(t)&&(Bh[t].isCSSVariable=!0)}function IS(e,{layout:t,layoutId:s}){return ou.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Bh[e]||e==="opacity")}const xI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yI=au.length;function vI(e,t,s){let n="",i=!0;for(let a=0;a<yI;a++){const o=au[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=SS(l,A1[o]);if(!c){i=!1;const u=xI[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function I1(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ou.has(c)){o=!0;continue}else if(x1(c)){i[c]=d;continue}else{const u=SS(d,A1[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=vI(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const R1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RS(e,t,s){for(const n in t)!hn(t[n])&&!IS(n,s)&&(e[n]=t[n])}function bI({transformTemplate:e},t){return E.useMemo(()=>{const s=R1();return I1(s,t,e),Object.assign({},s.vars,s.style)},[t])}function wI(e,t){const s=e.style||{},n={};return RS(n,s,e),Object.assign(n,bI(e,t)),n}function NI(e,t){const s={},n=wI(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const jI={offset:"stroke-dashoffset",array:"stroke-dasharray"},SI={offset:"strokeDashoffset",array:"strokeDasharray"};function kI(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?jI:SI;e[a.offset]=St.transform(-n);const o=St.transform(t),l=St.transform(s);e[a.array]=`${o} ${l}`}function DS(e,{attrX:t,attrY:s,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(I1(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),i!==void 0&&kI(f,i,a,o,!1)}const OS=()=>({...R1(),attrs:{}}),FS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _I(e,t,s,n){const i=E.useMemo(()=>{const a=OS();return DS(a,t,FS(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};RS(a,e.style,e),i.style={...a,...i.style}}return i}const CI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D1(e){return typeof e!="string"||e.includes("-")?!1:!!(CI.indexOf(e)>-1||/[A-Z]/u.test(e))}function AI(e,t,s,{latestValues:n},i,a=!1){const l=(D1(e)?_I:NI)(t,n,i,e),c=fI(t,typeof e=="string",a),d=e!==E.Fragment?{...c,...l,ref:s}:{},{children:u}=t,f=E.useMemo(()=>hn(u)?u.get():u,[u]);return E.createElement(e,{...d,children:f})}function Hw(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function O1(e,t,s,n){if(typeof t=="function"){const[i,a]=Hw(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Hw(n);t=t(s!==void 0?s:e.custom,i,a)}return t}function km(e){return hn(e)?e.get():e}function EI({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,i){return{latestValues:PI(s,n,i,e),renderState:t()}}function PI(e,t,s,n){const i={},a=n(e,{});for(const m in a)i[m]=km(a[m]);let{initial:o,animate:l}=e;const c=e0(e),d=MS(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!Zp(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const x=O1(e,m[p]);if(x){const{transitionEnd:j,transition:N,...y}=x;for(const v in y){let b=y[v];if(Array.isArray(b)){const k=u?b.length-1:0;b=b[k]}b!==null&&(i[v]=b)}for(const v in j)i[v]=j[v]}}}return i}const BS=e=>(t,s)=>{const n=E.useContext(Qp),i=E.useContext(Xp),a=()=>EI(e,t,n,i);return s?a():l1(a)};function F1(e,t,s){var a;const{style:n}=e,i={};for(const o in n)(hn(n[o])||t.style&&hn(t.style[o])||IS(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const TI=BS({scrapeMotionValuesFromProps:F1,createRenderState:R1});function US(e,t,s){const n=F1(e,t,s);for(const i in e)if(hn(e[i])||hn(t[i])){const a=au.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const LI=BS({scrapeMotionValuesFromProps:US,createRenderState:OS}),MI=Symbol.for("motionComponentSymbol");function fd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function II(e,t,s){return E.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):fd(s)&&(s.current=n))},[t])}const B1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RI="framerAppearId",zS="data-"+B1(RI),$S=E.createContext({});function DI(e,t,s,n,i){var j,N;const{visualElement:a}=E.useContext(Qp),o=E.useContext(TS),l=E.useContext(Xp),c=E.useContext(T1).reducedMotion,d=E.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=E.useContext($S);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&OI(d.current,s,i,f);const m=E.useRef(!1);E.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const p=s[zS],x=E.useRef(!!p&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,p))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,p)));return B3(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),x.current=!1))}),u}function OI(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:VS(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&fd(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function VS(e){if(e)return e.options.allowProjection!==!1?e.projection:VS(e.parent)}function wg(e,{forwardMotionProps:t=!1}={},s,n){s&&dI(s);const i=D1(e)?LI:TI;function a(l,c){let d;const u={...E.useContext(T1),...l,layoutId:FI(l)},{isStatic:f}=u,m=pI(l),p=i(l,f);if(!f&&c1){BI();const x=UI(u);d=x.MeasureLayout,m.visualElement=DI(e,p,u,n,x.ProjectionNode)}return r.jsxs(Qp.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,AI(e,l,II(p,m.visualElement,c),p,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=E.forwardRef(a);return o[MI]=e,o}function FI({layoutId:e}){const t=E.useContext(o1).id;return t&&e!==void 0?t+"-"+e:e}function BI(e,t){E.useContext(TS).strict}function UI(e){const{drag:t,layout:s}=Wd;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function zI(e,t){if(typeof Proxy>"u")return wg;const s=new Map,n=(a,o)=>wg(a,o,e,t),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(s.has(o)||s.set(o,wg(o,void 0,e,t)),s.get(o))})}function qS({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function $I({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VI(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Ng(e){return e===void 0||e===1}function gy({scale:e,scaleX:t,scaleY:s}){return!Ng(e)||!Ng(t)||!Ng(s)}function Ql(e){return gy(e)||HS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HS(e){return Ww(e.x)||Ww(e.y)}function Ww(e){return e&&e!=="0%"}function xp(e,t,s){const n=e-s,i=t*n;return s+i}function Gw(e,t,s,n,i){return i!==void 0&&(e=xp(e,i,n)),xp(e,s,n)+t}function xy(e,t=0,s=1,n,i){e.min=Gw(e.min,t,s,n,i),e.max=Gw(e.max,t,s,n,i)}function WS(e,{x:t,y:s}){xy(e.x,t.translate,t.scale,t.originPoint),xy(e.y,s.translate,s.scale,s.originPoint)}const Kw=.999999999999,Yw=1.0000000000001;function qI(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&pd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,WS(e,o)),n&&Ql(a.latestValues)&&pd(e,a.latestValues))}t.x<Yw&&t.x>Kw&&(t.x=1),t.y<Yw&&t.y>Kw&&(t.y=1)}function md(e,t){e.min=e.min+t,e.max=e.max+t}function Jw(e,t,s,n,i=.5){const a=Hs(e.min,e.max,i);xy(e,t,s,a,n)}function pd(e,t){Jw(e.x,t.x,t.scaleX,t.scale,t.originX),Jw(e.y,t.y,t.scaleY,t.scale,t.originY)}function GS(e,t){return qS(VI(e.getBoundingClientRect(),t))}function HI(e,t,s){const n=GS(e,s),{scroll:i}=t;return i&&(md(n.x,i.offset.x),md(n.y,i.offset.y)),n}const Xw=()=>({translate:0,scale:1,origin:0,originPoint:0}),gd=()=>({x:Xw(),y:Xw()}),Qw=()=>({min:0,max:0}),nr=()=>({x:Qw(),y:Qw()}),yy={current:null},KS={current:!1};function WI(){if(KS.current=!0,!!c1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yy.current=e.matches;e.addEventListener("change",t),t()}else yy.current=!1}const GI=new WeakMap;function KI(e,t,s){for(const n in t){const i=t[n],a=s[n];if(hn(i))e.addValue(n,i);else if(hn(a))e.addValue(n,Hd(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Hd(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const Zw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YI{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Wn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ms.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=e0(s),this.isVariantNode=MS(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in f){const p=f[m];c[m]!==void 0&&hn(p)&&p.set(c[m],!1)}}mount(t){this.current=t,GI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),KS.current||WI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jl(this.notifyUpdate),jl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ou.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ms.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wd){const s=Wd[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Zw.length;n++){const i=Zw[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=KI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=Hd(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(U3(n)||$3(n))?n=parseFloat(n):!iI(n)&&Sl.test(s)&&(n=jS(t,s)),this.setBaseTarget(t,hn(n)?n.get():n)),hn(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=O1(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!hn(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new m1),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){E1.render(this.render)}}class YS extends YI{constructor(){super(...arguments),this.KeyframeResolver=GM}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function JS(e,{style:t,vars:s},n,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,n);for(o in s)a.setProperty(o,s[o])}function JI(e){return window.getComputedStyle(e)}class XI extends YS{constructor(){super(...arguments),this.type="html",this.renderInstance=JS}readValueFromInstance(t,s){var n;if(ou.has(s))return(n=this.projection)!=null&&n.isProjecting?dy(s):hM(t,s);{const i=JI(t),a=(x1(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return GS(t,s)}build(t,s,n){I1(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return F1(t,s,n)}}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QI(e,t,s,n){JS(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(XS.has(i)?i:B1(i),t.attrs[i])}class ZI extends YS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nr}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ou.has(s)){const n=NS(s);return n&&n.default||0}return s=XS.has(s)?s:B1(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return US(t,s,n)}build(t,s,n){DS(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,i){QI(t,s,n,i)}mount(t){this.isSVGTag=FS(t.tagName),super.mount(t)}}const eR=(e,t)=>D1(e)?new ZI(t):new XI(t,{allowProjection:e!==E.Fragment});function Uh(e,t,s){const n=e.getProps();return O1(n,t,s!==void 0?s:n.custom,e)}const vy=e=>Array.isArray(e);function tR(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Hd(s))}function sR(e){return vy(e)?e[e.length-1]||0:e}function rR(e,t){const s=Uh(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=sR(a[o]);tR(e,o,l)}}function nR(e){return!!(hn(e)&&e.add)}function by(e,t){const s=e.getValue("willChange");if(nR(s))return s.add(t);if(!s&&jo.WillChange){const n=new jo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function QS(e){return e.props[zS]}const iR=e=>e!==null;function aR(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(iR),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[a]}const oR={type:"spring",stiffness:500,damping:25,restSpeed:10},lR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cR={type:"keyframes",duration:.8},dR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uR=(e,{keyframes:t})=>t.length>2?cR:ou.has(e)?e.startsWith("scale")?lR(t[1]):oR:dR;function hR({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const U1=(e,t,s,n={},i,a)=>o=>{const l=C1(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Ma(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};hR(l)||Object.assign(u,uR(e,u)),u.duration&&(u.duration=Ma(u.duration)),u.repeatDelay&&(u.repeatDelay=Ma(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(jo.instantAnimations||jo.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const m=aR(u.keyframes,l);if(m!==void 0){Ms.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new k1(u):new RM(u)};function fR({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function ZS(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(a=n);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&fR(d,u))continue;const p={delay:s,...C1(a||{},u)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===x&&!p.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const y=QS(e);if(y){const v=window.MotionHandoffAnimation(y,u,Ms);v!==null&&(p.startTime=v,j=!0)}}by(e,u),f.start(U1(u,f,m,e.shouldReduceMotion&&vS.has(u)?{type:!1}:p,e,j));const N=f.animation;N&&c.push(N)}return o&&Promise.all(c).then(()=>{Ms.update(()=>{o&&rR(e,o)})}),c}function wy(e,t,s={}){var c;const n=Uh(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const a=n?()=>Promise.all(ZS(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=i;return mR(e,t,d,u,f,m,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function mR(e,t,s=0,n=0,i=0,a=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*i,u=typeof n=="function",f=u?m=>n(m,c):a===1?(m=0)=>m*i:(m=0)=>d-m*i;return Array.from(e.variantChildren).sort(pR).forEach((m,p)=>{m.notify("AnimationStart",t),l.push(wy(m,t,{...o,delay:s+(u?0:n)+f(p)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function pR(e,t){return e.sortNodePosition(t)}function gR(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>wy(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=wy(e,t,s);else{const i=typeof t=="function"?Uh(e,t,s.custom):t;n=Promise.all(ZS(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}function e6(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const xR=M1.length;function t6(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?t6(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<xR;s++){const n=M1[s],i=e.props[n];(Fh(i)||i===!1)&&(t[n]=i)}return t}const yR=[...L1].reverse(),vR=L1.length;function bR(e){return t=>Promise.all(t.map(({animation:s,options:n})=>gR(e,s,n)))}function wR(e){let t=bR(e),s=e5(),n=!0;const i=c=>(d,u)=>{var m;const f=Uh(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:p,transitionEnd:x,...j}=f;d={...d,...j,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=t6(e.parent)||{},f=[],m=new Set;let p={},x=1/0;for(let N=0;N<vR;N++){const y=yR[N],v=s[y],b=d[y]!==void 0?d[y]:u[y],k=Fh(b),C=y===c?v.isActive:null;C===!1&&(x=N);let _=b===u[y]&&b!==d[y]&&k;if(_&&n&&e.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...p},!v.isActive&&C===null||!b&&!v.prevProp||Zp(b)||typeof b=="boolean")continue;const M=NR(v.prevProp,b);let L=M||y===c&&v.isActive&&!_&&k||N>x&&k,$=!1;const K=Array.isArray(b)?b:[b];let I=K.reduce(i(y),{});C===!1&&(I={});const{prevResolvedValues:O={}}=v,W={...O,...I},Y=oe=>{L=!0,m.has(oe)&&($=!0,m.delete(oe)),v.needsAnimating[oe]=!0;const Z=e.getValue(oe);Z&&(Z.liveStyle=!1)};for(const oe in W){const Z=I[oe],B=O[oe];if(p.hasOwnProperty(oe))continue;let X=!1;vy(Z)&&vy(B)?X=!e6(Z,B):X=Z!==B,X?Z!=null?Y(oe):m.add(oe):Z!==void 0&&m.has(oe)?Y(oe):v.protectedKeys[oe]=!0}v.prevProp=b,v.prevResolvedValues=I,v.isActive&&(p={...p,...I}),n&&e.blockInitialAnimation&&(L=!1),L&&(!(_&&M)||$)&&f.push(...K.map(oe=>({animation:oe,options:{type:y}})))}if(m.size){const N={};if(typeof d.initial!="boolean"){const y=Uh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(N.transition=y.transition)}m.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),N[y]=v??null}),f.push({animation:N})}let j=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(f):Promise.resolve()}function l(c,d){var f;if(s[c].isActive===d)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=e5(),n=!0}}}function NR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e6(t,e):!1}function Kl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e5(){return{animate:Kl(!0),whileInView:Kl(),whileHover:Kl(),whileTap:Kl(),whileDrag:Kl(),whileFocus:Kl(),exit:Kl()}}class Ll{constructor(t){this.isMounted=!1,this.node=t}update(){}}class jR extends Ll{constructor(t){super(t),t.animationState||(t.animationState=wR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let SR=0;class kR extends Ll{constructor(){super(...arguments),this.id=SR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _R={animation:{Feature:jR},exit:{Feature:kR}};function zh(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function sf(e){return{point:{x:e.pageX,y:e.pageY}}}const CR=e=>t=>P1(t)&&e(t,sf(t));function nh(e,t,s,n){return zh(e,t,CR(s),n)}const s6=1e-4,AR=1-s6,ER=1+s6,r6=.01,PR=0-r6,TR=0+r6;function An(e){return e.max-e.min}function LR(e,t,s){return Math.abs(e-t)<=s}function t5(e,t,s,n=.5){e.origin=n,e.originPoint=Hs(t.min,t.max,e.origin),e.scale=An(s)/An(t),e.translate=Hs(s.min,s.max,e.origin)-e.originPoint,(e.scale>=AR&&e.scale<=ER||isNaN(e.scale))&&(e.scale=1),(e.translate>=PR&&e.translate<=TR||isNaN(e.translate))&&(e.translate=0)}function ih(e,t,s,n){t5(e.x,t.x,s.x,n?n.originX:void 0),t5(e.y,t.y,s.y,n?n.originY:void 0)}function s5(e,t,s){e.min=s.min+t.min,e.max=e.min+An(t)}function MR(e,t,s){s5(e.x,t.x,s.x),s5(e.y,t.y,s.y)}function r5(e,t,s){e.min=t.min-s.min,e.max=e.min+An(t)}function ah(e,t,s){r5(e.x,t.x,s.x),r5(e.y,t.y,s.y)}function _i(e){return[e("x"),e("y")]}const n6=({current:e})=>e?e.ownerDocument.defaultView:null,n5=(e,t)=>Math.abs(e-t);function IR(e,t){const s=n5(e.x,t.x),n=n5(e.y,t.y);return Math.sqrt(s**2+n**2)}class i6{constructor(t,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Sg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=IR(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:j}=m,{timestamp:N}=Vr;this.history.push({...j,timestamp:N});const{onStart:y,onMove:v}=this.handlers;p||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=jg(p,this.transformPagePoint),Ms.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Sg(m.type==="pointercancel"?this.lastMoveEventInfo:jg(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,y),j&&j(m,y)},!P1(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=sf(t),c=jg(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Vr;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=s;f&&f(t,Sg(c,this.history)),this.removeListeners=Zh(nh(this.contextWindow,"pointermove",this.handlePointerMove),nh(this.contextWindow,"pointerup",this.handlePointerUp),nh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jl(this.updatePoint)}}function jg(e,t){return t?{point:t(e.point)}:e}function i5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sg({point:e},t){return{point:e,delta:i5(e,a6(t)),offset:i5(e,RR(t)),velocity:DR(t,.1)}}function RR(e){return e[0]}function a6(e){return e[e.length-1]}function DR(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=a6(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>Ma(t)));)s--;if(!n)return{x:0,y:0};const a=Ia(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OR(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?Hs(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?Hs(s,e,n.max):Math.min(e,s)),e}function a5(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function FR(e,{top:t,left:s,bottom:n,right:i}){return{x:a5(e.x,s,i),y:a5(e.y,t,n)}}function o5(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function BR(e,t){return{x:o5(e.x,t.x),y:o5(e.y,t.y)}}function UR(e,t){let s=.5;const n=An(e),i=An(t);return i>n?s=Ih(t.min,t.max-n,e.min):n>i&&(s=Ih(e.min,e.max-i,t.min)),No(0,1,s)}function zR(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Ny=.35;function $R(e=Ny){return e===!1?e=0:e===!0&&(e=Ny),{x:l5(e,"left","right"),y:l5(e,"top","bottom")}}function l5(e,t,s){return{min:c5(e,t),max:c5(e,s)}}function c5(e,t){return typeof e=="number"?e:e[t]||0}const VR=new WeakMap;class qR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(sf(f).point)},o=(f,m)=>{const{drag:p,dragPropagation:x,onDragStart:j}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XM(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Ra.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const k=b.layout.layoutBox[y];k&&(v=An(k)*(parseFloat(v)/100))}}this.originPoint[y]=v}),j&&Ms.postRender(()=>j(f,m)),by(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:j,onDrag:N}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=m;if(x&&this.currentDirection===null){this.currentDirection=HR(y),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),N&&N(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>_i(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new i6(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:n6(this.visualElement)})}stop(t,s){const n=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ms.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!sm(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=OR(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&fd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=FR(n.layoutBox,t):this.constraints=!1,this.elastic=$R(s),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=zR(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!fd(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=HI(n,i.root,this.visualElement.getTransformPagePoint());let o=BR(i.layout.layoutBox,a);if(s){const l=s($I(o));this.hasMutatedConstraints=!!l,l&&(o=qS(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=_i(u=>{if(!sm(u,s,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return by(this.visualElement,t),n.start(U1(t,n,0,s,this.visualElement,!1))}stopAnimation(){_i(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_i(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){_i(s=>{const{drag:n}=this.getProps();if(!sm(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-Hs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!fd(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_i(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=UR({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_i(o=>{if(!sm(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Hs(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;VR.set(this.visualElement,this);const t=this.visualElement.current,s=nh(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();fd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ms.read(n);const o=zh(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Ny,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function sm(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function HR(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class WR extends Ll{constructor(t){super(t),this.removeGroupControls=Li,this.removeListeners=Li,this.controls=new qR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Li}unmount(){this.removeGroupControls(),this.removeListeners()}}const d5=e=>(t,s)=>{e&&Ms.postRender(()=>e(t,s))};class GR extends Ll{constructor(){super(...arguments),this.removePointerDownListener=Li}onPointerDown(t){this.session=new i6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:d5(t),onStart:d5(s),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Ms.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function u5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const s=u5(e,t.target.x),n=u5(e,t.target.y);return`${s}% ${n}%`}},KR={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=Sl.parse(e);if(i.length>5)return n;const a=Sl.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Hs(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let h5=!1;class YR extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;gI(JR),a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),h5&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_m.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,h5=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ms.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),E1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function o6(e){const[t,s]=PS(),n=E.useContext(o1);return r.jsx(YR,{...e,layoutGroup:n,switchLayoutGroup:E.useContext($S),isPresent:t,safeToRemove:s})}const JR={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:KR};function XR(e,t,s){const n=hn(e)?e:Hd(e);return n.start(U1("",n,t,s)),n.animation}const QR=(e,t)=>e.depth-t.depth;class ZR{constructor(){this.children=[],this.isDirty=!1}add(t){d1(this.children,t),this.isDirty=!0}remove(t){u1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QR),this.isDirty=!1,this.children.forEach(t)}}function eD(e,t){const s=Wn.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(jl(n),e(a-t))};return Ms.setup(n,!0),()=>jl(n)}const l6=["TopLeft","TopRight","BottomLeft","BottomRight"],tD=l6.length,f5=e=>typeof e=="string"?parseFloat(e):e,m5=e=>typeof e=="number"||St.test(e);function sD(e,t,s,n,i,a){i?(e.opacity=Hs(0,s.opacity??1,rD(n)),e.opacityExit=Hs(t.opacity??1,0,nD(n))):a&&(e.opacity=Hs(t.opacity??1,s.opacity??1,n));for(let o=0;o<tD;o++){const l=`border${l6[o]}Radius`;let c=p5(t,l),d=p5(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||m5(c)===m5(d)?(e[l]=Math.max(Hs(f5(c),f5(d),n),0),(Ra.test(d)||Ra.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Hs(t.rotate||0,s.rotate||0,n))}function p5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rD=c6(0,.5,J3),nD=c6(.5,.95,Li);function c6(e,t,s){return n=>n<e?0:n>t?1:s(Ih(e,t,n))}function g5(e,t){e.min=t.min,e.max=t.max}function ki(e,t){g5(e.x,t.x),g5(e.y,t.y)}function x5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y5(e,t,s,n,i){return e-=t,e=xp(e,1/s,n),i!==void 0&&(e=xp(e,1/i,n)),e}function iD(e,t=0,s=1,n=.5,i,a=e,o=e){if(Ra.test(t)&&(t=parseFloat(t),t=Hs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Hs(a.min,a.max,n);e===a&&(l-=t),e.min=y5(e.min,t,s,l,i),e.max=y5(e.max,t,s,l,i)}function v5(e,t,[s,n,i],a,o){iD(e,t[s],t[n],t[i],t.scale,a,o)}const aD=["x","scaleX","originX"],oD=["y","scaleY","originY"];function b5(e,t,s,n){v5(e.x,t,aD,s?s.x:void 0,n?n.x:void 0),v5(e.y,t,oD,s?s.y:void 0,n?n.y:void 0)}function w5(e){return e.translate===0&&e.scale===1}function d6(e){return w5(e.x)&&w5(e.y)}function N5(e,t){return e.min===t.min&&e.max===t.max}function lD(e,t){return N5(e.x,t.x)&&N5(e.y,t.y)}function j5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function u6(e,t){return j5(e.x,t.x)&&j5(e.y,t.y)}function S5(e){return An(e.x)/An(e.y)}function k5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cD{constructor(){this.members=[]}add(t){d1(this.members,t),t.scheduleRender()}remove(t){if(u1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dD(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:m,skewX:p,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const kg=["","X","Y","Z"],uD=1e3;let hD=0;function _g(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function h6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=QS(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ms,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&h6(n)}function f6({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=hD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pD),this.nodes.forEach(vD),this.nodes.forEach(bD),this.nodes.forEach(gD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZR)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new m1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ES(o)&&!rI(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const m=()=>this.root.updateBlockedByResize=!1;Ms.read(()=>{f=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=eD(m,250),_m.hasAnimatedSinceResize&&(_m.hasAnimatedSinceResize=!1,this.nodes.forEach(A5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||kD,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=d.getProps(),y=!this.targetLayout||!u6(this.targetLayout,p),v=!f&&m;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...C1(x,"layout"),onPlay:j,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else f||A5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(C5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yD),this.nodes.forEach(fD),this.nodes.forEach(mD)):this.nodes.forEach(C5),this.clearAllSnapshots();const l=Wn.now();Vr.delta=No(0,1e3/60,l-Vr.timestamp),Vr.timestamp=l,Vr.isProcessing=!0,pg.update.process(Vr),pg.preRender.process(Vr),pg.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,E1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xD),this.sharedNodes.forEach(ND)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ms.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ms.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!d6(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ql(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_D(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return nr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(CD))){const{scroll:u}=this.root;u&&(md(l.x,u.offset.x),md(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=nr();if(ki(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ki(l,o),md(l.x,f.offset.x),md(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=nr();ki(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ql(u.latestValues)&&pd(c,u.latestValues)}return Ql(this.latestValues)&&pd(c,this.latestValues),c}removeTransform(o){const l=nr();ki(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ql(d.latestValues))continue;gy(d.latestValues)&&d.updateSnapshot();const u=nr(),f=d.measurePageBox();ki(u,f),b5(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ql(this.latestValues)&&b5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),ah(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nr(),this.targetWithTransforms=nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),WS(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nr(),this.relativeTargetOrigin=nr(),ah(this.relativeTargetOrigin,this.target,p.target),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gy(this.parent.latestValues)||HS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ki(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;qI(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=nr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x5(this.prevProjectionDelta.x,this.projectionDelta.x),x5(this.prevProjectionDelta.y,this.projectionDelta.y)),ih(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!k5(this.projectionDelta.x,this.prevProjectionDelta.x)||!k5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gd(),this.projectionDelta=gd(),this.projectionDeltaWithTransform=gd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=gd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=nr(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,j=p!==x,N=this.getStack(),y=!N||N.members.length<=1,v=!!(j&&!y&&this.options.crossfade===!0&&!this.path.some(SD));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const C=k/1e3;E5(f.x,o.x,C),E5(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ah(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jD(this.relativeTarget,this.relativeTargetOrigin,m,C),b&&lD(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=nr()),ki(b,this.relativeTarget)),j&&(this.animationValues=u,sD(u,d,this.latestValues,C,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(jl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ms.update(()=>{_m.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hd(0)),this.currentAnimation=XR(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&m6(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||nr();const f=An(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=An(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ki(l,c),pd(l,u),ih(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cD),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&_g("z",o,d,this.animationValues);for(let u=0;u<kg.length;u++)_g(`rotate${kg[u]}`,o,d,this.animationValues),_g(`skew${kg[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=km(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=km(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ql(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=dD(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Bh){if(u[x]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:y}=Bh[x],v=f==="none"?u[x]:j(u[x],d);if(N){const b=N.length;for(let k=0;k<b;k++)o[N[k]]=v}else y?this.options.visualElement.renderState.vars[x]=v:o[x]=v}this.options.layoutId&&(o.pointerEvents=d===this?km(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(_5),this.root.sharedNodes.clear()}}}function fD(e){e.updateLayout()}function mD(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?_i(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],p=An(m);m.min=n[f].min,m.max=m.min+p}):m6(a,t.layoutBox,n)&&_i(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],p=An(n[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=gd();ih(l,n,t.layoutBox);const c=gd();o?ih(c,e.applyTransform(i,!0),t.measuredBox):ih(c,n,t.layoutBox);const d=!d6(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const x=nr();ah(x,t.layoutBox,m.layoutBox);const j=nr();ah(j,n,p.layoutBox),u6(x,j)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function pD(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xD(e){e.clearSnapshot()}function _5(e){e.clearMeasurements()}function C5(e){e.isLayoutDirty=!1}function yD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function A5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vD(e){e.resolveTargetDelta()}function bD(e){e.calcProjection()}function wD(e){e.resetSkewAndRotation()}function ND(e){e.removeLeadSnapshot()}function E5(e,t,s){e.translate=Hs(t.translate,0,s),e.scale=Hs(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function P5(e,t,s,n){e.min=Hs(t.min,s.min,n),e.max=Hs(t.max,s.max,n)}function jD(e,t,s,n){P5(e.x,t.x,s.x,n),P5(e.y,t.y,s.y,n)}function SD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kD={duration:.45,ease:[.4,0,.1,1]},T5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),L5=T5("applewebkit/")&&!T5("chrome/")?Math.round:Li;function M5(e){e.min=L5(e.min),e.max=L5(e.max)}function _D(e){M5(e.x),M5(e.y)}function m6(e,t,s){return e==="position"||e==="preserve-aspect"&&!LR(S5(t),S5(s),.2)}function CD(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const AD=f6({attachResizeListener:(e,t)=>zh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},p6=f6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cg.current){const e=new AD({});e.mount(window),e.setOptions({layoutScroll:!0}),Cg.current=e}return Cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ED={pan:{Feature:GR},drag:{Feature:WR,ProjectionNode:p6,MeasureLayout:o6}};function I5(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=n[i];a&&Ms.postRender(()=>a(t,sf(t)))}class PD extends Ll{mount(){const{current:t}=this.node;t&&(this.unmount=QM(t,(s,n)=>(I5(this.node,n,"Start"),i=>I5(this.node,i,"End"))))}unmount(){}}class TD extends Ll{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zh(zh(this.node.current,"focus",()=>this.onFocus()),zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R5(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=n[i];a&&Ms.postRender(()=>a(t,sf(t)))}class LD extends Ll{mount(){const{current:t}=this.node;t&&(this.unmount=sI(t,(s,n)=>(R5(this.node,n,"Start"),(i,{success:a})=>R5(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jy=new WeakMap,Ag=new WeakMap,MD=e=>{const t=jy.get(e.target);t&&t(e)},ID=e=>{e.forEach(MD)};function RD({root:e,...t}){const s=e||document;Ag.has(s)||Ag.set(s,{});const n=Ag.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ID,{root:e,...t})),n[i]}function DD(e,t,s){const n=RD(t);return jy.set(e,s),n.observe(e),()=>{jy.delete(e),n.unobserve(e)}}const OD={some:0,all:1};class FD extends Ll{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:OD[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=d?u:f;m&&m(c)};return DD(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(BD(t,s))&&this.startObserver()}unmount(){}}function BD({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const UD={inView:{Feature:FD},tap:{Feature:LD},focus:{Feature:TD},hover:{Feature:PD}},zD={layout:{ProjectionNode:p6,MeasureLayout:o6}},$D={..._R,...UD,...ED,...zD},Us=zI($D,eR);function VD({isOpen:e,onClose:t,onSelectGift:s,userCoins:n,recipientName:i}){const[a,o]=E.useState("all"),[l,c]=E.useState({}),[d,u]=E.useState([]),[f,m]=E.useState([]),[p,x]=E.useState(!1);E.useEffect(()=>{(async()=>{if(e){x(!0);try{const[C,_]=await Promise.all([g7(a==="all"?void 0:a),w3()]);u(C),m(["all",..._])}catch(C){console.error("Error loading gifts:",C)}finally{x(!1)}}})()},[e,a]);const j=k=>l[k]||1,N=(k,C)=>{c(_=>({..._,[k]:Math.max(1,C)}))},y={all:{name:"All Gifts",icon:"🎁"},flowers:{name:"Flowers",icon:"🌹"},perfumes:{name:"Perfumes",icon:"💐"},gift_baskets:{name:"Gift Baskets",icon:"🧺"},electronics:{name:"Electronics",icon:"📱"},jewelry:{name:"Jewelry",icon:"💎"},beauty:{name:"Beauty",icon:"💄"},fashion:{name:"Fashion",icon:"👗"},home:{name:"Home",icon:"🏠"}},v=k=>{const C=y[k];return C||{name:k.charAt(0).toUpperCase()+k.slice(1).replace(/_/g," "),icon:"🎁"}},b=k=>{const C=j(k.id);s(k,"real",C)};return e?r.jsx(Oh,{children:r.jsx(Us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs(Us.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:["Send a Gift to ",i]}),r.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Choose the perfect gift to make them smile"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-amber-600 bg-amber-50 px-3 py-2 rounded-lg",children:[r.jsx(Jn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[n," coins"]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(kr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),r.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-white border-b border-gray-200",children:r.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:f.map(k=>{const{name:C,icon:_}=v(k);return r.jsxs("button",{onClick:()=>o(k),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium transition-colors flex items-center space-x-1 sm:space-x-2 ${a===k?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("span",{children:_}),r.jsx("span",{className:"hidden sm:inline",children:C})]},k)})})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:p?r.jsxs("div",{className:"text-center py-8 sm:py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Loading gifts..."}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Please wait while we fetch the perfect gifts for you"})]}):d.length===0?r.jsxs("div",{className:"text-center py-8 sm:py-12",children:[r.jsx("div",{className:"text-4xl sm:text-6xl mb-3 sm:mb-4",children:"😔"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"No gifts available"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:n===0?"You don't have enough coins. Purchase more coins to send gifts!":"Try selecting a different category."})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:d.map((k,C)=>{const _=j(k.id),M=k.cost*_,L=M<=n;return r.jsxs(Us.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},className:`bg-white rounded-xl border-2 overflow-hidden transition-all hover:shadow-lg flex flex-col ${L?"border-gray-200 hover:border-emerald-300":"border-gray-100 opacity-60"}`,children:[r.jsx("div",{className:"bg-gray-50",children:r.jsx("img",{src:k.image,alt:k.name,className:"w-full h-32 sm:h-48 object-cover"})}),r.jsxs("div",{className:"p-3 sm:p-4 flex flex-col flex-grow",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-2 line-clamp-2",children:k.name}),k.description&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 line-clamp-2",children:k.description}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:M}),r.jsx("span",{className:"text-sm text-amber-600",children:"coins"})]})}),M!==k.cost&&r.jsxs("div",{className:"text-xs text-gray-500",children:[k.cost," coins each"]})]}),r.jsx("div",{className:"flex-grow"}),r.jsxs("div",{className:"mt-auto",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[r.jsx("button",{onClick:()=>N(k.id,Math.max(1,_-1)),disabled:_<=1,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-50 disabled:opacity-50",children:r.jsx(nE,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"text-lg font-semibold min-w-[2rem] text-center",children:_}),r.jsx("button",{onClick:()=>N(k.id,Math.max(1,_+1)),disabled:!L,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-50 disabled:opacity-50",children:r.jsx(_d,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),r.jsxs("button",{onClick:()=>b(k),disabled:!L,className:`w-full py-2.5 sm:py-3 rounded-lg font-medium text-sm transition-all flex items-center justify-center space-x-2 ${L?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:from-emerald-600 hover:to-teal-600 shadow-md hover:shadow-lg":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[r.jsx(pE,{className:"w-4 h-4"}),r.jsx("span",{children:L?"SEND GIFT":`Need ${M-n} more coins`})]})]})]})]},k.id)})})}),r.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsx("div",{className:"flex items-center space-x-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(B4,{className:"w-4 h-4"}),r.jsx("span",{children:"Purchase with coins"})]})}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{children:["Showing ",d.length," gift",d.length!==1?"s":""]})})]})})]})})}):null}const qD=({delay:e=0})=>{const t=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff"],s=t[Math.floor(Math.random()*t.length)];return r.jsx(Us.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:s},initial:{x:Math.random()*400-200,y:-20,rotate:0,scale:0},animate:{x:Math.random()*600-300,y:400,rotate:360,scale:[0,1,.8,0]},transition:{duration:3,delay:e,ease:"easeOut"}})},HD=({delay:e=0})=>r.jsx(Us.div,{className:"absolute text-red-400",initial:{x:Math.random()*300-150,y:100,scale:0,rotate:0},animate:{x:Math.random()*400-200,y:-100,scale:[0,1.2,.8,0],rotate:[0,15,-15,0]},transition:{duration:2.5,delay:e,ease:"easeOut"},children:r.jsx(qs,{className:"w-6 h-6 fill-current"})}),WD=({delay:e=0})=>r.jsx(Us.div,{className:"absolute text-yellow-400",initial:{x:Math.random()*200-100,y:Math.random()*200-100,scale:0,rotate:0},animate:{scale:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,delay:e,ease:"easeOut"},children:r.jsx(Cd,{className:"w-4 h-4 fill-current"})});function GD({isVisible:e,gift:t,recipientName:s,onComplete:n}){const[i,a]=E.useState(!1),[o,l]=E.useState(!1);return E.useEffect(()=>{if(e&&t){const c=setTimeout(()=>{a(!0)},500);l(!0);const d=setTimeout(()=>{n()},2500);return()=>{clearTimeout(c),clearTimeout(d)}}},[e,t,n]),E.useEffect(()=>{if(o&&e){try{const c=new(window.AudioContext||window.webkitAudioContext),d=(f,m,p)=>{const x=c.createOscillator(),j=c.createGain();x.connect(j),j.connect(c.destination),x.frequency.value=f,x.type="sine",j.gain.setValueAtTime(0,m),j.gain.linearRampToValueAtTime(.1,m+.01),j.gain.exponentialRampToValueAtTime(.001,m+p),x.start(m),x.stop(m+p)},u=c.currentTime;d(523,u,.2),d(659,u+.1,.2),d(784,u+.2,.3),d(1047,u+.4,.4)}catch{console.log("Audio not supported")}l(!1)}},[o,e]),!e||!t?null:r.jsx(Oh,{children:r.jsxs(Us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:[Array.from({length:15}).map((c,d)=>r.jsx(qD,{delay:d*.1},`confetti-${d}`)),t.category==="romantic"&&Array.from({length:5}).map((c,d)=>r.jsx(HD,{delay:d*.3},`heart-${d}`)),t.category==="luxury"&&Array.from({length:8}).map((c,d)=>r.jsx(WD,{delay:d*.2},`sparkle-${d}`)),r.jsxs(Us.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,.8]},transition:{duration:1,ease:"easeOut",times:[0,.7,1]},className:"text-center relative",children:[r.jsx("div",{className:"text-6xl flex items-center justify-center",children:r.jsx(Us.div,{animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:2,ease:"easeInOut"},className:"flex items-center justify-center",children:r.jsx("img",{src:t.image,alt:t.name,className:"w-24 h-24 object-cover rounded-lg shadow-lg"})})}),r.jsx(Oh,{children:i&&r.jsx(Us.div,{initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:-100},exit:{opacity:0,scale:.5,y:-150},transition:{duration:2,ease:"easeOut"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:r.jsx(Us.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:.5,repeat:3,ease:"easeInOut"},className:"flex items-center justify-center",children:r.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover rounded-lg shadow-lg"})})})}),r.jsx(Us.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},children:Array.from({length:2}).map((c,d)=>r.jsx(Us.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 border border-rose-200 rounded-full",initial:{width:0,height:0,opacity:.8},animate:{width:[0,150,200],height:[0,150,200],opacity:[.8,.3,0]},transition:{duration:1.5,delay:d*.2,ease:"easeOut"}},`circle-${d}`))})]}),r.jsx(Us.div,{className:"absolute inset-0 bg-gradient-radial from-rose-200/20 via-transparent to-transparent",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1.5},transition:{duration:1.5}})]})})}function KD({isOpen:e,isVideoCall:t,profile:s,onEndCall:n,userName:i}){var le;const[a,o]=E.useState("connecting"),[l,c]=E.useState(0),[d,u]=E.useState(!1),[f,m]=E.useState(!1),[p,x]=E.useState(!1),[j,N]=E.useState(!1),y=E.useRef(null),v=E.useRef(null),b=E.useRef(null),k=E.useRef(null),C=E.useRef(null),_=E.useRef(null),M=E.useRef(null);E.useEffect(()=>(e&&a==="connecting"&&(t&&L(),setTimeout(()=>{o("ringing");const ie=new Audio("/sounds/ringtone.mp3");ie.loop=!0,ie.volume=.5,y.current=ie,ie.play().catch(oe=>{console.log("Could not play ringtone:",oe),I()}),b.current=setTimeout(()=>{O()},15e3)},2e3)),()=>{$(),K()}),[e,t]);const L=async()=>{try{console.log("Requesting camera access...");const ie=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});console.log("Camera stream obtained:",ie),M.current=ie,N(!0),setTimeout(()=>{_.current&&ie&&(_.current.srcObject=ie,_.current.play().catch(oe=>console.log("Video play error:",oe)),console.log("Video stream assigned to element"))},100)}catch(ie){console.error("Could not access camera:",ie)}},$=()=>{if(console.log("Cleaning up audio..."),y.current&&(y.current.pause(),y.current.currentTime=0,y.current.src="",y.current.load(),y.current=null),k.current){try{k.current.close()}catch(ie){console.log("Error closing audio context:",ie)}k.current=null}C.current&&(clearInterval(C.current),C.current=null),v.current&&(clearInterval(v.current),v.current=null),b.current&&(clearTimeout(b.current),b.current=null)},K=()=>{console.log("Cleaning up video..."),M.current&&(M.current.getTracks().forEach(ie=>{ie.stop(),console.log("Stopped video track:",ie.kind)}),M.current=null),_.current&&(_.current.srcObject=null,_.current.pause()),N(!1)},I=()=>{try{const ie=new(window.AudioContext||window.webkitAudioContext);k.current=ie;const oe=()=>{if(!k.current||k.current.state==="closed")return;const Z=ie.createOscillator(),B=ie.createOscillator(),X=ie.createGain();Z.frequency.setValueAtTime(800,ie.currentTime),B.frequency.setValueAtTime(1e3,ie.currentTime),Z.connect(X),B.connect(X),X.connect(ie.destination),X.gain.setValueAtTime(.1,ie.currentTime),X.gain.exponentialRampToValueAtTime(.01,ie.currentTime+.3),Z.start(ie.currentTime),B.start(ie.currentTime),Z.stop(ie.currentTime+.3),B.stop(ie.currentTime+.3)};oe(),C.current=setInterval(()=>{oe()},1e3)}catch(ie){console.log("Could not create synthetic ringtone:",ie)}},O=()=>{console.log("Ending call..."),o("ended"),$(),K(),n()},W=ie=>{const oe=Math.floor(ie/60),Z=ie%60;return`${oe.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`},Y=()=>{switch(a){case"connecting":return"Connecting...";case"ringing":return"Ringing...";case"ended":return"Call ended";default:return""}};return E.useEffect(()=>{e||(o("connecting"),c(0),u(!1),m(!1),x(!1),N(!1))},[e]),e?r.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:ie=>{ie.target===ie.currentTarget&&(console.log("Backdrop clicked, ending call"),O())},children:r.jsxs("div",{className:"bg-gradient-to-b from-blue-900 via-purple-900 to-pink-900 rounded-2xl shadow-2xl w-full max-w-md h-[650px] flex flex-col relative overflow-hidden",onClick:ie=>ie.stopPropagation(),children:[r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-white px-6 pt-8 pb-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"relative mb-4",children:r.jsxs("div",{className:`relative inline-block ${a==="ringing"?"animate-pulse":""}`,children:[r.jsx("img",{src:((le=s.photos)==null?void 0:le[0])||"/default-avatar.png",alt:s.firstName,className:"w-24 h-24 md:w-32 md:h-32 rounded-full object-cover border-4 border-white/30 shadow-2xl"}),a==="ringing"&&r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/50 animate-ping"})]})}),r.jsxs("h2",{className:"text-xl md:text-2xl font-semibold mb-2",children:[s.firstName," ",s.lastName]}),r.jsx("p",{className:"text-base text-white/80 mb-3",children:Y()}),l>0&&r.jsx("p",{className:"text-lg font-mono text-green-400",children:W(l)})]}),t&&r.jsxs("div",{className:"relative mb-4",children:[r.jsxs("div",{className:"w-40 h-30 md:w-48 md:h-36 bg-gray-800 rounded-lg overflow-hidden border-2 border-white/30 relative",children:[!f&&r.jsx("video",{ref:_,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),(f||!j)&&r.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Oa,{className:"w-8 h-8 mx-auto mb-1 text-white/50"}),r.jsx("p",{className:"text-xs text-white/70",children:f?"Camera Off":i})]})})]}),r.jsx("div",{className:"absolute top-2 right-2 bg-black/50 rounded px-2 py-1",children:r.jsx("span",{className:"text-xs text-white",children:"You"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t?r.jsx(wo,{className:"w-5 h-5 text-white/80"}):r.jsx(aa,{className:"w-5 h-5 text-white/80"}),r.jsx("span",{className:"text-sm text-white/80",children:t?"Video Call":"Voice Call"})]})]}),r.jsxs("div",{className:"flex-shrink-0 p-6 bg-black/30 backdrop-blur-sm border-t border-white/10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsx("button",{onClick:()=>u(!d),className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center transition-all duration-200 ${d?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,children:d?r.jsx(rE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(np,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),r.jsx("button",{onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),console.log("End call button clicked"),O()},className:"w-14 h-14 md:w-16 md:h-16 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-all duration-200 transform hover:scale-105",children:r.jsx(oE,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),t?r.jsx("button",{onClick:()=>{m(!f),!f&&j&&_.current?_.current.style.display="none":f&&j&&_.current&&(_.current.style.display="block")},className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center transition-all duration-200 ${f?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,children:f?r.jsx(vE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(wo,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}):r.jsx("button",{onClick:()=>x(!p),className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center transition-all duration-200 ${p?"bg-blue-500 hover:bg-blue-600":"bg-white/20 hover:bg-white/30"}`,children:p?r.jsx(U4,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(bE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]}),r.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3",children:[r.jsx("span",{className:"text-xs text-white/60 w-12 md:w-14 text-center",children:d?"Unmute":"Mute"}),r.jsx("span",{className:"text-xs text-white/60 w-14 md:w-16 text-center",children:"End Call"}),r.jsx("span",{className:"text-xs text-white/60 w-12 md:w-14 text-center",children:t?"Camera":"Speaker"})]})]}),r.jsx("div",{className:"absolute inset-0 overflow-hidden -z-20",children:[...Array(20)].map((ie,oe)=>r.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},oe))})]})}):null}class rf{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const YD=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},qr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:YD()},z1=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},JD=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=z1(e);qr.publicKey=s.publicKey,qr.blockHeadless=s.blockHeadless,qr.storageProvider=s.storageProvider,qr.blockList=s.blockList,qr.limitRate=s.limitRate,qr.origin=s.origin||t},g6=async(e,t,s={})=>{const n=await fetch(qr.origin+e,{method:"POST",headers:s,body:t}),i=await n.text(),a=new rf(n.status,i);if(n.ok)return a;throw a},x6=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},XD=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},y6=e=>e.webdriver||!e.languages||e.languages.length===0,v6=()=>new rf(451,"Unavailable For Headless Browser"),QD=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},ZD=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},e9=(e,t)=>e instanceof FormData?e.get(t):e[t],b6=(e,t)=>{if(ZD(e))return!1;QD(e.list,e.watchVariable);const s=e9(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},w6=()=>new rf(403,"Forbidden"),t9=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},s9=async(e,t,s)=>{const n=Number(await s.get(e)||0);return t-Date.now()+n},N6=async(e,t,s)=>{if(!t.throttle||!s)return!1;t9(t.throttle,t.id);const n=t.id||e;return await s9(n,t.throttle,s)>0?!0:(await s.set(n,Date.now().toString()),!1)},j6=()=>new rf(429,"Too Many Requests"),r9=async(e,t,s,n)=>{const i=z1(n),a=i.publicKey||qr.publicKey,o=i.blockHeadless||qr.blockHeadless,l=i.storageProvider||qr.storageProvider,c={...qr.blockList,...i.blockList},d={...qr.limitRate,...i.limitRate};return o&&y6(navigator)?Promise.reject(v6()):(x6(a,e,t),XD(s),s&&b6(c,s)?Promise.reject(w6()):await N6(location.pathname,d,l)?Promise.reject(j6()):g6("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},n9=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},i9=e=>typeof e=="string"?document.querySelector(e):e,a9=async(e,t,s,n)=>{const i=z1(n),a=i.publicKey||qr.publicKey,o=i.blockHeadless||qr.blockHeadless,l=qr.storageProvider||i.storageProvider,c={...qr.blockList,...i.blockList},d={...qr.limitRate,...i.limitRate};if(o&&y6(navigator))return Promise.reject(v6());const u=i9(s);x6(a,e,t),n9(u);const f=new FormData(u);return b6(c,f)?Promise.reject(w6()):await N6(location.pathname,d,l)?Promise.reject(j6()):(f.append("lib_version","4.4.1"),f.append("service_id",e),f.append("template_id",t),f.append("user_id",a),g6("/api/v1.0/email/send-form",f))},o9={init:JD,send:r9,sendForm:a9,EmailJSResponseStatus:rf};function t0({profile:e,isOpen:t,onClose:s,searchFilters:n={},openGiftSelectorOnOpen:i,setOpenGiftSelectorOnOpen:a}){var re,_e;if(!t)return null;const{user:o,updateCoins:l}=Gr();if(!o)return r.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm p-4 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 text-center",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(tE,{className:"w-8 h-8 text-rose-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),r.jsxs("p",{className:"text-gray-600",children:["You need to be signed in to start messaging with ",r.jsx("span",{className:"font-semibold text-rose-600",children:e.firstName})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Me,{onClick:()=>window.location.href="/login",className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white py-3 text-lg font-medium",children:"Sign In"}),r.jsx(Me,{variant:"outline",onClick:()=>window.location.href="/signup",className:"w-full border-rose-300 text-rose-600 hover:bg-rose-50 py-3 text-lg font-medium",children:"Create Account"}),r.jsx(Me,{variant:"ghost",onClick:s,className:"w-full text-gray-500 hover:text-gray-700 py-2",children:"Cancel"})]})]})});const{setActiveChat:c}=i1(),d=Qh(),u=M7(),f=D7(),m=aL(),p=cL(),[x,j]=E.useState(e.id),[N,y]=E.useState([]),[v,b]=E.useState(""),[k,C]=E.useState(!1),[_,M]=E.useState(!1),[L,$]=E.useState(!1),[K,I]=E.useState(""),[O,W]=E.useState(!1),[Y,le]=E.useState(!1),[ie,oe]=E.useState(!0),[Z,B]=E.useState(!0),[X,J]=E.useState({notifications:!0,sounds:!0,readReceipts:!0,onlineStatus:!0,autoArchive:!1,messagePreview:!0}),[P,H]=E.useState([]),[Q,G]=E.useState(!1),[ae,xe]=E.useState(!1),[we,de]=E.useState(null),[Ee,Le]=E.useState(!1),[$e,Be]=E.useState(!1),[Re,fe]=E.useState(!1),[te,Ke]=E.useState("voice"),[We,Oe]=E.useState(null),[Ve,Ye]=E.useState(null),[Je,dt]=E.useState([]),[pt,ut]=E.useState(null),[ft,wt]=E.useState({isRecording:!1,duration:0,mediaRecorder:null}),[_t,tt]=E.useState(null),[Nt,Ze]=E.useState(""),[Is,Dt]=E.useState(!1),[vr,$t]=E.useState({}),[ns,hs]=E.useState(null),It=E.useRef(null),Qn=E.useRef(null),ts=E.useRef(null),ds=E.useRef(null),Jt=E.useRef(null),Qt=E.useRef(null),xt=E.useRef(!1),Vt=E.useRef(0),mi=F=>{console.log("📧 [EMAIL] Preparing to send admin email notification...");const ne=Date.now(),be=2*60*1e3,Se=ne-Vt.current;if(Se<be){const ke=Math.ceil((be-Se)/1e3);console.log(`📧 [EMAIL] Cooldown active. Next email can be sent in ${ke} seconds`);return}console.log("📧 [EMAIL] Cooldown passed, proceeding with email notification");const ye="FZP5RsHzl0vvkCVIJ",ge={chat_id:F.conversation_id||F.conversationId||"N/A",sender_name:(o==null?void 0:o.firstName)||(o==null?void 0:o.email)||"Unknown User",sender_role:"user",message_content:F.content,sent_at:new Date().toLocaleString()};console.log("📧 [EMAIL] Sending email with data:",ge),console.log("📧 [EMAIL] Using service: service_0qmh0fk, template: template_6pgimka"),o9.send("service_0qmh0fk","template_6pgimka",ge,ye).then(ke=>{console.log("✅ [EMAIL] Email notification sent successfully!"),console.log("📧 [EMAIL] EmailJS response:",ke.text),Vt.current=Date.now(),console.log("📧 [EMAIL] Cooldown timer started - next email can be sent in 2 minutes")},ke=>{console.error("❌ [EMAIL] Failed to send email notification"),console.error("📧 [EMAIL] EmailJS error:",ke)})};E.useEffect(()=>{t&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(F=>{console.log("Notification permission:",F)})},[t]),E.useEffect(()=>(t&&(e!=null&&e.id)?c(e.id):c(null),()=>{t&&c(null)}),[t,e==null?void 0:e.id,c]),E.useEffect(()=>{t&&(o!=null&&o.id)&&!Ee&&(Be(!0),Lt(o.id)&&Lt(e.id)?Cr(o.id):(lt(),Be(!1)),Le(!0))},[t,o==null?void 0:o.id,Ee]),E.useEffect(()=>{if(!t||!(o!=null&&o.id)||!Lt(o.id)||!Ee)return;const F=async()=>{try{console.log("🔄 [CHAT] Syncing unread counts from database...");const{data:be,error:Se}=await Fe.from("conversations").select("user1_id, user2_id, user1_unread_count, user2_unread_count").or(`user1_id.eq.${o.id},user2_id.eq.${o.id}`);if(Se){console.error("❌ [CHAT] Failed to sync unread counts:",Se);return}be&&y(ye=>ye.map(ge=>{const ke=be.find(Xe=>Xe.user1_id===o.id&&Xe.user2_id===ge.id||Xe.user2_id===o.id&&Xe.user1_id===ge.id);if(ke){const nt=ke.user1_id===o.id?ke.user1_unread_count:ke.user2_unread_count;if(ge.unreadCount!==nt)return console.log(`🔄 [CHAT] Syncing unread count for ${ge.profile.firstName}: ${ge.unreadCount} -> ${nt}`),{...ge,unreadCount:nt}}return ge}))}catch(be){console.error("❌ [CHAT] Error syncing unread counts:",be)}};F();const ne=setInterval(F,3e4);return()=>clearInterval(ne)},[t,o==null?void 0:o.id,Ee]),E.useEffect(()=>{if(!t||!(o!=null&&o.id)||!Lt(o.id))return;console.log("🔔 [CHAT] Setting up real-time message subscription..."),console.log("🔔 [CHAT] User ID:",o.id);const F=`chat_messages_${o.id}`,ne=Fe.channel(F).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},be=>{var nt;console.log("🔔 [CHAT] Real-time message received:",be);const Se=be.new;if(!(Se.sender_id===o.id||Se.receiver_id===o.id)){console.log("🔔 [CHAT] Message not relevant to current user, ignoring");return}console.log("🔔 [CHAT] Processing relevant message");const ge=Se.sender_id===o.id,ke=Se.content;if(ge){const at=N.find(Rt=>Rt.id===x);if(at){const Rt=at.messages.find(vt=>vt.isOwn&&vt.text===ke&&Math.abs(new Date(vt.timestamp).getTime()-new Date(Se.created_at).getTime())<1e4&&(vt.id.startsWith("gift-")||vt.id.startsWith("optimistic-")));if(Rt){console.log("🔔 [CHAT] Replacing optimistic message with real message"),y(vt=>vt.map(Wt=>Wt.id===x?{...Wt,messages:Wt.messages.map(is=>is.id===Rt.id?{...is,id:Se.id,status:"delivered"}:is)}:Wt));return}}}const Xe={id:Se.id,text:ke,timestamp:new Date(Se.created_at),isOwn:ge,type:Se.type==="image"?"image":Se.type==="emoji"?"emoji":Se.type==="gift"?"gift":Se.type==="voice"?"voice":"text",imageUrl:Se.type==="image"?Se.image_url:void 0,voiceUrl:Se.type==="voice"?Se.voice_url:void 0,duration:Se.duration||void 0,status:"delivered",giftData:Se.type==="gift"&&Se.gift_name?{name:Se.gift_name,cost:Se.gift_cost||0,category:"unknown",giftType:"real",image:"/placeholder-gift.jpg",quantity:1}:void 0};if(console.log("🔔 [CHAT] Processing message:",{isOwn:Xe.isOwn,content:Xe.text}),y(at=>at.map(Rt=>{if(ge&&Rt.id===Se.receiver_id||!ge&&Rt.id===Se.sender_id){let Wt=[...Rt.messages],is=Rt.unreadCount;if(ge){const Qr=Wt.findIndex(Ys=>{var In;return!(Ys.id.startsWith("optimistic-")||Ys.id.startsWith("gift-"))||!Ys.isOwn?!1:Se.type==="gift"&&Ys.type==="gift"?Se.gift_name&&((In=Ys.giftData)!=null&&In.name)?Se.gift_name===Ys.giftData.name:Ys.text.includes(ke.replace("🎁 ","")):Ys.text===ke});if(Qr!==-1){console.log("🔔 [CHAT] Replacing optimistic message with real message");const Ys=Wt[Qr];Wt[Qr]={...Xe,id:Se.id,giftData:Se.type==="gift"?Ys.giftData:Xe.giftData||Ys.giftData,status:"delivered"}}else console.log("🔔 [CHAT] No optimistic message found, adding real message"),Wt.push(Xe)}else console.log("🔔 [CHAT] Adding incoming message"),Wt.push(Xe),console.log("🔔 [CHAT] Not incrementing unread count in real-time (will be synced from database)");let mt=ke;return Se.type==="image"?mt="📷 Photo":Se.type==="gift"?mt=`🎁 ${ke}`:Se.type==="voice"&&(mt="🎵 Voice message"),{...Rt,messages:Wt,lastMessage:mt,lastMessageTime:Xe.timestamp,unreadCount:is}}return Rt})),!ge&&(console.log("🔔 [CHAT] Playing notification for incoming message"),Z&&new Audio("/notification.mp3").play().catch(Rt=>console.log("Sound play failed:",Rt)),ie&&document.hidden)){let at=Xe.text;Se.type==="image"?at="📷 Sent a photo":Se.type==="voice"?at="🎵 Sent a voice message":Se.type==="gift"&&(at=`🎁 Sent a gift: ${Xe.text}`),new Notification(`New message from ${e.firstName}`,{body:at.substring(0,50)+(at.length>50?"...":""),icon:((nt=e.photos)==null?void 0:nt[0])||void 0})}}).subscribe((be,Se)=>{console.log("🔔 [CHAT] Subscription status:",be),Se&&console.error("🔔 [CHAT] Subscription error:",Se),be==="SUBSCRIBED"?console.log("🔔 [CHAT] ✅ Successfully subscribed to real-time messages"):be==="CHANNEL_ERROR"?console.error("🔔 [CHAT] ❌ Channel error in subscription"):be==="TIMED_OUT"?console.error("🔔 [CHAT] ❌ Subscription timed out"):be==="CLOSED"&&console.log("🔔 [CHAT] 🔒 Subscription closed")});return()=>{console.log("🔔 [CHAT] Cleaning up message subscription..."),Fe.removeChannel(ne)}},[t,o==null?void 0:o.id,Z,ie,x]);const Lt=F=>/^[0-9a-fA-F-]{36}$/.test(F),Cr=async F=>{try{console.log("🔔 [CHAT] Fetching all conversations for user:",F);const{data:ne,error:be}=await Fe.from("conversations").select("*").or(`user1_id.eq.${F},user2_id.eq.${F}`).order("last_message_at",{ascending:!1});if(be){console.error("Error fetching conversations from Supabase:",be),pn(F,e.id);return}if(!ne||ne.length===0){console.log("🔔 [CHAT] No conversations found, creating new one with current profile");const at=Ks(e);y([at]),j(e.id);return}console.log("🔔 [CHAT] Found conversations:",ne.length);const Se=new Set;ne.forEach(at=>{at.user1_id!==F&&Se.add(at.user1_id),at.user2_id!==F&&Se.add(at.user2_id)});const{data:ye,error:ge}=await Fe.from("profiles").select("id, first_name, last_name, photos, country, city, profession, birth_date, role").in("id",Array.from(Se));if(ge){console.error("Error fetching profiles:",ge);return}const ke=new Map;ye==null||ye.forEach(at=>ke.set(at.id,at));const Xe=[];for(const at of ne){const Rt=at.user1_id===F?at.user2_id:at.user1_id,vt=ke.get(Rt);if(!vt){console.warn("Profile not found for user:",Rt);continue}const{data:Wt}=await Fe.from("messages").select("*").or(`and(sender_id.eq.${F},receiver_id.eq.${Rt}),and(sender_id.eq.${Rt},receiver_id.eq.${F})`).order("created_at",{ascending:!0}),is=(Wt||[]).map(qt=>({id:qt.id,text:qt.content,timestamp:new Date(qt.created_at),isOwn:qt.sender_id===F,type:qt.type==="image"?"image":qt.type==="emoji"?"emoji":qt.type==="gift"?"gift":qt.type==="voice"?"voice":"text",imageUrl:qt.type==="image"?qt.image_url:void 0,voiceUrl:qt.type==="voice"?qt.voice_url:void 0,duration:qt.duration||void 0,status:"delivered"})),mt=vt.birth_date?new Date().getFullYear()-new Date(vt.birth_date).getFullYear():null,Qr={id:vt.id,userId:vt.id,firstName:vt.first_name||"Unknown",lastName:vt.last_name||"User",gender:"female",birthDate:vt.birth_date||"1990-01-01",country:vt.country||"Unknown",city:vt.city||"Unknown",bio:"",interests:[],profession:vt.profession||"Unknown",languages:["English"],photos:vt.photos||[],verified:vt.role==="model",createdAt:at.created_at||new Date().toISOString(),height:170,weight:60,eyeColor:"brown",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"no",religion:"other",zodiacSign:"aquarius",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!0,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1},Ys={id:Rt,profile:Qr,lastMessage:is.length>0?(()=>{const qt=is[is.length-1];return qt.type==="image"?"📷 Photo":qt.type==="voice"?"🎵 Voice message":qt.type==="gift"?`🎁 ${qt.text}`:qt.text})():"",lastMessageTime:is.length>0?is[is.length-1].timestamp:new Date,unreadCount:F===at.user1_id?at.user1_unread_count||0:at.user2_unread_count||0,isOnline:!0,messages:is};Xe.push(Ys)}if(!Xe.find(at=>at.id===e.id)){const at=Ks(e);Xe.unshift(at)}console.log("🔔 [CHAT] Loaded conversations:",Xe.map(at=>at.profile.firstName)),y(Xe),j(e.id),Be(!1)}catch(ne){console.error("Error fetching all conversations from Supabase:",ne),pn(o.id,e.id),Be(!1)}},pn=async(F,ne)=>{try{const{data:be,error:Se}=await Fe.from("messages").select("*").or(`and(sender_id.eq.${F},receiver_id.eq.${ne}),and(sender_id.eq.${ne},receiver_id.eq.${F})`).order("created_at",{ascending:!0});if(Se){console.error("Error fetching messages from Supabase:",Se),lt();return}const ye=(be||[]).map(ke=>({id:ke.id,text:ke.content,timestamp:new Date(ke.created_at),isOwn:ke.sender_id===F,type:ke.type==="image"?"image":ke.type==="emoji"?"emoji":ke.type==="gift"?"gift":ke.type==="voice"?"voice":"text",imageUrl:ke.type==="image"?ke.image_url:void 0,voiceUrl:ke.type==="voice"?ke.voice_url:void 0,duration:ke.duration||void 0})),ge={id:ne,profile:e,lastMessage:ye.length>0?(()=>{const ke=ye[ye.length-1];return ke.type==="image"?"📷 Photo":ke.type==="voice"?"🎵 Voice message":ke.type==="gift"?`🎁 ${ke.text}`:ke.text})():"",lastMessageTime:ye.length>0?ye[ye.length-1].timestamp:new Date,unreadCount:0,isOnline:!0,messages:ye};y([ge]),j(ne)}catch(be){console.error("Error fetching conversation from Supabase:",be),lt()}},lt=()=>{try{console.log("🔔 [CHAT] Initializing conversations from localStorage for user:",o.id);const F=`conversations_${o.id}`,ne=localStorage.getItem(F);if(ne){const Se=JSON.parse(ne).map(ke=>({...ke,lastMessageTime:new Date(ke.lastMessageTime),messages:ke.messages.map(Xe=>({...Xe,timestamp:new Date(Xe.timestamp)}))}));console.log("🔔 [CHAT] Found stored conversations:",Se.map(ke=>ke.profile.firstName));const ye=Se;if(ye.find(ke=>ke.id===e.id))ye.sort((ke,Xe)=>Xe.lastMessageTime.getTime()-ke.lastMessageTime.getTime()),y(ye),j(e.id);else{const ke=Ks(e);ye.sort((Xe,nt)=>nt.lastMessageTime.getTime()-Xe.lastMessageTime.getTime()),y([ke,...ye]),j(e.id)}}else{console.log("🔔 [CHAT] No stored conversations found, creating new conversation and sample conversations");const be=[],Se=Ks(e);be.push(Se),Lt(o.id)||[{id:"sample-1",firstName:"Emma",lastName:"Wilson",photos:["https://images.unsplash.com/photo-1494790108755-2616b612b353?w=400"],country:"USA",city:"New York",verified:!0},{id:"sample-2",firstName:"Sofia",lastName:"Rodriguez",photos:["https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400"],country:"Spain",city:"Madrid",verified:!0},{id:"sample-3",firstName:"Anna",lastName:"Kowalski",photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"],country:"Poland",city:"Warsaw",verified:!1}].forEach((ge,ke)=>{const Xe={id:ge.id,userId:ge.id,firstName:ge.firstName,lastName:ge.lastName,gender:"female",birthDate:"1995-01-01",country:ge.country,city:ge.city,bio:"",interests:[],profession:"Model",languages:["English"],photos:ge.photos,verified:ge.verified,createdAt:new Date().toISOString(),height:170,weight:60,eyeColor:"brown",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"no",religion:"other",zodiacSign:"aquarius",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!0,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1},nt=[{id:`sample-msg-${ke}-1`,text:"Hi! I saw your profile and would love to chat! 😊",timestamp:new Date(Date.now()-(24-ke*6)*60*60*1e3),isOwn:!1,type:"text",status:"delivered"},{id:`sample-msg-${ke}-2`,text:"Hope you're having a wonderful day! 💕",timestamp:new Date(Date.now()-(12-ke*3)*60*60*1e3),isOwn:!1,type:"text",status:"delivered"}],at={id:ge.id,profile:Xe,lastMessage:nt[nt.length-1].text,lastMessageTime:nt[nt.length-1].timestamp,unreadCount:2,isOnline:!0,messages:nt};be.push(at)}),y(be),j(e.id)}}catch(F){console.error("Error initializing conversations:",F);const ne=Ks(e);y([ne]),j(e.id)}},Ks=F=>{const ne={...F};return{id:F.id,profile:ne,lastMessage:"",lastMessageTime:new Date,unreadCount:0,isOnline:!0,messages:[]}};E.useEffect(()=>{if(o!=null&&o.id&&N.length>0&&Ee){const F=`conversations_${o.id}`;localStorage.setItem(F,JSON.stringify(N))}},[N,o==null?void 0:o.id,Ee]),E.useEffect(()=>{Kr()},[N,k]);const Kr=()=>{setTimeout(()=>{var F;(F=It.current)==null||F.scrollIntoView({behavior:"smooth"})},100)},Xt=(F,ne)=>{console.log("🔔 [CHAT] Adding message to conversation:",{conversationId:F,messageId:ne.id,content:ne.text}),y(be=>be.map(ye=>{if(ye.id===F){if(ye.messages.some(Xe=>Xe.id===ne.id))return console.log("🔔 [CHAT] Message already exists, skipping:",ne.id),ye;console.log("🔔 [CHAT] Adding new message to conversation");let ke=ye.unreadCount;return!ne.isOwn&&x!==F?(ke=ye.unreadCount+1,console.log("🔔 [CHAT] Incrementing unread count for localStorage conversation:",ye.profile.firstName,"New count:",ke)):!ne.isOwn&&x===F&&console.log("🔔 [CHAT] Not incrementing unread count for active conversation:",ye.profile.firstName),{...ye,messages:[...ye.messages,ne],lastMessage:ne.text,lastMessageTime:ne.timestamp,unreadCount:ke}}return ye}))},Ps=async()=>{if(!v.trim())return;if(!o||!o.chatSubscription||new Date(o.chatSubscription.expiresAt)<=new Date){window.location.href="/pricing";return}const F=v.trim();if(b(""),Oe(null),W(!0),Lt(o.id)&&Lt(x)){const ne={id:`optimistic-${Date.now()}`,text:F,timestamp:new Date,isOwn:!0,type:"text",status:"sending",replyTo:We?{id:We.id,text:We.text,senderName:We.isOwn?"You":(ht==null?void 0:ht.firstName)||"User"}:void 0};Xt(x,ne);try{const{error:be}=await Fe.from("messages").insert({sender_id:o.id,receiver_id:x,content:F,type:"text"});if(be){console.error("❌ Failed to send message to database:",be),d.error("Failed to send message. Please try again.","Error"),b(F),y(Se=>Se.map(ye=>ye.id===x?{...ye,messages:ye.messages.filter(ge=>ge.id!==ne.id)}:ye));return}else console.log("✅ Message sent to database successfully"),mi({conversation_id:x,content:F,sender_id:o.id,created_at:new Date().toISOString()})}catch(be){console.error("❌ Failed to send message:",be),d.error("Failed to send message. Please try again.","Error"),b(F),y(Se=>Se.map(ye=>ye.id===x?{...ye,messages:ye.messages.filter(ge=>ge.id!==ne.id)}:ye));return}}else{const ne={id:`msg-${Date.now()}`,text:F,timestamp:new Date,isOwn:!0,type:"text",status:"sent",replyTo:We?{id:We.id,text:We.text,senderName:We.isOwn?"You":(ht==null?void 0:ht.firstName)||"User"}:void 0};Xt(x,ne),Lt(o.id)||setTimeout(()=>{const be=["Thank you for your message! 😊","That's really interesting!","I'd love to hear more about that.","You seem like such a nice person! 💕","I'm really enjoying our conversation.","Tell me more about yourself!","That sounds wonderful! ✨","I hope we can chat more soon.","You made me smile today! 😊","I feel like we have a great connection!"],Se=be[Math.floor(Math.random()*be.length)],ye={id:`ai-${Date.now()}`,text:Se,timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};Xt(x,ye)},2e3+Math.random()*3e3)}},gs=async F=>{if(j(F),le(!1),o&&Lt(o.id)&&Lt(F))try{console.log("📖 [CHAT] Marking conversation as read in database:",{userId:o.id,conversationId:F});const{error:ne}=await Fe.rpc("mark_conversation_read",{other_user_uuid:F});if(ne)console.error("❌ [CHAT] Failed to mark conversation as read:",ne);else{console.log("✅ [CHAT] Successfully marked conversation as read in database");const{data:be,error:Se}=await Fe.from("conversations").select("user1_unread_count, user2_unread_count, user1_id, user2_id").or(`and(user1_id.eq.${o.id},user2_id.eq.${F}),and(user1_id.eq.${F},user2_id.eq.${o.id})`).single();if(Se)console.error("❌ [CHAT] Failed to fetch updated unread count:",Se);else if(be){const ge=be.user1_id===o.id?be.user1_unread_count:be.user2_unread_count;console.log("📖 [CHAT] Updated unread count from database:",ge),y(ke=>ke.map(Xe=>Xe.id===F?{...Xe,unreadCount:ge}:Xe))}}}catch(ne){console.error("❌ [CHAT] Error marking conversation as read:",ne)}else y(ne=>ne.map(be=>be.id===F?{...be,unreadCount:0}:be))},ur=()=>N.find(F=>F.id===x),gn=ur(),ht=gn==null?void 0:gn.profile,xn=(gn==null?void 0:gn.messages)||[],yn=ht!=null&&ht.birthDate?new Date().getFullYear()-new Date(ht.birthDate).getFullYear():0,vn=["😊","😍","🥰","😘","💕","❤️","🔥","😂","👍","🙌","💯","🎉"],bn=N.filter(F=>F.profile.firstName.toLowerCase().includes(K.toLowerCase())||F.lastMessage.toLowerCase().includes(K.toLowerCase())),Yr=F=>{b(ne=>ne+F),M(!1)},Ln=()=>{var F;(F=Qn.current)==null||F.click()},Oi=async F=>{var be;const ne=(be=F.target.files)==null?void 0:be[0];if(ne&&ne.type.startsWith("image/"))try{const Se=await Mn(ne,800,.7);if(o&&Lt(o.id)&&Lt(x)){const ye=`img-${Date.now()}`;await da(Se,ye)}else{const ye={id:`img-${Date.now()}`,text:"",timestamp:new Date,isOwn:!0,type:"image",imageUrl:URL.createObjectURL(Se),status:"sent"};Xt(x,ye)}}catch(Se){console.error("Error processing image:",Se),d.error("Failed to send image")}},Mn=(F,ne,be)=>new Promise(Se=>{const ye=document.createElement("canvas"),ge=ye.getContext("2d"),ke=document.createElement("img");ke.onload=()=>{let{width:Xe,height:nt}=ke;Xe>ne&&(nt=nt*ne/Xe,Xe=ne),ye.width=Xe,ye.height=nt,ge.drawImage(ke,0,0,Xe,nt),ye.toBlob(at=>{if(at){const Rt=new File([at],F.name,{type:"image/jpeg",lastModified:Date.now()});Se(Rt)}else Se(F)},"image/jpeg",be)},ke.src=URL.createObjectURL(F)}),da=async(F,ne)=>{try{console.log("🔍 [CHAT] Starting image upload process:",{fileName:F.name,fileType:F.type,fileSize:F.size,messageId:ne,userId:o.id,activeConversation:x});const be=`${o.id}/${ne}-${Date.now()}.jpg`,{data:Se,error:ye}=await Fe.storage.from("chat-images").upload(be,F);if(ye){console.error("❌ [CHAT] Error uploading image to storage:",ye);return}console.log("✅ [CHAT] Image uploaded to storage successfully:",Se);const{data:{publicUrl:ge}}=Fe.storage.from("chat-images").getPublicUrl(be);console.log("🔍 [CHAT] Generated public URL:",ge);const ke={sender_id:o.id,receiver_id:x,content:"",type:"image",image_url:ge};console.log("🔍 [CHAT] Inserting message into database:",ke);const{data:Xe,error:nt}=await Fe.from("messages").insert(ke);if(nt)throw console.error("❌ [CHAT] Error inserting message into database:",nt),nt;console.log("✅ [CHAT] Message inserted into database successfully:",Xe),console.log("✅ [CHAT] Image upload process completed successfully")}catch(be){console.error("❌ [CHAT] Error in uploadImageToSupabase:",be)}},Fi=async()=>{if(!o||o.coins<Pd.videoCall){window.location.href="/lcn/pricing";return}const{error:F}=await l(-1e3);if(F){d.error("Unable to connect. Please try again.","Connection Error");return}Ke("video"),fe(!0);const ne={id:`vcall-${Date.now()}`,text:"📹 Video call initiated",timestamp:new Date,isOwn:!0,type:"text",status:"sending"};Xt(x,ne)},Bi=async()=>{if(!o||o.coins<Pd.voiceCall){window.location.href="/lcn/pricing";return}const{error:F}=await l(-400);if(F){d.error("Unable to connect. Please try again.","Connection Error");return}Ke("voice"),fe(!0);const ne={id:`acall-${Date.now()}`,text:"📞 Voice call initiated",timestamp:new Date,isOwn:!0,type:"text",status:"sending"};Xt(x,ne)},pi=()=>{if(!o||o.coins<5){window.location.href="/lcn/pricing";return}G(!0)},Rl=async(F,ne,be=1)=>{var at;G(!1);const Se=F.cost*be;if(!o||o.coins<Se){window.location.href="/lcn/pricing";return}const ye=(at=ur())==null?void 0:at.profile,{error:ge}=await l(-Se);if(ge){d.error("Failed to send gift. Please try again.","Error");return}const ke=be>1?`${be}x ${F.name}`:F.name,Xe={id:`gift-${Date.now()}`,text:ke,timestamp:new Date,isOwn:!0,type:"gift",status:"sending",giftData:{name:F.name,cost:F.cost,category:F.category,giftType:"real",image:F.image,quantity:be}};Xt(x,Xe);let nt=!0;if(o&&Lt(o.id)&&Lt(x))try{await Fl(Xe.id,{...F,giftType:"real",quantity:be})}catch(Rt){nt=!1,console.error("Gift failed to send:",Rt),y(vt=>vt.map(Wt=>Wt.id===x?{...Wt,messages:Wt.messages.filter(is=>is.id!==Xe.id)}:Wt));return}if(nt){setTimeout(()=>{y(vt=>vt.map(Wt=>Wt.id===x?{...Wt,messages:Wt.messages.map(is=>is.id===Xe.id?{...is,status:"sent"}:is)}:Wt))},1e3),de({...F,giftType:"real"}),xe(!0);const Rt=be>1?` (${be} items)`:"";d.success(`Gift sent! ${F.name}${Rt} purchased for ${ye==null?void 0:ye.firstName}.`,"Gift Sent!")}},ua=async()=>{if(!o||o.coins<Pd.contactInfo){window.location.href="/lcn/pricing";return}const{error:F}=await l(-700);if(F){d.error("Failed to send request. Please try again.","Error");return}const ne={id:`whatsapp-${Date.now()}`,text:"📱 WhatsApp contact request sent",timestamp:new Date,isOwn:!0,type:"text",status:"sending"};Xt(x,ne),setTimeout(()=>{y(Se=>Se.map(ye=>ye.id===x?{...ye,messages:ye.messages.map(ge=>ge.id===ne.id?{...ge,text:"📱 WhatsApp contact request delivered",status:"sent"}:ge)}:ye));const be=Math.random()*15e3+3e4;setTimeout(()=>{if(y(ye=>ye.map(ge=>ge.id===x?{...ge,messages:ge.messages.map(ke=>ke.id===ne.id?{...ke,text:"📱 WhatsApp contact request",status:"delivered"}:ke)}:ge)),Math.random()>.8){const ye={id:`system-${Date.now()}`,text:"Hi! I received your WhatsApp request. I'm a bit cautious about sharing my contact outside the platform. Let's chat here a bit more first! 😊",timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};Xt(x,ye)}else{const ye={id:`system-${Date.now()}`,text:"Thank you for your interest! I prefer to keep our conversations on this platform for now. I hope you understand! 💕",timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};Xt(x,ye)}},be)},3e3)},Jr=()=>{u.confirm("Block User",`Are you sure you want to block ${ht==null?void 0:ht.firstName}?

This will prevent them from contacting you and remove this conversation.`,()=>{y(F=>F.filter(ne=>ne.id!==x)),j(""),d.success(`${ht==null?void 0:ht.firstName} has been blocked.`,"User Blocked")},()=>{},{type:"danger",confirmText:"Block User",cancelText:"Cancel"})},Ua=()=>{f.prompt("Report User",`Report ${ht==null?void 0:ht.firstName} for inappropriate behavior?

Please provide details about the issue:`,F=>{F.trim()&&d.success(`Thank you for your report. We will review ${ht==null?void 0:ht.firstName}'s account.`,"Report Submitted")},()=>{})},Dl=()=>{window.open(`/lcn/profile/${ht==null?void 0:ht.id}`,"_blank")},Zn=()=>{m.openSettings("Chat Settings",X,F=>{J(F),oe(F.notifications),B(F.sounds),d.success("Chat settings updated successfully.","Settings Saved")})};E.useEffect(()=>{const F=ne=>{if(xt.current){console.log("Menu just opened, ignoring outside click");return}ts.current&&!ts.current.contains(ne.target)&&(console.log("Clicking outside more menu, closing..."),le(!1)),ds.current&&!ds.current.contains(ne.target)&&ut(null)};if(Y||pt)return document.addEventListener("mousedown",F),document.addEventListener("touchstart",F),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("touchstart",F)}},[Y,pt]),E.useEffect(()=>{if(t&&P.length===0){const F=[{id:"archived-1",profile:{id:"archived-1",userId:"archived-1",firstName:"Sofia",lastName:"P.",gender:"female",birthDate:"1995-03-15",country:"Bulgaria",city:"Sofia",bio:"Marketing manager who loves travel",interests:["Travel","Photography","Yoga"],profession:"Marketing Manager",languages:["Bulgarian","English"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"],verified:!0,createdAt:"2025-05-15",height:165,weight:55,eyeColor:"brown",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"no",religion:"orthodox",zodiacSign:"pisces",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!1,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1},lastMessage:"Thanks for the lovely evening! 😊",lastMessageTime:new Date(Date.now()-6048e5),archivedAt:new Date(Date.now()-2592e5),messageCount:47}];H(F)}},[t,P.length]),E.useEffect(()=>{if(!t||!(o!=null&&o.id)||Lt(o.id))return;const F=()=>{var Xe;const be=N.filter(nt=>nt.id!==x&&nt.messages.length>0);if(be.length===0)return;const Se=be[Math.floor(Math.random()*be.length)],ye=["Hey! How are you doing? 😊","I was thinking about our last conversation...","Would you like to chat sometime? ☕","Hope you're having a great day! 🌟","Just wanted to say hi! 👋","What are your plans for the weekend?","I saw something that reminded me of you 💕","Good morning! ☀️","How was your day today?","I'd love to get to know you better 💫"],ge=ye[Math.floor(Math.random()*ye.length)],ke={id:`incoming-${Date.now()}`,text:ge,timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};console.log("🔔 [DEMO] Simulating incoming message from:",Se.profile.firstName),Xt(Se.id,ke),Z&&new Audio("/notification.mp3").play().catch(at=>console.log("Sound play failed:",at)),ie&&document.hidden&&new Notification(`New message from ${Se.profile.firstName}`,{body:ge.substring(0,50)+(ge.length>50?"...":""),icon:((Xe=Se.profile.photos)==null?void 0:Xe[0])||void 0})},ne=setInterval(()=>{Math.random()>.7&&F()},45e3);return()=>clearInterval(ne)},[t,o==null?void 0:o.id,N,x,Z,ie]);const za=F=>F.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Ao=F=>{const be=new Date().getTime()-F.getTime(),Se=Math.floor(be/(1e3*60*60)),ye=Math.floor(Se/24);return ye>0?`${ye}d`:Se>0?`${Se}h`:"now"},$a=F=>{Oe(F),ut(null)},ha=F=>{F.isOwn&&(Ye(F),b(F.text),ut(null))},Ol=async F=>{try{y(ne=>ne.map(be=>be.id===x?{...be,messages:be.messages.filter(Se=>Se.id!==F)}:be)),o&&Lt(o.id)&&await Fe.from("messages").delete().eq("id",F),ut(null),d.success("Message deleted")}catch(ne){console.error("Error deleting message:",ne),d.error("Failed to delete message")}},Ss=F=>{navigator.clipboard.writeText(F.text),d.success("Message copied to clipboard"),ut(null)},Va=F=>{navigator.clipboard.writeText(F.text),d.success("Message copied to clipboard"),ut(null)},qa=(F,ne)=>{const be=(o==null?void 0:o.firstName)||"You";y(Se=>Se.map(ye=>ye.id===x?{...ye,messages:ye.messages.map(ge=>ge.id===F?{...ge,reactions:ge.reactions?ge.reactions.map(ke=>ke.emoji===ne?{...ke,users:[...ke.users,be]}:ke).concat(ge.reactions.find(ke=>ke.emoji===ne)?[]:[{emoji:ne,users:[be]}]):[{emoji:ne,users:[be]}]}:ge)}:ye)),ut(null)},Ha=async()=>{if(ft.isRecording)Jt.current&&Jt.current.state==="recording"&&Jt.current.stop();else try{const F=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}}),ne=new MediaRecorder(F,{mimeType:"audio/webm;codecs=opus"}),be=[];let Se;ne.ondataavailable=ye=>{ye.data.size>0&&be.push(ye.data)},ne.onstop=async()=>{clearInterval(Se);const ye=new Blob(be,{type:"audio/webm"}),ge=URL.createObjectURL(ye),ke=ft.duration,Xe={id:`voice-${Date.now()}`,text:"",timestamp:new Date,isOwn:!0,type:"voice",voiceUrl:ge,duration:ke,status:"sending"};Xt(x,Xe),o&&Lt(o.id)&&Lt(x)&&await Ui(ye,Xe.id,ke),setTimeout(()=>{y(nt=>nt.map(at=>at.id===x?{...at,messages:at.messages.map(Rt=>Rt.id===Xe.id?{...Rt,status:"sent"}:Rt)}:at))},1e3),F.getTracks().forEach(nt=>nt.stop()),wt({isRecording:!1,duration:0,mediaRecorder:null})},ne.onerror=ye=>{console.error("MediaRecorder error:",ye),d.error("Recording failed. Please try again."),clearInterval(Se),F.getTracks().forEach(ge=>ge.stop()),wt({isRecording:!1,duration:0,mediaRecorder:null})},ne.start(100),Jt.current=ne,wt({isRecording:!0,duration:0,mediaRecorder:ne}),Se=setInterval(()=>{wt(ye=>({...ye,duration:ye.duration+1}))},1e3),setTimeout(()=>{var ye;((ye=Jt.current)==null?void 0:ye.state)==="recording"&&Jt.current.stop()},3e5)}catch(F){console.error("Error accessing microphone:",F),F instanceof Error?F.name==="NotAllowedError"?d.error("Microphone access denied. Please allow microphone access and try again."):F.name==="NotFoundError"?d.error("No microphone found. Please connect a microphone and try again."):d.error("Could not access microphone. Please check your browser settings."):d.error("Could not access microphone")}},Ui=async(F,ne,be)=>{try{const Se=`${o.id}/${ne}-${Date.now()}.webm`,{data:ye,error:ge}=await Fe.storage.from("chat-voice").upload(Se,F);if(ge){console.error("Error uploading voice:",ge);return}const{data:{publicUrl:ke}}=Fe.storage.from("chat-voice").getPublicUrl(Se);await Fe.from("messages").insert({sender_id:o.id,receiver_id:x,content:"",type:"voice",voice_url:ke,duration:be}),console.log("Voice message uploaded successfully:",ke)}catch(Se){console.error("Error uploading voice to Supabase:",Se)}},Fl=async(F,ne)=>{try{const be=e.id;if(o!=null&&o.role&&(o.role.includes("admin")||o.role.includes("super_admin"))){console.log("🎁 [CHAT] Admin user detected, skipping Supabase save (gift should be sent via AdminService)");return}console.log("🎁 Saving gift to Supabase:",{messageId:F,sender_id:o.id,receiver_id:be,content:ne.quantity>1?`${ne.quantity}x ${ne.name}`:ne.name,type:"gift",gift_name:ne.name,gift_cost:ne.cost,senderIdValid:Lt(o.id),receiverIdValid:Lt(be)});const Se={sender_id:o.id,receiver_id:be,content:ne.quantity>1?`${ne.quantity}x ${ne.name}`:ne.name,type:"gift"};ne.name&&(Se.gift_name=ne.name),ne.cost&&(Se.gift_cost=ne.cost);const{data:ye,error:ge}=await Fe.from("messages").insert(Se);if(ge)throw console.error("❌ Supabase error saving gift:",ge),console.error("❌ Error details:",JSON.stringify(ge,null,2)),console.error("❌ Insert data was:",JSON.stringify(Se,null,2)),ge;console.log("✅ Gift message saved successfully:",ye)}catch(be){console.error("❌ Error saving gift to Supabase:",be),d.error("Failed to send gift. Please try again.","Error"),o&&await l(ne.cost)}},Xr=(F,ne)=>{if(_t===F)Qt.current&&(Qt.current.pause(),tt(null));else{Qt.current&&Qt.current.pause();const be=new Audio(ne);Qt.current=be,be.onended=()=>{tt(null)},be.play(),tt(F)}},gi=F=>{const ne=Math.floor(F/60),be=F%60;return`${ne}:${be.toString().padStart(2,"0")}`},br=F=>{switch(F){case"sending":return r.jsx(Vd,{className:"w-3 h-3 text-gray-400"});case"sent":return r.jsx(Bs,{className:"w-3 h-3 text-gray-400"});case"delivered":return r.jsx(Wb,{className:"w-3 h-3 text-gray-400"});case"read":return r.jsx(Wb,{className:"w-3 h-3 text-blue-500"});default:return null}},fa=F=>{if(!F.trim())return[];const ne=N.find(be=>be.id===x);return ne?ne.messages.filter(be=>be.text.toLowerCase().includes(F.toLowerCase())):[]};E.useEffect(()=>{v&&x&&$t(F=>({...F,[x]:v}))},[v,x]),E.useEffect(()=>{x&&vr[x]&&!Ve&&b(vr[x])},[x,vr,Ve]);const T=()=>{fe(!1);const F=te==="video"?"📹 Video":"📞 Voice";y(ne=>ne.map(be=>be.id===x?{...be,messages:be.messages.map((Se,ye,ge)=>ye===ge.length-1&&Se.text.includes("call initiated")?{...Se,text:`${F} call - No answer`,status:"delivered"}:Se)}:be)),setTimeout(()=>{const ne={id:`system-${Date.now()}`,text:`${ht==null?void 0:ht.firstName} ${te==="video"?"missed your video call":"is not available right now"}. ${te==="voice"?"Your call went to voicemail.":"You can try again later or send a message instead."}`,timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};Xt(x,ne)},1e3),d.warning(`${ht==null?void 0:ht.firstName} ${te==="video"?"is currently unavailable. Your call couldn't be completed.":"didn't answer your call. Try sending a message instead."}`,"Call Not Answered")};return E.useEffect(()=>{t&&i&&(G(!0),a&&a(!1))},[t,i,a]),r.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-0 sm:p-4",children:[r.jsxs("div",{className:"bg-white rounded-none sm:rounded-2xl shadow-2xl w-full h-full sm:max-w-6xl sm:h-[700px] flex animate-scale-in overflow-hidden",children:[r.jsxs("div",{className:`${x?"hidden md:flex":"flex"} w-full md:w-80 border-r border-slate-200 flex-col bg-gradient-to-b from-slate-50 to-white sm:rounded-l-2xl h-full`,children:[r.jsxs("div",{className:"flex-shrink-0 p-3 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-base font-medium text-slate-800",children:"Messages"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-slate-100 md:hidden touch-manipulation",onClick:s,title:"Close",children:r.jsx(kr,{className:"h-4 w-4 text-slate-600"})}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-slate-100 touch-manipulation",onClick:Zn,title:"Settings",children:r.jsx(sa,{className:"h-4 w-4 text-slate-600"})})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx($s,{placeholder:"Search...",value:K,onChange:F=>I(F.target.value),className:"pl-10 bg-slate-50 border-slate-200 focus:border-rose-400 focus:ring-rose-400 text-sm h-9 rounded-lg"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:$e?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):bn.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Ns,{className:"mx-auto h-8 w-8 text-gray-400 mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No conversations found"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start chatting to see your conversations here"})]}):r.jsx(r.Fragment,{children:bn.map(F=>r.jsx("div",{onClick:()=>gs(F.id),className:`p-3 cursor-pointer transition-all duration-200 hover:bg-slate-50 ${x===F.id?"bg-rose-50 border-l-2 border-l-rose-500":""}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[F.profile.photos&&F.profile.photos.length>0&&F.profile.photos[0]?r.jsx("img",{src:F.profile.photos[0],alt:F.profile.firstName,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),F.isOnline&&r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border border-white rounded-full"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-medium text-slate-900 truncate",children:F.profile.firstName}),F.profile.verified&&r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:"✓"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-slate-400",children:F.lastMessage?Ao(F.lastMessageTime):"now"}),F.unreadCount>0&&r.jsx("div",{className:"bg-red-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:F.unreadCount>99?"99+":F.unreadCount})]})]}),r.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:F.lastMessage||"No messages yet"})]})]})},F.id))})})]}),r.jsx("div",{className:`${x?"flex":"hidden md:flex"} flex-1 flex-col`,children:ht&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border-b border-slate-200 bg-gradient-to-r from-rose-50 to-pink-50",children:[r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 md:hidden touch-manipulation flex-shrink-0",onClick:()=>j(""),title:"Back to conversations",children:r.jsx(Ah,{className:"h-5 w-5 text-slate-600"})}),r.jsxs("div",{className:"relative flex-shrink-0",children:[ht.photos&&ht.photos.length>0&&ht.photos[0]?r.jsx("img",{src:ht.photos[0],alt:ht.firstName,className:"w-9 h-9 rounded-full object-cover border-2 border-white shadow-sm"}):r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center border-2 border-white shadow-sm",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:[ht.firstName,", ",yn]}),r.jsxs("p",{className:"text-xs text-slate-600 truncate",children:[ht.city,", ",ht.country]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 md:hidden",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 border border-amber-200 rounded-full px-2 py-1 shadow-sm",children:[r.jsx(Jn,{className:"w-3 h-3 text-amber-600"}),r.jsx("span",{className:"text-xs font-semibold text-amber-800",children:(o==null?void 0:o.coins)||0})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 hover:bg-white/60 touch-manipulation",onClick:Bi,title:"Voice call",children:r.jsx(aa,{className:"h-5 w-5 text-slate-600"})}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 hover:bg-white/60 touch-manipulation",onClick:Fi,title:"Video call",children:r.jsx(wo,{className:"h-5 w-5 text-slate-600"})}),r.jsx("div",{className:"relative",ref:ts,children:r.jsx(Me,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 hover:bg-white/60 touch-manipulation",onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Mobile more menu clicked, current state:",Y),Y?le(!1):(xt.current=!0,le(!0),setTimeout(()=>{xt.current=!1},200))},title:"More options",children:r.jsx(Yb,{className:"h-5 w-5 text-slate-600"})})})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-1 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 border border-amber-200 rounded-full px-2 py-1 shadow-sm",children:[r.jsx(Jn,{className:"w-3 h-3 text-amber-600"}),r.jsx("span",{className:"text-xs font-semibold text-amber-800",children:(o==null?void 0:o.coins)||0})]}),r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-gradient-to-r hover:from-purple-100 hover:to-pink-100 relative group transition-all duration-300 touch-manipulation",onClick:pi,title:"Send a special gift ✨",children:[r.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r.jsx("div",{className:"absolute top-0 left-1 w-1 h-1 bg-yellow-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-1 right-0 w-1 h-1 bg-pink-400 rounded-full animate-ping delay-150"})]}),r.jsx(Hn,{className:"h-4 w-4 text-purple-600 group-hover:text-pink-600 transition-colors duration-300 animate-pulse"})]}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-green-100 hover:text-green-600 touch-manipulation",onClick:ua,title:"Request Contact",children:r.jsx(Ns,{className:"h-4 w-4 text-green-600"})}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:()=>Dt(!Is),title:"Search messages",children:r.jsx(un,{className:"h-4 w-4 text-slate-600"})}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:Bi,children:r.jsx(aa,{className:"h-4 w-4 text-slate-600"})}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:Fi,children:r.jsx(wo,{className:"h-4 w-4 text-slate-600"})}),r.jsx("div",{className:"relative",ref:ts,children:r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:()=>le(!Y),children:r.jsx(Yb,{className:"h-4 w-4 text-slate-600"})})}),r.jsx(Me,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:s,title:"Close",children:r.jsx(kr,{className:"h-4 w-4 text-slate-600"})})]})]}),Y&&r.jsxs("div",{className:"absolute top-16 right-3 md:right-4 z-[60] bg-white rounded-lg shadow-xl border border-slate-200 py-2 min-w-48 max-w-xs animate-in slide-in-from-top-2 duration-200",children:[r.jsxs("div",{className:"md:hidden",children:[r.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Mobile Search Messages clicked"),le(!1),Dt(!Is)},className:"w-full px-4 py-3 text-left hover:bg-slate-50 active:bg-slate-100 flex items-center gap-3 touch-manipulation transition-colors",children:[r.jsx(un,{className:"h-5 w-5 text-slate-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Search Messages"})]}),r.jsx("hr",{className:"my-2 border-slate-200"})]}),r.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("View Profile clicked"),le(!1),Dl()},className:"w-full px-4 py-3 text-left hover:bg-slate-50 active:bg-slate-100 flex items-center gap-3 touch-manipulation transition-colors",children:[r.jsx(Oa,{className:"h-5 w-5 text-slate-600"}),r.jsx("span",{className:"text-sm font-medium",children:"View Profile"})]}),r.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Chat Settings clicked"),le(!1),Zn()},className:"w-full px-4 py-3 text-left hover:bg-slate-50 active:bg-slate-100 flex items-center gap-3 touch-manipulation transition-colors",children:[r.jsx(sa,{className:"h-5 w-5 text-slate-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Chat Settings"})]}),r.jsx("hr",{className:"my-2 border-slate-200"}),r.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Block User clicked"),le(!1),Jr()},className:"w-full px-4 py-3 text-left hover:bg-red-50 active:bg-red-100 flex items-center gap-3 text-red-600 touch-manipulation transition-colors",children:[r.jsx(yE,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Block User"})]}),r.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("Report User clicked"),le(!1),Ua()},className:"w-full px-4 py-3 text-left hover:bg-red-50 active:bg-red-100 flex items-center gap-3 text-red-600 touch-manipulation transition-colors",children:[r.jsx(Q8,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Report User"})]})]})]}),Is&&r.jsxs("div",{className:"border-b border-slate-200 p-3 bg-white",children:[r.jsxs("div",{className:"relative",children:[r.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx($s,{placeholder:"Search messages...",value:Nt,onChange:F=>Ze(F.target.value),className:"pl-10 bg-slate-50 border-slate-300 focus:border-rose-400 focus:ring-rose-400 text-sm"})]}),Nt&&r.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[fa(Nt).length," message(s) found"]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50/30 to-white",children:[xn.map(F=>{var ne,be;return r.jsxs("div",{className:`flex ${F.isOwn?"justify-end":"justify-start"} group`,children:[r.jsxs("div",{className:`max-w-[85%] md:max-w-[80%] ${F.isOwn,"order-2"} relative`,children:[F.replyTo&&r.jsxs("div",{className:`mb-2 px-3 py-2 rounded-lg bg-slate-100 border-l-4 border-rose-400 text-sm ${F.isOwn?"ml-auto":"mr-auto"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ig,{className:"w-3 h-3 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium text-slate-600",children:F.replyTo.senderName})]}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:F.replyTo.text})]}),F.isForwarded&&r.jsxs("div",{className:`mb-1 flex items-center gap-1 text-xs text-slate-500 ${F.isOwn?"justify-end":"justify-start"}`,children:[r.jsx(Gb,{className:"w-3 h-3"}),r.jsx("span",{children:"Forwarded"})]}),r.jsxs("div",{className:`px-4 py-3 rounded-2xl shadow-sm relative ${F.type==="gift"?F.isOwn?"bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white rounded-br-md border-2 border-yellow-300 shadow-lg":"bg-gradient-to-r from-pink-50 to-rose-50 text-slate-800 rounded-bl-md border-2 border-rose-200 shadow-lg":F.isOwn?"bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-br-md":"bg-white text-slate-800 rounded-bl-md border border-slate-200"}`,onContextMenu:Se=>{Se.preventDefault(),ut(pt===F.id?null:F.id)},children:[F.type==="image"&&F.imageUrl?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:F.imageUrl,alt:"Shared image",className:"rounded-lg max-w-48 h-auto cursor-pointer hover:opacity-90 transition-opacity",style:{maxHeight:"200px",objectFit:"cover"},onClick:()=>window.open(F.imageUrl,"_blank"),loading:"lazy"}),F.text&&r.jsx("p",{className:"text-sm",children:F.text})]}):F.type==="voice"&&F.voiceUrl?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>Xr(F.id,F.voiceUrl),className:"flex-shrink-0 w-8 h-8 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:_t===F.id?r.jsx(iE,{className:"w-4 h-4"}):r.jsx(cE,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full",children:r.jsx("div",{className:"h-full bg-white rounded-full",style:{width:"60%"}})}),r.jsx("span",{className:"text-xs opacity-75",children:gi(F.duration||0)})]})}),r.jsx(np,{className:"w-4 h-4 opacity-75"})]}):F.type==="gift"?r.jsx("div",{className:"space-y-2",children:((ne=F.giftData)==null?void 0:ne.giftType)==="real"&&F.giftData.image?r.jsxs("div",{className:"space-y-3",children:[r.jsx("img",{src:F.giftData.image,alt:F.giftData.name,className:"w-40 h-32 object-cover rounded-lg mx-auto"}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium",children:F.isOwn?"Gift Sent!":"Gift Received!"}),r.jsx("p",{className:"text-xs opacity-90 mt-1",children:F.giftData.quantity&&F.giftData.quantity>1?`${F.giftData.quantity}x ${F.giftData.name}`:F.giftData.name})]})]}):r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("div",{className:"text-2xl animate-bounce",children:"🎁"}),r.jsx("p",{className:"text-sm font-medium",children:F.isOwn?"Gift Sent!":"Gift Received!"}),r.jsx("p",{className:"text-xs opacity-90",children:((be=F.giftData)==null?void 0:be.name)||F.text.replace(/^[^\s]+\s/,"")})]})}):r.jsxs("div",{children:[r.jsx("p",{className:"text-base leading-relaxed break-words",children:F.text}),F.isEdited&&r.jsx("span",{className:"text-xs opacity-60 italic",children:"edited"})]}),r.jsxs("div",{className:`flex items-center gap-1 mt-1 ${F.isOwn?"justify-end":"justify-start"}`,children:[r.jsx("span",{className:"text-xs opacity-60",children:za(F.timestamp)}),F.isOwn&&br(F.status)]})]}),F.reactions&&F.reactions.length>0&&r.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${F.isOwn?"justify-end":"justify-start"}`,children:F.reactions.map((Se,ye)=>r.jsxs("button",{className:"bg-white border border-slate-200 rounded-full px-2 py-1 text-xs flex items-center gap-1 hover:bg-slate-50 transition-colors",onClick:()=>qa(F.id,Se.emoji),children:[r.jsx("span",{children:Se.emoji}),r.jsx("span",{className:"text-slate-600",children:Se.users.length})]},ye))}),pt===F.id&&r.jsxs("div",{ref:ds,className:`absolute z-50 bg-white rounded-lg shadow-lg border border-slate-200 py-2 min-w-48 ${F.isOwn?"right-0":"left-0"}`,style:{top:"100%",marginTop:"4px"},children:[r.jsxs("button",{onClick:()=>$a(F),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(ig,{className:"w-4 h-4 text-slate-600"}),"Reply"]}),r.jsxs("button",{onClick:()=>Va(F),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx($x,{className:"w-4 h-4 text-slate-600"}),"Copy"]}),r.jsxs("button",{onClick:()=>Ss(F),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(Gb,{className:"w-4 h-4 text-slate-600"}),"Forward"]}),F.isOwn&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>ha(F),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(aE,{className:"w-4 h-4 text-slate-600"}),"Edit"]}),r.jsx("hr",{className:"my-1 border-slate-200"}),r.jsxs("button",{onClick:()=>Ol(F.id),className:"w-full px-4 py-2 text-left hover:bg-red-50 flex items-center gap-3 text-sm text-red-600",children:[r.jsx(Ad,{className:"w-4 h-4"}),"Delete"]})]}),r.jsx("hr",{className:"my-1 border-slate-200"}),r.jsxs("div",{className:"px-4 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Quick reactions:"}),r.jsx("div",{className:"flex gap-2",children:["❤️","😂","👍","😮","😢","🔥"].map(Se=>r.jsx("button",{onClick:()=>qa(F.id,Se),className:"text-lg hover:bg-slate-100 rounded p-1 transition-colors",children:Se},Se))})]})]})]}),!F.isOwn&&r.jsx("div",{className:"order-1 mr-3",children:r.jsx("img",{src:ht.photos[0],alt:ht.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm"})})]},F.id)}),k&&r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:ht.photos[0],alt:ht.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm"}),r.jsx("div",{className:"bg-white text-slate-800 rounded-2xl rounded-bl-md border border-slate-200 px-3 py-2 sm:px-4 sm:py-2 shadow-sm",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),r.jsx("div",{ref:It})]}),_&&r.jsx("div",{className:"border-t border-slate-200 p-4 bg-white",children:r.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2",children:vn.map(F=>r.jsx("button",{onClick:()=>Yr(F),className:"p-3 hover:bg-slate-100 active:bg-slate-200 rounded-lg text-lg transition-colors touch-manipulation",children:F},F))})}),We&&r.jsx("div",{className:"border-t border-slate-200 p-3 bg-slate-50",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ig,{className:"w-4 h-4 text-slate-500"}),r.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Replying to ",We.isOwn?"yourself":ht.firstName]})]}),r.jsx("p",{className:"text-sm text-slate-600 truncate",children:We.text})]}),r.jsx("button",{onClick:()=>Oe(null),className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:r.jsx(kr,{className:"w-4 h-4 text-slate-500"})})]})}),ft.isRecording&&r.jsx("div",{className:"border-t border-slate-200 p-3 bg-red-50",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-red-700",children:"Recording..."})]}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-sm text-red-600",children:gi(ft.duration)})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:Ha,className:"px-3 py-1 bg-red-500 text-white rounded-full text-sm hover:bg-red-600 transition-colors",children:"Stop"}),r.jsx("button",{onClick:()=>{Jt.current&&(Jt.current.stop(),wt({isRecording:!1,duration:0,mediaRecorder:null}))},className:"px-3 py-1 bg-slate-500 text-white rounded-full text-sm hover:bg-slate-600 transition-colors",children:"Cancel"})]})]})}),r.jsx("div",{className:"p-4 border-t border-slate-200 bg-white sm:rounded-br-2xl",children:!o||o.coins<1?r.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 border-2 border-rose-200 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-rose-600 mb-2",children:r.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"font-medium text-rose-800 mb-2",children:"Upgrade Your Account"}),r.jsx("p",{className:"text-base text-rose-600 mb-4",children:"Unlock unlimited messaging and premium features with our membership plans."}),r.jsx("button",{onClick:()=>window.location.href="/lcn/pricing",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-6 py-3 rounded-lg text-base font-medium hover:from-rose-600 hover:to-pink-600 transition-all duration-200 touch-manipulation",children:"View Plans"})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:Ln,children:[r.jsx(O4,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Photo"})]}),r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:()=>M(!_),children:[r.jsx(ip,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Emoji"})]}),r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-gradient-to-r hover:from-purple-100 hover:to-pink-100 active:bg-purple-200 touch-manipulation flex-shrink-0 relative group",onClick:pi,children:[r.jsx(Hn,{className:"h-4 w-4 mr-1 text-purple-600 group-hover:text-pink-600 transition-colors"}),r.jsx("span",{className:"text-xs",children:"Gift"})]}),r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-green-100 active:bg-green-200 touch-manipulation flex-shrink-0",onClick:ua,children:[r.jsx(Ns,{className:"h-4 w-4 mr-1 text-green-600"}),r.jsx("span",{className:"text-xs",children:"Contact"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx($s,{value:v,onChange:F=>b(F.target.value),onKeyPress:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),Ve?(y(ne=>ne.map(be=>be.id===x?{...be,messages:be.messages.map(Se=>Se.id===Ve.id?{...Se,text:v,isEdited:!0,editedAt:new Date}:Se)}:be)),Ye(null),b("")):Ps())},placeholder:Ve?"Edit message...":We?`Reply to ${We.isOwn?"yourself":ht.firstName}...`:`Message ${ht.firstName}...`,className:"rounded-full border-slate-300 focus:border-rose-400 focus:ring-rose-400 text-base h-12 pr-12"}),r.jsx("button",{onClick:()=>M(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition-colors",children:r.jsx(ip,{className:"h-5 w-5 text-slate-400"})})]}),!v.trim()&&!Ve&&r.jsx(Me,{variant:"ghost",size:"sm",className:`h-12 w-12 p-0 touch-manipulation transition-colors ${ft.isRecording?"bg-red-100 hover:bg-red-200 text-red-600":"hover:bg-slate-100 active:bg-slate-200 text-slate-600"}`,onClick:Ha,title:ft.isRecording?"Stop recording":"Start voice recording",children:ft.isRecording?r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"})}):r.jsx(np,{className:"h-5 w-5"})}),(v.trim()||Ve)&&r.jsx(Me,{onClick:()=>{Ve?(y(F=>F.map(ne=>ne.id===x?{...ne,messages:ne.messages.map(be=>be.id===Ve.id?{...be,text:v,isEdited:!0,editedAt:new Date}:be)}:ne)),Ye(null),b("")):Ps()},className:"h-12 w-12 p-0 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 touch-manipulation",children:Ve?r.jsx(Bs,{className:"h-4 w-4"}):r.jsx(Gv,{className:"h-4 w-4"})}),Ve&&r.jsx(Me,{variant:"ghost",size:"sm",className:"h-12 w-12 p-0 hover:bg-slate-100 active:bg-slate-200 touch-manipulation",onClick:()=>{Ye(null),b("")},children:r.jsx(kr,{className:"h-4 w-4 text-slate-600"})})]})]})})]})})]}),r.jsx("input",{type:"file",ref:Qn,onChange:Oi,accept:"image/*",className:"hidden"}),r.jsx(n1,{toasts:d.toasts,onClose:d.removeToast}),r.jsx(L7,{dialogs:u.dialogs,onClose:u.closeDialog}),r.jsx(R7,{dialogs:f.dialogs,onClose:f.closeDialog}),r.jsx(iL,{dialogs:m.dialogs,onClose:m.closeDialog}),r.jsx(lL,{dialogs:p.dialogs,onClose:p.closeDialog}),r.jsx(VD,{isOpen:Q,onClose:()=>G(!1),onSelectGift:Rl,userCoins:(o==null?void 0:o.coins)||0,recipientName:((re=ur())==null?void 0:re.profile.firstName)||"someone"}),r.jsx(GD,{isVisible:ae,gift:we,recipientName:((_e=ur())==null?void 0:_e.profile.firstName)||"someone",onComplete:()=>{xe(!1),de(null)}}),ht&&r.jsx(KD,{isOpen:Re,isVideoCall:te==="video",profile:ht,userName:(o==null?void 0:o.firstName)||"You",onEndCall:T})]})}function l9({profile:e,message:t,duration:s=8e3,onClose:n,onReply:i,onViewProfile:a}){const[o,l]=E.useState(!1),[c,d]=E.useState(!1);E.useEffect(()=>{const p=setTimeout(()=>l(!0),100),x=setTimeout(()=>{u()},s);return()=>{clearTimeout(p),clearTimeout(x)}},[s]);const u=()=>{d(!0),setTimeout(()=>{l(!1),n==null||n()},300)},f=()=>{i==null||i(),u()},m=()=>{a==null||a(),u()};return!o&&!c?null:r.jsxs("div",{className:`fixed bottom-4 right-4 z-50 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden transition-all duration-300 ease-out ${o&&!c?"translate-y-0 opacity-100 scale-100":"translate-y-4 opacity-0 scale-95"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-rose-50 to-pink-50 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4 text-rose-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Message"})]}),r.jsx("button",{onClick:u,className:"p-1 rounded-full hover:bg-white/60 transition-colors",children:r.jsx(kr,{className:"h-4 w-4 text-gray-500"})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e.photo,alt:`${e.firstName}'s profile`,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm"}),e.verified&&r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1",children:r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:[e.firstName,", ",e.age]}),e.verified&&r.jsx(zs,{variant:"verified",className:"text-xs",children:"Verified"})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[e.city,", ",e.country]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Oa,{className:"h-4 w-4"}),"View Profile"]}),r.jsxs("button",{onClick:f,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-rose-500 hover:bg-rose-600 text-white rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Ns,{className:"h-4 w-4"}),"Reply"]})]})]}),r.jsx("div",{className:"h-1 bg-gray-100",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-rose-400 to-pink-400",style:{width:"100%",animation:`progressShrink ${s}ms linear forwards`}})}),r.jsx("style",{children:`
          @keyframes progressShrink {
            from { width: 100%; }
            to { width: 0%; }
          }
        `})]})}const Eg=[{id:"n1",firstName:"Elena",age:24,city:"Kyiv",country:"Ukraine",photo:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",verified:!0},{id:"n2",firstName:"Anastasia",age:26,city:"Moscow",country:"Russia",photo:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",verified:!0},{id:"n3",firstName:"Sofia",age:22,city:"Minsk",country:"Belarus",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!1},{id:"n4",firstName:"Katarina",age:28,city:"Prague",country:"Czech Republic",photo:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!0},{id:"n5",firstName:"Alina",age:25,city:"Warsaw",country:"Poland",photo:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!0},{id:"n6",firstName:"Arina",age:23,city:"Almaty",country:"Kazakhstan",photo:"https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!1}],D5=["Hi! Your profile really caught my attention. Would you like to chat? 😊","I think we might have a lot in common! Are you interested in talking?","Your photos are lovely! I'd love to get to know you better 💕","Hello! I'm looking for someone genuine to connect with. Interested?","You seem like exactly what I've been looking for! Want to chat?","Hi there! I really like your profile. Are you free to talk?","Your smile made my day! Would you like to start a conversation? 😍","I'm interested in getting to know you better. Care to chat?","Hello! I think you seem really interesting. Want to talk?","Hi! I'd love to chat with you and see if we connect 💖","Your profile is amazing! I'd like to know more about you.","I'm hoping we could start a conversation. What do you think?","You look like someone I'd really enjoy talking to! Interested?","Hi! I think we could be a great match. Want to find out?","I'd love to chat with you if you're interested 😘"];function c9({isActive:e=!0,onReply:t,onViewProfile:s}){const[n,i]=E.useState([]),[a,o]=E.useState(new Set),l=E.useRef(null),c=E.useRef(null),d=()=>D5[Math.floor(Math.random()*D5.length)],u=E.useCallback(()=>{const y=Eg.filter(v=>!a.has(v.id));return y.length===0?(o(new Set),Eg[Math.floor(Math.random()*Eg.length)]):y[Math.floor(Math.random()*y.length)]},[a]),f=E.useCallback(()=>{if(!e)return;const y=u();if(!y)return;const v={id:`notification-${Date.now()}-${Math.random()}`,profile:y,message:d(),timestamp:Date.now()};i([v]),o(b=>new Set([...b,y.id]))},[e,u]),m=E.useCallback(()=>{if(!e)return;const y=Math.random()*18e4+12e4;c.current=setTimeout(()=>{f(),m();try{console.log("🔔 New message notification sound would play here")}catch{}},y)},[e,f]),p=y=>{i(v=>v.filter(b=>b.id!==y))},x=y=>{const v=n.find(b=>b.id===y);v&&t&&t(v.profile.id),p(y)},j=y=>{const v=n.find(b=>b.id===y);v&&s&&s(v.profile.id),p(y)};if(E.useEffect(()=>{if(!e){l.current&&(clearInterval(l.current),l.current=null),c.current&&(clearTimeout(c.current),c.current=null),i([]);return}const y=Math.random()*6e4+3e4;return c.current=setTimeout(()=>{f(),m()},y),()=>{l.current&&clearInterval(l.current),c.current&&clearTimeout(c.current)}},[e,f,m]),E.useEffect(()=>()=>{l.current&&clearInterval(l.current),c.current&&clearTimeout(c.current)},[]),n.length===0)return null;const N=n[0];return r.jsx(l9,{profile:N.profile,message:N.message,duration:8e3,onClose:()=>p(N.id),onReply:()=>x(N.id),onViewProfile:()=>j(N.id)})}const d9=[{id:"1",name:"Michael & Tetyana",location:"USA & Ukraine",text:"We met on PureLove two years ago. Despite the distance, we connected instantly. After six months of online dating and two visits, I proposed during my trip to Kyiv. We're now happily married and living in Chicago.",image:"https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1771&q=80"},{id:"2",name:"David & Anastasia",location:"Canada & Russia",text:"I was skeptical about international dating until I met Anastasia. The translation feature helped us overcome the language barrier initially. After a year of dating online and meeting twice in person, she moved to Toronto. We're getting married next month!",image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1769&q=80"}];function u9(){const[e,t]=E.useState([]),[s,n]=E.useState(!0),[i,a]=E.useState(null),[o,l]=E.useState(0),[c,d]=E.useState(!0),[u,f]=E.useState(!1),[m,p]=E.useState("18-24"),[x,j]=E.useState(""),[N,y]=E.useState(""),[v,b]=E.useState(!1),[k,C]=E.useState(null),[_,M]=E.useState({}),[L,$]=E.useState(!1),K=Dr();E.useEffect(()=>{async function J(){n(!0),a(null);const{data:P,error:H}=await Fe.from("profiles").select("*").eq("role","model").order("created_at",{ascending:!1});if(H)a("Failed to load models."),t([]);else{const Q=(P||[]).map(G=>({id:G.id,userId:G.id,firstName:G.first_name,lastName:G.last_name,gender:G.gender,birthDate:G.birth_date,country:G.country,city:G.city,bio:G.bio,interests:G.interests||[],profession:G.profession,languages:G.languages||[],photos:G.photos||[],verified:G.verified,createdAt:G.created_at,height:G.height,weight:G.weight,eyeColor:G.eye_color,hairColor:G.hair_color,appearanceType:G.appearance_type,alcohol:G.alcohol,smoking:G.smoking,children:G.children,religion:G.religion,zodiacSign:G.zodiac_sign,englishLevel:G.english_level,hasIntroVideo:G.has_intro_video,isOnline:G.is_online,hasVideo:G.has_video,hasCameraOn:G.has_camera_on,birthdaySoon:G.birthday_soon,newProfile:G.new_profile,top1000:G.top_1000}));t(Q)}n(!1)}J()},[]);const I=e.slice(0,5),O=e.slice(5,11);E.useEffect(()=>{I.length>0&&o<I.length&&Y(cp(I[o].id))},[o,I]),E.useEffect(()=>{const J=setTimeout(()=>{$(!0)},600);return()=>clearTimeout(J)},[]),E.useEffect(()=>{if(!c||u||I.length===0)return;const J=setInterval(()=>{l(P=>(P+1)%I.length)},4e3);return()=>clearInterval(J)},[c,u,I.length]);const[W,Y]=E.useState(!1),le=J=>{const P=[...I,...O].find(H=>H.id===J);P&&(cp(J)?(S3(J),Y(!1)):(j3(P),Y(!0)))},ie=J=>{C(J),b(!0)},oe=J=>{J===o||u||(f(!0),d(!1),l(J),setTimeout(()=>{f(!1)},700),setTimeout(()=>{d(!0)},5e3))},Z=J=>{J.preventDefault();const P=new URLSearchParams;m&&P.append("ageRange",m),x&&P.append("country",x),N&&P.append("interest",N);const H=P.toString(),Q=H?`/browse?${H}`:"/browse";K&&K(Q)},B=J=>{console.log("Reply to notification from profile:",J);const P={n1:{id:"n1",userId:"n1",firstName:"Elena",lastName:"K.",gender:"female",birthDate:"1999-05-15",country:"Ukraine",city:"Kyiv",bio:"Sweet and romantic girl looking for true love 💕",interests:["Romance","Travel","Music"],profession:"Model",languages:["Ukrainian","English"],photos:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-01-15",height:165,weight:55,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"want",religion:"christian",zodiacSign:"taurus",englishLevel:"advanced",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},n2:{id:"cd8983ed-6a0a-4034-ac27-60b4a345419d",userId:"cd8983ed-6a0a-4034-ac27-60b4a345419d",firstName:"Anastasia",lastName:"M.",gender:"female",birthDate:"1997-08-23",country:"Russia",city:"Moscow",bio:"Passionate and caring, ready for serious relationship ❤️",interests:["Romance","Art","Philosophy"],profession:"Psychologist",languages:["Russian","English"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-02-10",height:170,weight:58,eyeColor:"brown",hairColor:"brunette",appearanceType:"athletic",alcohol:"socially",smoking:"never",children:"want",religion:"orthodox",zodiacSign:"virgo",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!1},n3:{id:"bb77508f-6c74-44e2-a2a3-e3ab4cb764b0",userId:"bb77508f-6c74-44e2-a2a3-e3ab4cb764b0",firstName:"Sofia",lastName:"D.",gender:"female",birthDate:"2001-03-18",country:"Belarus",city:"Minsk",bio:"Young and optimistic, love dancing and meeting new people ✨",interests:["Dancing","Music","Fashion"],profession:"Student",languages:["Belarusian","Russian","English"],photos:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!1,createdAt:"2023-03-18",height:162,weight:50,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"rarely",smoking:"never",children:"maybe",religion:"christian",zodiacSign:"pisces",englishLevel:"intermediate",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},n4:{id:"n4",userId:"n4",firstName:"Katarina",lastName:"N.",gender:"female",birthDate:"1995-07-12",country:"Czech Republic",city:"Prague",bio:"Love exploring old cities and cozy cafes. Looking for meaningful conversations 📚",interests:["History","Coffee","Architecture"],profession:"Tour Guide",languages:["Czech","English","German"],photos:["https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-04-05",height:168,weight:56,eyeColor:"green",hairColor:"brown",appearanceType:"athletic",alcohol:"socially",smoking:"never",children:"want",religion:"catholic",zodiacSign:"cancer",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!1},n5:{id:"n5",userId:"n5",firstName:"Alina",lastName:"W.",gender:"female",birthDate:"1998-11-25",country:"Poland",city:"Warsaw",bio:"Creative soul who loves art and good food. Ready for new adventures 🎨",interests:["Art","Cooking","Travel"],profession:"Graphic Designer",languages:["Polish","English","Spanish"],photos:["https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-05-22",height:165,weight:54,eyeColor:"hazel",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"rarely",children:"want",religion:"catholic",zodiacSign:"sagittarius",englishLevel:"advanced",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},n6:{id:"n6",userId:"n6",firstName:"Arina",lastName:"B.",gender:"female",birthDate:"2000-09-08",country:"Kazakhstan",city:"Almaty",bio:"Love nature and outdoor activities. Looking for someone to share life adventures 🏔️",interests:["Hiking","Photography","Nature"],profession:"Environmental Science Student",languages:["Kazakh","Russian","English"],photos:["https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!1,createdAt:"2023-06-14",height:163,weight:52,eyeColor:"brown",hairColor:"black",appearanceType:"athletic",alcohol:"never",smoking:"never",children:"maybe",religion:"muslim",zodiacSign:"virgo",englishLevel:"intermediate",hasIntroVideo:!1,isOnline:!0,hasVideo:!1}},H=P[J]||P.n1;C(H),M({fromNotification:!0,profileId:J}),b(!0),console.log(`💬 Opening chat with ${H.firstName} from ${H.country}`)},X=J=>{console.log("View profile from notification:",J);const H={n1:"Elena from Ukraine",n2:"Anastasia from Russia",n3:"Sofia from Belarus",n4:"Katarina from Czech Republic",n5:"Alina from Poland",n6:"Arina from Kazakhstan"}[J]||"Unknown";console.log(`👁️ Viewing profile: ${H}`),K(`/profile/${J}`)};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(js,{}),r.jsxs("section",{className:"relative min-h-[70vh] flex items-center overflow-hidden bg-gradient-to-br from-slate-900 via-rose-900 to-slate-900",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70 z-10"}),r.jsx("img",{src:"https://images.unsplash.com/photo-1516195851888-6f1a981a862e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Romantic couple",className:"w-full h-full object-cover opacity-30 hover:scale-105 transition-transform duration-[20s]"})]}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-10",children:[r.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-rose-500/20 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-32 h-32 bg-pink-500/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-20 left-20 w-24 h-24 bg-red-500/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx("div",{className:"container mx-auto px-4 relative z-20 py-20",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[600px] animate-fade-in-up",children:[r.jsxs("div",{className:"text-white",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-rose-500/20 backdrop-blur-sm border border-rose-300/30 rounded-full px-4 py-2 mb-6 ",children:[r.jsx(qs,{className:"h-4 w-4 text-rose-300 fill-current animate-pulse"}),r.jsx("span",{className:"text-sm text-rose-100",children:"Trusted by 50,000+ singles worldwide"})]}),r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",style:{animationDelay:"0.1s"},children:["Find Your Perfect Match",r.jsx("span",{className:"block bg-gradient-to-r from-rose-300 via-pink-300 to-red-300 bg-clip-text text-transparent",children:"Online Today"})]}),r.jsxs("p",{className:"text-lg md:text-xl text-gray-300 mb-8 leading-relaxed max-w-2xl ",style:{animationDelay:"0.2s"},children:["The leading international dating site with over ",r.jsx("span",{className:"text-rose-300 font-semibold",children:"50,000+ verified profiles"})]}),r.jsx("div",{className:`bg-white/10 backdrop-blur-md rounded-xl p-6 mb-6 max-w-2xl w-full transition-all duration-700 ease-out ${L?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("form",{onSubmit:Z,children:[r.jsx("h3",{className:"text-white/90 text-lg font-semibold mb-4",children:"Find Your Perfect Match"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm font-medium mb-2",children:"Age Range"}),r.jsxs("select",{className:"w-full px-4 py-2 rounded-lg bg-white/0 border border-white/10 text-sm text-white focus:border-rose-300/50 focus:outline-none",value:m,onChange:J=>p(J.target.value),children:[r.jsx("option",{value:"18-24",children:"18-24"}),r.jsx("option",{value:"25-34",children:"25-34"}),r.jsx("option",{value:"35-44",children:"35-44"}),r.jsx("option",{value:"45+",children:"45+"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm font-medium mb-2",children:"Country"}),r.jsxs("select",{className:"w-full px-4 py-2 rounded-lg bg-white/0 border border-white/10 text-sm text-white focus:border-rose-300/50 focus:outline-none",value:x,onChange:J=>j(J.target.value),children:[r.jsx("option",{value:"",children:"Any Country"}),r.jsx("option",{value:"ukraine",children:"Ukraine"}),r.jsx("option",{value:"russia",children:"Russia"}),r.jsx("option",{value:"kazakhstan",children:"Kazakhstan"}),r.jsx("option",{value:"belarus",children:"Belarus"}),r.jsx("option",{value:"moldova",children:"Moldova"}),r.jsx("option",{value:"georgia",children:"Georgia"}),r.jsx("option",{value:"armenia",children:"Armenia"}),r.jsx("option",{value:"azerbaijan",children:"Azerbaijan"}),r.jsx("option",{value:"kyrgyzstan",children:"Kyrgyzstan"}),r.jsx("option",{value:"tajikistan",children:"Tajikistan"}),r.jsx("option",{value:"turkmenistan",children:"Turkmenistan"}),r.jsx("option",{value:"uzbekistan",children:"Uzbekistan"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm font-medium mb-2",children:"Interests"}),r.jsxs("select",{className:"w-full px-4 py-2 rounded-lg bg-white/0 border border-white/10 text-sm text-white focus:border-rose-300/50 focus:outline-none",value:N,onChange:J=>y(J.target.value),children:[r.jsx("option",{value:"",children:"Any Interest"}),r.jsx("option",{value:"travel",children:"Travel"}),r.jsx("option",{value:"music",children:"Music"}),r.jsx("option",{value:"art",children:"Art"}),r.jsx("option",{value:"sports",children:"Sports"}),r.jsx("option",{value:"cooking",children:"Cooking"})]})]})]}),r.jsxs("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white rounded-lg py-3 text-sm font-semibold shadow-none flex items-center justify-center gap-2 mt-4",children:[r.jsx(qs,{className:"h-4 w-4 mr-2"}),"View Singles Now"]})]})})]}),r.jsx("div",{className:"h-full flex items-center",children:s?r.jsxs("div",{className:"w-full max-w-lg mx-auto text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Loading profiles..."})]}):i?r.jsx("div",{className:"w-full max-w-lg mx-auto text-center",children:r.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-xl p-6 border border-red-300/30",children:[r.jsx("p",{className:"text-red-200 mb-2",children:"Failed to load profiles"}),r.jsx("p",{className:"text-red-100 text-sm",children:i})]})}):I.length===0?r.jsx("div",{className:"w-full max-w-lg mx-auto text-center",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[r.jsx("p",{className:"text-white/80 mb-2",children:"No profiles available"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Check back later for new profiles"})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden lg:block relative w-full max-w-lg mx-auto",children:[r.jsx("div",{className:"relative h-[550px]",children:r.jsx("div",{className:"relative w-full h-full",children:I.map((J,P)=>{let H=P-o;const Q=I.length;H>Q/2?H-=Q:H<-Q/2&&(H+=Q);const G=P===o,ae=Math.abs(H),xe=ae<=2;return r.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-out cursor-pointer ${xe?"":"pointer-events-none"}`,style:{transform:`
                                  translateX(${H*30}px) 
                                  translateY(${ae*15}px) 
                                  scale(${Math.max(.8,1-ae*.05)})
                                `,opacity:xe?Math.max(.3,1-ae*.3):0,zIndex:xe?10-ae:0,transition:"all 0.7s ease-out"},onClick:()=>oe(P),children:r.jsx("div",{className:`
                                w-full h-full rounded-2xl overflow-hidden transition-all duration-500
                                ${G?"shadow-xl border border-white/30":"shadow-lg border border-white/10 hover:border-white/20"}
                              `,children:r.jsxs("div",{className:"relative w-full h-full",children:[J.photos&&J.photos.length>0&&J.photos[0]?r.jsx("img",{src:J.photos[0],alt:`${J.firstName}'s profile`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("p",{className:"text-lg font-medium",children:"No Photo"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Photo not available"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),J.verified&&G&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-white text-xs font-medium",children:"✓ Verified"})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[r.jsxs("h3",{className:"text-2xl font-semibold mb-1",children:[J.firstName,", ",new Date().getFullYear()-new Date(J.birthDate).getFullYear()]}),r.jsxs("p",{className:"text-white/80 text-sm mb-3",children:[J.city,", ",J.country]}),G&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2 leading-relaxed",children:J.bio}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Me,{size:"sm",className:`flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm ${W?"bg-rose-500/50 hover:bg-rose-500/60":""}`,onClick:we=>{we.stopPropagation(),le(J.id)},children:[r.jsx(qs,{className:`h-4 w-4 mr-1 ${W?"fill-current":""}`}),W?"Liked":"Like"]}),r.jsxs(Me,{size:"sm",className:"flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm",onClick:we=>{we.stopPropagation(),ie(J)},children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Message"]})]})]})]})]})})},J.id)})})}),r.jsx("div",{className:"flex justify-center gap-2 mt-6",children:I.map((J,P)=>r.jsx("button",{className:`transition-all duration-300 rounded-full ${P===o?"w-8 h-2 bg-white":"w-2 h-2 bg-white/40 hover:bg-white/60"}`,onClick:()=>oe(P)},P))})]}),r.jsxs("div",{className:"lg:hidden block relative w-full max-w-sm mx-auto animate-fade-in",style:{animationDelay:"0.5s"},children:[r.jsx("div",{className:"relative h-[450px] overflow-hidden rounded-2xl",children:r.jsx("div",{className:"flex transition-transform duration-700 ease-out h-full",style:{transform:`translateX(-${o*100}%)`},children:I.map(J=>r.jsx("div",{className:"w-full flex-shrink-0 h-full relative",children:r.jsxs("div",{className:"relative w-full h-full rounded-2xl overflow-hidden shadow-lg border border-white/10",children:[J.photos&&J.photos.length>0&&J.photos[0]?r.jsx("img",{src:J.photos[0],alt:`${J.firstName}'s profile`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("p",{className:"text-lg font-medium",children:"No Photo"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Photo not available"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),J.verified&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-1 text-white text-xs",children:"✓ Verified"})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 text-white",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-1",children:[J.firstName,", ",new Date().getFullYear()-new Date(J.birthDate).getFullYear()]}),r.jsxs("p",{className:"text-white/80 text-sm mb-3",children:[J.city,", ",J.country]}),r.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:J.bio}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Me,{size:"sm",className:`flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm ${W?"bg-rose-500/50 hover:bg-rose-500/60":""}`,onClick:P=>{P.stopPropagation(),le(J.id)},children:[r.jsx(qs,{className:`h-4 w-4 mr-1 ${W?"fill-current":""}`}),W?"Liked":"Like"]}),r.jsxs(Me,{size:"sm",className:"flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm",onClick:P=>{P.stopPropagation(),ie(J)},children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Message"]})]})]})]})},J.id))})}),r.jsx("div",{className:"flex justify-center gap-2 mt-4",children:I.map((J,P)=>r.jsx("button",{className:`transition-all duration-300 rounded-full ${P===o?"w-6 h-2 bg-white":"w-2 h-2 bg-white/40"}`,onClick:()=>oe(P)},P))})]})]})})]})})]}),r.jsxs("section",{className:"py-20 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-32 left-16 w-24 h-24 bg-rose-500/10 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-pink-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}})]}),r.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:["Featured Profiles",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent",children:"From Around the World"})]}),r.jsx("p",{className:"text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Discover verified profiles from around the world and start meaningful conversations today"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 stagger-animation",children:O.map(J=>r.jsx(_3,{profile:J,onMessage:ie},J.id))}),r.jsx("div",{className:"text-center mt-12 animate-fade-in",children:r.jsx(it,{to:"/browse",children:r.jsxs(Me,{className:"bg-rose-500 hover:bg-rose-600 text-white border-0 hover:scale-105 transition-all duration-300 px-8 py-3",children:[r.jsx("span",{children:"View All Profiles"}),r.jsx(sp,{className:"h-4 w-4 ml-2"})]})})})]})]}),r.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 via-slate-100 to-gray-50 relative",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:["Why Choose Us?",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent",children:"Premium Features"})]}),r.jsx("p",{className:"text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Experience premium features designed to help you find genuine connections safely and effectively"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 stagger-animation",children:[r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(ps,{className:"h-8 w-8 text-rose-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Verified Profiles"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"All profiles undergo strict verification to ensure authenticity and prevent scams."})]})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(Ns,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Smart Messaging"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"AI-powered translation and conversation starters to break down barriers."})]})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-pink-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(Hn,{className:"h-8 w-8 text-pink-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Virtual Gifts"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Send thoughtful virtual gifts to show your interest and make memorable impressions."})]})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(Co,{className:"h-8 w-8 text-green-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Global Reach"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Connect with people from different cultures and backgrounds worldwide."})]})})]})]})}),r.jsxs("section",{className:"py-20 bg-gradient-to-b from-white via-slate-50 to-white relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 right-10 w-20 h-20 bg-rose-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"absolute bottom-32 left-16 w-28 h-28 bg-pink-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"3s"}})]}),r.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:["Success Stories",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent",children:"Real Love Found"})]}),r.jsx("p",{className:"text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Real couples who found love and built meaningful relationships through our platform"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:d9.map(J=>r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-2xl overflow-hidden hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[r.jsxs("div",{className:"md:w-1/3 relative",children:[r.jsx("img",{src:J.image,alt:J.name,className:"w-full h-48 md:h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-slate-900/20"})]}),r.jsxs("div",{className:"md:w-2/3 p-8 flex flex-col justify-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-bold text-2xl mb-1 text-slate-800",children:J.name}),r.jsxs("div",{className:"flex items-center gap-2 text-rose-600 font-medium",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-sm",children:J.location})]})]}),r.jsxs("blockquote",{className:"text-slate-700 leading-relaxed italic text-lg",children:['"',J.text,'"']})]})]})},J.id))}),r.jsx("div",{className:"text-center mt-12 animate-fade-in",children:r.jsx(it,{to:"/success-stories",children:r.jsxs(Me,{className:"bg-rose-500 hover:bg-rose-600 text-white border-0 hover:scale-105 transition-all duration-300 px-8 py-3",children:[r.jsx("span",{children:"Read More Stories"}),r.jsx(sp,{className:"h-4 w-4 ml-2"})]})})})]})]}),r.jsxs("section",{className:"py-20 bg-gradient-to-br from-rose-100 via-pink-50 to-rose-100 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-rose-500/10 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-pink-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-rose-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx("div",{className:"container mx-auto px-4 text-center relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto ",children:[r.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-slate-800 animate-fade-in",children:["Ready to Find Your Match?",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent h-[80px]",children:"Start Your Journey Today"})]}),r.jsx("p",{className:"text-xl md:text-2xl mb-12 text-slate-600 leading-relaxed animate-fade-in-up",children:"Join thousands of singles who have found meaningful connections. Your perfect match is waiting."}),r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:r.jsx(it,{to:"/signup",children:r.jsxs(Me,{size:"lg",className:"bg-rose-600 text-white hover:bg-rose-700 hover:scale-105 transition-all duration-300 px-12 py-4 text-lg font-semibold shadow-2xl",children:[r.jsx(qs,{className:"h-6 w-6 mr-3"}),r.jsx("span",{children:"Start Your Journey"})]})})})]})})]}),r.jsx(yr,{}),k&&r.jsx(t0,{profile:k,isOpen:v,onClose:()=>b(!1),searchFilters:_}),r.jsx(c9,{isActive:!0,onReply:B,onViewProfile:X})]})}const ss=E.forwardRef(({className:e,children:t,...s},n)=>r.jsxs("div",{className:"relative",children:[r.jsx("select",{className:mn("flex h-10 w-full appearance-none rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s,children:t}),r.jsx($d,{className:"absolute right-3 top-3 h-4 w-4 opacity-50"})]}));ss.displayName="Select";function h9(){const{pathname:e}=oa();return E.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0},[e]),null}const S6=(e="smooth")=>{window.scrollTo({top:0,left:0,behavior:e}),e==="instant"&&(document.documentElement.scrollTop=0,document.body.scrollTop=0)};function f9({onFiltersChange:e,initialFilters:t={}}){const[,s]=M4(),[n,i]=E.useState({ageMin:(t==null?void 0:t.ageMin)||18,ageMax:(t==null?void 0:t.ageMax)||99,country:(t==null?void 0:t.country)||"",city:(t==null?void 0:t.city)||"",eyeColor:(t==null?void 0:t.eyeColor)||"",hairColor:(t==null?void 0:t.hairColor)||"",appearanceType:(t==null?void 0:t.appearanceType)||"",alcohol:(t==null?void 0:t.alcohol)||"",smoking:(t==null?void 0:t.smoking)||"",children:(t==null?void 0:t.children)||"",religion:(t==null?void 0:t.religion)||"",zodiacSign:(t==null?void 0:t.zodiacSign)||"",englishLevel:(t==null?void 0:t.englishLevel)||"",interests:(t==null?void 0:t.interests)||[],languages:(t==null?void 0:t.languages)||[],hasIntroVideo:(t==null?void 0:t.hasIntroVideo)||!1,isOnline:(t==null?void 0:t.isOnline)||!1,hasVideo:(t==null?void 0:t.hasVideo)||!1,hasCameraOn:(t==null?void 0:t.hasCameraOn)||!1,birthdaySoon:(t==null?void 0:t.birthdaySoon)||!1,newProfile:(t==null?void 0:t.newProfile)||!1,top1000:(t==null?void 0:t.top1000)||!1,verified:(t==null?void 0:t.verified)||!1}),[a,o]=E.useState([]);E.useEffect(()=>{t&&Object.keys(t).length>0&&i(b=>({...b,...t,interests:t.interests||[],languages:t.languages||[]}))},[t]),E.useEffect(()=>{const b=setTimeout(()=>{const k=Object.keys(n).some(C=>{const _=n[C],M=t==null?void 0:t[C];return Array.isArray(_)&&Array.isArray(M)?_.length!==M.length||!_.every((L,$)=>L===M[$]):_!==M});console.log("🔍 [SEARCH_FILTERS] Checking if filters changed:",k),console.log("🔍 [SEARCH_FILTERS] Current filters:",n),console.log("🔍 [SEARCH_FILTERS] Initial filters:",t),k?(console.log("🔍 [SEARCH_FILTERS] Triggering search due to filter changes"),x()):console.log("🔍 [SEARCH_FILTERS] No changes detected, skipping search")},300);return()=>clearTimeout(b)},[n,t]);const[l,c]=E.useState(!1);E.useEffect(()=>{if(!l){c(!0);return}const b=setTimeout(()=>{console.log("🔍 [SEARCH_FILTERS] Initial mount - not triggering search")},100);return()=>clearTimeout(b)},[l]);const d=b=>{const{name:k,value:C}=b.target;console.log("🔍 [SEARCH_FILTERS] handleInputChange:",k,"=",C),i(_=>({..._,[k]:C}))},u=(b,k)=>{console.log("🔍 [SEARCH_FILTERS] handleSliderChange:",b,"=",k),i(C=>({...C,[b]:k}))},f=b=>{const{name:k,checked:C}=b.target;console.log("🔍 [SEARCH_FILTERS] handleCheckboxChange:",k,"=",C),i(_=>({..._,[k]:C}))},m=b=>{console.log("🔍 [SEARCH_FILTERS] handleInterestChange:",b),i(k=>{const C=k.interests.includes(b)?k.interests.filter(_=>_!==b):[...k.interests,b];return console.log("🔍 [SEARCH_FILTERS] New interests:",C),{...k,interests:C}})},p=b=>{console.log("🔍 [SEARCH_FILTERS] handleLanguageChange:",b),i(k=>{const C=k.languages.includes(b)?k.languages.filter(_=>_!==b):[...k.languages,b];return console.log("🔍 [SEARCH_FILTERS] New languages:",C),{...k,languages:C}})},x=()=>{console.log("🔍 [SEARCH_FILTERS] handleSearch called with filters:",n);const b=[];(n.ageMin!==18||n.ageMax!==99)&&b.push(`Age: ${n.ageMin}-${n.ageMax}`),n.country&&b.push(`Country: ${n.country}`),n.city&&b.push(`City: ${n.city}`),n.eyeColor&&b.push(`Eyes: ${n.eyeColor}`),n.hairColor&&b.push(`Hair: ${n.hairColor}`),n.appearanceType&&b.push(`Type: ${n.appearanceType}`),n.alcohol&&b.push(`Alcohol: ${n.alcohol}`),n.smoking&&b.push(`Smoking: ${n.smoking}`),n.children&&b.push(`Children: ${n.children}`),n.religion&&b.push(`Religion: ${n.religion}`),n.zodiacSign&&b.push(`Zodiac: ${n.zodiacSign}`),n.englishLevel&&b.push(`English: ${n.englishLevel}`),n.interests.forEach(k=>{b.push(`${k}`)}),n.languages.forEach(k=>{b.push(`${k}`)}),n.hasIntroVideo&&b.push("Has Intro Video"),n.isOnline&&b.push("Online"),n.hasVideo&&b.push("Has Video"),n.hasCameraOn&&b.push("Camera On"),n.birthdaySoon&&b.push("Birthday Soon"),n.newProfile&&b.push("New Profile"),n.top1000&&b.push("Top 1000"),n.verified&&b.push("Verified"),console.log("🔍 [SEARCH_FILTERS] Active filters:",b),console.log("🔍 [SEARCH_FILTERS] Calling onFiltersChange with:",n),o(b),e(n)},j=()=>{console.log("🔍 [SEARCH_FILTERS] clearFilters called");const b={ageMin:18,ageMax:99,country:"",city:"",eyeColor:"",hairColor:"",appearanceType:"",alcohol:"",smoking:"",children:"",religion:"",zodiacSign:"",englishLevel:"",interests:[],languages:[],hasIntroVideo:!1,isOnline:!1,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1,verified:!1};console.log("🔍 [SEARCH_FILTERS] Setting cleared filters:",b),i(b),o([]),s({}),console.log("🔍 [SEARCH_FILTERS] Calling onFiltersChange with cleared filters"),e(b),S6()},N=b=>{console.log("🔍 [SEARCH_FILTERS] removeFilter called with:",b),b.startsWith("Age:")?(console.log("🔍 [SEARCH_FILTERS] Removing age filter"),i(k=>({...k,ageMin:18,ageMax:99}))):b.startsWith("Country:")?(console.log("🔍 [SEARCH_FILTERS] Removing country filter"),i(k=>({...k,country:""}))):b.startsWith("City:")?(console.log("🔍 [SEARCH_FILTERS] Removing city filter"),i(k=>({...k,city:""}))):b.startsWith("Eyes:")?(console.log("🔍 [SEARCH_FILTERS] Removing eye color filter"),i(k=>({...k,eyeColor:""}))):b.startsWith("Hair:")?(console.log("🔍 [SEARCH_FILTERS] Removing hair color filter"),i(k=>({...k,hairColor:""}))):b.startsWith("Type:")?(console.log("🔍 [SEARCH_FILTERS] Removing appearance type filter"),i(k=>({...k,appearanceType:""}))):b.startsWith("Alcohol:")?(console.log("🔍 [SEARCH_FILTERS] Removing alcohol filter"),i(k=>({...k,alcohol:""}))):b.startsWith("Smoking:")?(console.log("🔍 [SEARCH_FILTERS] Removing smoking filter"),i(k=>({...k,smoking:""}))):b.startsWith("Children:")?(console.log("🔍 [SEARCH_FILTERS] Removing children filter"),i(k=>({...k,children:""}))):b.startsWith("Religion:")?(console.log("🔍 [SEARCH_FILTERS] Removing religion filter"),i(k=>({...k,religion:""}))):b.startsWith("Zodiac:")?(console.log("🔍 [SEARCH_FILTERS] Removing zodiac filter"),i(k=>({...k,zodiacSign:""}))):b.startsWith("English:")?(console.log("🔍 [SEARCH_FILTERS] Removing english level filter"),i(k=>({...k,englishLevel:""}))):ey.includes(b)?(console.log("🔍 [SEARCH_FILTERS] Removing interest filter:",b),i(k=>({...k,interests:k.interests.filter(C=>C!==b)}))):["English","Russian","Ukrainian","Kazakh","Belarusian","Polish","Czech","Romanian","Bulgarian","Serbian","Croatian","Latvian","Lithuanian","Estonian","Hungarian","Slovak","Slovenian","German","French","Italian","Spanish","Portuguese"].includes(b)?(console.log("🔍 [SEARCH_FILTERS] Removing language filter:",b),i(k=>({...k,languages:k.languages.filter(C=>C!==b)}))):b==="Has Intro Video"?(console.log("🔍 [SEARCH_FILTERS] Removing has intro video filter"),i(k=>({...k,hasIntroVideo:!1}))):b==="Online"?(console.log("🔍 [SEARCH_FILTERS] Removing online filter"),i(k=>({...k,isOnline:!1}))):b==="Has Video"?(console.log("🔍 [SEARCH_FILTERS] Removing has video filter"),i(k=>({...k,hasVideo:!1}))):b==="Camera On"?(console.log("🔍 [SEARCH_FILTERS] Removing camera on filter"),i(k=>({...k,hasCameraOn:!1}))):b==="Birthday Soon"?(console.log("🔍 [SEARCH_FILTERS] Removing birthday soon filter"),i(k=>({...k,birthdaySoon:!1}))):b==="New Profile"?(console.log("🔍 [SEARCH_FILTERS] Removing new profile filter"),i(k=>({...k,newProfile:!1}))):b==="Top 1000"?(console.log("🔍 [SEARCH_FILTERS] Removing top 1000 filter"),i(k=>({...k,top1000:!1}))):b==="Verified"&&(console.log("🔍 [SEARCH_FILTERS] Removing verified filter"),i(k=>({...k,verified:!1})))},y=({name:b,label:k,icon:C,checked:_,onChange:M})=>r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[r.jsxs("div",{className:"relative flex items-center justify-center",children:[r.jsx("input",{type:"checkbox",name:b,checked:_,onChange:M,className:"sr-only"}),r.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center ${_?"bg-rose-500 border-rose-500":"border-slate-300 group-hover:border-rose-300"}`,children:_&&r.jsx(Bs,{className:"w-3.5 h-3.5 text-white"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(C,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{className:"text-slate-600 group-hover:text-slate-700 transition-colors text-sm",children:k})]})]}),v=({label:b,min:k,max:C,minValue:_,maxValue:M,onMinChange:L,onMaxChange:$,unit:K=""})=>{const[I,O]=E.useState(null),W=oe=>(oe-k)/(C-k)*100,Y=oe=>{const Z=oe.currentTarget.getBoundingClientRect(),B=(oe.clientX-Z.left)/Z.width,X=Math.round(k+B*(C-k)),J=Math.abs(X-_),P=Math.abs(X-M);J<P?L(Math.min(X,M)):$(Math.max(X,_))},le=oe=>{if(!I)return;const Z=document.getElementById(`track-${b.replace(/\s+/g,"-")}`);if(!Z)return;const B=Z.getBoundingClientRect(),X=Math.max(0,Math.min(1,(oe.clientX-B.left)/B.width)),J=Math.round(k+X*(C-k));I==="min"?L(Math.min(J,M)):$(Math.max(J,_))},ie=()=>{O(null)};return E.useEffect(()=>{if(I)return document.addEventListener("mousemove",le),document.addEventListener("mouseup",ie),()=>{document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",ie)}},[I,_,M]),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-slate-600",children:b}),r.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[_,K," - ",M,K]})]}),r.jsxs("div",{className:"relative h-6 px-3",children:[r.jsx("div",{id:`track-${b.replace(/\s+/g,"-")}`,className:"absolute top-2 left-3 right-3 h-2 bg-slate-200 rounded-lg cursor-pointer",onClick:Y}),r.jsx("div",{className:"absolute top-2 h-2 bg-rose-500 rounded-lg pointer-events-none",style:{left:`${3+W(_)*.85}%`,width:`${(W(M)-W(_))*.85}%`}}),r.jsx("div",{className:"absolute top-1 w-4 h-4 bg-rose-500 border-2 border-white rounded-full shadow-md cursor-pointer hover:scale-110 transition-transform",style:{left:`${1+W(_)*.85}%`},onMouseDown:()=>O("min")}),r.jsx("div",{className:"absolute top-1 w-4 h-4 bg-rose-600 border-2 border-white rounded-full shadow-md cursor-pointer hover:scale-110 transition-transform",style:{left:`${1+W(M)*.85}%`},onMouseDown:()=>O("max")})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-slate-500",children:"Min:"}),r.jsx("input",{type:"number",min:k,max:M,value:_,onChange:oe=>L(Math.min(Number(oe.target.value),M)),className:"w-16 px-2 py-1 border border-slate-200 rounded text-center focus:border-rose-300 focus:outline-none"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-slate-500",children:"Max:"}),r.jsx("input",{type:"number",min:_,max:C,value:M,onChange:oe=>$(Math.max(Number(oe.target.value),_)),className:"w-16 px-2 py-1 border border-slate-200 rounded text-center focus:border-rose-300 focus:outline-none"})]})]})]})};return r.jsxs("div",{className:"space-y-6",children:[a.length>0&&r.jsxs("div",{className:"space-y-4 pb-4 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-slate-700 font-medium text-sm",children:["Active Filters (",a.length,")"]}),r.jsx(Me,{variant:"ghost",size:"sm",onClick:j,className:"text-slate-500 hover:text-slate-700 text-xs h-7 px-2",children:"Clear All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((b,k)=>r.jsxs("div",{className:"flex items-center gap-1 bg-rose-50 text-rose-700 px-2 py-1 rounded-full text-xs border border-rose-200",children:[r.jsx("span",{children:b}),r.jsx("button",{onClick:()=>N(b),className:"hover:bg-rose-200 rounded-full p-0.5 transition-colors",children:r.jsx(kr,{className:"h-2.5 w-2.5"})})]},k))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(bo,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Age"}),r.jsx("span",{className:"text-xs text-slate-500",children:"18 - 99 years"})]}),r.jsx(v,{label:"Age Range",min:18,max:99,minValue:n.ageMin,maxValue:n.ageMax,onMinChange:b=>u("ageMin",b),onMaxChange:b=>u("ageMax",b)})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Cd,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Special Features"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(y,{name:"hasIntroVideo",label:"Has Intro video",icon:wo,checked:n.hasIntroVideo,onChange:f}),r.jsx(y,{name:"isOnline",label:"Lady is online",icon:Ns,checked:n.isOnline,onChange:f}),r.jsx(y,{name:"hasVideo",label:"Has video",icon:wo,checked:n.hasVideo,onChange:f}),r.jsx(y,{name:"hasCameraOn",label:"Has camera On",icon:I4,checked:n.hasCameraOn,onChange:f}),r.jsx(y,{name:"birthdaySoon",label:"Birthday soon",icon:Hn,checked:n.birthdaySoon,onChange:f}),r.jsx(y,{name:"newProfile",label:"New profile",icon:Cd,checked:n.newProfile,onChange:f}),r.jsx(y,{name:"top1000",label:"Top 1000",icon:kd,checked:n.top1000,onChange:f}),r.jsx(y,{name:"verified",label:"Verified Profile",icon:Bs,checked:n.verified,onChange:f})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(vc,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Location"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ss,{name:"country",value:n.country,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Country"}),e1.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))]}),r.jsx($s,{name:"city",value:n.city,onChange:d,placeholder:"City",className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Di,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Appearance"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ss,{name:"eyeColor",value:n.eyeColor,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Eyes color"}),r.jsx("option",{value:"blue",children:"Blue"}),r.jsx("option",{value:"brown",children:"Brown"}),r.jsx("option",{value:"green",children:"Green"}),r.jsx("option",{value:"hazel",children:"Hazel"}),r.jsx("option",{value:"gray",children:"Gray"}),r.jsx("option",{value:"amber",children:"Amber"})]}),r.jsxs(ss,{name:"hairColor",value:n.hairColor,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Hair color"}),r.jsx("option",{value:"blonde",children:"Blonde"}),r.jsx("option",{value:"brunette",children:"Brunette"}),r.jsx("option",{value:"black",children:"Black"}),r.jsx("option",{value:"red",children:"Red"}),r.jsx("option",{value:"auburn",children:"Auburn"}),r.jsx("option",{value:"gray",children:"Gray"})]}),r.jsxs(ss,{name:"appearanceType",value:n.appearanceType,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Appearance type"}),r.jsx("option",{value:"slim",children:"Slim"}),r.jsx("option",{value:"athletic",children:"Athletic"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"curvy",children:"Curvy"}),r.jsx("option",{value:"full",children:"Full"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(NE,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Lifestyle"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ss,{name:"alcohol",value:n.alcohol,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Alcohol"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"socially",children:"Socially"}),r.jsx("option",{value:"regularly",children:"Regularly"})]}),r.jsxs(ss,{name:"smoking",value:n.smoking,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Smoking"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"socially",children:"Socially"}),r.jsx("option",{value:"regularly",children:"Regularly"})]}),r.jsxs(ss,{name:"children",value:n.children,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Children"}),r.jsx("option",{value:"none",children:"No children"}),r.jsx("option",{value:"have",children:"Have children"}),r.jsx("option",{value:"want",children:"Want children"}),r.jsx("option",{value:"no-want",children:"Don't want children"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Y8,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Personal"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ss,{name:"religion",value:n.religion,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Religion"}),r.jsx("option",{value:"christian",children:"Christian"}),r.jsx("option",{value:"orthodox",children:"Orthodox"}),r.jsx("option",{value:"catholic",children:"Catholic"}),r.jsx("option",{value:"muslim",children:"Muslim"}),r.jsx("option",{value:"jewish",children:"Jewish"}),r.jsx("option",{value:"buddhist",children:"Buddhist"}),r.jsx("option",{value:"hindu",children:"Hindu"}),r.jsx("option",{value:"other",children:"Other"}),r.jsx("option",{value:"none",children:"None"})]}),r.jsxs(ss,{name:"zodiacSign",value:n.zodiacSign,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Zodiac sign"}),r.jsx("option",{value:"aries",children:"Aries"}),r.jsx("option",{value:"taurus",children:"Taurus"}),r.jsx("option",{value:"gemini",children:"Gemini"}),r.jsx("option",{value:"cancer",children:"Cancer"}),r.jsx("option",{value:"leo",children:"Leo"}),r.jsx("option",{value:"virgo",children:"Virgo"}),r.jsx("option",{value:"libra",children:"Libra"}),r.jsx("option",{value:"scorpio",children:"Scorpio"}),r.jsx("option",{value:"sagittarius",children:"Sagittarius"}),r.jsx("option",{value:"capricorn",children:"Capricorn"}),r.jsx("option",{value:"aquarius",children:"Aquarius"}),r.jsx("option",{value:"pisces",children:"Pisces"})]}),r.jsxs(ss,{name:"englishLevel",value:n.englishLevel,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"English speaking skills"}),r.jsx("option",{value:"beginner",children:"Beginner"}),r.jsx("option",{value:"elementary",children:"Elementary"}),r.jsx("option",{value:"intermediate",children:"Intermediate"}),r.jsx("option",{value:"upper-intermediate",children:"Upper Intermediate"}),r.jsx("option",{value:"advanced",children:"Advanced"}),r.jsx("option",{value:"fluent",children:"Fluent"}),r.jsx("option",{value:"native",children:"Native"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(qs,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Interests"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ey.slice(0,12).map(b=>r.jsx("button",{onClick:()=>m(b),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${n.interests.includes(b)?"bg-rose-500 text-white shadow-md hover:bg-rose-600":"bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-200"}`,children:b},b))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Co,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Languages"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["English","Russian","Ukrainian","Kazakh","Belarusian","Polish","Czech","Romanian","Bulgarian","Serbian","Croatian","Latvian","Lithuanian","Estonian","Hungarian","Slovak","Slovenian","German","French","Italian","Spanish","Portuguese"].map(b=>r.jsx("button",{onClick:()=>p(b),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${n.languages.includes(b)?"bg-rose-500 text-white shadow-md hover:bg-rose-600":"bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-200"}`,children:b},b))})]})]})}function m9(){const{user:e}=Gr(),[t,s]=M4(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(1),[d]=E.useState(18),[u,f]=E.useState("all"),[m,p]=E.useState(null),[x,j]=E.useState(!1),[N,y]=E.useState({}),[v,b]=E.useState(!1),[k,C]=E.useState(0),[_,M]=E.useState(!0),[L,$]=E.useState(null),[K,I]=E.useState(!1),O=E.useCallback(()=>{const B=t.get("ageRange"),X=t.get("country"),J=t.get("interest"),P={ageMin:18,ageMax:99,country:"",interests:[]};return B&&(B==="18-24"?(P.ageMin=18,P.ageMax=24):B==="25-34"?(P.ageMin=25,P.ageMax=34):B==="35-44"?(P.ageMin=35,P.ageMax=44):B==="45+"&&(P.ageMin=45,P.ageMax=99)),X&&(P.country=X),J&&(P.interests=[J]),console.log("🔍 [BROWSE] Converted URL params to filters:",P),P},[t]);E.useEffect(()=>{const B=O();Object.keys(B).length>0&&(console.log("🔍 [BROWSE] Setting initial filters from URL:",B),y(B),C(X=>X+1))},[O]);const W=(B,X)=>{if(console.log("🔍 [BROWSE] Applying filters to data immediately:",X),console.log("🔍 [BROWSE] Total profiles to filter:",B.length),!(X.ageMin!==18||X.ageMax!==99||X.country&&X.country.trim()!==""||X.city&&X.city.trim()!==""||X.eyeColor&&X.eyeColor.trim()!==""||X.hairColor&&X.hairColor.trim()!==""||X.appearanceType&&X.appearanceType.trim()!==""||X.alcohol&&X.alcohol.trim()!==""||X.smoking&&X.smoking.trim()!==""||X.children&&X.children.trim()!==""||X.religion&&X.religion.trim()!==""||X.zodiacSign&&X.zodiacSign.trim()!==""||X.englishLevel&&X.englishLevel.trim()!==""||X.interests&&X.interests.length>0||X.languages&&X.languages.length>0||X.hasIntroVideo===!0||X.isOnline===!0||X.hasVideo===!0||X.hasCameraOn===!0||X.birthdaySoon===!0||X.newProfile===!0||X.top1000===!0||X.verified===!0)){console.log("🔍 [BROWSE] No active filters, showing all profiles"),o([...B]);return}let P=[...B];(X.ageMin!==18||X.ageMax!==99)&&(P=P.filter(H=>{if(!H.birthDate)return!0;const Q=new Date().getFullYear()-new Date(H.birthDate).getFullYear();return Q>=X.ageMin&&Q<=X.ageMax}),console.log("🔍 [BROWSE] After age filter:",P.length)),X.country&&X.country.trim()!==""&&(P=P.filter(H=>H.country&&H.country.toLowerCase()===X.country.toLowerCase()),console.log("🔍 [BROWSE] After country filter:",P.length)),X.interests&&X.interests.length>0&&(P=P.filter(H=>H.interests&&H.interests.length>0&&H.interests.some(Q=>X.interests.includes(Q))),console.log("🔍 [BROWSE] After interest filter:",P.length)),console.log("🔍 [BROWSE] Final filtered profiles:",P.length),o(P)};E.useEffect(()=>{async function B(){M(!0),$(null);const{data:X,error:J}=await Fe.from("profiles").select("*").order("created_at",{ascending:!1});console.log("🔍 [BROWSE] All profiles in database:",(X==null?void 0:X.length)||0),X&&X.length>0&&console.log("🔍 [BROWSE] Sample profile roles:",X.slice(0,5).map(Q=>({id:Q.id,role:Q.role,name:Q.first_name})));const{data:P,error:H}=await Fe.from("profiles").select("*").eq("role","model").neq("id",(e==null?void 0:e.id)||"").order("created_at",{ascending:!1});if(H)$("Failed to load models."),i([]),o([]);else if(!P||P.length===0){console.log("🔍 [BROWSE] No model profiles found, showing all profiles instead");const Q=(X||[]).map(G=>({id:G.id,userId:G.id,firstName:G.first_name,lastName:G.last_name,gender:G.gender,birthDate:G.birth_date,country:G.country,city:G.city,bio:G.bio,interests:G.interests||[],profession:G.profession,languages:G.languages||[],photos:G.photos||[],verified:G.verified,createdAt:G.created_at,height:G.height,weight:G.weight,eyeColor:G.eye_color,hairColor:G.hair_color,appearanceType:G.appearance_type,alcohol:G.alcohol,smoking:G.smoking,children:G.children,religion:G.religion,zodiacSign:G.zodiac_sign,englishLevel:G.english_level,hasIntroVideo:G.has_intro_video,isOnline:G.is_online,hasVideo:G.has_video,hasCameraOn:G.has_camera_on,birthdaySoon:G.birthday_soon,newProfile:G.new_profile,top1000:G.top_1000}));i(Q),o(Q)}else{console.log("🔍 [BROWSE] Raw data from database:",(P==null?void 0:P.length)||0,"profiles");const Q=(P||[]).map(ae=>({id:ae.id,userId:ae.id,firstName:ae.first_name,lastName:ae.last_name,gender:ae.gender,birthDate:ae.birth_date,country:ae.country,city:ae.city,bio:ae.bio,interests:ae.interests||[],profession:ae.profession,languages:ae.languages||[],photos:ae.photos||[],verified:ae.verified,createdAt:ae.created_at,height:ae.height,weight:ae.weight,eyeColor:ae.eye_color,hairColor:ae.hair_color,appearanceType:ae.appearance_type,alcohol:ae.alcohol,smoking:ae.smoking,children:ae.children,religion:ae.religion,zodiacSign:ae.zodiac_sign,englishLevel:ae.english_level,hasIntroVideo:ae.has_intro_video,isOnline:ae.is_online,hasVideo:ae.has_video,hasCameraOn:ae.has_camera_on,birthdaySoon:ae.birthday_soon,newProfile:ae.new_profile,top1000:ae.top_1000}));if(i(Q),t.get("ageRange")||t.get("country")||t.get("interest")){console.log("🔍 [BROWSE] URL parameters detected, applying filters immediately");const ae=O();W(Q,ae)}else console.log("🔍 [BROWSE] No URL parameters, showing all profiles"),o(Q)}M(!1)}B()},[]),E.useCallback(B=>{if(console.log("🔍 [BROWSE] Applying filters directly:",B),console.log("🔍 [BROWSE] Total profiles available:",n.length),console.log("🔍 [BROWSE] Sample profile countries:",n.slice(0,3).map(P=>P.country)),!(B.ageMin!==18||B.ageMax!==99||B.country&&B.country.trim()!==""||B.city&&B.city.trim()!==""||B.eyeColor&&B.eyeColor.trim()!==""||B.hairColor&&B.hairColor.trim()!==""||B.appearanceType&&B.appearanceType.trim()!==""||B.alcohol&&B.alcohol.trim()!==""||B.smoking&&B.smoking.trim()!==""||B.children&&B.children.trim()!==""||B.religion&&B.religion.trim()!==""||B.zodiacSign&&B.zodiacSign.trim()!==""||B.englishLevel&&B.englishLevel.trim()!==""||B.interests&&B.interests.length>0||B.languages&&B.languages.length>0||B.hasIntroVideo===!0||B.isOnline===!0||B.hasVideo===!0||B.hasCameraOn===!0||B.birthdaySoon===!0||B.newProfile===!0||B.top1000===!0||B.verified===!0)){console.log("🔍 [BROWSE] No active filters, showing all profiles"),o([...n]);return}let J=[...n];(B.ageMin!==18||B.ageMax!==99)&&(J=J.filter(P=>{if(!P.birthDate)return!0;const H=new Date().getFullYear()-new Date(P.birthDate).getFullYear();return H>=B.ageMin&&H<=B.ageMax})),B.country&&B.country.trim()!==""&&(J=J.filter(P=>P.country&&P.country.toLowerCase()===B.country.toLowerCase()),console.log("🔍 [BROWSE] After country filter:",J.length)),B.interests&&B.interests.length>0&&(J=J.filter(P=>P.interests&&P.interests.length>0&&P.interests.some(H=>B.interests.includes(H)))),console.log("🔍 [BROWSE] Final filtered profiles:",J.length),o(J)},[n]),E.useEffect(()=>{const B=t.get("openChat");if(B){const X=n.find(J=>J.id===B||J.userId===B);if(X){p(X),j(!0);const J=new URLSearchParams(t);J.delete("openChat"),s(J,{replace:!0})}}},[t,n,s]);const Y=l*d,le=Y-d,ie=a.slice(le,Y),oe=E.useCallback(B=>{console.log("🔍 [BROWSE] Filter change triggered with:",B),y(B),c(1),I(!0);const X=B.ageMin!==18||B.ageMax!==99||B.country&&B.country.trim()!==""||B.city&&B.city.trim()!==""||B.eyeColor&&B.eyeColor.trim()!==""||B.hairColor&&B.hairColor.trim()!==""||B.appearanceType&&B.appearanceType.trim()!==""||B.alcohol&&B.alcohol.trim()!==""||B.smoking&&B.smoking.trim()!==""||B.children&&B.children.trim()!==""||B.religion&&B.religion.trim()!==""||B.zodiacSign&&B.zodiacSign.trim()!==""||B.englishLevel&&B.englishLevel.trim()!==""||B.interests&&B.interests.length>0||B.languages&&B.languages.length>0||B.hasIntroVideo===!0||B.isOnline===!0||B.hasVideo===!0||B.hasCameraOn===!0||B.birthdaySoon===!0||B.newProfile===!0||B.top1000===!0||B.verified===!0;if(console.log("🔍 [BROWSE] Has active filters:",X),console.log("🔍 [BROWSE] Total profiles before filtering:",n.length),!X){console.log("🔍 [BROWSE] No active filters, showing all profiles"),o([...n]);return}let J=[...n];(B.ageMin!==18||B.ageMax!==99)&&(J=J.filter(P=>{if(!P.birthDate)return!0;const H=new Date().getFullYear()-new Date(P.birthDate).getFullYear();return H>=B.ageMin&&H<=B.ageMax}),console.log("🔍 [BROWSE] After age filter:",J.length)),B.country&&B.country.trim()!==""&&(J=J.filter(P=>P.country&&P.country.toLowerCase()===B.country.toLowerCase()),console.log("🔍 [BROWSE] After country filter:",J.length)),B.city&&B.city.trim()!==""&&(J=J.filter(P=>P.city&&P.city.toLowerCase().includes(B.city.toLowerCase())),console.log("🔍 [BROWSE] After city filter:",J.length)),B.eyeColor&&B.eyeColor.trim()!==""&&(J=J.filter(P=>P.eyeColor===B.eyeColor),console.log("🔍 [BROWSE] After eye color filter:",J.length)),B.hairColor&&B.hairColor.trim()!==""&&(J=J.filter(P=>P.hairColor===B.hairColor),console.log("🔍 [BROWSE] After hair color filter:",J.length)),B.appearanceType&&B.appearanceType.trim()!==""&&(J=J.filter(P=>P.appearanceType===B.appearanceType),console.log("🔍 [BROWSE] After appearance type filter:",J.length)),B.alcohol&&B.alcohol.trim()!==""&&(J=J.filter(P=>P.alcohol===B.alcohol),console.log("🔍 [BROWSE] After alcohol filter:",J.length)),B.smoking&&B.smoking.trim()!==""&&(J=J.filter(P=>P.smoking===B.smoking),console.log("🔍 [BROWSE] After smoking filter:",J.length)),B.children&&B.children.trim()!==""&&(J=J.filter(P=>P.children===B.children),console.log("🔍 [BROWSE] After children filter:",J.length)),B.religion&&B.religion.trim()!==""&&(J=J.filter(P=>P.religion===B.religion),console.log("🔍 [BROWSE] After religion filter:",J.length)),B.zodiacSign&&B.zodiacSign.trim()!==""&&(J=J.filter(P=>P.zodiacSign===B.zodiacSign),console.log("🔍 [BROWSE] After zodiac filter:",J.length)),B.englishLevel&&B.englishLevel.trim()!==""&&(J=J.filter(P=>P.englishLevel===B.englishLevel),console.log("🔍 [BROWSE] After english level filter:",J.length)),B.interests&&B.interests.length>0&&(J=J.filter(P=>P.interests&&P.interests.length>0&&P.interests.some(H=>B.interests.includes(H))),console.log("🔍 [BROWSE] After interests filter:",J.length)),B.languages&&B.languages.length>0&&(J=J.filter(P=>P.languages&&P.languages.length>0&&P.languages.some(H=>B.languages.includes(H))),console.log("🔍 [BROWSE] After languages filter:",J.length)),B.hasIntroVideo===!0&&(J=J.filter(P=>P.hasIntroVideo===!0),console.log("🔍 [BROWSE] After intro video filter:",J.length)),B.isOnline===!0&&(J=J.filter(P=>P.isOnline===!0),console.log("🔍 [BROWSE] After online filter:",J.length)),B.hasVideo===!0&&(J=J.filter(P=>P.hasVideo===!0),console.log("🔍 [BROWSE] After video filter:",J.length)),B.hasCameraOn===!0&&(J=J.filter(P=>P.hasCameraOn===!0),console.log("🔍 [BROWSE] After camera on filter:",J.length)),B.birthdaySoon===!0&&(J=J.filter(P=>P.birthdaySoon===!0),console.log("🔍 [BROWSE] After birthday soon filter:",J.length)),B.newProfile===!0&&(J=J.filter(P=>P.newProfile===!0),console.log("🔍 [BROWSE] After new profile filter:",J.length)),B.top1000===!0&&(J=J.filter(P=>P.top1000===!0),console.log("🔍 [BROWSE] After top1000 filter:",J.length)),B.verified===!0&&(J=J.filter(P=>P.verified===!0),console.log("🔍 [BROWSE] After verified filter:",J.length)),console.log("🔍 [BROWSE] Final filtered profiles:",J.length),o(J)},[n,K,t]),Z=B=>{p(B),j(!0)};return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx(js,{}),r.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"lg:hidden mb-4",children:r.jsxs(Me,{onClick:()=>b(!v),className:"w-full bg-rose-500 hover:bg-rose-600 text-white flex items-center justify-center gap-2 py-3 touch-none active:scale-[0.98] transition-transform",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})}),v?"Hide Filters":"Show Filters"]})}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("aside",{className:`${v?"block":"hidden"} lg:block w-full lg:w-80 flex-shrink-0 transition-all duration-300 ease-in-out z-20`,children:r.jsx("div",{className:"lg:sticky lg:top-24 space-y-4 lg:space-y-6 bg-white/95 backdrop-blur-lg rounded-xl shadow-lg p-4 lg:p-0 lg:shadow-none lg:rounded-none lg:bg-transparent",children:r.jsx(f9,{onFiltersChange:oe,initialFilters:N},k)})}),r.jsx("div",{className:"flex-1",children:_?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profiles..."})]}):L?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-600 mb-4",children:L}),r.jsx(Me,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]}):a.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-xl font-medium mb-2",children:"No profiles found"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Try adjusting your filters or check back later"}),r.jsx(Me,{onClick:()=>y({}),variant:"outline",children:"Clear Filters"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:ie.map(B=>r.jsx(_3,{profile:B,onMessage:Z},B.id))}),a.length>d&&r.jsx("div",{className:"mt-8 flex justify-center gap-2",children:Array.from({length:Math.ceil(a.length/d)}).map((B,X)=>r.jsx(Me,{variant:l===X+1?"default":"outline",size:"sm",onClick:()=>{c(X+1),S6()},children:X+1},X))})]})})]})]}),r.jsx(yr,{}),m&&r.jsx(t0,{profile:m,isOpen:x,onClose:()=>j(!1),searchFilters:N})]})}function p9(){const{id:e}=f8(),t=Dr(),{user:s,updateCoins:n}=Gr(),[i,a]=E.useState(null),[o,l]=E.useState(!0),[c,d]=E.useState(null),[u,f]=E.useState(0),[m,p]=E.useState(!1),[x,j]=E.useState(!1),[N,y]=E.useState(()=>{const O=localStorage.getItem("likedProfiles");return O?JSON.parse(O):[]}),[v,b]=E.useState(!1);E.useEffect(()=>{async function O(){if(!e){d("Profile ID not found"),l(!1);return}l(!0),d(null);try{const{data:W,error:Y}=await Fe.from("profiles").select("*").eq("id",e).single();if(Y){console.error("Error fetching profile:",Y),d("Profile not found"),l(!1);return}if(!W){d("Profile not found"),l(!1);return}const le={id:W.id,userId:W.id,firstName:W.first_name,lastName:W.last_name,gender:W.gender,birthDate:W.birth_date,country:W.country,city:W.city,bio:W.bio,interests:W.interests||[],profession:W.profession,languages:W.languages||[],photos:W.photos||[],verified:W.verified,createdAt:W.created_at,height:W.height,weight:W.weight,eyeColor:W.eye_color,hairColor:W.hair_color,appearanceType:W.appearance_type,alcohol:W.alcohol,smoking:W.smoking,children:W.children,religion:W.religion,zodiacSign:W.zodiac_sign,englishLevel:W.english_level,hasIntroVideo:W.has_intro_video,isOnline:W.is_online,hasVideo:W.has_video,hasCameraOn:W.has_camera_on,birthdaySoon:W.birthday_soon,newProfile:W.new_profile,top1000:W.top_1000};a(le)}catch(W){console.error("Error fetching profile:",W),d("Failed to load profile")}finally{l(!1)}}O()},[e]),E.useEffect(()=>{localStorage.setItem("likedProfiles",JSON.stringify(N))},[N]);const k=()=>{i&&y(O=>O.includes(i.id)?O.filter(W=>W!==i.id):[...O,i.id])},C=()=>{i&&f(O=>O===0?i.photos.length-1:O-1)},_=()=>{i&&f(O=>O===i.photos.length-1?0:O+1)},M=O=>{f(O),p(!0)},L=()=>{p(!1)},$=()=>{j(!0)},K=()=>{if(!s){t("/login");return}if(s.id===(i==null?void 0:i.id)){alert("You cannot send gifts to yourself!");return}b(!0),j(!0)};if(o)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(js,{}),r.jsx("main",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})]});if(c||!i)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(js,{}),r.jsx("main",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:c||"Profile not found"}),r.jsx(Me,{onClick:()=>t("/browse"),variant:"outline",children:"Back to Browse"})]})})]});if(s&&s.id===i.id)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(js,{}),r.jsx("main",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-4",children:"You cannot view your own profile"}),r.jsx(Me,{onClick:()=>t("/browse"),variant:"outline",children:"Back to Browse"})]})})]});const I=i.birthDate?new Date().getFullYear()-new Date(i.birthDate).getFullYear():0;return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(js,{}),r.jsx("main",{className:"flex-1 py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("img",{src:i.photos[u],alt:`${i.firstName}'s photo`,className:"w-full h-[500px] object-cover rounded-lg cursor-pointer",onClick:()=>M(u)}),i.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full p-1 hover:bg-white",onClick:C,children:r.jsx(Ah,{className:"h-6 w-6"})}),r.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full p-1 hover:bg-white",onClick:_,children:r.jsx(Eh,{className:"h-6 w-6"})})]}),i.verified&&r.jsx("div",{className:"absolute top-2 right-2",children:r.jsxs(zs,{variant:"verified",className:"flex items-center gap-1",children:[r.jsx(ps,{className:"h-3 w-3"}),r.jsx("span",{children:"Verified"})]})})]}),i.photos.length>1&&r.jsx("div",{className:"flex gap-2 mb-6",children:i.photos.map((O,W)=>r.jsx("img",{src:O,alt:`${i.firstName}'s photo ${W+1}`,className:`h-20 w-20 object-cover rounded cursor-pointer ${W===u?"ring-2 ring-rose-600":""}`,onClick:()=>f(W)},W))}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsxs(Me,{className:"flex-1 gap-2",onClick:$,children:[r.jsx(Ns,{className:"h-4 w-4"}),r.jsx("span",{children:"Message"})]}),r.jsxs(Me,{variant:N.includes((i==null?void 0:i.id)||"")?"default":"outline",className:`flex-1 gap-2 ${N.includes((i==null?void 0:i.id)||"")?"bg-rose-500 text-white hover:bg-rose-600":""}`,onClick:k,children:[r.jsx(qs,{className:`h-4 w-4 ${N.includes((i==null?void 0:i.id)||"")?"fill-current":""}`}),r.jsx("span",{children:N.includes((i==null?void 0:i.id)||"")?"Liked":"Like"})]}),r.jsxs(Me,{variant:"outline",className:"gap-2 relative overflow-hidden group bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200 hover:border-amber-300 hover:from-amber-100 hover:to-yellow-100 transition-all duration-300 hover:scale-105 hover:shadow-lg",onClick:K,children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-yellow-400 rounded-full animate-ping opacity-75"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 bg-amber-400 rounded-full animate-ping opacity-75",style:{animationDelay:"0.5s"}}),r.jsx("div",{className:"absolute -bottom-1 -left-2 w-1 h-1 bg-yellow-300 rounded-full animate-ping opacity-75",style:{animationDelay:"1s"}})]}),r.jsx(Hn,{className:"h-4 w-4 text-amber-600 group-hover:text-amber-700 group-hover:scale-110 transition-all duration-300"}),r.jsx("span",{className:"bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent font-semibold group-hover:from-amber-700 group-hover:to-yellow-700 transition-all duration-300",children:"Send Gift"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-200/20 to-yellow-200/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-md"})]})]}),r.jsx(bs,{className:"mb-6",children:r.jsxs(Ts,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Age"}),r.jsxs("p",{children:[I," years"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vc,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Location"}),r.jsxs("p",{children:[i.city,", ",i.country]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(G8,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Profession"}),r.jsx("p",{children:i.profession})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(eE,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Languages"}),r.jsx("p",{children:i.languages.join(", ")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Co,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Member Since"}),r.jsx("p",{children:new Date(i.createdAt).toLocaleDateString()})]})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("h1",{className:"text-3xl font-bold",children:[i.firstName," ",i.lastName]}),i.verified&&r.jsx(zs,{variant:"verified",className:"flex items-center gap-1",children:r.jsx(Bs,{className:"h-3 w-3"})})]}),r.jsxs("p",{className:"text-slate-600",children:[i.city,", ",i.country," • ",I," years old"]})]}),r.jsx(bs,{className:"mb-6",children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About Me"}),r.jsx("p",{className:"text-slate-700 whitespace-pre-line",children:i.bio})]})}),r.jsx(bs,{className:"mb-6",children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.interests.map((O,W)=>r.jsx(zs,{variant:"secondary",children:O},W))})]})}),r.jsx(bs,{className:"mb-6",children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What I'm Looking For"}),r.jsx("p",{className:"text-slate-700",children:"I'm looking for a genuine connection with someone who shares my interests in art and travel. I value honesty, kindness, and a good sense of humor. I hope to find a partner who is supportive, communicative, and open-minded about different cultures."})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cultural Background"}),r.jsx("p",{className:"text-slate-700 mb-4",children:"I was born and raised in Kyiv, Ukraine. I'm proud of my Ukrainian heritage and enjoy sharing our traditions, cuisine, and culture. I speak Ukrainian as my native language, along with Russian and English."}),r.jsx("p",{className:"text-slate-700",children:"I enjoy cooking traditional Ukrainian dishes like borscht and varenyky. During holidays, I like to celebrate with traditional customs. I'm open to learning about other cultures and would love to share mine with someone special."})]})})]})]})})}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"relative max-w-4xl w-full",children:[r.jsx("button",{className:"absolute top-4 right-4 bg-white/20 rounded-full p-2 hover:bg-white/40",onClick:L,children:r.jsx(kr,{className:"h-6 w-6 text-white"})}),r.jsx("img",{src:i.photos[u],alt:`${i.firstName}'s photo`,className:"w-full max-h-[80vh] object-contain"}),r.jsx("div",{className:"absolute left-0 right-0 bottom-4 flex justify-center gap-2",children:i.photos.map((O,W)=>r.jsx("button",{className:`h-2 w-2 rounded-full ${W===u?"bg-white":"bg-white/50"}`,onClick:()=>f(W)},W))}),i.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 rounded-full p-2 hover:bg-white/40",onClick:C,children:r.jsx(Ah,{className:"h-6 w-6 text-white"})}),r.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 rounded-full p-2 hover:bg-white/40",onClick:_,children:r.jsx(Eh,{className:"h-6 w-6 text-white"})})]})]})}),r.jsx(yr,{}),r.jsx(t0,{profile:i,isOpen:x,onClose:()=>j(!1),searchFilters:{},openGiftSelectorOnOpen:v,setOpenGiftSelectorOnOpen:b})]})}function g9(){const{user:e,updateProfile:t,uploadProfilePhoto:s}=Gr(),n=Dr(),i=E.useRef(null),[a,o]=E.useState(!1),[l,c]=E.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",gender:(e==null?void 0:e.gender)||"male",birthDate:(e==null?void 0:e.birthDate)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",bio:(e==null?void 0:e.bio)||"",profession:(e==null?void 0:e.profession)||"",interests:(e==null?void 0:e.interests)||[],languages:(e==null?void 0:e.languages)||[]}),[d,u]=E.useState((e==null?void 0:e.photos)||[]),[f,m]=E.useState(!1),[p,x]=E.useState({}),j=_=>{const{name:M,value:L}=_.target;c($=>({...$,[M]:L})),p[M]&&x($=>{const K={...$};return delete K[M],K})},N=_=>{c(M=>{const L=M.interests.includes(_)?M.interests.filter($=>$!==_):[...M.interests,_];return{...M,interests:L}})},y=_=>{c(M=>{const L=M.languages.includes(_)?M.languages.filter($=>$!==_):[...M.languages,_];return{...M,languages:L}})},v=async _=>{const M=_.target.files;if(!M||M.length===0)return;const L=M[0];if(!L.type.startsWith("image/")){x($=>({...$,photo:"Please upload an image file"}));return}if(L.size>5*1024*1024){x($=>({...$,photo:"Image size should be less than 5MB"}));return}try{o(!0);const{url:$,error:K}=await s(L);if(K)throw K;$&&u(I=>[...I,$])}catch($){console.error("Error uploading photo:",$),x(K=>({...K,photo:"Failed to upload photo. Please try again."}))}finally{o(!1),i.current&&(i.current.value="")}},b=_=>{u(M=>M.filter(L=>L!==_))},k=()=>{const _={};if(l.firstName.trim()||(_.firstName="First name is required"),l.lastName.trim()||(_.lastName="Last name is required"),!l.birthDate)_.birthDate="Birth date is required";else{const M=new Date(l.birthDate).getFullYear();new Date().getFullYear()-M<18&&(_.birthDate="You must be at least 18 years old")}return l.country||(_.country="Country is required"),l.city.trim()||(_.city="City is required"),x(_),Object.keys(_).length===0},C=async _=>{if(_.preventDefault(),!!k())try{m(!0);const M={...l,photos:d},{error:L}=await t(M);if(L)throw L;n("/dashboard")}catch(M){console.error("Error updating profile:",M),x(L=>({...L,form:"Failed to update profile. Please try again."}))}finally{m(!1)}};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[r.jsx(js,{}),r.jsx("main",{className:"flex-1 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Me,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>n(-1),children:r.jsx(Up,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:"Edit Profile"})]}),r.jsx("form",{onSubmit:C,children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsx(bs,{className:"mb-6",children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Profile Photos"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.map((_,M)=>r.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden",children:[r.jsx("img",{src:_,alt:`Profile photo ${M+1}`,className:"w-full h-full object-cover"}),r.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-white/80 rounded-full p-1 hover:bg-white",onClick:()=>b(_),children:r.jsx(kr,{className:"h-4 w-4 text-red-500"})}),M===0&&r.jsx(zs,{variant:"default",className:"absolute bottom-2 left-2",children:"Main Photo"})]},M)),d.length<6&&r.jsxs("div",{className:"aspect-square rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:border-primary-500 transition-colors",onClick:()=>{var _;return(_=i.current)==null?void 0:_.click()},children:[r.jsxs("div",{className:"text-center",children:[r.jsx(_d,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Add Photo"})]}),r.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:v,disabled:a})]})]}),p.photo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.photo}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{children:"• Upload up to 6 photos"}),r.jsx("p",{children:"• First photo will be your main profile picture"}),r.jsx("p",{children:"• Photos should clearly show your face"}),r.jsx("p",{children:"• Maximum file size: 5MB"})]})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Verification"}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(I4,{className:"h-5 w-5 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Verify your profile"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get a verified badge to increase trust"})]})]}),r.jsx(Me,{variant:"outline",className:"w-full",children:"Start Verification"})]})})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),p.form&&r.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:p.form}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-1",children:"First Name"}),r.jsx($s,{id:"firstName",name:"firstName",value:l.firstName,onChange:j,className:p.firstName?"border-red-500":""}),p.firstName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.firstName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-1",children:"Last Name"}),r.jsx($s,{id:"lastName",name:"lastName",value:l.lastName,onChange:j,className:p.lastName?"border-red-500":""}),p.lastName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.lastName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium mb-1",children:"Gender"}),r.jsxs(ss,{id:"gender",name:"gender",value:l.gender,onChange:j,children:[r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium mb-1",children:"Birth Date"}),r.jsx($s,{id:"birthDate",name:"birthDate",type:"date",value:l.birthDate,onChange:j,className:p.birthDate?"border-red-500":""}),p.birthDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.birthDate})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:"Country"}),r.jsxs(ss,{id:"country",name:"country",value:l.country,onChange:j,className:p.country?"border-red-500":"",children:[r.jsx("option",{value:"",children:"Select country"}),e1.map(_=>r.jsx("option",{value:_.value,children:_.label},_.value))]}),p.country&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.country})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:"City"}),r.jsx($s,{id:"city",name:"city",value:l.city,onChange:j,className:p.city?"border-red-500":""}),p.city&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.city})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"profession",className:"block text-sm font-medium mb-1",children:"Profession"}),r.jsx($s,{id:"profession",name:"profession",value:l.profession,onChange:j,placeholder:"e.g. Software Engineer, Teacher, Artist"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium mb-1",children:"About Me"}),r.jsx(a1,{id:"bio",name:"bio",value:l.bio,onChange:j,placeholder:"Tell others about yourself, your interests, and what you're looking for...",className:"min-h-[120px]"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.bio.length,"/500 characters"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:ey.map(_=>r.jsx(zs,{variant:l.interests.includes(_)?"default":"outline",className:"cursor-pointer px-3 py-1",onClick:()=>N(_),children:_},_))}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select up to 10 interests that describe you"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["English","Russian","Ukrainian","Kazakh","French","German","Spanish","Italian","Chinese","Japanese"].map(_=>r.jsx(zs,{variant:l.languages.includes(_)?"default":"outline",className:"cursor-pointer px-3 py-1",onClick:()=>y(_),children:_},_))})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(Me,{type:"button",variant:"outline",onClick:()=>n(-1),children:"Cancel"}),r.jsxs(Me,{type:"submit",disabled:f,className:"gap-2",children:[f?"Saving...":"Save Changes",!f&&r.jsx(hE,{className:"h-4 w-4"})]})]})]})})})]})})]})}),r.jsx(yr,{})]})}function x9({id:e,amount:t,price:s,bonus:n=0,popular:i,selected:a,onSelect:o}){const l=t+n;return r.jsxs(bs,{className:`relative hover-lift group animate-fade-in ${i?"border-amber-500 shadow-lg hover-glow ring-2 ring-amber-200":a?"border-rose-500 shadow-lg ring-2 ring-rose-200":"hover:border-primary-300"} transition-all duration-300`,children:[i&&r.jsx(zs,{variant:"premium",className:"absolute -top-3 left-1/2 transform -translate-x-1/2 animate-bounce-subtle shadow-lg",children:"Most Popular"}),r.jsxs(s1,{className:"text-center pb-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Jn,{className:"h-6 w-6 text-amber-500"}),r.jsxs(r1,{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors duration-200",children:[l," Coins"]})]}),n>0&&r.jsxs("div",{className:"text-sm text-green-600 font-medium mb-2",children:[t," + ",n," bonus coins"]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-3xl font-bold text-primary-600 group-hover:scale-105 transition-transform duration-200",children:["€",s.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["€",(s/l).toFixed(3)," per coin"]})]})]}),r.jsx(Ts,{className:"pb-6",children:r.jsxs("ul",{className:"space-y-3 stagger-animation",children:[r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:["Send ",l," messages"]})]}),r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:["Send ",Math.floor(l/5),"-",Math.floor(l/50)," virtual gifts"]})]}),r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:[Math.floor(l/10)," minutes of video calls"]})]}),r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:[Math.floor(l/400)," minutes of voice calls"]})]}),l>=50&&r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:["View contact info ",Math.floor(l/50)," time",Math.floor(l/50)>1?"s":""]})]})]})}),r.jsx(Xh,{className:"pt-0",children:r.jsx(Me,{className:`w-full transition-all duration-200 hover:shadow-lg hover:scale-[1.02] ${i?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600":a?"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600":""}`,variant:i?"premium":"default",onClick:()=>o(e),children:a?"Selected - Click to Proceed":"Buy Now"})})]})}function y9({id:e,name:t,duration:s,durationUnit:n,price:i,features:a,popular:o,selected:l,onSelect:c}){const d=Dr(),u=()=>{c(e),d(`/checkout?subscription=${e}`)};return r.jsxs("div",{className:"relative h-full",children:[o&&r.jsx(zs,{variant:"premium",className:"absolute -top-3 left-1/2 transform -translate-x-1/2 animate-bounce-subtle shadow-lg z-10",children:"Most Popular"}),r.jsxs(bs,{className:`h-full flex flex-col ${o?"border-amber-500 shadow-lg hover-glow ring-2 ring-amber-200":l?"border-rose-500 shadow-lg ring-2 ring-rose-200":"border-gray-200 hover:border-primary-300"} transition-all duration-300 hover-lift group animate-fade-in`,children:[r.jsxs(s1,{className:"text-center pb-4 flex-shrink-0 pt-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(kd,{className:"h-6 w-6 text-amber-500"}),r.jsx(r1,{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors duration-200",children:t})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600 mb-2",children:[r.jsx(_r,{className:"h-4 w-4"}),r.jsxs("span",{children:[s," ",n,s>1?"s":""]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-3xl font-bold text-primary-600 group-hover:scale-105 transition-transform duration-200",children:["€",i.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["€",(i/s).toFixed(2)," per ",n.slice(0,-1)]})]})]}),r.jsx(Ts,{className:"flex-grow pb-6",children:r.jsx("ul",{className:"space-y-3",children:a.map((f,m)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm leading-relaxed",children:f})]},m))})}),r.jsx(Xh,{className:"pt-0 flex-shrink-0",children:r.jsx(Me,{className:`w-full transition-all duration-200 hover:shadow-lg hover:scale-[1.02] ${o?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600":l?"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600":""}`,variant:o?"premium":"default",onClick:u,children:l?"Selected - Click to Proceed":"Subscribe Now"})})]})]})}const v9=[{id:1,question:"How do coins work?",answer:"Coins are our virtual currency that you can use to access premium features like messaging, video calls, and sending gifts. Each action costs a specific number of coins - you only pay for what you use!"},{id:2,question:"Do coins expire?",answer:"No, your coins never expire. Once purchased, they remain in your account until you use them."},{id:3,question:"How much do different actions cost?",answer:"Messages require a subscription, virtual gifts range from 5-50 coins depending on the gift, video calls cost 1000 coins per minute, voice calls cost 400 coins per minute, and viewing contact info costs 700 coins."},{id:4,question:"Can I get a refund for unused coins?",answer:"We do not offer refunds for purchased coins. However, you can use them at any time as they never expire."},{id:5,question:"What payment methods do you accept?",answer:"We accept cryptocurrency payments including Bitcoin, Ethereum, USDT, and other major cryptocurrencies for secure and private transactions."},{id:6,question:"Is my payment information secure?",answer:"Yes, all cryptocurrency payments are processed securely through blockchain technology. We never store your private keys or wallet information."},{id:7,question:"Do I get bonus coins with larger packages?",answer:"Yes! Larger coin packages include bonus coins. The 500-coin package includes 50 bonus coins, 1000-coin package includes 150 bonus coins, and 2000-coin package includes 400 bonus coins."},{id:8,question:"How do I contact customer support?",answer:"You can reach our 24/7 customer support team through the help section in your account, or email us at support@purelove.com. We typically respond within 2 hours."}],b9=[{id:1,name:"Michael R.",age:32,text:"I love the coin system! I only pay for what I use and never waste money on unused features.",rating:5,location:"New York, USA"},{id:2,name:"David L.",age:28,text:"The pay-per-use model is perfect for me. I can control my spending and use coins when I really want to connect with someone special.",rating:5,location:"London, UK"},{id:3,name:"James K.",age:35,text:"Found my soulmate here! The video calls feature helped us connect on a deeper level. Worth every coin!",rating:5,location:"Toronto, Canada"}];function w9(){const[e,t]=E.useState("subscription"),[s,n]=E.useState(null),[i,a]=E.useState(null),[o,l]=E.useState(null),{user:c}=Gr(),d=Qh(),u=Dr(),f=x=>{n(x),a(null),console.log("Selected coin package:",x),u(`/checkout?package=${x}`)},m=x=>{a(x),n(null),console.log("Selected subscription package:",x),u(`/checkout?subscription=${x}`)},p=x=>{l(o===x?null:x)};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-purple-600 text-white py-16 sm:py-24",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Pay Only for What You Use"}),r.jsx("p",{className:"text-xl sm:text-2xl opacity-90 mb-8 leading-relaxed",children:"Buy coins and spend them on messages, calls, gifts, and premium features. No subscriptions, no waste!"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[r.jsx(ps,{className:"h-5 w-5"}),r.jsx("span",{children:"Secure Crypto Payments"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[r.jsx(bo,{className:"h-5 w-5"}),r.jsx("span",{children:"50,000+ Members"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[r.jsx(qs,{className:"h-5 w-5"}),r.jsx("span",{children:"1,000+ Success Stories"})]})]})]})})}),r.jsx("main",{className:"flex-1 py-8 sm:py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[c&&r.jsx("div",{className:"mb-12 sm:mb-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-200 rounded-2xl p-6 sm:p-8 text-center shadow-lg",children:[r.jsx("div",{className:"bg-amber-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Jn,{className:"h-8 w-8 text-amber-600"})}),r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-amber-800 mb-2",children:"Your Current Balance"}),r.jsxs("p",{className:"text-amber-700 mb-4 text-3xl font-bold",children:[c.coins||0," Coins"]}),r.jsx("div",{className:"text-sm text-amber-600",children:"✨ Use your coins for messages, calls, gifts, and more!"})]})}),r.jsxs("div",{className:"mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-8 text-center bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"What Can You Do With Coins?"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-blue-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ns,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Send Messages"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Connect with amazing women"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"Subscription"}),r.jsx("p",{className:"text-sm text-gray-500",children:"required"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-purple-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(Hn,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Virtual Gifts"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Show your appreciation"}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"5-50 coins"}),r.jsx("p",{className:"text-sm text-gray-500",children:"per gift"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-orange-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(aa,{className:"h-6 w-6 text-orange-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Voice Calls"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"High-quality voice chat"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Pd.voiceCall," coins"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"per minute"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-green-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(wo,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Calls"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Face-to-face conversations"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Pd.videoCall," coins"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"per minute"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(aa,{className:"h-6 w-6 text-rose-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Contact Info"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"WhatsApp, Email addresses"}),r.jsxs("div",{className:"text-2xl font-bold text-rose-600",children:[Pd.contactInfo," coins"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"one-time access"})]})]})]}),r.jsxs("div",{className:"mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-8 text-center bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"Choose Your Pricing Plan"}),r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"bg-gray-100 rounded-lg p-1 inline-flex",children:[r.jsx("button",{onClick:()=>t("payPerUse"),className:`px-6 py-3 rounded-md font-medium transition-all duration-200 ${e==="payPerUse"?"bg-white text-rose-600 shadow-md":"text-gray-600 hover:text-rose-600"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jn,{className:"h-4 w-4"}),"Pay Per Use"]})}),r.jsx("button",{onClick:()=>t("subscription"),className:`px-6 py-3 rounded-md font-medium transition-all duration-200 ${e==="subscription"?"bg-white text-rose-600 shadow-md":"text-gray-600 hover:text-rose-600"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"h-4 w-4"}),"Subscription Plans"]})})]})}),e==="payPerUse"&&r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Pay Per Use - Coin Packages"}),r.jsx("p",{className:"text-gray-600",children:"Buy coins and use them for messages, calls, gifts, and more. No monthly fees!"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:ty.map(x=>r.jsx(x9,{id:x.id,amount:x.amount,price:x.price,bonus:x.bonus,popular:x.popular,selected:s===x.id,onSelect:f},x.id))}),s&&r.jsx("div",{className:"text-center mt-8",children:r.jsx(Me,{onClick:()=>u(`/checkout?package=${s}`),className:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Proceed to Checkout"})})]}),e==="subscription"&&r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Subscription Plans"}),r.jsx("p",{className:"text-gray-600",children:"Get unlimited access to premium features with our monthly subscription plans."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:sy.map(x=>r.jsx(y9,{id:x.id,name:x.name,duration:x.duration,durationUnit:x.durationUnit,price:x.price,features:x.features,popular:x.popular,selected:i===x.id,onSelect:m},x.id))}),i&&r.jsx("div",{className:"text-center mt-8",children:r.jsx(Me,{onClick:()=>u(`/checkout?subscription=${i}`),className:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Proceed to Checkout"})})]})]}),r.jsxs("div",{className:"mb-16 sm:mb-20",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"What Our Members Say"}),r.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto mb-6",children:"Join thousands of happy couples who found love through our platform"}),r.jsxs("div",{className:"inline-flex flex-col items-center gap-3 bg-white rounded-lg shadow-md px-6 py-3 border",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("img",{src:"/lcn/trustpilot-logo.png",alt:"Trustpilot",width:150,height:150})}),r.jsxs("div",{className:"text-sm text-slate-600",children:[r.jsx("span",{className:"font-semibold",children:"4.8/5"})," based on 2,847 reviews"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b9.map(x=>r.jsx(bs,{className:"hover:shadow-lg transition-all duration-300 relative",children:r.jsxs(Ts,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(x.rating)].map((j,N)=>r.jsx(Lh,{className:"h-4 w-4 text-green-500 fill-current"},N))}),r.jsx("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:r.jsx("img",{src:"/lcn/trustpilot-logo2.png",alt:"Trustpilot",width:80,height:80})})]}),r.jsxs("p",{className:"text-slate-600 mb-4 italic",children:['"',x.text,'"']}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-rose-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:x.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:[x.name,", ",x.age]}),r.jsx("div",{className:"text-sm text-slate-500",children:x.location}),r.jsx("div",{className:"text-xs text-slate-400",children:"Verified Customer"})]})]})]})},x.id))})]}),r.jsxs("div",{className:"mb-16 sm:mb-20",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Everything you need to know about our pricing and features"})]}),r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsx("div",{className:"space-y-4",children:v9.map(x=>r.jsx(bs,{className:"overflow-hidden",children:r.jsxs(Ts,{className:"p-0",children:[r.jsxs("button",{onClick:()=>p(x.id),className:"w-full p-6 text-left hover:bg-slate-50 transition-colors duration-200 flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold text-lg pr-4",children:x.question}),o===x.id?r.jsx(K8,{className:"h-5 w-5 text-slate-400 flex-shrink-0"}):r.jsx($d,{className:"h-5 w-5 text-slate-400 flex-shrink-0"})]}),o===x.id&&r.jsx("div",{className:"px-6 pb-6",children:r.jsx("p",{className:"text-slate-600 leading-relaxed",children:x.answer})})]})},x.id))})})]}),r.jsx("div",{className:"mb-16",children:r.jsx(bs,{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-0",children:r.jsx(Ts,{className:"p-8 sm:p-12 text-center",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx(ps,{className:"h-16 w-16 text-slate-600 mx-auto mb-6"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Your Security is Our Priority"}),r.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"All cryptocurrency payments are processed securely through blockchain technology. Your personal and financial information is always protected."}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-slate-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Blockchain Security"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"24/7 Support"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bs,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Money Back Guarantee"})]})]})]})})})})]})}),r.jsx(yr,{}),r.jsx(n1,{toasts:d.toasts,onClose:d.removeToast})]})}var N9=Object.defineProperty,yp=Object.getOwnPropertySymbols,k6=Object.prototype.hasOwnProperty,_6=Object.prototype.propertyIsEnumerable,O5=(e,t,s)=>t in e?N9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Sy=(e,t)=>{for(var s in t||(t={}))k6.call(t,s)&&O5(e,s,t[s]);if(yp)for(var s of yp(t))_6.call(t,s)&&O5(e,s,t[s]);return e},ky=(e,t)=>{var s={};for(var n in e)k6.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&yp)for(var n of yp(e))t.indexOf(n)<0&&_6.call(e,n)&&(s[n]=e[n]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bc;(e=>{const t=class Ft{constructor(c,d,u,f){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<Ft.MIN_VERSION||c>Ft.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),f==-1){let x=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const N=this.getPenaltyScore();N<x&&(f=j,x=N),this.applyMask(j)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return Ft.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return Ft.encodeSegments([u],d)}static encodeSegments(c,d,u=1,f=40,m=-1,p=!0){if(!(Ft.MIN_VERSION<=u&&u<=f&&f<=Ft.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,j;for(x=u;;x++){const b=Ft.getNumDataCodewords(x,d)*8,k=o.getTotalBits(c,x);if(k<=b){j=k;break}if(x>=f)throw new RangeError("Data too long")}for(const b of[Ft.Ecc.MEDIUM,Ft.Ecc.QUARTILE,Ft.Ecc.HIGH])p&&j<=Ft.getNumDataCodewords(x,b)*8&&(d=b);let N=[];for(const b of c){s(b.mode.modeBits,4,N),s(b.numChars,b.mode.numCharCountBits(x),N);for(const k of b.getData())N.push(k)}i(N.length==j);const y=Ft.getNumDataCodewords(x,d)*8;i(N.length<=y),s(0,Math.min(4,y-N.length),N),s(0,(8-N.length%8)%8,N),i(N.length%8==0);for(let b=236;N.length<y;b^=253)s(b,8,N);let v=[];for(;v.length*8<N.length;)v.push(0);return N.forEach((b,k)=>v[k>>>3]|=b<<7-(k&7)),new Ft(x,d,v,m)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let f=0;f<d;f++)u==0&&f==0||u==0&&f==d-1||u==d-1&&f==0||this.drawAlignmentPattern(c[u],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const f=(d<<10|u)^21522;i(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,n(f,m));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,n(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,n(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,n(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let u=0;u<18;u++){const f=n(d,u),m=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(m,p,f),this.setFunctionModule(p,m,f)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(u)),p=c+f,x=d+u;0<=p&&p<this.size&&0<=x&&x<this.size&&this.setFunctionModule(p,x,m!=2&&m!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,d+u,Math.max(Math.abs(f),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=Ft.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const f=Ft.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=Ft.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],p=Math.floor(Ft.getNumRawDataModules(d)/8),x=f-p%f,j=Math.floor(p/f);let N=[];const y=Ft.reedSolomonComputeDivisor(m);for(let b=0,k=0;b<f;b++){let C=c.slice(k,k+j-m+(b<x?0:1));k+=C.length;const _=Ft.reedSolomonComputeRemainder(C,y);b<x&&C.push(0),N.push(C.concat(_))}let v=[];for(let b=0;b<N[0].length;b++)N.forEach((k,C)=>{(b!=j-m||C>=x)&&v.push(k[b])});return i(v.length==p),v}drawCodewords(c){if(c.length!=Math.floor(Ft.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const p=u-m,j=(u+1&2)==0?this.size-1-f:f;!this.isFunction[j][p]&&d<c.length*8&&(this.modules[j][p]=n(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let f;switch(c){case 0:f=(u+d)%2==0;break;case 1:f=d%2==0;break;case 2:f=u%3==0;break;case 3:f=(u+d)%3==0;break;case 4:f=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:f=u*d%2+u*d%3==0;break;case 6:f=(u*d%2+u*d%3)%2==0;break;case 7:f=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&f&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,x=0,j=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[m][N]==p?(x++,x==5?c+=Ft.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,j),p||(c+=this.finderPenaltyCountPatterns(j)*Ft.PENALTY_N3),p=this.modules[m][N],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,j)*Ft.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,x=0,j=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][m]==p?(x++,x==5?c+=Ft.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,j),p||(c+=this.finderPenaltyCountPatterns(j)*Ft.PENALTY_N3),p=this.modules[N][m],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,j)*Ft.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const x=this.modules[m][p];x==this.modules[m][p+1]&&x==this.modules[m+1][p]&&x==this.modules[m+1][p+1]&&(c+=Ft.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((p,x)=>p+(x?1:0),d);const u=this.size*this.size,f=Math.ceil(Math.abs(d*20-u*10)/u)-1;return i(0<=f&&f<=9),c+=f*Ft.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let f=this.size-7;u.length<c;f-=d)u.splice(1,0,f);return u}}static getNumRawDataModules(c){if(c<Ft.MIN_VERSION||c>Ft.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(Ft.getNumRawDataModules(c)/8)-Ft.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*Ft.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let f=0;f<c-1;f++)d.push(0);d.push(1);let u=1;for(let f=0;f<c;f++){for(let m=0;m<d.length;m++)d[m]=Ft.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=Ft.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(f=>0);for(const f of c){const m=f^u.shift();u.push(0),d.forEach((p,x)=>u[x]^=Ft.reedSolomonMultiply(p,m))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let f=7;f>=0;f--)u=u<<1^(u>>>7)*285,u^=(d>>>f&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function s(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function n(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class Qs{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)s(u,8,d);return new Qs(Qs.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Qs.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const f=Math.min(c.length-u,3);s(parseInt(c.substring(u,u+f),10),f*3+1,d),u+=f}return new Qs(Qs.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Qs.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let f=Qs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;f+=Qs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),s(f,11,d)}return u<c.length&&s(Qs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new Qs(Qs.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Qs.isNumeric(c)?[Qs.makeNumeric(c)]:Qs.isAlphanumeric(c)?[Qs.makeAlphanumeric(c)]:[Qs.makeBytes(Qs.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)s(c,8,d);else if(c<16384)s(2,2,d),s(c,14,d);else if(c<1e6)s(6,3,d),s(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Qs(Qs.Mode.ECI,0,d)}static isNumeric(c){return Qs.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Qs.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const f of c){const m=f.mode.numCharCountBits(d);if(f.numChars>=1<<m)return 1/0;u+=4+m+f.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(bc||(bc={}));(e=>{(t=>{const s=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),t.Ecc=s})(e.QrCode||(e.QrCode={}))})(bc||(bc={}));(e=>{(t=>{const s=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),t.Mode=s})(e.QrSegment||(e.QrSegment={}))})(bc||(bc={}));var xd=bc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var j9={L:xd.QrCode.Ecc.LOW,M:xd.QrCode.Ecc.MEDIUM,Q:xd.QrCode.Ecc.QUARTILE,H:xd.QrCode.Ecc.HIGH},C6=128,A6="L",E6="#FFFFFF",P6="#000000",T6=!1,L6=1,S9=4,k9=0,_9=.1;function M6(e,t=0){const s=[];return e.forEach(function(n,i){let a=null;n.forEach(function(o,l){if(!o&&a!==null){s.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===n.length-1){if(!o)return;a===null?s.push(`M${l+t},${i+t} h1v1H${l+t}z`):s.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),s.join("")}function I6(e,t){return e.slice().map((s,n)=>n<t.y||n>=t.y+t.h?s:s.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function C9(e,t,s,n){if(n==null)return null;const i=e.length+s*2,a=Math.floor(t*_9),o=i/t,l=(n.width||a)*o,c=(n.height||a)*o,d=n.x==null?e.length/2-l/2:n.x*o,u=n.y==null?e.length/2-c/2:n.y*o,f=n.opacity==null?1:n.opacity;let m=null;if(n.excavate){let x=Math.floor(d),j=Math.floor(u),N=Math.ceil(l+d-x),y=Math.ceil(c+u-j);m={x,y:j,w:N,h:y}}const p=n.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:m,opacity:f,crossOrigin:p}}function A9(e,t){return t!=null?Math.max(Math.floor(t),0):e?S9:k9}function R6({value:e,level:t,minVersion:s,includeMargin:n,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=ir.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((j,N)=>(j.push(...xd.QrSegment.makeSegments(N)),j),[]);return xd.QrCode.encodeSegments(x,j9[t],s,void 0,void 0,l)},[e,t,s,l]);const{cells:d,margin:u,numCells:f,calculatedImageSettings:m}=ir.useMemo(()=>{let p=c.getModules();const x=A9(n,i),j=p.length+x*2,N=C9(p,o,x,a);return{cells:p,margin:x,numCells:j,calculatedImageSettings:N}},[c,o,a,n,i]);return{qrcode:c,margin:u,cells:d,numCells:f,calculatedImageSettings:m}}var E9=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),P9=ir.forwardRef(function(t,s){const n=t,{value:i,size:a=C6,level:o=A6,bgColor:l=E6,fgColor:c=P6,includeMargin:d=T6,minVersion:u=L6,boostLevel:f,marginSize:m,imageSettings:p}=n,j=ky(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=j,y=ky(j,["style"]),v=p==null?void 0:p.src,b=ir.useRef(null),k=ir.useRef(null),C=ir.useCallback(Y=>{b.current=Y,typeof s=="function"?s(Y):s&&(s.current=Y)},[s]),[_,M]=ir.useState(!1),{margin:L,cells:$,numCells:K,calculatedImageSettings:I}=R6({value:i,level:o,minVersion:u,boostLevel:f,includeMargin:d,marginSize:m,imageSettings:p,size:a});ir.useEffect(()=>{if(b.current!=null){const Y=b.current,le=Y.getContext("2d");if(!le)return;let ie=$;const oe=k.current,Z=I!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;Z&&I.excavation!=null&&(ie=I6($,I.excavation));const B=window.devicePixelRatio||1;Y.height=Y.width=a*B;const X=a/K*B;le.scale(X,X),le.fillStyle=l,le.fillRect(0,0,K,K),le.fillStyle=c,E9?le.fill(new Path2D(M6(ie,L))):$.forEach(function(J,P){J.forEach(function(H,Q){H&&le.fillRect(Q+L,P+L,1,1)})}),I&&(le.globalAlpha=I.opacity),Z&&le.drawImage(oe,I.x+L,I.y+L,I.w,I.h)}}),ir.useEffect(()=>{M(!1)},[v]);const O=Sy({height:a,width:a},N);let W=null;return v!=null&&(W=ir.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{M(!0)},ref:k,crossOrigin:I==null?void 0:I.crossOrigin})),ir.createElement(ir.Fragment,null,ir.createElement("canvas",Sy({style:O,height:a,width:a,ref:C,role:"img"},y)),W)});P9.displayName="QRCodeCanvas";var D6=ir.forwardRef(function(t,s){const n=t,{value:i,size:a=C6,level:o=A6,bgColor:l=E6,fgColor:c=P6,includeMargin:d=T6,minVersion:u=L6,boostLevel:f,title:m,marginSize:p,imageSettings:x}=n,j=ky(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:y,numCells:v,calculatedImageSettings:b}=R6({value:i,level:o,minVersion:u,boostLevel:f,includeMargin:d,marginSize:p,imageSettings:x,size:a});let k=y,C=null;x!=null&&b!=null&&(b.excavation!=null&&(k=I6(y,b.excavation)),C=ir.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+N,y:b.y+N,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const _=M6(k,N);return ir.createElement("svg",Sy({height:a,width:a,viewBox:`0 0 ${v} ${v}`,ref:s,role:"img"},j),!!m&&ir.createElement("title",null,m),ir.createElement("path",{fill:l,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),ir.createElement("path",{fill:c,d:_,shapeRendering:"crispEdges"}),C)});D6.displayName="QRCodeSVG";let T9={data:""},L9=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||T9,M9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,I9=/\/\*[^]*?\*\/|  +/g,F5=/\n+/g,rl=(e,t)=>{let s="",n="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":n+=a[1]=="f"?rl(o,a):a+"{"+rl(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=rl(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=rl.p?rl.p(a,o):a+":"+o+";")}return s+(t&&i?t+"{"+i+"}":i)+n},no={},O6=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+O6(e[s]);return t}return e},R9=(e,t,s,n,i)=>{let a=O6(e),o=no[a]||(no[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!no[o]){let c=a!==e?e:(d=>{let u,f,m=[{}];for(;u=M9.exec(d.replace(I9,""));)u[4]?m.shift():u[3]?(f=u[3].replace(F5," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][u[1]]=u[2].replace(F5," ").trim();return m[0]})(e);no[o]=rl(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&no.g?no.g:null;return s&&(no.g=no[o]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(no[o],t,n,l),o},D9=(e,t,s)=>e.reduce((n,i,a)=>{let o=t[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":rl(l,""):l===!1?"":l}return n+i+(o??"")},"");function s0(e){let t=this||{},s=e.call?e(t.p):e;return R9(s.unshift?s.raw?D9(s,[].slice.call(arguments,1),t.p):s.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):s,L9(t.target),t.g,t.o,t.k)}let F6,_y,Cy;s0.bind({g:1});let So=s0.bind({k:1});function O9(e,t,s,n){rl.p=t,F6=e,_y=s,Cy=n}function Ml(e,t){let s=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:_y&&_y()},l),s.o=/ *go\d+/.test(c),l.className=s0.apply(s,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Cy&&d[0]&&Cy(l),F6(d,l)}return i}}var F9=e=>typeof e=="function",Ay=(e,t)=>F9(e)?e(t):e,B9=(()=>{let e=0;return()=>(++e).toString()})(),U9=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),z9=20,B6=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,z9)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return B6(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},$9=[],Pg={toasts:[],pausedAt:void 0},$1=e=>{Pg=B6(Pg,e),$9.forEach(t=>{t(Pg)})},V9=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||B9()}),nf=e=>(t,s)=>{let n=V9(t,e,s);return $1({type:2,toast:n}),n.id},gr=(e,t)=>nf("blank")(e,t);gr.error=nf("error");gr.success=nf("success");gr.loading=nf("loading");gr.custom=nf("custom");gr.dismiss=e=>{$1({type:3,toastId:e})};gr.remove=e=>$1({type:4,toastId:e});gr.promise=(e,t,s)=>{let n=gr.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Ay(t.success,i):void 0;return a?gr.success(a,{id:n,...s,...s==null?void 0:s.success}):gr.dismiss(n),i}).catch(i=>{let a=t.error?Ay(t.error,i):void 0;a?gr.error(a,{id:n,...s,...s==null?void 0:s.error}):gr.dismiss(n)}),e};var q9=So`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,H9=So`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W9=So`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,G9=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${q9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${H9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${W9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,K9=So`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Y9=Ml("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${K9} 1s linear infinite;
`,J9=So`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,X9=So`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Q9=Ml("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${J9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${X9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Z9=Ml("div")`
  position: absolute;
`,eO=Ml("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tO=So`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sO=Ml("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rO=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?E.createElement(sO,null,t):t:s==="blank"?null:E.createElement(eO,null,E.createElement(Y9,{...n}),s!=="loading"&&E.createElement(Z9,null,s==="error"?E.createElement(G9,{...n}):E.createElement(Q9,{...n})))},nO=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iO=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,aO="0%{opacity:0;} 100%{opacity:1;}",oO="0%{opacity:1;} 100%{opacity:0;}",lO=Ml("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cO=Ml("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dO=(e,t)=>{let s=e.includes("top")?1:-1,[n,i]=U9()?[aO,oO]:[nO(s),iO(s)];return{animation:t?`${So(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${So(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};E.memo(({toast:e,position:t,style:s,children:n})=>{let i=e.height?dO(e.position||t||"top-center",e.visible):{opacity:0},a=E.createElement(rO,{toast:e}),o=E.createElement(cO,{...e.ariaProps},Ay(e.message,e));return E.createElement(lO,{className:e.className,style:{...i,...s,...e.style}},typeof n=="function"?n({icon:a,message:o}):E.createElement(E.Fragment,null,a,o))});O9(E.createElement);s0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Ei=gr;const Ey=[{id:"btc",name:"Bitcoin",symbol:"BTC",color:"from-orange-400 to-orange-600",icon:"https://icones.pro/wp-content/uploads/2024/03/icone-bitcoin-official.png"},{id:"eth",name:"Ethereum",symbol:"ETH",color:"from-blue-400 to-blue-600",icon:"https://icones.pro/wp-content/uploads/2024/03/blue-ethereum-icon-logo-symbol-original-official.png"},{id:"usdttrc20",name:"USDT (TRC-20)",symbol:"USDT",color:"from-green-400 to-green-600",icon:"https://www.iconarchive.com/download/i109679/cjdowner/cryptocurrency-flat/Tether-USDT.1024.png"},{id:"usdterc20",name:"USDT (ERC-20)",symbol:"USDT",color:"from-green-400 to-green-600",icon:"https://www.iconarchive.com/download/i109679/cjdowner/cryptocurrency-flat/Tether-USDT.1024.png"},{id:"usdc",name:"USD Coin",symbol:"USDC",color:"from-blue-400 to-blue-600",icon:"https://icones.pro/wp-content/uploads/2024/04/blue-usdc-icon-symbol-logo.png"},{id:"ltc",name:"Litecoin",symbol:"LTC",color:"from-gray-400 to-gray-600",icon:"https://upload.wikimedia.org/wikipedia/commons/f/f8/LTC-400.png"},{id:"sol",name:"Solana",symbol:"SOL",color:"from-purple-400 to-purple-600",icon:"https://icones.pro/wp-content/uploads/2024/04/icone-officielle-de-solana-logo-du-symbole-png-1536x1536.png"}],Py=({asset:e,size:t="w-8 h-8"})=>r.jsx("img",{src:e.icon,alt:`${e.symbol} icon`,className:`${t} rounded-full`}),uO=({selectedAsset:e,onSelect:t})=>{const[s,n]=E.useState(!1),i=Ey.find(a=>a.id===e);return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>n(!s),className:"w-full flex items-center justify-between p-4 bg-white border-2 border-gray-200 rounded-xl hover:border-rose-300 focus:outline-none focus:border-rose-500 transition-all duration-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Py,{asset:i}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:i==null?void 0:i.name}),r.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.symbol})]})]}),r.jsx($d,{className:`w-5 h-5 text-gray-400 transition-transform ${s?"rotate-180":""}`})]}),r.jsx(Oh,{children:s&&r.jsx(Us.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute z-30 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden",children:Ey.map(a=>r.jsxs("button",{onClick:()=>{t(a.id),n(!1)},className:"w-full flex items-center space-x-4 p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:[r.jsx(Py,{asset:a}),r.jsxs("div",{className:"text-left flex-1",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:a.name}),r.jsx("div",{className:"text-sm text-gray-500",children:a.symbol})]}),a.id===e&&r.jsx(Bs,{className:"w-5 h-5 text-rose-500"})]},a.id))})})]})};function hO(){var xe,we;const e=Dr(),t=oa(),{user:s}=Gr(),n=new URLSearchParams(t.search),i=n.get("package"),a=n.get("subscription"),o=!!a;let l=null,c=null;if(o)c=sy.find(de=>de.id===a)||sy[1];else{const de=parseInt(i||"2");l=ty.find(Ee=>Ee.id===de)||ty[1]}const[d,u]=E.useState("btc"),[f,m]=E.useState(!1),[p,x]=E.useState(""),[j,N]=E.useState(""),[y,v]=E.useState(""),[b,k]=E.useState(""),[C,_]=E.useState("summary"),[M,L]=E.useState(!1),[$,K]=E.useState(0),[I,O]=E.useState(null),[W,Y]=E.useState(!1),[le,ie]=E.useState(!1),[oe,Z]=E.useState(!1),B=Ey.find(de=>de.id===d),X=o?(c==null?void 0:c.price)||0:(l==null?void 0:l.price)||0,J=async()=>{if(!oe){O("Please accept the terms of service first");return}if(!s){O("Please log in to complete your purchase");return}if(!l&&!c){O("No package selected");return}m(!0),O(null);try{const de=o?`${c==null?void 0:c.name} - €${c==null?void 0:c.price}`:`${((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)} Coins Package - €${l==null?void 0:l.price}`,Ee=await fetch("https://api.nowpayments.io/v1/payment",{method:"POST",headers:{"x-api-key":void 0,"Content-Type":"application/json"},body:JSON.stringify({price_amount:X,price_currency:"EUR",pay_currency:d,order_id:`PURELOVE-${Date.now()}-${s.id}`,order_description:de,success_url:`${window.location.origin}/success`,cancel_url:o?`${window.location.origin}/checkout?subscription=${a}`:`${window.location.origin}/checkout?package=${i}`,is_fixed_rate:!1,is_fee_paid_by_user:!1})}),Le=await Ee.json();if(!Ee.ok)throw new Error(Le.message||`API error: ${Ee.status} ${Ee.statusText}`);if(Le.payment_id&&Le.pay_address)v(Le.payment_id),x(Le.pay_address),N(Le.pay_amount),k("confirming"),_("payment"),L(!1),K(20*60),gr.success("Payment address generated successfully!");else throw new Error("Invalid payment response")}catch(de){console.error("Payment creation failed:",de);const Ee=de instanceof Error?de.message:"Failed to create payment. Please try again.";O(Ee),gr.error(Ee)}finally{m(!1)}},P=!1;E.useEffect(()=>{let de;return p&&$>0&&(de=setInterval(()=>{K(Ee=>Ee<=1?(clearInterval(de),L(!0),0):Ee-1)},1e3)),()=>{de&&clearInterval(de)}},[p,$]);const H=async()=>{if(!y)return!1;try{const de=await fetch(`https://api.nowpayments.io/v1/payment/${y}`,{method:"GET",headers:{"x-api-key":void 0,"Content-Type":"application/json"}}),Ee=await de.json();if(!de.ok)throw new Error(Ee.message||`API error: ${de.status} ${de.statusText}`);switch(k(Ee.payment_status),Ee.payment_status){case"finished":return await Q(Ee),!0;case"failed":return gr.error("Payment failed. Please try again."),!1;default:return!1}}catch(de){return console.error("Error checking payment status:",de),!1}},Q=async de=>{var Ee,Le,$e,Be,Re;try{if(!s)throw new Error("User not found");let fe,te,Ke=0,We="";if(o){console.log("🎉 [PAYMENT] Processing successful payment for subscription:",c==null?void 0:c.name);const ut=(Ee=c==null?void 0:c.features.find(wt=>wt.includes("bonus coins")))==null?void 0:Ee.match(/(\d+)/),ft=ut?parseInt(ut[1]):0;Ke=ft,We=(c==null?void 0:c.name)||"Subscription",console.log("💰 [PAYMENT] Subscription bonus coins:",ft),console.log("👤 [PAYMENT] User ID:",s.id),fe=new Date,(c==null?void 0:c.durationUnit)==="days"?fe.setDate(fe.getDate()+c.duration):((c==null?void 0:c.durationUnit)==="month"||(c==null?void 0:c.durationUnit)==="months")&&fe.setMonth(fe.getMonth()+c.duration),console.log("📅 [PAYMENT] Subscription expires at:",fe.toISOString()),console.log("💾 [PAYMENT] Storing subscription transaction record..."),te={user_id:s.id,order_id:de.order_id||`PURELOVE-${Date.now()}-${s.id}`,amount:X,coins:ft,type:"subscription",crypto_asset:d,crypto_amount:((Le=de.pay_amount)==null?void 0:Le.toString())||"0",crypto_address:de.pay_address||"",transaction_hash:(($e=de.outcome)==null?void 0:$e.hash)||"",status:"completed",created_at:new Date().toISOString(),expires_at:fe.toISOString(),coins_added:ft,subscription_plan:c==null?void 0:c.id,subscription_duration:c==null?void 0:c.duration}}else console.log("🎉 [PAYMENT] Processing successful payment for coin package:",`${((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)} Coins`),Ke=((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0),We=`${Ke} Coins Package`,console.log("💰 [PAYMENT] Coins to add:",Ke),console.log("👤 [PAYMENT] User ID:",s.id),fe=new Date,fe.setDate(fe.getDate()+365),console.log("📅 [PAYMENT] Coins purchased at:",new Date().toISOString()),console.log("💾 [PAYMENT] Storing coin purchase transaction record..."),te={user_id:s.id,order_id:de.order_id||`PURELOVE-${Date.now()}-${s.id}`,amount:X,coins:Ke,type:"coins",crypto_asset:d,crypto_amount:((Be=de.pay_amount)==null?void 0:Be.toString())||"0",crypto_address:de.pay_address||"",transaction_hash:((Re=de.outcome)==null?void 0:Re.hash)||"",status:"completed",created_at:new Date().toISOString(),expires_at:fe.toISOString(),coins_added:Ke,subscription_duration:null};const{data:Oe,error:Ve}=await Fe.from("profiles").select("coins").eq("id",s.id).single();Ve&&console.error("❌ [PAYMENT] Error fetching current profile:",Ve);const Ye=(Oe==null?void 0:Oe.coins)||0,Je=Ye+Ke;console.log("💰 [PAYMENT] Current coins:",Ye),console.log("💰 [PAYMENT] Adding coins:",Ke),console.log("💰 [PAYMENT] New total:",Je),console.log("📋 [PAYMENT] Transaction data:",te);const{error:dt}=await Fe.from("transactions").insert(te);if(dt?(console.error("❌ [PAYMENT] Error storing transaction:",dt),console.error("❌ [PAYMENT] Transaction error details:",dt.details),console.error("❌ [PAYMENT] Transaction error hint:",dt.hint)):console.log("✅ [PAYMENT] Transaction record stored successfully"),console.log("👤 [PAYMENT] Updating user profile..."),o){const{error:ut}=await Fe.rpc("add_subscription_coins",{p_user_id:s.id,p_amount:Ke,p_expires_at:fe.toISOString()});if(ut){console.error("❌ [PAYMENT] Error adding subscription coins:",ut),console.error("❌ [PAYMENT] Coin error details:",ut.details);const wt={coins:Je,chat_subscription:{type:c==null?void 0:c.id.toString(),expiresAt:fe.toISOString(),purchasedAt:new Date().toISOString(),paymentMethod:"crypto",transactionId:de.payment_id},updated_at:new Date().toISOString()};console.log("📋 [PAYMENT] Fallback profile update:",wt);const{error:_t}=await Fe.from("profiles").update(wt).eq("id",s.id);if(_t)throw console.error("❌ [PAYMENT] Error updating profile:",_t),new Error(`Failed to activate subscription: ${_t.message}`)}else{console.log("✅ [PAYMENT] Subscription coins added with expiration tracking");const wt={chat_subscription:{type:c==null?void 0:c.id.toString(),expiresAt:fe.toISOString(),purchasedAt:new Date().toISOString(),paymentMethod:"crypto",transactionId:de.payment_id},updated_at:new Date().toISOString()};console.log("📋 [PAYMENT] Profile update data:",wt);const{error:_t}=await Fe.from("profiles").update(wt).eq("id",s.id);if(_t)throw console.error("❌ [PAYMENT] Error updating profile:",_t),console.error("❌ [PAYMENT] Profile error details:",_t.details),console.error("❌ [PAYMENT] Profile error hint:",_t.hint),new Error(`Failed to activate subscription: ${_t.message}`)}console.log("💾 [PAYMENT] Storing subscription purchase record...");const{error:ft}=await Fe.from("subscription_purchases").insert({user_id:s.id,subscription_id:c==null?void 0:c.id.toString(),payment_method:"crypto",amount_paid:X,coins_spent:0,expires_at:fe.toISOString(),is_active:!0});ft?(console.error("❌ [PAYMENT] Error storing subscription purchase:",ft),console.error("❌ [PAYMENT] Purchase error details:",ft.details)):console.log("✅ [PAYMENT] Subscription purchase record stored")}else{const ut={coins:Je,updated_at:new Date().toISOString()};console.log("📋 [PAYMENT] Coin purchase profile update:",ut);const{error:ft}=await Fe.from("profiles").update(ut).eq("id",s.id);if(ft)throw console.error("❌ [PAYMENT] Error updating profile with coins:",ft),new Error(`Failed to add coins: ${ft.message}`);console.log("✅ [PAYMENT] Coins added to profile successfully")}console.log("🔄 [PAYMENT] Refreshing page to update user data..."),window.location.reload();const pt=o?`Payment completed! Subscription activated and ${Ke} bonus coins added!`:`Payment completed! ${Ke} coins added to your account!`;gr.success(pt),e("/success",{state:{message:o?`Payment successful! Your subscription is now active and ${Ke} bonus coins have been added to your account.`:`Payment successful! ${Ke} coins have been added to your account.`,subscription:o?c:void 0,coinPackage:o?void 0:l,transactionId:de.payment_id,expiresAt:fe.toISOString(),amount:X,paymentMethod:d,coins:Ke}})}catch(fe){console.error("❌ [PAYMENT] Error processing successful payment:",fe),console.error("❌ [PAYMENT] Full error object:",JSON.stringify(fe,null,2)),gr.error("Payment was successful but there was an error activating your subscription. Please contact support."),e("/success",{state:{message:"Payment completed but subscription activation failed. Please contact support.",error:!0,transactionId:de.payment_id}})}};E.useEffect(()=>{let de=null;return C==="payment"&&$>0&&!M&&(de=setInterval(async()=>{await H()&&de&&clearInterval(de)},1e4)),()=>{de&&clearInterval(de)}},[C,$,M,y]);const G=(de,Ee)=>{navigator.clipboard.writeText(de),Ee==="address"?(Y(!0),gr.success("Address copied!"),setTimeout(()=>Y(!1),2e3)):(ie(!0),gr.success("Amount copied!"),setTimeout(()=>ie(!1),2e3))},ae=()=>{x(""),N(""),v(""),K(0),L(!1),O(null),_("summary"),Z(!1)};return s?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsx(js,{}),r.jsx("main",{className:"py-8 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(Us.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsxs("button",{onClick:()=>e("/pricing"),className:"inline-flex items-center space-x-2 text-gray-600 hover:text-rose-600 transition-colors mb-6 group",children:[r.jsx(Up,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),r.jsx("span",{className:"font-medium",children:"Back to Pricing"})]}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Secure Checkout"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Complete your purchase with cryptocurrency"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx(Us.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[r.jsx(Hn,{className:"w-6 h-6 text-rose-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Summary"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative p-4 bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl border border-rose-100",children:[(o?c==null?void 0:c.popular:l==null?void 0:l.popular)&&r.jsx("div",{className:"absolute -top-2 left-4",children:r.jsxs("span",{className:"bg-rose-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center space-x-1",children:[r.jsx(Lh,{className:"w-3 h-3"}),r.jsx("span",{children:"Popular"})]})}),r.jsx("div",{className:"pt-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:c==null?void 0:c.name}),r.jsx("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(Jn,{className:"w-4 h-4"}),r.jsxs("span",{children:[((we=(xe=c==null?void 0:c.features.find(de=>de.includes("bonus coins")))==null?void 0:xe.match(/\d+/))==null?void 0:we[0])||"0"," bonus coins included"]})]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)," Coins Package"]}),r.jsx("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(Jn,{className:"w-4 h-4"}),r.jsxs("span",{children:[(l==null?void 0:l.amount)??0," + ",(l==null?void 0:l.bonus)??0," bonus coins"]})]})})]})})]}),r.jsx("div",{className:"space-y-3",children:o?r.jsxs(r.Fragment,{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"What's included:"}),r.jsx("div",{className:"space-y-2",children:c==null?void 0:c.features.map((de,Ee)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Bs,{className:"w-3 h-3 text-green-600"})}),r.jsx("span",{className:"text-gray-700",children:de})]},Ee))})]}):r.jsxs(r.Fragment,{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:["What you can do with ",((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)," coins:"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:["Send ",((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)," messages"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:["Send ",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/5),"-",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/50)," virtual gifts"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:[Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/400)," minutes of voice calls"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:[Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/1e3)," minutes of video calls"]})]}),((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)>=700&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:["View contact info ",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/700)," time",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/700)>1?"s":""]})]})]})]})}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-rose-600",children:["€",X.toFixed(2)]})]})})]})]})}),r.jsx(Us.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-8",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:r.jsx(Oh,{mode:"wait",children:C==="summary"?r.jsxs(Us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Payment Method"}),r.jsx("p",{className:"text-gray-600",children:"Select your preferred cryptocurrency for secure payment"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Cryptocurrency"}),r.jsx(uO,{selectedAsset:d,onSelect:u})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ps,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Secure"}),r.jsx("p",{className:"text-sm text-blue-700",children:"End-to-end encrypted"})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(Vd,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Fast"}),r.jsx("p",{className:"text-sm text-green-700",children:"Instant processing"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(Hn,{className:"w-5 h-5 text-purple-600"})}),r.jsx("h3",{className:"font-semibold text-purple-900 mb-1",children:"Convenient"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Easy payments"})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:r.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:oe,onChange:de=>Z(de.target.checked),className:"mt-1 w-4 h-4 text-rose-600 border-gray-300 rounded focus:ring-rose-500"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["I agree to the"," ",r.jsx("a",{href:"#",className:"text-rose-600 hover:underline font-medium",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"text-rose-600 hover:underline font-medium",children:"Privacy Policy"})]})]})}),I&&r.jsxs(Us.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 p-4 bg-red-50 text-red-700 rounded-xl border border-red-200",children:[r.jsx(po,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:I})]}),r.jsx("button",{onClick:J,disabled:f||!oe,className:"w-full bg-gradient-to-r from-rose-600 to-pink-600 text-white py-4 rounded-xl hover:from-rose-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:f?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Processing..."]}):r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(wE,{className:"w-5 h-5"}),r.jsxs("span",{children:["Pay €",X.toFixed(2)," with ",B==null?void 0:B.symbol]})]})}),P]},"summary"):r.jsxs(Us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send Payment"}),r.jsx("p",{className:"text-gray-600",children:"Send the exact amount to the address below"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Send Exactly"}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:[r.jsx(Py,{asset:B,size:"w-10 h-10"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[r.jsx("span",{children:j}),r.jsx("button",{onClick:()=>G(j,"amount"),className:"p-1 hover:bg-white rounded-lg transition-colors",children:le?r.jsx(Bs,{className:"w-5 h-5 text-green-500"}):r.jsx($x,{className:"w-5 h-5 text-gray-400"})})]}),r.jsx("div",{className:"text-sm text-gray-500",children:B==null?void 0:B.symbol})]})]})]}),r.jsxs("div",{className:"text-center md:text-right",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Time Remaining"}),r.jsxs("div",{className:"text-2xl font-bold text-rose-600 flex items-center justify-center md:justify-end space-x-2",children:[r.jsx(Vd,{className:"w-6 h-6"}),r.jsxs("span",{children:[Math.floor($/60),":",($%60).toString().padStart(2,"0")]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Payment expires"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"To This Address"}),r.jsxs("div",{className:"flex items-center space-x-3 bg-white rounded-xl p-4 border-2 border-gray-200",children:[r.jsx("code",{className:"flex-1 text-sm font-mono text-gray-900 break-all",children:p}),r.jsx("button",{onClick:()=>G(p,"address"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:W?r.jsx(Bs,{className:"w-5 h-5 text-green-500"}):r.jsx($x,{className:"w-5 h-5 text-gray-400"})})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.jsx(D6,{value:`${d}:${p}?amount=${j}`,size:160,level:"H",includeMargin:!0})})})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[r.jsx(po,{className:"w-6 h-6 text-amber-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-amber-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Important Payment Instructions"}),r.jsx("p",{className:"text-sm",children:"Send the exact amount shown above. Different amounts may result in payment failure and require manual processing."})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("button",{onClick:ae,className:"flex-1 py-3 px-6 rounded-xl font-semibold border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Back to Payment Method"}),r.jsx("button",{onClick:()=>e("/pricing"),className:"flex-1 py-3 px-6 rounded-xl font-semibold border-2 border-red-200 text-red-600 hover:bg-red-50 transition-colors",children:"Cancel Order"})]}),P,M&&r.jsxs(Us.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 p-4 bg-red-50 text-red-700 rounded-xl border border-red-200",children:[r.jsx(po,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Payment window expired. Please create a new payment."})]})]},"payment")})})})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsx(js,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:r.jsxs(Us.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ps,{className:"w-8 h-8 text-rose-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Please sign in to complete your purchase securely."}),r.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-rose-600 text-white py-3 rounded-xl hover:bg-rose-700 transition-colors font-semibold",children:"Sign In"})]})})]})}function fO({message:e,type:t,duration:s=3e3,onClose:n}){const[i,a]=E.useState(!0);if(E.useEffect(()=>{const u=setTimeout(()=>{a(!1),n==null||n()},s);return()=>clearTimeout(u)},[s,n]),!i)return null;const o=t==="success"?"bg-green-50":"bg-red-50",l=t==="success"?"text-green-800":"text-red-800",c=t==="success"?"border-green-200":"border-red-200",d=t==="success"?jr:zp;return r.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg border ${o} ${c} shadow-lg max-w-sm`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(d,{className:`h-5 w-5 mt-0.5 ${l}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${l}`,children:t==="success"?"Success":"Error"}),r.jsx("p",{className:`text-sm ${l}`,children:e})]}),r.jsx("button",{onClick:()=>{a(!1),n==null||n()},className:`p-1 rounded-full hover:bg-opacity-20 ${t==="success"?"hover:bg-green-600":"hover:bg-red-600"}`,children:r.jsx(kr,{className:"h-4 w-4"})})]})})}function mO(){var b;const{signIn:e,user:t,loading:s}=Gr(),[n,i]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState(!1),[d,u]=E.useState(""),[f,m]=E.useState(!1),[p,x]=E.useState(!0),j=Dr(),N=oa();E.useEffect(()=>{!s&&t&&(console.log("🔄 [LOGIN] User already logged in, redirecting to dashboard..."),j("/dashboard",{replace:!0}))},[t,s,j]);const y=((b=N.state)==null?void 0:b.showEmailConfirmation)||new URLSearchParams(N.search).get("confirm")==="true";if(s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Redirecting to dashboard..."})]})});const v=async k=>{var C;if(console.log("🚀 [UI] handleLogin called"),k.preventDefault(),l){console.log("⚠️ [UI] Already loading, ignoring duplicate submission");return}console.log("🔄 [UI] Setting loading state..."),c(!0),u("");try{console.log("📧 [UI] Login credentials:",{email:n,password:"***",rememberMe:p}),console.log("🔄 [UI] Calling signIn from auth context...");const{error:_}=await e(n,a,p);console.log("✅ [UI] signIn returned"),console.log("❌ [UI] Error present:",!!_),_?(console.log("❌ [UI] Login error:",_),_.message.includes("timeout")?u("Connection timeout. Please check your internet connection and try again."):u(_.message||"Invalid email or password. Please try again.")):console.log("✅ [UI] Login successful, user state will be updated and useEffect will handle redirect...")}catch(_){console.error("❌ [UI] Exception in handleLogin:",_),(C=_.message)!=null&&C.includes("timeout")?u("Connection timeout. Please check your internet connection and try again."):u("Invalid email or password. Please try again.")}finally{console.log("🔄 [UI] Setting loading to false..."),c(!1),console.log("✅ [UI] Loading state cleared")}};return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(qs,{className:"h-8 w-8 text-rose-600"}),r.jsx("span",{className:"text-2xl font-bold",children:"PureLove"})]}),r.jsx("h1",{className:"text-2xl font-bold",children:"Welcome Back"}),r.jsx("p",{className:"text-slate-600",children:"Sign in to your account to continue"})]}),r.jsxs(bs,{children:[r.jsxs(Ts,{className:"pt-6",children:[y&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Email Confirmation Required"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please check your email and click the confirmation link before signing in."})]})]})}),d&&r.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-4",children:d}),r.jsx("form",{onSubmit:v,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(yl,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:k=>i(k.target.value),className:"pl-9",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(yc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"password",type:f?"text":"password",placeholder:"••••••••",value:a,onChange:k=>o(k.target.value),className:"pl-9",required:!0}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-3 text-slate-400",children:f?r.jsx(Vx,{className:"h-4 w-4"}):r.jsx(Di,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-rose-600 focus:ring-rose-600",checked:p,onChange:k=>x(k.target.checked)}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-600",children:"Remember me"})]}),r.jsx("div",{className:"text-sm",children:r.jsx(it,{to:"/forgot-password",className:"text-rose-600 hover:text-rose-700",children:"Forgot password?"})})]}),r.jsx(Me,{type:"submit",className:"w-full",disabled:l,children:l?"Signing in...":"Sign In"})]})})]}),r.jsx(Xh,{className:"flex justify-center border-t p-6",children:r.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",r.jsx(it,{to:"/signup",className:"text-rose-600 hover:text-rose-700 font-medium",children:"Sign up"})]})})]})]})})}function B5(){const{signUp:e,user:t,loading:s}=Gr(),[n,i]=E.useState(1),[a,o]=E.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",gender:"male",birthDate:"",country:"",city:""}),[l,c]=E.useState(!1),[d,u]=E.useState(null),[f,m]=E.useState(!1),[p,x]=E.useState(!1),j=Dr();if(E.useEffect(()=>{!s&&t&&(console.log("🔄 [SIGNUP] User already logged in, redirecting to dashboard..."),j("/dashboard",{replace:!0}))},[t,s,j]),s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Redirecting to dashboard..."})]})});const N=C=>{if(!C)return 0;const _=new Date,M=new Date(C);let L=_.getFullYear()-M.getFullYear();const $=_.getMonth()-M.getMonth();return($<0||$===0&&_.getDate()<M.getDate())&&L--,L},y=C=>{const{name:_,value:M}=C.target;o(L=>({...L,[_]:M}))},v=C=>{if(C.preventDefault(),n===1){if(a.password!==a.confirmPassword){u({message:"Passwords do not match",type:"error"});return}i(2)}else n===2&&b(C)},b=async C=>{var _,M;C.preventDefault(),c(!0);try{if(N(a.birthDate)<18){u({message:"You must be at least 18 years old to sign up.",type:"error"}),c(!1);return}console.log("Signing up with:",a);const{error:$}=await e(a.email,a.password,{firstName:a.firstName,lastName:a.lastName,gender:a.gender,birthDate:a.birthDate,country:a.country,city:a.city});$?(_=$.message)!=null&&_.includes("timeout")?u({message:"Connection timeout. Please check your internet connection and try again.",type:"error"}):u({message:$.message||"An error occurred during signup. Please try again.",type:"error"}):(u({message:"Account created! Please check your email to confirm your account, then sign in.",type:"success"}),setTimeout(()=>{j("/login",{state:{showEmailConfirmation:!0}})},3e3))}catch(L){(M=L.message)!=null&&M.includes("timeout")?u({message:"Connection timeout. Please check your internet connection and try again.",type:"error"}):u({message:"An error occurred during signup. Please try again.",type:"error"})}finally{c(!1)}},k=()=>{i(1)};return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(qs,{className:"h-8 w-8 text-rose-600"}),r.jsx("span",{className:"text-2xl font-bold",children:"PureLove"})]}),r.jsx("h1",{className:"text-2xl font-bold",children:"Create Your Account"}),r.jsx("p",{className:"text-slate-600",children:"Join our community and find your perfect match"})]}),r.jsxs(bs,{children:[r.jsxs(Ts,{className:"pt-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-rose-600 text-white",children:"1"}),r.jsx("div",{className:`h-1 w-16 ${n>=2?"bg-rose-600":"bg-slate-200"}`}),r.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${n>=2?"bg-rose-600 text-white":"bg-slate-200 text-slate-600"}`,children:"2"})]})}),d&&r.jsx(fO,{message:d.message,type:d.type,onClose:()=>u(null)}),r.jsxs("form",{onSubmit:v,children:[n===1?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(yl,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:a.email,onChange:y,className:"pl-9",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(yc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"password",name:"password",type:f?"text":"password",placeholder:"••••••••",value:a.password,onChange:y,className:"pl-9",required:!0,minLength:8}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-3 text-slate-400",children:f?r.jsx(Vx,{className:"h-4 w-4"}):r.jsx(Di,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Password must be at least 8 characters long"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(yc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",placeholder:"••••••••",value:a.confirmPassword,onChange:y,className:"pl-9",required:!0}),r.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-3 text-slate-400",children:p?r.jsx(Vx,{className:"h-4 w-4"}):r.jsx(Di,{className:"h-4 w-4"})})]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-1",children:"First Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(Oa,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:a.firstName,onChange:y,className:"pl-9",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-1",children:"Last Name"}),r.jsx($s,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:a.lastName,onChange:y,required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium mb-1",children:"I am a"}),r.jsxs(ss,{id:"gender",name:"gender",value:a.gender,onChange:y,required:!0,children:[r.jsx("option",{value:"male",children:"Man"}),r.jsx("option",{value:"female",children:"Woman"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium mb-1",children:"Date of Birth"}),r.jsxs("div",{className:"relative",children:[r.jsx(_r,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"birthDate",name:"birthDate",type:"date",value:a.birthDate,onChange:y,className:"pl-9",required:!0,max:new Date().toISOString().split("T")[0],min:new Date(Date.now()-100*365*24*60*60*1e3).toISOString().split("T")[0]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:"Country"}),r.jsxs("div",{className:"relative",children:[r.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsxs(ss,{id:"country",name:"country",value:a.country,onChange:y,className:"pl-9",required:!0,children:[r.jsx("option",{value:"",children:"Select your country"}),e1.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:"City"}),r.jsxs("div",{className:"relative",children:[r.jsx(vc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{id:"city",name:"city",type:"text",placeholder:"New York",value:a.city,onChange:y,className:"pl-9",required:!0})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-4",children:[n===2&&r.jsx(Me,{type:"button",variant:"outline",className:"flex-1",onClick:k,children:"Back"}),r.jsx(Me,{type:"submit",className:"flex-1",disabled:l,children:l?"Processing...":n===1?"Next":"Create Account"})]})]})]}),r.jsx(Xh,{className:"flex justify-center border-t p-6",children:r.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",r.jsx(it,{to:"/login",className:"text-rose-600 hover:text-rose-700 font-medium",children:"Sign in"})]})})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["By signing up, you agree to our"," ",r.jsx(it,{to:"/terms",className:"text-rose-600 hover:text-rose-700",children:"Terms of Service"})," ","and"," ",r.jsx(it,{to:"/privacy",className:"text-rose-600 hover:text-rose-700",children:"Privacy Policy"}),"."]})]})})}const io=[{id:"1",title:"How to Start a Conversation with a Slavic Woman",excerpt:"Breaking the ice can be challenging, especially across cultures. Learn effective conversation starters that resonate with Eastern European women.",content:`
      Starting a conversation with someone from a different cultural background can be both exciting and challenging. When it comes to connecting with Slavic women, understanding cultural nuances can make all the difference.

      ## Understand Cultural Context
      
      Eastern European cultures often value directness combined with politeness. Small talk is less common than in Western cultures, and conversations tend to go deeper more quickly.
      
      ## Effective Conversation Starters
      
      1. **Ask about her city or region** - Many Eastern European women are proud of their heritage and will appreciate genuine interest in their hometown.
      
      2. **Discuss literature or arts** - Education in humanities is highly valued in Slavic countries, and many women have strong opinions about literature, music, and art.
      
      3. **Share travel experiences** - If you've visited Eastern Europe, sharing your impressions can create common ground. If not, express interest in places you'd like to visit.
      
      4. **Ask about traditions** - Inquiring about holidays, celebrations, or family traditions shows respect for her culture.
      
      ## Topics to Avoid Initially
      
      - Politics and historical conflicts
      - Stereotypes about Eastern European women
      - Overly personal questions about family or finances
      
      ## Be Authentic
      
      Above all, be genuine in your approach. Slavic women often have a strong intuition for insincerity. Show real interest in getting to know her as an individual, not just as a representative of her culture.
      
      Remember that while these guidelines can be helpful, every person is unique. The most important thing is to listen actively and respond thoughtfully to build a meaningful connection.
    `,author:"Elena Petrova",authorTitle:"Cultural Relationship Coach",date:new Date("2023-05-15"),category:"Dating Tips",image:"https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"},{id:"2",title:"Understanding Cultural Differences in Relationships",excerpt:"Navigating cross-cultural relationships requires awareness and adaptation. Discover key differences between Western and Eastern European relationship expectations.",content:`
      Cross-cultural relationships can be incredibly rewarding, offering new perspectives and rich experiences. However, they also come with unique challenges, particularly when navigating different expectations around relationships.

      ## Family Dynamics
      
      In many Eastern European cultures, family plays a central role in daily life. Close relationships with extended family are common, and family approval of relationships is often important.
      
      - **Western Perspective**: Individual independence is highly valued, and while family is important, adult children often make decisions independently.
      - **Eastern European Perspective**: Family opinions matter significantly, and multi-generational households are more common.
      
      ## Communication Styles
      
      Communication patterns can vary significantly between cultures, leading to potential misunderstandings.
      
      - **Western Perspective**: Often values explicit communication where thoughts and feelings are directly expressed.
      - **Eastern European Perspective**: May rely more on context and implicit communication, with greater emphasis on non-verbal cues.
      
      ## Gender Roles
      
      While both Western and Eastern societies are evolving, there can still be differences in expectations around gender roles.
      
      - **Western Perspective**: Generally emphasizes equality and shared responsibilities in relationships.
      - **Eastern European Perspective**: May maintain some traditional gender role distinctions while also embracing modern equality.
      
      ## Expressions of Affection
      
      How love and affection are expressed can vary between cultures.
      
      - **Western Perspective**: Often comfortable with public displays of affection and verbal expressions of feelings.
      - **Eastern European Perspective**: May express love through acts of service and care, with deep emotional connections that might take longer to develop.
      
      ## Navigating Differences
      
      1. **Practice active listening** - Take time to understand your partner's perspective without judgment.
      2. **Ask questions** - Don't make assumptions about what behaviors or expectations are cultural versus personal.
      3. **Be flexible** - Successful cross-cultural relationships require adaptation from both partners.
      4. **Communicate openly** - Discuss expectations explicitly to avoid misunderstandings.
      
      Remember that these are generalizations, and individual differences always outweigh cultural patterns. The key to success is approaching your relationship with respect, curiosity, and a willingness to learn and grow together.
    `,author:"Dr. Mikhail Ivanov",authorTitle:"Cross-Cultural Psychologist",date:new Date("2023-06-22"),category:"Relationships",image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1769&q=80"},{id:"3",title:"Planning Your First Visit: What to Expect",excerpt:"Preparing for your first trip to meet your Eastern European partner? This comprehensive guide covers everything from travel preparations to cultural etiquette.",content:`
      Meeting your partner in person for the first time is an exciting milestone in any long-distance relationship. When that meeting involves international travel to Eastern Europe, proper preparation can make the experience much smoother.

      ## Before You Travel
      
      ### Documentation
      
      - **Passport and Visa** - Ensure your passport is valid for at least six months beyond your planned stay. Check visa requirements for the specific country you're visiting.
      - **Travel Insurance** - Comprehensive travel insurance is essential, covering both health emergencies and trip cancellations.
      - **Copies of Documents** - Keep digital and physical copies of all important documents.
      
      ### Communication Preparation
      
      - **Language Basics** - Learning a few phrases in your partner's language shows respect and effort.
      - **Offline Translation App** - Download a reliable translation app that works offline.
      - **International Phone Plan** - Arrange for international roaming or purchase a local SIM card upon arrival.
      
      ## Cultural Considerations
      
      ### Meeting the Family
      
      In many Eastern European cultures, meeting the family is a significant step. If you're invited to a family meal:
      
      - Bring a small gift (flowers, quality chocolate, or a bottle of wine are appropriate)
      - Be prepared to answer questions about your life, work, and family
      - Compliment the food and home
      
      ### Social Etiquette
      
      - **Punctuality** - Being on time is generally expected and appreciated
      - **Dress Code** - Eastern Europeans often dress more formally than Westerners for everyday activities
      - **Table Manners** - Wait to be seated, keep hands visible on the table, and try everything offered
      
      ## Planning Your Stay
      
      ### Accommodation
      
      Consider staying in a hotel or rental apartment initially, even if your partner offers accommodation. This gives both of you space and reduces pressure.
      
      ### Activities
      
      - Plan a mix of activities that allow for different types of interaction
      - Include opportunities to meet friends and family
      - Allow for some downtime to process the experience
      
      ### Safety Considerations
      
      - Share your itinerary with someone at home
      - Have a backup plan for accommodation if needed
      - Keep emergency contact information accessible
      
      ## Managing Expectations
      
      The first in-person meeting can be both wonderful and challenging. Remember:
      
      - Initial awkwardness is normal
      - Give yourselves time to adjust to being in each other's physical presence
      - Be flexible with your plans
      - Communicate openly about your feelings
      
      By preparing thoroughly and approaching the visit with an open mind, you'll create the best possible foundation for this important step in your relationship.
    `,author:"Anna Kowalski",authorTitle:"International Dating Consultant",date:new Date("2023-07-10"),category:"Travel",image:"https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80"}];function pO(){const[e,t]=E.useState(null),[s,n]=E.useState(""),i=io.filter(a=>a.title.toLowerCase().includes(s.toLowerCase())||a.excerpt.toLowerCase().includes(s.toLowerCase())||a.category.toLowerCase().includes(s.toLowerCase()));return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(js,{user:e}),r.jsx("main",{className:"flex-1 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dating Blog"}),r.jsx("p",{className:"text-slate-600",children:"Tips, advice, and insights for cross-cultural relationships"})]}),r.jsx("div",{className:"w-full md:w-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx(un,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx($s,{placeholder:"Search articles...",className:"pl-9 w-full md:w-64",value:s,onChange:a=>n(a.target.value)})]})})]}),r.jsx("div",{className:"mb-12",children:r.jsx(bs,{className:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[r.jsx("div",{className:"h-64 md:h-auto",children:r.jsx("img",{src:io[0].image,alt:io[0].title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6 md:p-8 flex flex-col",children:[r.jsx(zs,{className:"self-start mb-2",children:io[0].category}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:io[0].title}),r.jsx("p",{className:"text-slate-600 mb-4",children:io[0].excerpt}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-4 w-4"}),r.jsx("span",{children:io[0].author})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(_r,{className:"h-4 w-4"}),r.jsx("span",{children:bw(io[0].date)})]})]}),r.jsx(it,{to:`/blog/${io[0].id}`,className:"mt-auto",children:r.jsxs(Me,{className:"gap-2",children:[r.jsx("span",{children:"Read Article"}),r.jsx(Eh,{className:"h-4 w-4"})]})})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.slice(1).map(a=>r.jsxs(bs,{className:"overflow-hidden flex flex-col",children:[r.jsx("div",{className:"h-48",children:r.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})}),r.jsxs(Ts,{className:"p-6 flex-1 flex flex-col",children:[r.jsx(zs,{className:"self-start mb-2",children:a.category}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:a.title}),r.jsx("p",{className:"text-slate-600 mb-4 line-clamp-3",children:a.excerpt}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Oa,{className:"h-4 w-4"}),r.jsx("span",{children:a.author})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(_r,{className:"h-4 w-4"}),r.jsx("span",{children:bw(a.date)})]})]}),r.jsx(it,{to:`/blog/${a.id}`,className:"mt-auto",children:r.jsxs(Me,{variant:"outline",className:"gap-2 w-full",children:[r.jsx("span",{children:"Read Article"}),r.jsx(Eh,{className:"h-4 w-4"})]})})]})]},a.id))}),i.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-xl font-medium mb-2",children:"No articles found"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Try adjusting your search query"}),r.jsx(Me,{onClick:()=>n(""),children:"Clear Search"})]})]})}),r.jsx(yr,{})]})}function gO(){const{user:e,signOut:t}=Gr(),s=Dr(),[n,i]=E.useState({emailNotifications:!0,pushNotifications:!0,messageNotifications:!0,matchNotifications:!0,likeNotifications:!0,language:"english",currency:"usd",distanceUnit:"km",showOnlineStatus:!0,showLastActive:!0,showProfile:!0}),[a,o]=E.useState(!1),l=f=>{i(m=>({...m,[f]:!m[f]}))},c=f=>{const{name:m,value:p}=f.target;i(x=>({...x,[m]:p}))},d=async()=>{await t(),s("/login")},u=()=>{console.log("Delete account"),o(!1),t(),s("/")};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[r.jsx(js,{}),r.jsx("main",{className:"flex-1 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Me,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>s(-1),children:r.jsx(Up,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(Hv,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),r.jsx(Cn,{checked:n.emailNotifications,onCheckedChange:()=>l("emailNotifications")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications on your device"})]}),r.jsx(Cn,{checked:n.pushNotifications,onCheckedChange:()=>l("pushNotifications")})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"font-medium mb-2",children:"Notification Types"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:"New messages"}),r.jsx(Cn,{checked:n.messageNotifications,onCheckedChange:()=>l("messageNotifications")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:"New matches"}),r.jsx(Cn,{checked:n.matchNotifications,onCheckedChange:()=>l("matchNotifications")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:"New likes"}),r.jsx(Cn,{checked:n.likeNotifications,onCheckedChange:()=>l("likeNotifications")})]})]})]})]})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(Co,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Preferences"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Language"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred language"})]}),r.jsxs(ss,{name:"language",value:n.language,onChange:c,className:"w-40",children:[r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"russian",children:"Russian"}),r.jsx("option",{value:"ukrainian",children:"Ukrainian"}),r.jsx("option",{value:"kazakh",children:"Kazakh"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Currency"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred currency"})]}),r.jsxs(ss,{name:"currency",value:n.currency,onChange:c,className:"w-40",children:[r.jsx("option",{value:"usd",children:"USD ($)"}),r.jsx("option",{value:"eur",children:"EUR (€)"}),r.jsx("option",{value:"gbp",children:"GBP (£)"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Distance Unit"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred distance unit"})]}),r.jsxs(ss,{name:"distanceUnit",value:n.distanceUnit,onChange:c,className:"w-40",children:[r.jsx("option",{value:"km",children:"Kilometers"}),r.jsx("option",{value:"mi",children:"Miles"})]})]})]})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(yc,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Privacy"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show Online Status"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see when you're online"})]}),r.jsx(Cn,{checked:n.showOnlineStatus,onCheckedChange:()=>l("showOnlineStatus")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show Last Active"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see when you were last active"})]}),r.jsx(Cn,{checked:n.showLastActive,onCheckedChange:()=>l("showLastActive")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show Profile"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Make your profile visible to others"})]}),r.jsx(Cn,{checked:n.showProfile,onCheckedChange:()=>l("showProfile")})]})]})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(cc,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Payment Methods"})]}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Manage your payment methods and subscription"}),r.jsx(Me,{variant:"outline",children:"Manage Payment Methods"})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(ps,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Security"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Me,{variant:"outline",className:"w-full justify-start",children:"Change Password"}),r.jsx(Me,{variant:"outline",className:"w-full justify-start",children:"Two-Factor Authentication"})]})]})}),r.jsx(bs,{children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Account Actions"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Me,{variant:"outline",className:"w-full justify-start text-red-600 border-red-200 hover:bg-red-50",onClick:()=>o(!0),children:[r.jsx(Ad,{className:"h-5 w-5 mr-2"}),"Delete Account"]}),r.jsxs(Me,{variant:"outline",className:"w-full justify-start",onClick:d,children:[r.jsx(Wv,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})]})})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsx(bs,{className:"max-w-md w-full",children:r.jsxs(Ts,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Delete Account"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(Me,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),r.jsx(Me,{variant:"destructive",onClick:u,children:"Delete Account"})]})]})})})]})}),r.jsx(yr,{})]})}function Du({children:e}){const{user:t,loading:s}=Gr(),[n,i]=E.useState(!0),[a,o]=E.useState(!1);return E.useEffect(()=>{const l=setTimeout(()=>{i(s)},500),c=setTimeout(()=>{s&&(console.warn("⚠️ [PROTECTED_ROUTE] Loading timeout reached, forcing render"),o(!0),i(!1))},1e4);return()=>{clearTimeout(l),clearTimeout(c)}},[s]),console.log("🔍 [PROTECTED_ROUTE] State:",{user:!!t,loading:s,showLoading:n,timeoutReached:a}),n&&s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Loading..."})]})}):a&&s?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 mb-4",children:r.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Timeout"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The page is taking longer than expected to load."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Reload Page"})]})}):t?(console.log("✅ [PROTECTED_ROUTE] Rendering protected component for user:",t.email),r.jsx(r.Fragment,{children:e})):(console.log("❌ [PROTECTED_ROUTE] No user, redirecting to login"),r.jsx(A8,{to:"/login",replace:!0}))}function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}var dn=Uint8Array,li=Uint16Array,V1=Int32Array,r0=new dn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n0=new dn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ty=new dn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U6=function(e,t){for(var s=new li(31),n=0;n<31;++n)s[n]=t+=1<<e[n-1];for(var i=new V1(s[30]),n=1;n<30;++n)for(var a=s[n];a<s[n+1];++a)i[a]=a-s[n]<<5|n;return{b:s,r:i}},z6=U6(r0,2),$6=z6.b,Ly=z6.r;$6[28]=258,Ly[258]=28;var V6=U6(n0,0),xO=V6.b,U5=V6.r,My=new li(32768);for(var As=0;As<32768;++As){var Go=(As&43690)>>1|(As&21845)<<1;Go=(Go&52428)>>2|(Go&13107)<<2,Go=(Go&61680)>>4|(Go&3855)<<4,My[As]=((Go&65280)>>8|(Go&255)<<8)>>1}var Da=function(e,t,s){for(var n=e.length,i=0,a=new li(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new li(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(s){l=new li(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],f=o[e[i]-1]++<<u,m=f|(1<<u)-1;f<=m;++f)l[My[f]>>c]=d}else for(l=new li(n),i=0;i<n;++i)e[i]&&(l[i]=My[o[e[i]-1]++]>>15-e[i]);return l},kl=new dn(288);for(var As=0;As<144;++As)kl[As]=8;for(var As=144;As<256;++As)kl[As]=9;for(var As=256;As<280;++As)kl[As]=7;for(var As=280;As<288;++As)kl[As]=8;var $h=new dn(32);for(var As=0;As<32;++As)$h[As]=5;var yO=Da(kl,9,0),vO=Da(kl,9,1),bO=Da($h,5,0),wO=Da($h,5,1),Tg=function(e){for(var t=e[0],s=1;s<e.length;++s)e[s]>t&&(t=e[s]);return t},Gi=function(e,t,s){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&s},Lg=function(e,t){var s=t/8|0;return(e[s]|e[s+1]<<8|e[s+2]<<16)>>(t&7)},q1=function(e){return(e+7)/8|0},q6=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new dn(e.subarray(t,s))},NO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qi=function(e,t,s){var n=new Error(t||NO[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Qi),!s)throw n;return n},jO=function(e,t,s,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return s||new dn(0);var o=!s,l=o||t.i!=2,c=t.i;o&&(s=new dn(i*3));var d=function(Le){var $e=s.length;if(Le>$e){var Be=new dn(Math.max($e*2,Le));Be.set(s),s=Be}},u=t.f||0,f=t.p||0,m=t.b||0,p=t.l,x=t.d,j=t.m,N=t.n,y=i*8;do{if(!p){u=Gi(e,f,1);var v=Gi(e,f+1,3);if(f+=3,v)if(v==1)p=vO,x=wO,j=9,N=5;else if(v==2){var _=Gi(e,f,31)+257,M=Gi(e,f+10,15)+4,L=_+Gi(e,f+5,31)+1;f+=14;for(var $=new dn(L),K=new dn(19),I=0;I<M;++I)K[Ty[I]]=Gi(e,f+I*3,7);f+=M*3;for(var O=Tg(K),W=(1<<O)-1,Y=Da(K,O,1),I=0;I<L;){var le=Y[Gi(e,f,W)];f+=le&15;var b=le>>4;if(b<16)$[I++]=b;else{var ie=0,oe=0;for(b==16?(oe=3+Gi(e,f,3),f+=2,ie=$[I-1]):b==17?(oe=3+Gi(e,f,7),f+=3):b==18&&(oe=11+Gi(e,f,127),f+=7);oe--;)$[I++]=ie}}var Z=$.subarray(0,_),B=$.subarray(_);j=Tg(Z),N=Tg(B),p=Da(Z,j,1),x=Da(B,N,1)}else Qi(1);else{var b=q1(f)+4,k=e[b-4]|e[b-3]<<8,C=b+k;if(C>i){c&&Qi(0);break}l&&d(m+k),s.set(e.subarray(b,C),m),t.b=m+=k,t.p=f=C*8,t.f=u;continue}if(f>y){c&&Qi(0);break}}l&&d(m+131072);for(var X=(1<<j)-1,J=(1<<N)-1,P=f;;P=f){var ie=p[Lg(e,f)&X],H=ie>>4;if(f+=ie&15,f>y){c&&Qi(0);break}if(ie||Qi(2),H<256)s[m++]=H;else if(H==256){P=f,p=null;break}else{var Q=H-254;if(H>264){var I=H-257,G=r0[I];Q=Gi(e,f,(1<<G)-1)+$6[I],f+=G}var ae=x[Lg(e,f)&J],xe=ae>>4;ae||Qi(3),f+=ae&15;var B=xO[xe];if(xe>3){var G=n0[xe];B+=Lg(e,f)&(1<<G)-1,f+=G}if(f>y){c&&Qi(0);break}l&&d(m+131072);var we=m+Q;if(m<B){var de=a-B,Ee=Math.min(B,we);for(de+m<0&&Qi(3);m<Ee;++m)s[m]=n[de+m]}for(;m<we;++m)s[m]=s[m-B]}}t.l=p,t.p=P,t.b=m,t.f=u,p&&(u=1,t.m=j,t.d=x,t.n=N)}while(!u);return m!=s.length&&o?q6(s,0,m):s.subarray(0,m)},ao=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8},Ou=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8,e[n+2]|=s>>16},Mg=function(e,t){for(var s=[],n=0;n<e.length;++n)e[n]&&s.push({s:n,f:e[n]});var i=s.length,a=s.slice();if(!i)return{t:W6,l:0};if(i==1){var o=new dn(s[0].s+1);return o[s[0].s]=1,{t:o,l:1}}s.sort(function(C,_){return C.f-_.f}),s.push({s:-1,f:25001});var l=s[0],c=s[1],d=0,u=1,f=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=s[s[d].f<s[f].f?d++:f++],c=s[d!=u&&s[d].f<s[f].f?d++:f++],s[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var p=new li(m+1),x=Iy(s[u-1],p,0);if(x>t){var n=0,j=0,N=x-t,y=1<<N;for(a.sort(function(_,M){return p[M.s]-p[_.s]||_.f-M.f});n<i;++n){var v=a[n].s;if(p[v]>t)j+=y-(1<<x-p[v]),p[v]=t;else break}for(j>>=N;j>0;){var b=a[n].s;p[b]<t?j-=1<<t-p[b]++-1:++n}for(;n>=0&&j;--n){var k=a[n].s;p[k]==t&&(--p[k],++j)}x=t}return{t:new dn(p),l:x}},Iy=function(e,t,s){return e.s==-1?Math.max(Iy(e.l,t,s+1),Iy(e.r,t,s+1)):t[e.s]=s},z5=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new li(++t),n=0,i=e[0],a=1,o=function(c){s[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:s.subarray(0,n),n:t}},Fu=function(e,t){for(var s=0,n=0;n<t.length;++n)s+=e[n]*t[n];return s},H6=function(e,t,s){var n=s.length,i=q1(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=s[a];return(i+4+n)*8},$5=function(e,t,s,n,i,a,o,l,c,d,u){ao(t,u++,s),++i[256];for(var f=Mg(i,15),m=f.t,p=f.l,x=Mg(a,15),j=x.t,N=x.l,y=z5(m),v=y.c,b=y.n,k=z5(j),C=k.c,_=k.n,M=new li(19),L=0;L<v.length;++L)++M[v[L]&31];for(var L=0;L<C.length;++L)++M[C[L]&31];for(var $=Mg(M,7),K=$.t,I=$.l,O=19;O>4&&!K[Ty[O-1]];--O);var W=d+5<<3,Y=Fu(i,kl)+Fu(a,$h)+o,le=Fu(i,m)+Fu(a,j)+o+14+3*O+Fu(M,K)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&W<=Y&&W<=le)return H6(t,u,e.subarray(c,c+d));var ie,oe,Z,B;if(ao(t,u,1+(le<Y)),u+=2,le<Y){ie=Da(m,p,0),oe=m,Z=Da(j,N,0),B=j;var X=Da(K,I,0);ao(t,u,b-257),ao(t,u+5,_-1),ao(t,u+10,O-4),u+=14;for(var L=0;L<O;++L)ao(t,u+3*L,K[Ty[L]]);u+=3*O;for(var J=[v,C],P=0;P<2;++P)for(var H=J[P],L=0;L<H.length;++L){var Q=H[L]&31;ao(t,u,X[Q]),u+=K[Q],Q>15&&(ao(t,u,H[L]>>5&127),u+=H[L]>>12)}}else ie=yO,oe=kl,Z=bO,B=$h;for(var L=0;L<l;++L){var G=n[L];if(G>255){var Q=G>>18&31;Ou(t,u,ie[Q+257]),u+=oe[Q+257],Q>7&&(ao(t,u,G>>23&31),u+=r0[Q]);var ae=G&31;Ou(t,u,Z[ae]),u+=B[ae],ae>3&&(Ou(t,u,G>>5&8191),u+=n0[ae])}else Ou(t,u,ie[G]),u+=oe[G]}return Ou(t,u,ie[256]),u+oe[256]},SO=new V1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W6=new dn(0),kO=function(e,t,s,n,i,a){var o=a.z||e.length,l=new dn(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var f=SO[t-1],m=f>>13,p=f&8191,x=(1<<s)-1,j=a.p||new li(32768),N=a.h||new li(x+1),y=Math.ceil(s/3),v=2*y,b=function(Re){return(e[Re]^e[Re+1]<<y^e[Re+2]<<v)&x},k=new V1(25e3),C=new li(288),_=new li(32),M=0,L=0,$=a.i||0,K=0,I=a.w||0,O=0;$+2<o;++$){var W=b($),Y=$&32767,le=N[W];if(j[Y]=le,N[W]=Y,I<=$){var ie=o-$;if((M>7e3||K>24576)&&(ie>423||!d)){u=$5(e,c,0,k,C,_,L,K,O,$-O,u),K=M=L=0,O=$;for(var oe=0;oe<286;++oe)C[oe]=0;for(var oe=0;oe<30;++oe)_[oe]=0}var Z=2,B=0,X=p,J=Y-le&32767;if(ie>2&&W==b($-J))for(var P=Math.min(m,ie)-1,H=Math.min(32767,$),Q=Math.min(258,ie);J<=H&&--X&&Y!=le;){if(e[$+Z]==e[$+Z-J]){for(var G=0;G<Q&&e[$+G]==e[$+G-J];++G);if(G>Z){if(Z=G,B=J,G>P)break;for(var ae=Math.min(J,G-2),xe=0,oe=0;oe<ae;++oe){var we=$-J+oe&32767,de=j[we],Ee=we-de&32767;Ee>xe&&(xe=Ee,le=we)}}}Y=le,le=j[Y],J+=Y-le&32767}if(B){k[K++]=268435456|Ly[Z]<<18|U5[B];var Le=Ly[Z]&31,$e=U5[B]&31;L+=r0[Le]+n0[$e],++C[257+Le],++_[$e],I=$+Z,++M}else k[K++]=e[$],++C[e[$]]}}for($=Math.max($,I);$<o;++$)k[K++]=e[$],++C[e[$]];u=$5(e,c,d,k,C,_,L,K,O,$-O,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=N,a.p=j,a.i=$,a.w=I)}else{for(var $=a.w||0;$<o+d;$+=65535){var Be=$+65535;Be>=o&&(c[u/8|0]=d,Be=o),u=H6(c,u+1,e.subarray($,Be))}a.i=o}return q6(l,0,n+q1(u)+i)},G6=function(){var e=1,t=0;return{p:function(s){for(var n=e,i=t,a=s.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=s[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_O=function(e,t,s,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new dn(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return kO(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,n,i)},K6=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},CO=function(e,t){var s=t.level,n=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=G6();i.p(t.dictionary),K6(e,2,i.d())}},AO=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Qi(6,"invalid zlib data"),(e[1]>>5&1)==1&&Qi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Ry(e,t){t||(t={});var s=G6();s.p(e);var n=_O(e,t,t.dictionary?6:2,4);return CO(n,t),K6(n,n.length-4,s.d()),n}function EO(e,t){return jO(e.subarray(AO(e),-4),{i:2},t,t)}var PO=typeof TextDecoder<"u"&&new TextDecoder,TO=0;try{PO.decode(W6,{stream:!0}),TO=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ig(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var ms={log:Ig,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):Ig.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):Ig(e))}};function Rg(e,t,s){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Zl(n.response,t,s)},n.onerror=function(){ms.error("could not download file")},n.send()}function V5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function rm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var oh,Dy,Zl=jt.saveAs||((typeof window>"u"?"undefined":ls(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var n=jt.URL||jt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?V5(i.href)?Rg(e,t,s):rm(i,i.target="_blank"):rm(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){rm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(V5(e))Rg(e,t,s);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){rm(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ls(a)!=="object"&&(ms.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,s),t)}:function(e,t,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Rg(e,t,s);var i=e.type==="application/octet-stream",a=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":ls(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=jt.URL||jt.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<s.length;n++){var i=s[n].re,a=s[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dg(e,t){var s=e[0],n=e[1],i=e[2],a=e[3];s=rn(s,n,i,a,t[0],7,-680876936),a=rn(a,s,n,i,t[1],12,-389564586),i=rn(i,a,s,n,t[2],17,606105819),n=rn(n,i,a,s,t[3],22,-1044525330),s=rn(s,n,i,a,t[4],7,-176418897),a=rn(a,s,n,i,t[5],12,1200080426),i=rn(i,a,s,n,t[6],17,-1473231341),n=rn(n,i,a,s,t[7],22,-45705983),s=rn(s,n,i,a,t[8],7,1770035416),a=rn(a,s,n,i,t[9],12,-1958414417),i=rn(i,a,s,n,t[10],17,-42063),n=rn(n,i,a,s,t[11],22,-1990404162),s=rn(s,n,i,a,t[12],7,1804603682),a=rn(a,s,n,i,t[13],12,-40341101),i=rn(i,a,s,n,t[14],17,-1502002290),s=nn(s,n=rn(n,i,a,s,t[15],22,1236535329),i,a,t[1],5,-165796510),a=nn(a,s,n,i,t[6],9,-1069501632),i=nn(i,a,s,n,t[11],14,643717713),n=nn(n,i,a,s,t[0],20,-373897302),s=nn(s,n,i,a,t[5],5,-701558691),a=nn(a,s,n,i,t[10],9,38016083),i=nn(i,a,s,n,t[15],14,-660478335),n=nn(n,i,a,s,t[4],20,-405537848),s=nn(s,n,i,a,t[9],5,568446438),a=nn(a,s,n,i,t[14],9,-1019803690),i=nn(i,a,s,n,t[3],14,-187363961),n=nn(n,i,a,s,t[8],20,1163531501),s=nn(s,n,i,a,t[13],5,-1444681467),a=nn(a,s,n,i,t[2],9,-51403784),i=nn(i,a,s,n,t[7],14,1735328473),s=an(s,n=nn(n,i,a,s,t[12],20,-1926607734),i,a,t[5],4,-378558),a=an(a,s,n,i,t[8],11,-2022574463),i=an(i,a,s,n,t[11],16,1839030562),n=an(n,i,a,s,t[14],23,-35309556),s=an(s,n,i,a,t[1],4,-1530992060),a=an(a,s,n,i,t[4],11,1272893353),i=an(i,a,s,n,t[7],16,-155497632),n=an(n,i,a,s,t[10],23,-1094730640),s=an(s,n,i,a,t[13],4,681279174),a=an(a,s,n,i,t[0],11,-358537222),i=an(i,a,s,n,t[3],16,-722521979),n=an(n,i,a,s,t[6],23,76029189),s=an(s,n,i,a,t[9],4,-640364487),a=an(a,s,n,i,t[12],11,-421815835),i=an(i,a,s,n,t[15],16,530742520),s=on(s,n=an(n,i,a,s,t[2],23,-995338651),i,a,t[0],6,-198630844),a=on(a,s,n,i,t[7],10,1126891415),i=on(i,a,s,n,t[14],15,-1416354905),n=on(n,i,a,s,t[5],21,-57434055),s=on(s,n,i,a,t[12],6,1700485571),a=on(a,s,n,i,t[3],10,-1894986606),i=on(i,a,s,n,t[10],15,-1051523),n=on(n,i,a,s,t[1],21,-2054922799),s=on(s,n,i,a,t[8],6,1873313359),a=on(a,s,n,i,t[15],10,-30611744),i=on(i,a,s,n,t[6],15,-1560198380),n=on(n,i,a,s,t[13],21,1309151649),s=on(s,n,i,a,t[4],6,-145523070),a=on(a,s,n,i,t[11],10,-1120210379),i=on(i,a,s,n,t[2],15,718787259),n=on(n,i,a,s,t[9],21,-343485551),e[0]=ol(s,e[0]),e[1]=ol(n,e[1]),e[2]=ol(i,e[2]),e[3]=ol(a,e[3])}function i0(e,t,s,n,i,a){return t=ol(ol(t,e),ol(n,a)),ol(t<<i|t>>>32-i,s)}function rn(e,t,s,n,i,a,o){return i0(t&s|~t&n,e,t,i,a,o)}function nn(e,t,s,n,i,a,o){return i0(t&n|s&~n,e,t,i,a,o)}function an(e,t,s,n,i,a,o){return i0(t^s^n,e,t,i,a,o)}function on(e,t,s,n,i,a,o){return i0(s^(t|~n),e,t,i,a,o)}function J6(e){var t,s=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Dg(n,LO(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Dg(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*s,Dg(n,i),n}function LO(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}oh=jt.atob.bind(jt),Dy=jt.btoa.bind(jt);var q5="0123456789abcdef".split("");function MO(e){for(var t="",s=0;s<4;s++)t+=q5[e>>8*s+4&15]+q5[e>>8*s&15];return t}function IO(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Oy(e){return J6(e).map(IO).join("")}var RO=function(e){for(var t=0;t<e.length;t++)e[t]=MO(e[t]);return e.join("")}(J6("hello"))!="5d41402abc4b2a76b9719d911017c592";function ol(e,t){if(RO){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Fy(e,t){var s,n,i,a;if(e!==s){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}s=e,n=l}else l=n;var f=t.length,m=0,p=0,x="";for(c=0;c<f;c++)p=(p+(u=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=u,o=l[(l[m]+l[p])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var H5={print:4,modify:8,copy:16,"annot-forms":32};function Xc(e,t,s,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(H5.perm!==void 0)throw new Error("Invalid permission: "+l);i+=H5[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Oy(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Fy(this.encryptionKey,this.padding)}function Qc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,n=0;n<s;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function W5(e){if(ls(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,n,i){if(i=i||!1,typeof s!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var a=Math.random().toString(35);return t[s][a]=[n,!!i],a},this.unsubscribe=function(s){for(var n in t)if(t[n][s])return delete t[n][s],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[s]){var o=t[s][a];try{o[0].apply(e,n)}catch(l){jt.console&&ms.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function vp(e){if(!(this instanceof vp))return new vp(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function X6(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function tc(e,t,s,n,i){if(!(this instanceof tc))return new tc(e,t,s,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,X6.call(this,n,i)}function yd(e,t,s,n,i){if(!(this instanceof yd))return new yd(e,t,s,n,i);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,X6.call(this,n,i)}function bt(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;ls(e=e||{})==="object"&&(s=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",s=(""+(s||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=W5;var x="1.3",j=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(w){x=w};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var y=p.__private__.getPageFormat=function(w){return N[w]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},b=v.COMPAT;function k(){this.saveGraphicsState(),te(new lt(Ze,0,0,-Ze,0,ti()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),d="n",b=v.ADVANCED}function C(){this.restoreGraphicsState(),d="S",b=v.COMPAT}var _=p.__private__.combineFontStyleAndFontWeight=function(w,D){if(w=="bold"&&D=="normal"||w=="bold"&&D==400||w=="normal"&&D=="italic"||w=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(w=D==400||D==="normal"?w==="italic"?"italic":"normal":D!=700&&D!=="bold"||w!=="normal"?(D==700?"bold":D)+""+w:"bold"),w};p.advancedAPI=function(w){var D=b===v.COMPAT;return D&&k.call(this),typeof w!="function"||(w(this),D&&C.call(this)),this},p.compatAPI=function(w){var D=b===v.ADVANCED;return D&&C.call(this),typeof w!="function"||(w(this),D&&k.call(this)),this},p.isAdvancedAPI=function(){return b===v.ADVANCED};var M,L=function(w){if(b!==v.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=p.roundToPrecision=p.__private__.roundToPrecision=function(w,D){var se=t||D;if(isNaN(w)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(se).replace(/0+$/,"")};M=p.hpf=p.__private__.hpf=typeof c=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return $(w,c)}:c==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return $(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return $(w,16)};var K=p.f2=p.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return $(w,2)},I=p.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return $(w,3)},O=p.scale=p.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return b===v.COMPAT?w*Ze:b===v.ADVANCED?w:void 0},W=function(w){return b===v.COMPAT?ti()-w:b===v.ADVANCED?w:void 0},Y=function(w){return O(W(w))};p.__private__.setPrecision=p.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var le,ie="00000000000000000000000000000000",oe=p.__private__.getFileId=function(){return ie},Z=p.__private__.setFileId=function(w){return ie=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(vt=new Xc(u.userPermissions,u.userPassword,u.ownerPassword,ie)),ie};p.setFileId=function(w){return Z(w),this},p.getFileId=function(){return oe()};var B=p.__private__.convertDateToPDFDate=function(w){var D=w.getTimezoneOffset(),se=D<0?"+":"-",ce=Math.floor(Math.abs(D/60)),ve=Math.abs(D%60),Pe=[se,Q(ce),"'",Q(ve),"'"].join("");return["D:",w.getFullYear(),Q(w.getMonth()+1),Q(w.getDate()),Q(w.getHours()),Q(w.getMinutes()),Q(w.getSeconds()),Pe].join("")},X=p.__private__.convertPDFDateToDate=function(w){var D=parseInt(w.substr(2,4),10),se=parseInt(w.substr(6,2),10)-1,ce=parseInt(w.substr(8,2),10),ve=parseInt(w.substr(10,2),10),Pe=parseInt(w.substr(12,2),10),qe=parseInt(w.substr(14,2),10);return new Date(D,se,ce,ve,Pe,qe,0)},J=p.__private__.setCreationDate=function(w){var D;if(w===void 0&&(w=new Date),w instanceof Date)D=B(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=w}return le=D},P=p.__private__.getCreationDate=function(w){var D=le;return w==="jsDate"&&(D=X(le)),D};p.setCreationDate=function(w){return J(w),this},p.getCreationDate=function(w){return P(w)};var H,Q=p.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},G=p.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ae=0,xe=[],we=[],de=0,Ee=[],Le=[],$e=!1,Be=we,Re=function(){ae=0,de=0,we=[],xe=[],Ee=[],ht=gs(),xn=gs()};p.__private__.setCustomOutputDestination=function(w){$e=!0,Be=w};var fe=function(w){$e||(Be=w)};p.__private__.resetCustomOutputDestination=function(){$e=!1,Be=we};var te=p.__private__.out=function(w){return w=w.toString(),de+=w.length+1,Be.push(w),Be},Ke=p.__private__.write=function(w){return te(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},We=p.__private__.getArrayBuffer=function(w){for(var D=w.length,se=new ArrayBuffer(D),ce=new Uint8Array(se);D--;)ce[D]=w.charCodeAt(D);return se},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Oe};var Ve=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(w){return Ve=b===v.ADVANCED?w/Ze:w,this};var Ye,Je=p.__private__.getFontSize=p.getFontSize=function(){return b===v.COMPAT?Ve:Ve*Ze},dt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(w){return dt=w,this},p.__private__.getR2L=p.getR2L=function(){return dt};var pt,ut=p.__private__.setZoomMode=function(w){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))Ye=w;else if(isNaN(w)){if(D.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');Ye=w}else Ye=parseInt(w,10)};p.__private__.getZoomMode=function(){return Ye};var ft,wt=p.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');pt=w};p.__private__.getPageMode=function(){return pt};var _t=p.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');ft=w};p.__private__.getLayoutMode=function(){return ft},p.__private__.setDisplayMode=p.setDisplayMode=function(w,D,se){return ut(w),_t(D),wt(se),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(w){if(Object.keys(tt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[w]},p.__private__.getDocumentProperties=function(){return tt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(w){for(var D in tt)tt.hasOwnProperty(D)&&w[D]&&(tt[D]=w[D]);return this},p.__private__.setDocumentProperty=function(w,D){if(Object.keys(tt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[w]=D};var Nt,Ze,Is,Dt,vr,$t={},ns={},hs=[],It={},Qn={},ts={},ds={},Jt=null,Qt=0,xt=[],Vt=new W5(p),mi=e.hotfixes||[],Lt={},Cr={},pn=[],lt=function w(D,se,ce,ve,Pe,qe){if(!(this instanceof w))return new w(D,se,ce,ve,Pe,qe);isNaN(D)&&(D=1),isNaN(se)&&(se=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(Pe)&&(Pe=0),isNaN(qe)&&(qe=0),this._matrix=[D,se,ce,ve,Pe,qe]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(w)},lt.prototype.multiply=function(w){var D=w.sx*this.sx+w.shy*this.shx,se=w.sx*this.shy+w.shy*this.sy,ce=w.shx*this.sx+w.sy*this.shx,ve=w.shx*this.shy+w.sy*this.sy,Pe=w.tx*this.sx+w.ty*this.shx+this.tx,qe=w.tx*this.shy+w.ty*this.sy+this.ty;return new lt(D,se,ce,ve,Pe,qe)},lt.prototype.decompose=function(){var w=this.sx,D=this.shy,se=this.shx,ce=this.sy,ve=this.tx,Pe=this.ty,qe=Math.sqrt(w*w+D*D),st=(w/=qe)*se+(D/=qe)*ce;se-=w*st,ce-=D*st;var gt=Math.sqrt(se*se+ce*ce);return st/=gt,w*(ce/=gt)<D*(se/=gt)&&(w=-w,D=-D,st=-st,qe=-qe),{scale:new lt(qe,0,0,gt,0,0),translate:new lt(1,0,0,1,ve,Pe),rotate:new lt(w,D,-D,w,0,0),skew:new lt(1,0,st,1,0,0)}},lt.prototype.toString=function(w){return this.join(" ")},lt.prototype.inversed=function(){var w=this.sx,D=this.shy,se=this.shx,ce=this.sy,ve=this.tx,Pe=this.ty,qe=1/(w*ce-D*se),st=ce*qe,gt=-D*qe,Et=-se*qe,Ct=w*qe;return new lt(st,gt,Et,Ct,-st*ve-Et*Pe,-gt*ve-Ct*Pe)},lt.prototype.applyToPoint=function(w){var D=w.x*this.sx+w.y*this.shx+this.tx,se=w.x*this.shy+w.y*this.sy+this.ty;return new Ya(D,se)},lt.prototype.applyToRectangle=function(w){var D=this.applyToPoint(w),se=this.applyToPoint(new Ya(w.x+w.w,w.y+w.h));return new Ce(D.x,D.y,se.x-D.x,se.y-D.y)},lt.prototype.clone=function(){var w=this.sx,D=this.shy,se=this.shx,ce=this.sy,ve=this.tx,Pe=this.ty;return new lt(w,D,se,ce,ve,Pe)},p.Matrix=lt;var Ks=p.matrixMult=function(w,D){return D.multiply(w)},Kr=new lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Kr;var Xt=function(w,D){if(!Qn[w]){var se=(D instanceof tc?"Sh":"P")+(Object.keys(It).length+1).toString(10);D.id=se,Qn[w]=se,It[se]=D,Vt.publish("addPattern",D)}};p.ShadingPattern=tc,p.TilingPattern=yd,p.addShadingPattern=function(w,D){return L("addShadingPattern()"),Xt(w,D),this},p.beginTilingPattern=function(w){L("beginTilingPattern()"),kt(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},p.endTilingPattern=function(w,D){L("endTilingPattern()"),D.stream=Le[H].join(`
`),Xt(w,D),Vt.publish("endTilingPattern",D),pn.pop().restore()};var Ps=p.__private__.newObject=function(){var w=gs();return ur(w,!0),w},gs=p.__private__.newObjectDeferred=function(){return ae++,xe[ae]=function(){return de},ae},ur=function(w,D){return D=typeof D=="boolean"&&D,xe[w]=de,D&&te(w+" 0 obj"),w},gn=p.__private__.newAdditionalObject=function(){var w={objId:gs(),content:""};return Ee.push(w),w},ht=gs(),xn=gs(),yn=p.__private__.decodeColorString=function(w){var D=w.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var se=parseFloat(D[0]);D=[se,se,se,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(D[ve])).toString(16)).slice(-2);return ce},vn=p.__private__.encodeColorString=function(w){var D;typeof w=="string"&&(w={ch1:w});var se=w.ch1,ce=w.ch2,ve=w.ch3,Pe=w.ch4,qe=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var st=new Y6(se);if(st.ok)se=st.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var gt=parseInt(se.substr(1),16);se=gt>>16&255,ce=gt>>8&255,ve=255&gt}if(ce===void 0||Pe===void 0&&se===ce&&ce===ve)if(typeof se=="string")D=se+" "+qe[0];else switch(w.precision){case 2:D=K(se/255)+" "+qe[0];break;case 3:default:D=I(se/255)+" "+qe[0]}else if(Pe===void 0||ls(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return D=["1.","1.","1.",qe[1]].join(" ");if(typeof se=="string")D=[se,ce,ve,qe[1]].join(" ");else switch(w.precision){case 2:D=[K(se/255),K(ce/255),K(ve/255),qe[1]].join(" ");break;default:case 3:D=[I(se/255),I(ce/255),I(ve/255),qe[1]].join(" ")}}else if(typeof se=="string")D=[se,ce,ve,Pe,qe[2]].join(" ");else switch(w.precision){case 2:D=[K(se),K(ce),K(ve),K(Pe),qe[2]].join(" ");break;case 3:default:D=[I(se),I(ce),I(ve),I(Pe),qe[2]].join(" ")}return D},bn=p.__private__.getFilters=function(){return o},Yr=p.__private__.putStream=function(w){var D=(w=w||{}).data||"",se=w.filters||bn(),ce=w.alreadyAppliedFilters||[],ve=w.addLength1||!1,Pe=D.length,qe=w.objectId,st=function(en){return en};if(u!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(st=vt.encryptor(qe,0));var gt={};se===!0&&(se=["FlateEncode"]);var Et=w.additionalKeyValues||[],Ct=(gt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(D,se):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(gt.data.length!==0&&(Et.push({key:"Length",value:gt.data.length}),ve===!0&&Et.push({key:"Length1",value:Pe})),Ct.length!=0)if(Ct.split("/").length-1==1)Et.push({key:"Filter",value:Ct});else{Et.push({key:"Filter",value:"["+Ct+"]"});for(var Gt=0;Gt<Et.length;Gt+=1)if(Et[Gt].key==="DecodeParms"){for(var Os=[],Js=0;Js<gt.reverseChain.split("/").length-1;Js+=1)Os.push("null");Os.push(Et[Gt].value),Et[Gt].value="["+Os.join(" ")+"]"}}te("<<");for(var hr=0;hr<Et.length;hr++)te("/"+Et[hr].key+" "+Et[hr].value);te(">>"),gt.data.length!==0&&(te("stream"),te(st(gt.data)),te("endstream"))},Ln=p.__private__.putPage=function(w){var D=w.number,se=w.data,ce=w.objId,ve=w.contentsObjId;ur(ce,!0),te("<</Type /Page"),te("/Parent "+w.rootDictionaryObjId+" 0 R"),te("/Resources "+w.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(M(w.mediaBox.bottomLeftX))+" "+parseFloat(M(w.mediaBox.bottomLeftY))+" "+M(w.mediaBox.topRightX)+" "+M(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&te("/CropBox ["+M(w.cropBox.bottomLeftX)+" "+M(w.cropBox.bottomLeftY)+" "+M(w.cropBox.topRightX)+" "+M(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&te("/BleedBox ["+M(w.bleedBox.bottomLeftX)+" "+M(w.bleedBox.bottomLeftY)+" "+M(w.bleedBox.topRightX)+" "+M(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&te("/TrimBox ["+M(w.trimBox.bottomLeftX)+" "+M(w.trimBox.bottomLeftY)+" "+M(w.trimBox.topRightX)+" "+M(w.trimBox.topRightY)+"]"),w.artBox!==null&&te("/ArtBox ["+M(w.artBox.bottomLeftX)+" "+M(w.artBox.bottomLeftY)+" "+M(w.artBox.topRightX)+" "+M(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&te("/UserUnit "+w.userUnit),Vt.publish("putPage",{objId:ce,pageContext:xt[D],pageNumber:D,page:se}),te("/Contents "+ve+" 0 R"),te(">>"),te("endobj");var Pe=se.join(`
`);return b===v.ADVANCED&&(Pe+=`
Q`),ur(ve,!0),Yr({data:Pe,filters:bn(),objectId:ve}),te("endobj"),ce},Oi=p.__private__.putPages=function(){var w,D,se=[];for(w=1;w<=Qt;w++)xt[w].objId=gs(),xt[w].contentsObjId=gs();for(w=1;w<=Qt;w++)se.push(Ln({number:w,data:Le[w],objId:xt[w].objId,contentsObjId:xt[w].contentsObjId,mediaBox:xt[w].mediaBox,cropBox:xt[w].cropBox,bleedBox:xt[w].bleedBox,trimBox:xt[w].trimBox,artBox:xt[w].artBox,userUnit:xt[w].userUnit,rootDictionaryObjId:ht,resourceDictionaryObjId:xn}));ur(ht,!0),te("<</Type /Pages");var ce="/Kids [";for(D=0;D<Qt;D++)ce+=se[D]+" 0 R ";te(ce+"]"),te("/Count "+Qt),te(">>"),te("endobj"),Vt.publish("postPutPages")},Mn=function(w){Vt.publish("putFont",{font:w,out:te,newObject:Ps,putStream:Yr}),w.isAlreadyPutted!==!0&&(w.objectNumber=Ps(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Qc(w.postScriptName)),te("/Subtype /Type1"),typeof w.encoding=="string"&&te("/Encoding /"+w.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},da=function(){for(var w in $t)$t.hasOwnProperty(w)&&(f===!1||f===!0&&m.hasOwnProperty(w))&&Mn($t[w])},Fi=function(w){w.objectNumber=Ps();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[M(w.x),M(w.y),M(w.x+w.width),M(w.y+w.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var se=w.pages[1].join(`
`);Yr({data:se,additionalKeyValues:D,objectId:w.objectNumber}),te("endobj")},Bi=function(){for(var w in Lt)Lt.hasOwnProperty(w)&&Fi(Lt[w])},pi=function(w,D){var se,ce=[],ve=1/(D-1);for(se=0;se<1;se+=ve)ce.push(se);if(ce.push(1),w[0].offset!=0){var Pe={offset:0,color:w[0].color};w.unshift(Pe)}if(w[w.length-1].offset!=1){var qe={offset:1,color:w[w.length-1].color};w.push(qe)}for(var st="",gt=0,Et=0;Et<ce.length;Et++){for(se=ce[Et];se>w[gt+1].offset;)gt++;var Ct=w[gt].offset,Gt=(se-Ct)/(w[gt+1].offset-Ct),Os=w[gt].color,Js=w[gt+1].color;st+=G(Math.round((1-Gt)*Os[0]+Gt*Js[0]).toString(16))+G(Math.round((1-Gt)*Os[1]+Gt*Js[1]).toString(16))+G(Math.round((1-Gt)*Os[2]+Gt*Js[2]).toString(16))}return st.trim()},Rl=function(w,D){D||(D=21);var se=Ps(),ce=pi(w.colors,D),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+D+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yr({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),te("endobj"),w.objectNumber=Ps(),te("<< /ShadingType "+w.type),te("/ColorSpace /DeviceRGB");var Pe="/Coords ["+M(parseFloat(w.coords[0]))+" "+M(parseFloat(w.coords[1]))+" ";w.type===2?Pe+=M(parseFloat(w.coords[2]))+" "+M(parseFloat(w.coords[3])):Pe+=M(parseFloat(w.coords[2]))+" "+M(parseFloat(w.coords[3]))+" "+M(parseFloat(w.coords[4]))+" "+M(parseFloat(w.coords[5])),te(Pe+="]"),w.matrix&&te("/Matrix ["+w.matrix.toString()+"]"),te("/Function "+se+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},ua=function(w,D){var se=gs(),ce=Ps();D.push({resourcesOid:se,objectOid:ce}),w.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+w.boundingBox.map(M).join(" ")+"]"}),ve.push({key:"XStep",value:M(w.xStep)}),ve.push({key:"YStep",value:M(w.yStep)}),ve.push({key:"Resources",value:se+" 0 R"}),w.matrix&&ve.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Yr({data:w.stream,additionalKeyValues:ve,objectId:w.objectNumber}),te("endobj")},Jr=function(w){var D;for(D in It)It.hasOwnProperty(D)&&(It[D]instanceof tc?Rl(It[D]):It[D]instanceof yd&&ua(It[D],w))},Ua=function(w){for(var D in w.objectNumber=Ps(),te("<<"),w)switch(D){case"opacity":te("/ca "+K(w[D]));break;case"stroke-opacity":te("/CA "+K(w[D]))}te(">>"),te("endobj")},Dl=function(){var w;for(w in ts)ts.hasOwnProperty(w)&&Ua(ts[w])},Zn=function(){for(var w in te("/XObject <<"),Lt)Lt.hasOwnProperty(w)&&Lt[w].objectNumber>=0&&te("/"+w+" "+Lt[w].objectNumber+" 0 R");Vt.publish("putXobjectDict"),te(">>")},za=function(){vt.oid=Ps(),te("<<"),te("/Filter /Standard"),te("/V "+vt.v),te("/R "+vt.r),te("/U <"+vt.toHexString(vt.U)+">"),te("/O <"+vt.toHexString(vt.O)+">"),te("/P "+vt.P),te(">>"),te("endobj")},Ao=function(){for(var w in te("/Font <<"),$t)$t.hasOwnProperty(w)&&(f===!1||f===!0&&m.hasOwnProperty(w))&&te("/"+w+" "+$t[w].objectNumber+" 0 R");te(">>")},$a=function(){if(Object.keys(It).length>0){for(var w in te("/Shading <<"),It)It.hasOwnProperty(w)&&It[w]instanceof tc&&It[w].objectNumber>=0&&te("/"+w+" "+It[w].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),te(">>")}},ha=function(w){if(Object.keys(It).length>0){for(var D in te("/Pattern <<"),It)It.hasOwnProperty(D)&&It[D]instanceof p.TilingPattern&&It[D].objectNumber>=0&&It[D].objectNumber<w&&te("/"+D+" "+It[D].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),te(">>")}},Ol=function(){if(Object.keys(ts).length>0){var w;for(w in te("/ExtGState <<"),ts)ts.hasOwnProperty(w)&&ts[w].objectNumber>=0&&te("/"+w+" "+ts[w].objectNumber+" 0 R");Vt.publish("putGStateDict"),te(">>")}},Ss=function(w){ur(w.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ao(),$a(),ha(w.objectOid),Ol(),Zn(),te(">>"),te("endobj")},Va=function(){var w=[];da(),Dl(),Bi(),Jr(w),Vt.publish("putResources"),w.forEach(Ss),Ss({resourcesOid:xn,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources")},qa=function(){Vt.publish("putAdditionalObjects");for(var w=0;w<Ee.length;w++){var D=Ee[w];ur(D.objId,!0),te(D.content),te("endobj")}Vt.publish("postPutAdditionalObjects")},Ha=function(w){ns[w.fontName]=ns[w.fontName]||{},ns[w.fontName][w.fontStyle]=w.id},Ui=function(w,D,se,ce,ve){var Pe={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:w,fontName:D,fontStyle:se,encoding:ce,isStandardFont:ve||!1,metadata:{}};return Vt.publish("addFont",{font:Pe,instance:this}),$t[Pe.id]=Pe,Ha(Pe),Pe.id},Fl=function(w){for(var D=0,se=Oe.length;D<se;D++){var ce=Ui.call(this,w[D][0],w[D][1],w[D][2],Oe[D][3],!0);f===!1&&(m[ce]=!0);var ve=w[D][0].split("-");Ha({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}Vt.publish("addFonts",{fonts:$t,dictionary:ns})},Xr=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ce){var D=ce.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var se="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ce.message;if(!jt.console)throw new Error(se);jt.console.error(se,ce),jt.alert&&alert(se)}},w.foo.bar=w,w.foo},gi=function(w,D){var se,ce,ve,Pe,qe,st,gt,Et,Ct;if(ve=(D=D||{}).sourceEncoding||"Unicode",qe=D.outputEncoding,(D.autoencode||qe)&&$t[Nt].metadata&&$t[Nt].metadata[ve]&&$t[Nt].metadata[ve].encoding&&(Pe=$t[Nt].metadata[ve].encoding,!qe&&$t[Nt].encoding&&(qe=$t[Nt].encoding),!qe&&Pe.codePages&&(qe=Pe.codePages[0]),typeof qe=="string"&&(qe=Pe[qe]),qe)){for(gt=!1,st=[],se=0,ce=w.length;se<ce;se++)(Et=qe[w.charCodeAt(se)])?st.push(String.fromCharCode(Et)):st.push(w[se]),st[se].charCodeAt(0)>>8&&(gt=!0);w=st.join("")}for(se=w.length;gt===void 0&&se!==0;)w.charCodeAt(se-1)>>8&&(gt=!0),se--;if(!gt)return w;for(st=D.noBOM?[]:[254,255],se=0,ce=w.length;se<ce;se++){if((Ct=(Et=w.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");st.push(Ct),st.push(Et-(Ct<<8))}return String.fromCharCode.apply(void 0,st)},br=p.__private__.pdfEscape=p.pdfEscape=function(w,D){return gi(w,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fa=p.__private__.beginPage=function(w){Le[++Qt]=[],xt[Qt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},_e(Qt),fe(Le[H])},T=function(w,D){var se,ce,ve;switch(s=D||s,typeof w=="string"&&(se=y(w.toLowerCase()),Array.isArray(se)&&(ce=se[0],ve=se[1])),Array.isArray(w)&&(ce=w[0]*Ze,ve=w[1]*Ze),isNaN(ce)&&(ce=i[0],ve=i[1]),(ce>14400||ve>14400)&&(ms.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),i=[ce,ve],s.substr(0,1)){case"l":ve>ce&&(i=[ve,ce]);break;case"p":ce>ve&&(i=[ve,ce])}fa(i),ga(zi),te(Br),Eo!==0&&te(Eo+" J"),Po!==0&&te(Po+" j"),Vt.publish("addPage",{pageNumber:Qt})},re=function(w){w>0&&w<=Qt&&(Le.splice(w,1),xt.splice(w,1),Qt--,H>Qt&&(H=Qt),this.setPage(H))},_e=function(w){w>0&&w<=Qt&&(H=w)},F=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},ne=function(w,D,se){var ce,ve=void 0;return se=se||{},w=w!==void 0?w:$t[Nt].fontName,D=D!==void 0?D:$t[Nt].fontStyle,ce=w.toLowerCase(),ns[ce]!==void 0&&ns[ce][D]!==void 0?ve=ns[ce][D]:ns[w]!==void 0&&ns[w][D]!==void 0?ve=ns[w][D]:se.disableWarning===!1&&ms.warn("Unable to look up font label for font '"+w+"', '"+D+"'. Refer to getFontList() for available fonts."),ve||se.noFallback||(ve=ns.times[D])==null&&(ve=ns.times.normal),ve},be=p.__private__.putInfo=function(){var w=Ps(),D=function(ce){return ce};for(var se in u!==null&&(D=vt.encryptor(w,0)),te("<<"),te("/Producer ("+br(D("jsPDF "+bt.version))+")"),tt)tt.hasOwnProperty(se)&&tt[se]&&te("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+br(D(tt[se]))+")");te("/CreationDate ("+br(D(le))+")"),te(">>"),te("endobj")},Se=p.__private__.putCatalog=function(w){var D=(w=w||{}).rootDictionaryObjId||ht;switch(Ps(),te("<<"),te("/Type /Catalog"),te("/Pages "+D+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+Ye;se.substr(se.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&te("/OpenAction [3 0 R /XYZ null null "+K(Ye)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}pt&&te("/PageMode /"+pt),Vt.publish("putCatalog"),te(">>"),te("endobj")},ye=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ae+1)),te("/Root "+ae+" 0 R"),te("/Info "+(ae-1)+" 0 R"),u!==null&&te("/Encrypt "+vt.oid+" 0 R"),te("/ID [ <"+ie+"> <"+ie+"> ]"),te(">>")},ge=p.__private__.putHeader=function(){te("%PDF-"+x),te("%ºß¬à")},ke=p.__private__.putXRef=function(){var w="0000000000";te("xref"),te("0 "+(ae+1)),te("0000000000 65535 f ");for(var D=1;D<=ae;D++)typeof xe[D]=="function"?te((w+xe[D]()).slice(-10)+" 00000 n "):xe[D]!==void 0?te((w+xe[D]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Xe=p.__private__.buildDocument=function(){Re(),fe(we),Vt.publish("buildDocument"),ge(),Oi(),qa(),Va(),u!==null&&za(),be(),Se();var w=de;return ke(),ye(),te("startxref"),te(""+w),te("%%EOF"),fe(Le[H]),we.join(`
`)},nt=p.__private__.getBlob=function(w){return new Blob([We(w)],{type:"application/pdf"})},at=p.output=p.__private__.output=Xr(function(w,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",w){case void 0:return Xe();case"save":p.save(D.filename);break;case"arraybuffer":return We(Xe());case"blob":return nt(Xe());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(nt(Xe()))||void 0;ms.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ce=Xe();try{se=Dy(ce)}catch{se=Dy(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+D.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(ve=D.pdfObjectUrl,Pe="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",st=jt.open();return st!==null&&st.document.write(qe),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',Et=jt.open();if(Et!==null){Et.document.write(gt);var Ct=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=D.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Os=jt.open();if(Os!==null&&(Os.document.write(Gt),Os.document.title=D.filename),Os||typeof safari>"u")return Os;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",D);default:return null}}),Rt=function(w){return Array.isArray(mi)===!0&&mi.indexOf(w)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=Rt("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var vt=null;J(),Z();var Wt=function(w){return u!==null?vt.encryptor(w,0):function(D){return D}},is=p.__private__.getPageInfo=p.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[w].objId,pageNumber:w,pageContext:xt[w]}},mt=p.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in xt)if(xt[D].objId===w)break;return is(D)},Qr=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:xt[H].objId,pageNumber:H,pageContext:xt[H]}};p.addPage=function(){return T.apply(this,arguments),this},p.setPage=function(){return _e.apply(this,arguments),fe.call(this,Le[H]),this},p.insertPage=function(w){return this.addPage(),this.movePage(H,w),this},p.movePage=function(w,D){var se,ce;if(w>D){se=Le[w],ce=xt[w];for(var ve=w;ve>D;ve--)Le[ve]=Le[ve-1],xt[ve]=xt[ve-1];Le[D]=se,xt[D]=ce,this.setPage(D)}else if(w<D){se=Le[w],ce=xt[w];for(var Pe=w;Pe<D;Pe++)Le[Pe]=Le[Pe+1],xt[Pe]=xt[Pe+1];Le[D]=se,xt[D]=ce,this.setPage(D)}return this},p.deletePage=function(){return re.apply(this,arguments),this},p.__private__.text=p.text=function(w,D,se,ce,ve){var Pe,qe,st,gt,Et,Ct,Gt,Os,Js,hr=(ce=ce||{}).scope||this;if(typeof w=="number"&&typeof D=="number"&&(typeof se=="string"||Array.isArray(se))){var en=se;se=D,D=w,w=en}if(arguments[3]instanceof lt?(L("The transform parameter of text() with a Matrix value"),Js=ve):(st=arguments[4],gt=arguments[5],ls(Gt=arguments[3])==="object"&&Gt!==null||(typeof st=="string"&&(gt=st,st=null),typeof Gt=="string"&&(gt=Gt,Gt=null),typeof Gt=="number"&&(st=Gt,Gt=null),ce={flags:Gt,angle:st,align:gt})),isNaN(D)||isNaN(se)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return hr;var Er="",Vi=!1,si=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:ks,Sa=hr.internal.scaleFactor;function lf(xs){return xs=xs.split("	").join(Array(ce.TabLen||9).join(" ")),br(xs,Gt)}function lu(xs){for(var ys,rr=xs.concat(),wr=[],Za=rr.length;Za--;)typeof(ys=rr.shift())=="string"?wr.push(ys):Array.isArray(xs)&&(ys.length===1||ys[1]===void 0&&ys[2]===void 0)?wr.push(ys[0]):wr.push([ys[0],ys[1],ys[2]]);return wr}function cu(xs,ys){var rr;if(typeof xs=="string")rr=ys(xs)[0];else if(Array.isArray(xs)){for(var wr,Za,xu=xs.concat(),Dc=[],ff=xu.length;ff--;)typeof(wr=xu.shift())=="string"?Dc.push(ys(wr)[0]):Array.isArray(wr)&&typeof wr[0]=="string"&&(Za=ys(wr[0],wr[1],wr[2]),Dc.push([Za[0],Za[1],Za[2]]));rr=Dc}return rr}var Cc=!1,du=!0;if(typeof w=="string")Cc=!0;else if(Array.isArray(w)){var uu=w.concat();qe=[];for(var Ac,Ur=uu.length;Ur--;)(typeof(Ac=uu.shift())!="string"||Array.isArray(Ac)&&typeof Ac[0]!="string")&&(du=!1);Cc=du}if(Cc===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ec=Ve/hr.internal.scaleFactor,Pc=Ec*(si-1);switch(ce.baseline){case"bottom":se-=Pc;break;case"top":se+=Ec-Pc;break;case"hanging":se+=Ec-2*Pc;break;case"middle":se+=Ec/2-Pc}if((Ct=ce.maxWidth||0)>0&&(typeof w=="string"?w=hr.splitTextToSize(w,Ct):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(xs,ys){return xs.concat(hr.splitTextToSize(ys,Ct))},[]))),Pe={text:w,x:D,y:se,options:ce,mutex:{pdfEscape:br,activeFontKey:Nt,fonts:$t,activeFontSize:Ve}},Vt.publish("preProcessText",Pe),w=Pe.text,st=(ce=Pe.options).angle,!(Js instanceof lt)&&st&&typeof st=="number"){st*=Math.PI/180,ce.rotationDirection===0&&(st=-st),b===v.ADVANCED&&(st=-st);var Tc=Math.cos(st),hu=Math.sin(st);Js=new lt(Tc,hu,-hu,Tc,0,0)}else st&&st instanceof lt&&(Js=st);b!==v.ADVANCED||Js||(Js=Kr),(Et=ce.charSpace||Ka)!==void 0&&(Er+=M(O(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Os=ce.horizontalScale)!==void 0&&(Er+=M(100*Os)+` Tz
`),ce.lang;var Dn=-1,u0=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,fu=hr.internal.getCurrentPageInfo().pageContext;switch(u0){case 0:case!1:case"fill":Dn=0;break;case 1:case!0:case"stroke":Dn=1;break;case 2:case"fillThenStroke":Dn=2;break;case 3:case"invisible":Dn=3;break;case 4:case"fillAndAddForClipping":Dn=4;break;case 5:case"strokeAndAddPathForClipping":Dn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dn=6;break;case 7:case"addToPathForClipping":Dn=7}var cf=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;Dn!==-1?Er+=Dn+` Tr
`:cf!==-1&&(Er+=`0 Tr
`),Dn!==-1&&(fu.usedRenderingMode=Dn),gt=ce.align||"left";var yi,Lc=Ve*si,df=hr.internal.pageSize.getWidth(),uf=$t[Nt];Et=ce.charSpace||Ka,Ct=ce.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Lo=[],Ul=function(xs){return hr.getStringUnitWidth(xs,{font:uf,charSpace:Et,fontSize:Ve,doKerning:!1})*Ve/Sa};if(Object.prototype.toString.call(w)==="[object Array]"){var On;qe=lu(w),gt!=="left"&&(yi=qe.map(Ul));var jn,Mo=0;if(gt==="right"){D-=yi[0],w=[],Ur=qe.length;for(var Ja=0;Ja<Ur;Ja++)Ja===0?(jn=Nn(D),On=Ds(se)):(jn=O(Mo-yi[Ja]),On=-Lc),w.push([qe[Ja],jn,On]),Mo=yi[Ja]}else if(gt==="center"){D-=yi[0]/2,w=[],Ur=qe.length;for(var Xa=0;Xa<Ur;Xa++)Xa===0?(jn=Nn(D),On=Ds(se)):(jn=O((Mo-yi[Xa])/2),On=-Lc),w.push([qe[Xa],jn,On]),Mo=yi[Xa]}else if(gt==="left"){w=[],Ur=qe.length;for(var Mc=0;Mc<Ur;Mc++)w.push(qe[Mc])}else if(gt==="justify"&&uf.encoding==="Identity-H"){w=[],Ur=qe.length,Ct=Ct!==0?Ct:df;for(var Qa=0,sr=0;sr<Ur;sr++)if(On=sr===0?Ds(se):-Lc,jn=sr===0?Nn(D):Qa,sr<Ur-1){var mu=O((Ct-yi[sr])/(qe[sr].split(" ").length-1)),Sn=qe[sr].split(" ");w.push([Sn[0]+" ",jn,On]),Qa=0;for(var vi=1;vi<Sn.length;vi++){var Ic=(Ul(Sn[vi-1]+" "+Sn[vi])-Ul(Sn[vi]))*Sa+mu;vi==Sn.length-1?w.push([Sn[vi],Ic,0]):w.push([Sn[vi]+" ",Ic,0]),Qa-=Ic}}else w.push([qe[sr],jn,On]);w.push(["",Qa,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Ur=qe.length,Ct=Ct!==0?Ct:df,sr=0;sr<Ur;sr++)On=sr===0?Ds(se):-Lc,jn=sr===0?Nn(D):0,sr<Ur-1?Lo.push(M(O((Ct-yi[sr])/(qe[sr].split(" ").length-1)))):Lo.push(0),w.push([qe[sr],jn,On])}}var hf=typeof ce.R2L=="boolean"?ce.R2L:dt;hf===!0&&(w=cu(w,function(xs,ys,rr){return[xs.split("").reverse().join(""),ys,rr]})),Pe={text:w,x:D,y:se,options:ce,mutex:{pdfEscape:br,activeFontKey:Nt,fonts:$t,activeFontSize:Ve}},Vt.publish("postProcessText",Pe),w=Pe.text,Vi=Pe.mutex.isHex||!1;var pu=$t[Nt].encoding;pu!=="WinAnsiEncoding"&&pu!=="StandardEncoding"||(w=cu(w,function(xs,ys,rr){return[lf(xs),ys,rr]})),qe=lu(w),w=[];for(var zl,$l,Io,Vl=0,Rc=1,ql=Array.isArray(qe[0])?Rc:Vl,Ro="",gu=function(xs,ys,rr){var wr="";return rr instanceof lt?(rr=typeof ce.angle=="number"?Ks(rr,new lt(1,0,0,1,xs,ys)):Ks(new lt(1,0,0,1,xs,ys),rr),b===v.ADVANCED&&(rr=Ks(new lt(1,0,0,-1,0,0),rr)),wr=rr.join(" ")+` Tm
`):wr=M(xs)+" "+M(ys)+` Td
`,wr},bi=0;bi<qe.length;bi++){switch(Ro="",ql){case Rc:Io=(Vi?"<":"(")+qe[bi][0]+(Vi?">":")"),zl=parseFloat(qe[bi][1]),$l=parseFloat(qe[bi][2]);break;case Vl:Io=(Vi?"<":"(")+qe[bi]+(Vi?">":")"),zl=Nn(D),$l=Ds(se)}Lo!==void 0&&Lo[bi]!==void 0&&(Ro=Lo[bi]+` Tw
`),bi===0?w.push(Ro+gu(zl,$l,Js)+Io):ql===Vl?w.push(Ro+Io):ql===Rc&&w.push(Ro+gu(zl,$l,Js)+Io)}w=ql===Vl?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var wi=`BT
/`;return wi+=Nt+" "+Ve+` Tf
`,wi+=M(Ve*si)+` TL
`,wi+=$i+`
`,wi+=Er,wi+=w,te(wi+="ET"),m[Nt]=!0,hr};var Ys=p.__private__.clip=p.clip=function(w){return te(w==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ys("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var qt=p.__private__.isValidStyle=function(w){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(w){return qt(w)&&(d=w),this};var In=p.__private__.getStyle=p.getStyle=function(w){var D=d;switch(w){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=w}return D},Wa=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(w){return Or("f",w),this},p.fillEvenOdd=function(w){return Or("f*",w),this},p.fillStroke=function(w){return Or("B",w),this},p.fillStrokeEvenOdd=function(w){return Or("B*",w),this};var Or=function(w,D){ls(D)==="object"?Rn(D,w):te(w)},Rs=function(w){w===null||b===v.ADVANCED&&w===void 0||(w=In(w),te(w))};function wn(w,D,se,ce,ve){var Pe=new yd(D||this.boundingBox,se||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);Pe.stream=this.stream;var qe=w+"$$"+this.cloneIndex+++"$$";return Xt(qe,Pe),Pe}var Rn=function(w,D){var se=Qn[w.key],ce=It[se];if(ce instanceof tc)te("q"),te(ma(D)),ce.gState&&p.setGState(ce.gState),te(w.matrix.toString()+" cm"),te("/"+se+" sh"),te("Q");else if(ce instanceof yd){var ve=new lt(1,0,0,-1,0,ti());w.matrix&&(ve=ve.multiply(w.matrix||Kr),se=wn.call(ce,w.key,w.boundingBox,w.xStep,w.yStep,ve).id),te("q"),te("/Pattern cs"),te("/"+se+" scn"),ce.gState&&p.setGState(ce.gState),te(D),te("Q")}},ma=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ot=p.moveTo=function(w,D){return te(M(O(w))+" "+M(Y(D))+" m"),this},Ar=p.lineTo=function(w,D){return te(M(O(w))+" "+M(Y(D))+" l"),this},Fr=p.curveTo=function(w,D,se,ce,ve,Pe){return te([M(O(w)),M(Y(D)),M(O(se)),M(Y(ce)),M(O(ve)),M(Y(Pe)),"c"].join(" ")),this};p.__private__.line=p.line=function(w,D,se,ce,ve){if(isNaN(w)||isNaN(D)||isNaN(se)||isNaN(ce)||!qt(ve))throw new Error("Invalid arguments passed to jsPDF.line");return b===v.COMPAT?this.lines([[se-w,ce-D]],w,D,[1,1],ve||"S"):this.lines([[se-w,ce-D]],w,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(w,D,se,ce,ve,Pe){var qe,st,gt,Et,Ct,Gt,Os,Js,hr,en,Er,Vi;if(typeof w=="number"&&(Vi=se,se=D,D=w,w=Vi),ce=ce||[1,1],Pe=Pe||!1,isNaN(D)||isNaN(se)||!Array.isArray(w)||!Array.isArray(ce)||!qt(ve)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ot(D,se),qe=ce[0],st=ce[1],Et=w.length,en=D,Er=se,gt=0;gt<Et;gt++)(Ct=w[gt]).length===2?(en=Ct[0]*qe+en,Er=Ct[1]*st+Er,Ar(en,Er)):(Gt=Ct[0]*qe+en,Os=Ct[1]*st+Er,Js=Ct[2]*qe+en,hr=Ct[3]*st+Er,en=Ct[4]*qe+en,Er=Ct[5]*st+Er,Fr(Gt,Os,Js,hr,en,Er));return Pe&&Wa(),Rs(ve),this},p.path=function(w){for(var D=0;D<w.length;D++){var se=w[D],ce=se.c;switch(se.op){case"m":Ot(ce[0],ce[1]);break;case"l":Ar(ce[0],ce[1]);break;case"c":Fr.apply(this,ce);break;case"h":Wa()}}return this},p.__private__.rect=p.rect=function(w,D,se,ce,ve){if(isNaN(w)||isNaN(D)||isNaN(se)||isNaN(ce)||!qt(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return b===v.COMPAT&&(ce=-ce),te([M(O(w)),M(Y(D)),M(O(se)),M(O(ce)),"re"].join(" ")),Rs(ve),this},p.__private__.triangle=p.triangle=function(w,D,se,ce,ve,Pe,qe){if(isNaN(w)||isNaN(D)||isNaN(se)||isNaN(ce)||isNaN(ve)||isNaN(Pe)||!qt(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-w,ce-D],[ve-se,Pe-ce],[w-ve,D-Pe]],w,D,[1,1],qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(w,D,se,ce,ve,Pe,qe){if(isNaN(w)||isNaN(D)||isNaN(se)||isNaN(ce)||isNaN(ve)||isNaN(Pe)||!qt(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*se),Pe=Math.min(Pe,.5*ce),this.lines([[se-2*ve,0],[ve*st,0,ve,Pe-Pe*st,ve,Pe],[0,ce-2*Pe],[0,Pe*st,-ve*st,Pe,-ve,Pe],[2*ve-se,0],[-ve*st,0,-ve,-Pe*st,-ve,-Pe],[0,2*Pe-ce],[0,-Pe*st,ve*st,-Pe,ve,-Pe]],w+ve,D,[1,1],qe,!0),this},p.__private__.ellipse=p.ellipse=function(w,D,se,ce,ve){if(isNaN(w)||isNaN(D)||isNaN(se)||isNaN(ce)||!qt(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*se,qe=4/3*(Math.SQRT2-1)*ce;return Ot(w+se,D),Fr(w+se,D-qe,w+Pe,D-ce,w,D-ce),Fr(w-Pe,D-ce,w-se,D-qe,w-se,D),Fr(w-se,D+qe,w-Pe,D+ce,w,D+ce),Fr(w+Pe,D+ce,w+se,D+qe,w+se,D),Rs(ve),this},p.__private__.circle=p.circle=function(w,D,se,ce){if(isNaN(w)||isNaN(D)||isNaN(se)||!qt(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,D,se,se,ce)},p.setFont=function(w,D,se){return se&&(D=_(D,se)),Nt=ne(w,D,{disableWarning:!1}),this};var pa=p.__private__.getFont=p.getFont=function(){return $t[ne.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var w,D,se={};for(w in ns)if(ns.hasOwnProperty(w))for(D in se[w]=[],ns[w])ns[w].hasOwnProperty(D)&&se[w].push(D);return se},p.addFont=function(w,D,se,ce,ve){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(se=_(se,ce)),ve=ve||"Identity-H",Ui.call(this,w,D,se,ve)};var ks,zi=e.lineWidth||.200025,xi=p.__private__.getLineWidth=p.getLineWidth=function(){return zi},ga=p.__private__.setLineWidth=p.setLineWidth=function(w){return zi=w,te(M(O(w))+" w"),this};p.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(w,D){if(w=w||[],D=D||0,isNaN(D)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(se){return M(O(se))}).join(" "),D=M(O(D)),te("["+w+"] "+D+" d"),this};var xa=p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*ks};p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*ks};var Ga=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ks=w),this},ya=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ks};Ga(e.lineHeight);var Nn=p.__private__.getHorizontalCoordinate=function(w){return O(w)},Ds=p.__private__.getVerticalCoordinate=function(w){return b===v.ADVANCED?w:xt[H].mediaBox.topRightY-xt[H].mediaBox.bottomLeftY-O(w)},va=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(w){return M(Nn(w))},Zr=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(w){return M(Ds(w))},Br=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return yn(Br)},p.__private__.setStrokeColor=p.setDrawColor=function(w,D,se,ce){return Br=vn({ch1:w,ch2:D,ch3:se,ch4:ce,pdfColorType:"draw",precision:2}),te(Br),this};var ei=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return yn(ei)},p.__private__.setFillColor=p.setFillColor=function(w,D,se,ce){return ei=vn({ch1:w,ch2:D,ch3:se,ch4:ce,pdfColorType:"fill",precision:2}),te(ei),this};var $i=e.textColor||"0 g",ba=p.__private__.getTextColor=p.getTextColor=function(){return yn($i)};p.__private__.setTextColor=p.setTextColor=function(w,D,se,ce){return $i=vn({ch1:w,ch2:D,ch3:se,ch4:ce,pdfColorType:"text",precision:3}),this};var Ka=e.charSpace,kc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ka||0)};p.__private__.setCharSpace=p.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ka=w,this};var Eo=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(w){var D=p.CapJoinStyles[w];if(D===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Eo=D,te(D+" J"),this};var Po=0;p.__private__.setLineJoin=p.setLineJoin=function(w){var D=p.CapJoinStyles[w];if(D===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Po=D,te(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(M(O(w))+" M"),this},p.GState=vp,p.setGState=function(w){(w=typeof w=="string"?ts[ds[w]]:_c(null,w)).equals(Jt)||(te("/"+w.id+" gs"),Jt=w)};var _c=function(w,D){if(!w||!ds[w]){var se=!1;for(var ce in ts)if(ts.hasOwnProperty(ce)&&ts[ce].equals(D)){se=!0;break}if(se)D=ts[ce];else{var ve="GS"+(Object.keys(ts).length+1).toString(10);ts[ve]=D,D.id=ve}return w&&(ds[w]=D.id),Vt.publish("addGState",D),D}};p.addGState=function(w,D){return _c(w,D),this},p.saveGraphicsState=function(){return te("q"),hs.push({key:Nt,size:Ve,color:$i}),this},p.restoreGraphicsState=function(){te("Q");var w=hs.pop();return Nt=w.key,Ve=w.size,$i=w.color,Jt=null,this},p.setCurrentTransformationMatrix=function(w){return te(w.toString()+" cm"),this},p.comment=function(w){return te("#"+w),this};var Ya=function(w,D){var se=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Pe){isNaN(Pe)||(se=parseFloat(Pe))}});var ce=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Pe){ve=Pe.toString()}}),this},Ce=function(w,D,se,ce){Ya.call(this,w,D),this.type="rect";var ve=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(qe){isNaN(qe)||(ve=parseFloat(qe))}});var Pe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(qe){isNaN(qe)||(Pe=parseFloat(qe))}}),this},Ue=function(){this.page=Qt,this.currentPage=H,this.pages=Le.slice(0),this.pagesContext=xt.slice(0),this.x=Is,this.y=Dt,this.matrix=vr,this.width=Na(H),this.height=ti(H),this.outputDestination=Be,this.id="",this.objectNumber=-1};Ue.prototype.restore=function(){Qt=this.page,H=this.currentPage,xt=this.pagesContext,Le=this.pages,Is=this.x,Dt=this.y,vr=this.matrix,Bl(H,this.width),ja(H,this.height),Be=this.outputDestination};var kt=function(w,D,se,ce,ve){pn.push(new Ue),Qt=H=0,Le=[],Is=w,Dt=D,vr=ve,fa([se,ce])},wa=function(w){if(Cr[w])pn.pop().restore();else{var D=new Ue,se="Xo"+(Object.keys(Lt).length+1).toString(10);D.id=se,Cr[w]=se,Lt[se]=D,Vt.publish("addFormObject",D),pn.pop().restore()}};for(var To in p.beginFormObject=function(w,D,se,ce,ve){return kt(w,D,se,ce,ve),this},p.endFormObject=function(w){return wa(w),this},p.doFormObject=function(w,D){var se=Lt[Cr[w]];return te("q"),te(D.toString()+" cm"),te("/"+se.id+" Do"),te("Q"),this},p.getFormObject=function(w){var D=Lt[Cr[w]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(w,D){return w=w||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Zl(nt(Xe()),w),typeof Zl.unload=="function"&&jt.setTimeout&&setTimeout(Zl.unload,911),this):new Promise(function(se,ce){try{var ve=Zl(nt(Xe()),w);typeof Zl.unload=="function"&&jt.setTimeout&&setTimeout(Zl.unload,911),se(ve)}catch(Pe){ce(Pe.message)}})},bt.API)bt.API.hasOwnProperty(To)&&(To==="events"&&bt.API.events.length?function(w,D){var se,ce,ve;for(ve=D.length-1;ve!==-1;ve--)se=D[ve][0],ce=D[ve][1],w.subscribe.apply(w,[se].concat(typeof ce=="function"?[ce]:ce))}(Vt,bt.API.events):p[To]=bt.API[To]);var Na=p.getPageWidth=function(w){return(xt[w=w||H].mediaBox.topRightX-xt[w].mediaBox.bottomLeftX)/Ze},Bl=p.setPageWidth=function(w,D){xt[w].mediaBox.topRightX=D*Ze+xt[w].mediaBox.bottomLeftX},ti=p.getPageHeight=function(w){return(xt[w=w||H].mediaBox.topRightY-xt[w].mediaBox.bottomLeftY)/Ze},ja=p.setPageHeight=function(w,D){xt[w].mediaBox.topRightY=D*Ze+xt[w].mediaBox.bottomLeftY};return p.internal={pdfEscape:br,getStyle:In,getFont:pa,getFontSize:Je,getCharSpace:kc,getTextColor:ba,getLineHeight:xa,getLineHeightFactor:ya,getLineWidth:xi,write:Ke,getHorizontalCoordinate:Nn,getVerticalCoordinate:Ds,getCoordinateString:va,getVerticalCoordinateString:Zr,collections:{},newObject:Ps,newAdditionalObject:gn,newObjectDeferred:gs,newObjectDeferredBegin:ur,getFilters:bn,putStream:Yr,events:Vt,scaleFactor:Ze,pageSize:{getWidth:function(){return Na(H)},setWidth:function(w){Bl(H,w)},getHeight:function(){return ti(H)},setHeight:function(w){ja(H,w)}},encryptionOptions:u,encryption:vt,getEncryptor:Wt,output:at,getNumberOfPages:F,pages:Le,out:te,f2:K,f3:I,getPageInfo:is,getPageInfoByObjId:mt,getCurrentPageInfo:Qr,getPDFVersion:j,Point:Ya,Rectangle:Ce,Matrix:lt,hasHotfix:Rt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Na(H)},set:function(w){Bl(H,w)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ti(H)},set:function(w){ja(H,w)},enumerable:!0,configurable:!0}),Fl.call(p,Oe),Nt="F1",T(i,s),Vt.publish("initialized"),p}Xc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Xc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xc.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},Xc.prototype.processOwnerPassword=function(e,t){return Fy(Oy(t).substr(0,5),e)},Xc.prototype.encryptor=function(e,t){var s=Oy(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Fy(s,n)}},vp.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||ls(e)!==ls(this))return!1;var n=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&n--;return n===0},bt.API={events:[]},bt.version="3.0.1";var Zs=bt.API,H1=1,Sc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(e){return e.toFixed(2)},Ko=function(e){return e.toFixed(5)};Zs.__acroform__={};var Xn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},G5=function(e){return e*H1},Ca=function(e){var t=new Z6,s=ct.internal.getHeight(e)||0,n=ct.internal.getWidth(e)||0;return t.BBox=[0,0,Number(At(n)),Number(At(s))],t},DO=Zs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},OO=Zs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},FO=Zs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},or=Zs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return FO(e,t-1)},lr=Zs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DO(e,t-1)},cr=Zs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return OO(e,t-1)},BO=Zs.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=s(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=s(i+o)||0,c.upperRight_Y=n(a)||0,[Number(At(c.lowerLeft_X)),Number(At(c.lowerLeft_Y)),Number(At(c.upperRight_X)),Number(At(c.upperRight_Y))]},UO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,n=By(e,s),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+At(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ca(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},By=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=s,o=ct.internal.getHeight(e)||0;o=o<0?-o:o;var l=ct.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(I,O,W){if(I+1<i.length){var Y=O+" "+i[I+1][0];return nm(Y,e,W).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,u,f=nm("3",e,a).height,m=e.multiline?o-a:(o-f)/2,p=m+=2,x=0,j=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+nm(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var k=!1;if(i[b].length!==1&&N!==i[b].length-1){if((f+2)*(v+2)+2>o)continue e;y+=i[b][N],k=!0,j=b,b--}else{y=(y+=i[b][N]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(b),_=c(C,y,a),M=b>=i.length-1;if(_&&!M){y+=" ",N=0;continue}if(_||M){if(M)j=C;else if(e.multiline&&(f+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(v+2)+2>o)continue e;j=C}}for(var L="",$=x;$<=j;$++){var K=i[$];if(e.multiline){if($===j){L+=K[N]+" ",N=(N+1)%K.length;continue}if($===x){L+=K[K.length-1]+" ";continue}}L+=K[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,u=nm(L,e,a).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=At(d)+" "+At(p)+` Td
`,t+="("+Sc(L)+`) Tj
`,t+=-At(d)+` 0 Td
`,p=-(a+2),u=0,x=k?j:j+1,v++,y=""}break}return n.text=t,n.fontSize=a,n},nm=function(e,t,s){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:i}},zO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$O=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===s.type&&n.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},VO=function(e,t){for(var s in e)if(e.hasOwnProperty(s)){var n=s,i=e[s];t.internal.newObjectDeferredBegin(i.objId,!0),ls(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},qO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(la.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(zO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ek,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&$O(a,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=BO(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ct.createDefaultAppearanceStream(l),ls(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=UO(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var x=p[o];typeof x=="function"&&(x=x.call(i,l)),f+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(i,l)),f+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&VO(i.internal.acroformPlugin.xForms,i)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},Q6=Zs.__acroform__.arrayToPdfArray=function(e,t,s){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),ls(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&s&&(n=s.internal.getEncryptor(t)),i+="("+Sc(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Og=function(e,t,s){var n=function(i){return i};return t!==void 0&&s&&(n=s.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Sc(n(e))+")"},Pa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pa.prototype.toString=function(){return this.objId+" 0 R"},Pa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Pa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var n=t[s],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Q6(i,this.objId,this.scope)}):i instanceof Pa?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var Z6=function(){Pa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};Xn(Z6,Pa);var ek=function(){Pa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(n){return n};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Sc(s(e))+")"}},set:function(s){e=s}})};Xn(ek,Pa);var la=function e(){Pa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!or(t,3)},set:function(y){y?this.F=lr(t,3):this.F=cr(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');s=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof bp)return;a="FieldObject"+e.FieldNum++}var y=function(v){return v};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Sc(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/H1:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof bp||this instanceof hc))return Og(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ir?m:Og(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Ir?y:y.substr(0,1)==="("?Gc(y.substr(1,y.length-2)):Gc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?Gc(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Ir?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ir?p:Og(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ir?y:y.substr(0,1)==="("?Gc(y.substr(1,y.length-2)):Gc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir?Gc(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ir?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(y){y=!!y,j=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,1)},set:function(y){y?this.Ff=lr(this.Ff,1):this.Ff=cr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,2)},set:function(y){y?this.Ff=lr(this.Ff,2):this.Ff=cr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,3)},set:function(y){y?this.Ff=lr(this.Ff,3):this.Ff=cr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');N=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(N){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Xn(la,Pa);var Td=function(){la.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Q6(t,this.objId,this.scope)},set:function(s){var n,i;i=[],typeof(n=s)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,n){for(n=n||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,18)},set:function(s){s?this.Ff=lr(this.Ff,18):this.Ff=cr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=lr(this.Ff,19):this.Ff=cr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,20)},set:function(s){s?(this.Ff=lr(this.Ff,20),t.sort()):this.Ff=cr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,22)},set:function(s){s?this.Ff=lr(this.Ff,22):this.Ff=cr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,23)},set:function(s){s?this.Ff=lr(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,27)},set:function(s){s?this.Ff=lr(this.Ff,27):this.Ff=cr(this.Ff,27)}}),this.hasAppearanceStream=!1};Xn(Td,la);var Ld=function(){Td.call(this),this.fontName="helvetica",this.combo=!1};Xn(Ld,Td);var Md=function(){Ld.call(this),this.combo=!0};Xn(Md,Ld);var Cm=function(){Md.call(this),this.edit=!0};Xn(Cm,Md);var Ir=function(){la.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,15)},set:function(s){s?this.Ff=lr(this.Ff,15):this.Ff=cr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,16)},set:function(s){s?this.Ff=lr(this.Ff,16):this.Ff=cr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,17)},set:function(s){s?this.Ff=lr(this.Ff,17):this.Ff=cr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,26)},set:function(s){s?this.Ff=lr(this.Ff,26):this.Ff=cr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Sc(s(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(s){ls(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}})};Xn(Ir,la);var Am=function(){Ir.call(this),this.pushButton=!0};Xn(Am,Ir);var Id=function(){Ir.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Xn(Id,Ir);var bp=function(){var e,t;la.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var s,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Sc(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ls(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(i){s="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xn(bp,la),Id.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},Id.prototype.createOption=function(e){var t=new bp;return t.Parent=this,t.optionName=e,this.Kids.push(t),HO.call(this.scope,t),t};var Em=function(){Ir.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};Xn(Em,Ir);var hc=function(){la.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,13)},set:function(t){t?this.Ff=lr(this.Ff,13):this.Ff=cr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,21)},set:function(t){t?this.Ff=lr(this.Ff,21):this.Ff=cr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,23)},set:function(t){t?this.Ff=lr(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,24)},set:function(t){t?this.Ff=lr(this.Ff,24):this.Ff=cr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,25)},set:function(t){t?this.Ff=lr(this.Ff,25):this.Ff=cr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,26)},set:function(t){t?this.Ff=lr(this.Ff,26):this.Ff=cr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xn(hc,la);var Pm=function(){hc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,14)},set:function(e){e?this.Ff=lr(this.Ff,14):this.Ff=cr(this.Ff,14)}}),this.password=!0};Xn(Pm,hc);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ca(e);t.scope=e.scope;var s=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=By(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+At(ct.internal.getWidth(e))+" "+At(ct.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+n+" "+At(a.fontSize)+" Tf "+i),s.push("BT"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=Ca(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=ct.internal.getHeight(e),o=ct.internal.getWidth(e),l=By(e,e.caption);return i.push("1 g"),i.push("0 0 "+At(o)+" "+At(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+At(o-1)+" "+At(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+s+" "+At(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Ca(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+At(ct.internal.getWidth(e))+" "+At(ct.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ct.RadioButton.Circle.YesNormal,t.D[e]=ct.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ca(e);t.scope=e.scope;var s=[],n=ct.internal.getWidth(e)<=ct.internal.getHeight(e)?ct.internal.getWidth(e)/4:ct.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=ct.internal.Bezier_C,a=Number((n*i).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Ko(ct.internal.getWidth(e)/2)+" "+Ko(ct.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),s.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),s.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),s.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Ca(e);t.scope=e.scope;var s=[],n=ct.internal.getWidth(e)<=ct.internal.getHeight(e)?ct.internal.getWidth(e)/4:ct.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ct.internal.Bezier_C).toFixed(5)),o=Number((n*ct.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ko(ct.internal.getWidth(e)/2)+" "+Ko(ct.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Ko(ct.internal.getWidth(e)/2)+" "+Ko(ct.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),s.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),s.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),s.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ca(e);t.scope=e.scope;var s=[],n=ct.internal.getWidth(e)<=ct.internal.getHeight(e)?ct.internal.getWidth(e)/4:ct.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ct.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ko(ct.internal.getWidth(e)/2)+" "+Ko(ct.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ct.RadioButton.Cross.YesNormal,t.D[e]=ct.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ca(e);t.scope=e.scope;var s=[],n=ct.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+At(ct.internal.getWidth(e)-2)+" "+At(ct.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(At(n.x1.x)+" "+At(n.x1.y)+" m"),s.push(At(n.x2.x)+" "+At(n.x2.y)+" l"),s.push(At(n.x4.x)+" "+At(n.x4.y)+" m"),s.push(At(n.x3.x)+" "+At(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Ca(e);t.scope=e.scope;var s=ct.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+At(ct.internal.getWidth(e))+" "+At(ct.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+At(ct.internal.getWidth(e)-2)+" "+At(ct.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(At(s.x1.x)+" "+At(s.x1.y)+" m"),n.push(At(s.x2.x)+" "+At(s.x2.y)+" l"),n.push(At(s.x4.x)+" "+At(s.x4.y)+" m"),n.push(At(s.x3.x)+" "+At(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ca(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+At(ct.internal.getWidth(e))+" "+At(ct.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};ct.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ct.internal.getWidth(e),s=ct.internal.getHeight(e),n=Math.min(t,s);return{x1:{x:(t-n)/2,y:(s-n)/2+n},x2:{x:(t-n)/2+n,y:(s-n)/2},x3:{x:(t-n)/2,y:(s-n)/2},x4:{x:(t-n)/2+n,y:(s-n)/2+n}}}},ct.internal.getWidth=function(e){var t=0;return ls(e)==="object"&&(t=G5(e.Rect[2])),t},ct.internal.getHeight=function(e){var t=0;return ls(e)==="object"&&(t=G5(e.Rect[3])),t};var HO=Zs.addField=function(e){if(qO(this,e),!(e instanceof la))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Zs.AcroFormChoiceField=Td,Zs.AcroFormListBox=Ld,Zs.AcroFormComboBox=Md,Zs.AcroFormEditBox=Cm,Zs.AcroFormButton=Ir,Zs.AcroFormPushButton=Am,Zs.AcroFormRadioButton=Id,Zs.AcroFormCheckBox=Em,Zs.AcroFormTextField=hc,Zs.AcroFormPasswordField=Pm,Zs.AcroFormAppearance=ct,Zs.AcroForm={ChoiceField:Td,ListBox:Ld,ComboBox:Md,EditBox:Cm,Button:Ir,PushButton:Am,RadioButton:Id,CheckBox:Em,TextField:hc,PasswordField:Pm,Appearance:ct},bt.AcroForm={ChoiceField:Td,ListBox:Ld,ComboBox:Md,EditBox:Cm,Button:Ir,PushButton:Am,RadioButton:Id,CheckBox:Em,TextField:hc,PasswordField:Pm,Appearance:ct};bt.AcroForm;function tk(e){return e.reduce(function(t,s,n){return t[s]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(I,O){var W,Y,le,ie,oe,Z=t;if((O=O||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(_(I))for(oe in s)for(le=s[oe],W=0;W<le.length;W+=1){for(ie=!0,Y=0;Y<le[W].length;Y+=1)if(le[W][Y]!==void 0&&le[W][Y]!==I[Y]){ie=!1;break}if(ie===!0){Z=oe;break}}else for(oe in s)for(le=s[oe],W=0;W<le.length;W+=1){for(ie=!0,Y=0;Y<le[W].length;Y+=1)if(le[W][Y]!==void 0&&le[W][Y]!==I.charCodeAt(Y)){ie=!1;break}if(ie===!0){Z=oe;break}}return Z===t&&O!==t&&(Z=O),Z},i=function I(O){for(var W=this.internal.write,Y=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:O.width}),ie.push({key:"Height",value:O.height}),O.colorSpace===N.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===N.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var oe="",Z=0,B=O.transparency.length;Z<B;Z++)oe+=O.transparency[Z]+" "+O.transparency[Z]+" ";ie.push({key:"Mask",value:"["+oe+"]"})}O.sMask!==void 0&&ie.push({key:"SMask",value:O.objectId+1+" 0 R"});var X=O.filter!==void 0?["/"+O.filter]:void 0;if(Y({data:O.data,additionalKeyValues:ie,alreadyAppliedFilters:X,objectId:O.objectId}),W("endobj"),"sMask"in O&&O.sMask!==void 0){var J="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,P={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:J,data:O.sMask};"filter"in O&&(P.filter=O.filter),I.call(this,P)}if(O.colorSpace===N.INDEXED){var H=this.internal.newObject();Y({data:L(new Uint8Array(O.palette)),objectId:H}),W("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var O in I)i.call(this,I[O])},o=function(){var I,O=this.internal.collections.addImage_images,W=this.internal.write;for(var Y in O)W("/I"+(I=O[Y]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(I){return typeof e["process"+I.toUpperCase()]=="function"},f=function(I){return ls(I)==="object"&&I.nodeType===1},m=function(I,O){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var W=""+I.getAttribute("src");if(W.indexOf("data:image/")===0)return oh(unescape(W).split("base64,").pop());var Y=e.loadFile(W,!0);if(Y!==void 0)return Y}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var le;switch(O){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return oh(I.toDataURL(le,1).split("base64,").pop())}},p=function(I){var O=this.internal.collections.addImage_images;if(O){for(var W in O)if(I===O[W].alias)return O[W]}},x=function(I,O,W){return I||O||(I=-96,O=-96),I<0&&(I=-1*W.width*72/I/this.internal.scaleFactor),O<0&&(O=-1*W.height*72/O/this.internal.scaleFactor),I===0&&(I=O*W.width/W.height),O===0&&(O=I*W.height/W.width),[I,O]},j=function(I,O,W,Y,le,ie){var oe=x.call(this,W,Y,le),Z=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,X=c.call(this);if(W=oe[0],Y=oe[1],X[le.index]=le,ie){ie*=Math.PI/180;var J=Math.cos(ie),P=Math.sin(ie),H=function(G){return G.toFixed(4)},Q=[H(J),H(P),H(-1*P),H(J),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,Z(I),B(O+Y),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([Z(W),"0","0",Z(Y),"0","0","cm"].join(" "))):this.internal.write([Z(W),"0","0",Z(Y),Z(I),B(O+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(I){var O,W,Y=0;if(typeof I=="string")for(W=I.length,O=0;O<W;O++)Y=(Y<<5)-Y+I.charCodeAt(O),Y|=0;else if(_(I))for(W=I.byteLength/2,O=0;O<W;O++)Y=(Y<<5)-Y+I[O],Y|=0;return Y},b=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var O=!0;return I.length===0&&(O=!1),I.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(O=!1),O},k=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var O=I.indexOf(",");return O<0?null:I.substring(0,O).trim().endsWith("base64")?I.substring(O+1):null},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return C()&&I instanceof ArrayBuffer};var _=e.__addimage__.isArrayBufferView=function(I){return C()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},M=e.__addimage__.binaryStringToUint8Array=function(I){for(var O=I.length,W=new Uint8Array(O),Y=0;Y<O;Y++)W[Y]=I.charCodeAt(Y);return W},L=e.__addimage__.arrayBufferToBinaryString=function(I){for(var O="",W=_(I)?I:new Uint8Array(I),Y=0;Y<W.length;Y+=8192)O+=String.fromCharCode.apply(null,W.subarray(Y,Y+8192));return O};e.addImage=function(){var I,O,W,Y,le,ie,oe,Z,B;if(typeof arguments[1]=="number"?(O=t,W=arguments[1],Y=arguments[2],le=arguments[3],ie=arguments[4],oe=arguments[5],Z=arguments[6],B=arguments[7]):(O=arguments[1],W=arguments[2],Y=arguments[3],le=arguments[4],ie=arguments[5],oe=arguments[6],Z=arguments[7],B=arguments[8]),ls(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var X=I;I=X.imageData,O=X.format||O||t,W=X.x||W||0,Y=X.y||Y||0,le=X.w||X.width||le,ie=X.h||X.height||ie,oe=X.alias||oe,Z=X.compression||Z,B=X.rotation||X.angle||B}var J=this.internal.getFilters();if(Z===void 0&&J.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(W)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=$.call(this,I,O,oe,Z);return j.call(this,W,Y,le,ie,P,B),this};var $=function(I,O,W,Y){var le,ie,oe;if(typeof I=="string"&&n(I)===t){I=unescape(I);var Z=K(I,!1);(Z!==""||(Z=e.loadFile(I,!0))!==void 0)&&(I=Z)}if(f(I)&&(I=m(I,O)),O=n(I,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((oe=W)==null||oe.length===0)&&(W=function(B){return typeof B=="string"||_(B)?v(B):_(B.data)?v(B.data):null}(I)),(le=p.call(this,W))||(C()&&(I instanceof Uint8Array||O==="RGBA"||(ie=I,I=M(I))),le=this["process"+O.toUpperCase()](I,d.call(this),W,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in e.image_compression?B:y.NONE}(Y),ie)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},K=e.__addimage__.convertBase64ToBinaryString=function(I,O){O=typeof O!="boolean"||O;var W,Y="";if(typeof I=="string"){var le;W=(le=k(I))!==null&&le!==void 0?le:I;try{Y=oh(W)}catch(ie){if(O)throw b(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(I){var O,W,Y="";if(f(I)&&(I=m(I)),typeof I=="string"&&n(I)===t&&((Y=K(I,!1))===""&&(Y=e.loadFile(I)||""),I=Y),W=n(I),!u(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!C()||I instanceof Uint8Array||(I=M(I)),!(O=this["process"+W.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=W,O}})(bt.API),function(e){var t=function(s){if(s!==void 0&&s!="")return!0};bt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((n=d[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(s.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(j.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(y(v))+") >>",j.content=a;var b=j.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(j.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var _=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var n=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":n.pageContext.annotations.push(s)}},e.link=function(s,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(s),y:d(n),w:c(s+i),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(s,n,i,a){var o,l,c=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(s,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(s,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},e.getTextWidth=function(s){var n=this.internal.getFontSize();return this.getStringUnitWidth(s)*n/this.internal.scaleFactor}}(bt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},l=e.__arabicParser__.isArabicEndLetter=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(j){return o(j)&&i.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(j){var N=0,y=s,v="",b=0;for(N=0;N<j.length;N+=1)y[j.charCodeAt(N)]!==void 0?(b++,typeof(y=y[j.charCodeAt(N)])=="number"&&(v+=String.fromCharCode(y),y=s,b=0),N===j.length-1&&(y=s,v+=j.charAt(N-(b-1)),N-=b-1,b=0)):(y=s,v+=j.charAt(N-b),N-=b,b=0);return v};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(j,N,y){return o(j)?a(j)===!1?-1:!d(j)||!o(N)&&!o(y)||!o(y)&&l(N)||l(j)&&!o(N)||l(j)&&c(N)||l(j)&&l(N)?0:u(j)&&o(N)&&!l(N)&&o(y)&&d(y)?3:l(j)||!o(y)?1:2:-1},p=function(j){var N=0,y=0,v=0,b="",k="",C="",_=(j=j||"").split("\\s+"),M=[];for(N=0;N<_.length;N+=1){for(M.push(""),y=0;y<_[N].length;y+=1)b=_[N][y],k=_[N][y-1],C=_[N][y+1],o(b)?(v=m(b,k,C),M[N]+=v!==-1?String.fromCharCode(t[b.charCodeAt(0)][v]):b):M[N]+=b;M[N]=f(M[N])}return M.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var j,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(N)){var v=0;for(y=[],v=0;v<N.length;v+=1)Array.isArray(N[v])?y.push([p(N[v][0]),N[v][1],N[v][2]]):y.push([p(N[v])]);j=y}else j=p(N);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",x])}(bt.API),bt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(l){s=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,n){var i;if((s=s||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(bt.API),function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(j){c=j}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(j){x=j}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,x=0,j=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,k){return b.concat(N.splitTextToSize(k,y))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)p<(j=this.getStringUnitWidth(c[v],{font:f})*u)&&(p=j);return p!==0&&(x=c.length),{w:p/=m,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,s===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,x,j,N,y=[],v=[],b=[],k={},C={},_=[],M=[],L=(m=m||{}).autoSize||!1,$=m.printHeaders!==!1,K=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,I=m.margins||Object.assign({width:this.getPageWidth()},t),O=typeof m.padding=="number"?m.padding:3,W=m.headerBackgroundColor||"#c8c8c8",Y=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=Y,this.setFontSize(K),f==null)v=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(f)&&ls(f[0])==="object")for(y=f.map(function(X){return X.name}),v=f.map(function(X){return X.prompt||X.name||""}),b=f.map(function(X){return X.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(v=y=f,b=y.map(function(){return"left"}));if(L||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(k[N=y[p]]=u.map(function(X){return X[N]}),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=k[N],this.setFont(void 0,"normal"),j=0;j<x.length;j+=1)_.push(this.getTextDimensions(x[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[N]=Math.max.apply(null,_)+O+O,_=[]}if($){var le={};for(p=0;p<y.length;p+=1)le[y[p]]={},le[y[p]].text=v[p],le[y[p]].align=b[p];var ie=l.call(this,le,C);M=y.map(function(X){return new a(c,d,C[X],ie,le[X].text,void 0,le[X].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var oe=f.reduce(function(X,J){return X[J.name]=J.align,X},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var Z=l.call(this,u[p],C);for(j=0;j<y.length;j+=1){var B=u[p][y[j]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:j,data:B},this),o.call(this,new a(c,d,C[y[j]],Z,B,p+2,oe[y[j]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(p){var x=c[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+u+u},this).reduce(function(p,x){return Math.max(p,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),s=!1}}(bt.API);var sk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Uy=tk(rk),nk=[100,200,300,400,500,600,700,800,900],WO=tk(nk);function zy(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=function(a){return sk[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof Uy[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:s,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,s,n].join(" ")}}}function K5(e,t,s,n){var i;for(i=s;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=s;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var GO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KO(e,t,s){for(var n=(s=s||{}).defaultFontFamily||"times",i=Object.assign({},GO,s.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=zy(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+J5(a)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=Uy[c],f=u<=Uy.normal?-1:1,m=K5(d,rk,u,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(a.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=sk[c],f=0;f<u.length;++f)if(d[u[f]])return d[u[f]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=WO[c],f=K5(d,nk,u,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+J5(a)+"'.");return o}function X5(e){return e.trimLeft()}function YO(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function JO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var im,Q5,Z5,Fg=["times"];(function(e){var t,s,n,i,a,o,l,c,d,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(fe){Q=!!fe}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(fe){G=!!fe}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(fe){isNaN(fe)||(ae=fe)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(fe){isNaN(fe)||(xe=fe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(fe){var te;typeof fe=="number"?te=[fe,fe,fe,fe]:((te=new Array(4))[0]=fe[0],te[1]=fe.length>=2?fe[1]:te[0],te[2]=fe.length>=3?fe[2]:te[0],te[3]=fe.length>=4?fe[3]:te[1]),d.margin=te}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(fe){we=fe}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(fe){de=fe}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(fe){Ee=fe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(fe){fe instanceof u&&(d=fe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(fe){d.path=fe}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(fe){Le=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var te;te=m(fe),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var te=m(fe);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var $e=null;function Be(fe,te){if($e===null){var Ke=function(We){var Oe=[];return Object.keys(We).forEach(function(Ve){We[Ve].forEach(function(Ye){var Je=null;switch(Ye){case"bold":Je={family:Ve,weight:"bold"};break;case"italic":Je={family:Ve,style:"italic"};break;case"bolditalic":Je={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:Ve}}Je!==null&&(Je.ref={name:Ve,style:Ye},Oe.push(Je))})}),Oe}(fe.getFontList());$e=function(We){for(var Oe={},Ve=0;Ve<We.length;++Ve){var Ye=zy(We[Ve]),Je=Ye.family,dt=Ye.stretch,pt=Ye.style,ut=Ye.weight;Oe[Je]=Oe[Je]||{},Oe[Je][dt]=Oe[Je][dt]||{},Oe[Je][dt][pt]=Oe[Je][dt][pt]||{},Oe[Je][dt][pt][ut]=Ye}return Oe}(Ke.concat(te))}return $e}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(fe){$e=null,Re=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var te;if(this.ctx.font=fe,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var Ke=te[1];te[2];var We=te[3],Oe=te[4];te[5];var Ve=te[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(Ye==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Je=function(tt){var Nt,Ze,Is=[],Dt=tt.trim();if(Dt==="")return Fg;if(Dt in Y5)return[Y5[Dt]];for(;Dt!=="";){switch(Ze=null,Nt=(Dt=X5(Dt)).charAt(0)){case'"':case"'":Ze=YO(Dt.substring(1),Nt);break;default:Ze=JO(Dt)}if(Ze===null||(Is.push(Ze[0]),(Dt=X5(Ze[1]))!==""&&Dt.charAt(0)!==","))return Fg;Dt=Dt.replace(/^,/,"")}return Is}(Ve);if(this.fontFaces){var dt=KO(Be(this.pdf,this.fontFaces),Je.map(function(tt){return{family:tt,stretch:"normal",weight:We,style:Ke}}));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var pt="";(We==="bold"||parseInt(We,10)>=700||Ke==="bold")&&(pt="bold"),Ke==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var ut="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<Je.length;wt++){if(this.pdf.internal.getFont(Je[wt],pt,{noFallback:!0,disableWarning:!0})!==void 0){ut=Je[wt];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Je[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=Je[wt],pt="bold";else if(this.pdf.internal.getFont(Je[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=Je[wt],pt="normal";break}}if(ut===""){for(var _t=0;_t<Je.length;_t++)if(ft[Je[_t]]){ut=ft[Je[_t]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw ms.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(P,H)},f.prototype.closePath=function(){var P=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ls(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y)},f.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw ms.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,H,Q,G){if(isNaN(Q)||isNaN(G)||isNaN(P)||isNaN(H))throw ms.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,G)),xe=this.ctx.transform.applyToPoint(new o(P,H));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},f.prototype.bezierCurveTo=function(P,H,Q,G,ae,xe){if(isNaN(ae)||isNaN(xe)||isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G))throw ms.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ae,xe)),de=this.ctx.transform.applyToPoint(new o(P,H)),Ee=this.ctx.transform.applyToPoint(new o(Q,G));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Ee.x,y2:Ee.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},f.prototype.arc=function(P,H,Q,G,ae,xe){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G)||isNaN(ae))throw ms.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(P,H));P=we.x,H=we.y;var de=this.ctx.transform.applyToPoint(new o(0,Q)),Ee=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(de.x-Ee.x,2)+Math.pow(de.y-Ee.y,2))}Math.abs(ae-G)>=2*Math.PI&&(G=0,ae=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:Q,startAngle:G,endAngle:ae,counterclockwise:xe})},f.prototype.arcTo=function(P,H,Q,G,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,H,Q,G){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G))throw ms.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+Q,H),this.lineTo(P+Q,H+G),this.lineTo(P,H+G),this.lineTo(P,H),this.lineTo(P+Q,H),this.lineTo(P,H)},f.prototype.fillRect=function(P,H,Q,G){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G))throw ms.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,Q,G),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(P,H,Q,G){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G))throw ms.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(P,H,Q,G),this.stroke())},f.prototype.clearRect=function(P,H,Q,G){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G))throw ms.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,Q,G))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(P){var H,Q,G,ae;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,Q=0,G=0,ae=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(xe!==null)H=parseInt(xe[1]),Q=parseInt(xe[2]),G=parseInt(xe[3]),ae=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(xe[1]),Q=parseInt(xe[2]),G=parseInt(xe[3]),ae=parseFloat(xe[4]);else{if(ae=1,typeof P=="string"&&P.charAt(0)!=="#"){var we=new Y6(P);P=we.ok?we.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,Q=P.substring(2,3),Q+=Q,G=P.substring(3,4),G+=G):(H=P.substring(1,3),Q=P.substring(3,5),G=P.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),G=parseInt(G,16)}}return{r:H,g:Q,b:G,a:ae,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,H,Q,G){if(isNaN(H)||isNaN(Q)||typeof P!="string")throw ms.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!p.call(this)){var ae=Z(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;O.call(this,{text:P,x:H,y:Q,scale:xe,angle:ae,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(P,H,Q,G){if(isNaN(H)||isNaN(Q)||typeof P!="string")throw ms.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){G=isNaN(G)?void 0:G;var ae=Z(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;O.call(this,{text:P,x:H,y:Q,scale:xe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(P){if(typeof P!="string")throw ms.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,G=H.internal.getFontSize(),ae=H.getStringUnitWidth(P)*G/H.internal.scaleFactor,xe=function(we){var de=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new xe({width:ae*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw ms.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(P){if(isNaN(P))throw ms.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw ms.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(P,H,Q,G,ae,xe){if(isNaN(P)||isNaN(H)||isNaN(Q)||isNaN(G)||isNaN(ae)||isNaN(xe))throw ms.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(P,H,Q,G,ae,xe);this.ctx.transform=this.ctx.transform.multiply(we)},f.prototype.setTransform=function(P,H,Q,G,ae,xe){P=isNaN(P)?1:P,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,G=isNaN(G)?1:G,ae=isNaN(ae)?0:ae,xe=isNaN(xe)?0:xe,this.ctx.transform=new c(P,H,Q,G,ae,xe)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,H,Q,G,ae,xe,we,de,Ee){var Le=this.pdf.getImageProperties(P),$e=1,Be=1,Re=1,fe=1;G!==void 0&&de!==void 0&&(Re=de/G,fe=Ee/ae,$e=Le.width/G*de/G,Be=Le.height/ae*Ee/ae),xe===void 0&&(xe=H,we=Q,H=0,Q=0),G!==void 0&&de===void 0&&(de=G,Ee=ae),G===void 0&&de===void 0&&(de=Le.width,Ee=Le.height);for(var te,Ke=this.ctx.transform.decompose(),We=Z(Ke.rotate.shx),Oe=new c,Ve=(Oe=(Oe=(Oe=Oe.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new l(xe-H*Re,we-Q*fe,G*$e,ae*Be)),Ye=N.call(this,Ve),Je=[],dt=0;dt<Ye.length;dt+=1)Je.indexOf(Ye[dt])===-1&&Je.push(Ye[dt]);if(b(Je),this.autoPaging)for(var pt=Je[0],ut=Je[Je.length-1],ft=pt;ft<ut+1;ft++){this.pdf.setPage(ft);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=ft===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=ft===1?0:tt+(ft-2)*Nt;if(this.ctx.clip_path.length!==0){var Is=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(te,this.posX+this.margin[3],-Ze+_t+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Is}var Dt=JSON.parse(JSON.stringify(Ve));Dt=v([Dt],this.posX+this.margin[3],-Ze+_t+this.ctx.prevPageLastElemOffset)[0];var vr=(ft>pt||ft<ut)&&j.call(this);vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Nt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,We),vr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,We)};var N=function(P,H,Q){var G=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":G.push(Math.floor((P.y+ae)/Q)+1);break;case"arc":G.push(Math.floor((P.y+ae-P.radius)/Q)+1),G.push(Math.floor((P.y+ae+P.radius)/Q)+1);break;case"qct":var xe=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);G.push(Math.floor((xe.y+ae)/Q)+1),G.push(Math.floor((xe.y+xe.h+ae)/Q)+1);break;case"bct":var we=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);G.push(Math.floor((we.y+ae)/Q)+1),G.push(Math.floor((we.y+we.h+ae)/Q)+1);break;case"rect":G.push(Math.floor((P.y+ae)/Q)+1),G.push(Math.floor((P.y+P.h+ae)/Q)+1)}for(var de=0;de<G.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<G[de];)y.call(this);return G},y=function(){var P=this.fillStyle,H=this.strokeStyle,Q=this.font,G=this.lineCap,ae=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=Q,this.lineCap=G,this.lineWidth=ae,this.lineJoin=xe},v=function(P,H,Q){for(var G=0;G<P.length;G++)switch(P[G].type){case"bct":P[G].x2+=H,P[G].y2+=Q;case"qct":P[G].x1+=H,P[G].y1+=Q;case"mt":case"lt":case"arc":default:P[G].x+=H,P[G].y+=Q}return P},b=function(P){return P.sort(function(H,Q){return H-Q})},k=function(P,H){for(var Q,G,ae=this.fillStyle,xe=this.strokeStyle,we=this.lineCap,de=this.lineWidth,Ee=Math.abs(de*this.ctx.transform.scaleX),Le=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),Re=[],fe=0;fe<Be.length;fe++)if(Be[fe].x!==void 0)for(var te=N.call(this,Be[fe]),Ke=0;Ke<te.length;Ke+=1)Re.indexOf(te[Ke])===-1&&Re.push(te[Ke]);for(var We=0;We<Re.length;We++)for(;this.pdf.internal.getNumberOfPages()<Re[We];)y.call(this);if(b(Re),this.autoPaging)for(var Oe=Re[0],Ve=Re[Re.length-1],Ye=Oe;Ye<Ve+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ae,this.strokeStyle=xe,this.lineCap=we,this.lineWidth=Ee,this.lineJoin=Le;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Ye===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ye===1?0:pt+(Ye-2)*ut;if(this.ctx.clip_path.length!==0){var wt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Q,this.posX+this.margin[3],-ft+dt+this.ctx.prevPageLastElemOffset),C.call(this,P,!0),this.path=wt}if(G=JSON.parse(JSON.stringify($e)),this.path=v(G,this.posX+this.margin[3],-ft+dt+this.ctx.prevPageLastElemOffset),H===!1||Ye===0){var _t=(Ye>Oe||Ye<Ve)&&j.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,ut,null).clip().discardPath()),C.call(this,P,H),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Ee,C.call(this,P,H),this.lineWidth=de;this.path=$e},C=function(P,H){if((P!=="stroke"||H||!x.call(this))&&(P==="stroke"||H||!p.call(this))){for(var Q,G,ae=[],xe=this.path,we=0;we<xe.length;we++){var de=xe[we];switch(de.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:de,deltas:[],abs:[]});break;case"lt":var Ee=ae.length;if(xe[we-1]&&!isNaN(xe[we-1].x)&&(Q=[de.x-xe[we-1].x,de.y-xe[we-1].y],Ee>0)){for(;Ee>=0;Ee--)if(ae[Ee-1].close!==!0&&ae[Ee-1].begin!==!0){ae[Ee-1].deltas.push(Q),ae[Ee-1].abs.push(de);break}}break;case"bct":Q=[de.x1-xe[we-1].x,de.y1-xe[we-1].y,de.x2-xe[we-1].x,de.y2-xe[we-1].y,de.x-xe[we-1].x,de.y-xe[we-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var Le=xe[we-1].x+2/3*(de.x1-xe[we-1].x),$e=xe[we-1].y+2/3*(de.y1-xe[we-1].y),Be=de.x+2/3*(de.x1-de.x),Re=de.y+2/3*(de.y1-de.y),fe=de.x,te=de.y;Q=[Le-xe[we-1].x,$e-xe[we-1].y,Be-xe[we-1].x,Re-xe[we-1].y,fe-xe[we-1].x,te-xe[we-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(de)}}G=H?null:P==="stroke"?"stroke":"fill";for(var Ke=!1,We=0;We<ae.length;We++)if(ae[We].arc)for(var Oe=ae[We].abs,Ve=0;Ve<Oe.length;Ve++){var Ye=Oe[Ve];Ye.type==="arc"?L.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,H,!Ke):W.call(this,Ye.x,Ye.y),Ke=!0}else if(ae[We].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(ae[We].begin!==!0){var Je=ae[We].start.x,dt=ae[We].start.y;Y.call(this,ae[We].deltas,Je,dt),Ke=!0}G&&$.call(this,G),H&&K.call(this)}},_=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-Q;case"top":return P+H-Q;case"hanging":return P+H-2*Q;case"middle":return P+H/2-Q;case"ideographic":return P;case"alphabetic":default:return P}},M=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,Q){this.colorStops.push([H,Q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(P,H,Q,G,ae,xe,we,de,Ee){for(var Le=ie.call(this,Q,G,ae,xe),$e=0;$e<Le.length;$e++){var Be=Le[$e];$e===0&&(Ee?I.call(this,Be.x1+P,Be.y1+H):W.call(this,Be.x1+P,Be.y1+H)),le.call(this,P,H,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}de?K.call(this):$.call(this,we)},$=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,H){this.pdf.internal.out(s(P)+" "+n(H)+" m")},O=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var Q=this.pdf.getTextDimensions(P.text),G=_.call(this,P.y),ae=M.call(this,G)-Q.h,xe=this.ctx.transform.applyToPoint(new o(P.x,G)),we=this.ctx.transform.decompose(),de=new c;de=(de=(de=de.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Ee,Le,$e,Be=this.ctx.transform.applyToRectangle(new l(P.x,G,Q.w,Q.h)),Re=de.applyToRectangle(new l(P.x,ae,Q.w,Q.h)),fe=N.call(this,Re),te=[],Ke=0;Ke<fe.length;Ke+=1)te.indexOf(fe[Ke])===-1&&te.push(fe[Ke]);if(b(te),this.autoPaging)for(var We=te[0],Oe=te[te.length-1],Ve=We;Ve<Oe+1;Ve++){this.pdf.setPage(Ve);var Ye=Ve===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],pt=dt-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],ft=ut-this.margin[3],wt=Ve===1?0:Je+(Ve-2)*pt;if(this.ctx.clip_path.length!==0){var _t=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ee,this.posX+this.margin[3],-1*wt+Ye),C.call(this,"fill",!0),this.path=_t}var tt=v([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-wt+Ye+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*P.scale),$e=this.lineWidth,this.lineWidth=$e*P.scale);var Nt=this.autoPaging!=="text";if(Nt||tt.y+tt.h<=dt){if(Nt||tt.y>=Ye&&tt.x<=ut){var Ze=Nt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ut-tt.x)[0],Is=v([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-wt+Ye+this.ctx.prevPageLastElemOffset)[0],Dt=Nt&&(Ve>We||Ve<Oe)&&j.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,pt,null).clip().discardPath()),this.pdf.text(Ze,Is.x,Is.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else tt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-tt.y);P.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=$e)}else P.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*P.scale),$e=this.lineWidth,this.lineWidth=$e*P.scale),this.pdf.text(P.text,xe.x+this.posX,xe.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=$e)},W=function(P,H,Q,G){Q=Q||0,G=G||0,this.pdf.internal.out(s(P+Q)+" "+n(H+G)+" l")},Y=function(P,H,Q){return this.pdf.lines(P,H,Q,null,null)},le=function(P,H,Q,G,ae,xe,we,de){this.pdf.internal.out([t(i(Q+P)),t(a(G+H)),t(i(ae+P)),t(a(xe+H)),t(i(we+P)),t(a(de+H)),"c"].join(" "))},ie=function(P,H,Q,G){for(var ae=2*Math.PI,xe=Math.PI/2;H>Q;)H-=ae;var we=Math.abs(Q-H);we<ae&&G&&(we=ae-we);for(var de=[],Ee=G?-1:1,Le=H;we>1e-5;){var $e=Le+Ee*Math.min(we,xe);de.push(oe.call(this,P,Le,$e)),we-=Math.abs($e-Le),Le=$e}return de},oe=function(P,H,Q){var G=(Q-H)/2,ae=P*Math.cos(G),xe=P*Math.sin(G),we=ae,de=-xe,Ee=we*we+de*de,Le=Ee+we*ae+de*xe,$e=4/3*(Math.sqrt(2*Ee*Le)-Le)/(we*xe-de*ae),Be=we-$e*de,Re=de+$e*we,fe=Be,te=-Re,Ke=G+H,We=Math.cos(Ke),Oe=Math.sin(Ke);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:Be*We-Re*Oe,y2:Be*Oe+Re*We,x3:fe*We-te*Oe,y3:fe*Oe+te*We,x4:P*Math.cos(Q),y4:P*Math.sin(Q)}},Z=function(P){return 180*P/Math.PI},B=function(P,H,Q,G,ae,xe){var we=P+.5*(Q-P),de=H+.5*(G-H),Ee=ae+.5*(Q-ae),Le=xe+.5*(G-xe),$e=Math.min(P,ae,we,Ee),Be=Math.max(P,ae,we,Ee),Re=Math.min(H,xe,de,Le),fe=Math.max(H,xe,de,Le);return new l($e,Re,Be-$e,fe-Re)},X=function(P,H,Q,G,ae,xe,we,de){var Ee,Le,$e,Be,Re,fe,te,Ke,We,Oe,Ve,Ye,Je,dt,pt=Q-P,ut=G-H,ft=ae-Q,wt=xe-G,_t=we-ae,tt=de-xe;for(Le=0;Le<41;Le++)We=(te=($e=P+(Ee=Le/40)*pt)+Ee*((Re=Q+Ee*ft)-$e))+Ee*(Re+Ee*(ae+Ee*_t-Re)-te),Oe=(Ke=(Be=H+Ee*ut)+Ee*((fe=G+Ee*wt)-Be))+Ee*(fe+Ee*(xe+Ee*tt-fe)-Ke),Le==0?(Ve=We,Ye=Oe,Je=We,dt=Oe):(Ve=Math.min(Ve,We),Ye=Math.min(Ye,Oe),Je=Math.max(Je,We),dt=Math.max(dt,Oe));return new l(Math.round(Ve),Math.round(Ye),Math.round(Je-Ve),Math.round(dt-Ye))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,Q=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(bt.API),function(e){var t=function(a){var o,l,c,d,u,f,m,p,x,j;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(u=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(f=(u=((u=((u=((u=(u-(j=u%85))/85)-(x=u%85))/85)-(p=u%85))/85)-(m=u%85))/85)%85,l.push(f+33,m+33,p+33,x+33,j+33)):l.push(122);return function(N,y){for(var v=y;v>0;v--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},s=function(a){var o,l,c,d,u,f=String,m="length",p=255,x="charCodeAt",j="slice",N="replace";for(a[j](-2),a=a[j](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],d=0,u=(a+=o="uuuuu"[j](a[m]%5||5))[m];u>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,v){for(var b=v;b>0;b--)y.pop()}(c,o[m]),f.fromCharCode.apply(f,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=Ry(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=s(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(bt.API),function(e){e.loadFile=function(t,s,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var f=new XMLHttpRequest,m=0,p=function(x){var j=x.length,N=[],y=String.fromCharCode;for(m=0;m<j;m+=1)N.push(y(255&x.charCodeAt(m)));return N.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)}(i,a,o)}catch{}return l}(t,s,n)},e.loadImageFile=e.loadFile}(bt.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Nl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function s(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Nl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ls(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(s).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(c(m,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var p=d[m],x=p.src.find(function(j){return j.format==="truetype"});x&&c.addFont(x.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,d),f}).then(d,u).then(function(f){return c.updateProgress(1),f})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,bt.getPageSize=function(o,l,c){if(ls(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,x=0,j=0;if(m.hasOwnProperty(f))x=m[f][1]/u,j=m[f][0]/u;else try{x=c[1],j=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",j>x&&(p=j,j=x,x=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>j&&(p=j,j=x,x=p)}return{width:j,height:x,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(zy):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(bt.API),bt.API.addJS=function(e){return Z5=e,this.internal.events.subscribe("postPutResources",function(){im=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(im+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Q5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){im!==void 0&&Q5!==void 0&&this.internal.out("/Names <</JavaScript "+im+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var s=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=s.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];s.internal.newObjectDeferredBegin(c,!1)}s.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var f=s.internal.newObject();u.push(f);var m=s.internal.getPageInfo(a+1);s.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=s.internal.newObject();for(s.internal.write("<< /Names [ "),a=0;a<u.length;a++)s.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+p+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(n){n.id=s.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},s.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},s.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=s.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},s.outline.line=function(n){this.ctx.val+=n+`\r
`},s.outline.makeRef=function(n){return n.id+" 0 R"},s.outline.makeString=function(n){return"("+s.internal.pdfEscape(n)+")"},s.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(bt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=o||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,(c=function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,j={width:0,height:0,numcomponents:1},N=4;N<x;N+=2){if(N+=p,t.indexOf(f.charCodeAt(N+1))!==-1){m=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),j={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:m,numcomponents:f.charCodeAt(N+9)};break}p=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return j}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:s,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(bt.API);var Kc,am,eN,tN,sN,XO=function(){var e,t,s;function n(a){var o,l,c,d,u,f,m,p,x,j,N,y,v,b;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),x=(function(){var k,C;for(C=[],k=0;k<4;++k)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,f.delay=1e3*u/d,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((j=c-this.transparency.indexed.length)>0)for(v=0;0<=j?v<j:v>j;0<=j?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,N.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(f,m,p,x){var j,N,y,v,b,k,C,_,M,L,$,K,I,O,W,Y,le,ie,oe,Z,B,X=Math.ceil((d.width-f)/p),J=Math.ceil((d.height-m)/x),P=d.width==X&&d.height==J;for(O=o*X,K=P?l:new Uint8Array(O*J),k=a.length,I=0,N=0;I<J&&c<k;){switch(a[c++]){case 0:for(v=le=0;le<O;v=le+=1)K[N++]=a[c++];break;case 1:for(v=ie=0;ie<O;v=ie+=1)j=a[c++],b=v<o?0:K[N-o],K[N++]=(j+b)%256;break;case 2:for(v=oe=0;oe<O;v=oe+=1)j=a[c++],y=(v-v%o)/o,W=I&&K[(I-1)*O+y*o+v%o],K[N++]=(W+j)%256;break;case 3:for(v=Z=0;Z<O;v=Z+=1)j=a[c++],y=(v-v%o)/o,b=v<o?0:K[N-o],W=I&&K[(I-1)*O+y*o+v%o],K[N++]=(j+Math.floor((b+W)/2))%256;break;case 4:for(v=B=0;B<O;v=B+=1)j=a[c++],y=(v-v%o)/o,b=v<o?0:K[N-o],I===0?W=Y=0:(W=K[(I-1)*O+y*o+v%o],Y=y&&K[(I-1)*O+(y-1)*o+v%o]),C=b+W-Y,_=Math.abs(C-b),L=Math.abs(C-W),$=Math.abs(C-Y),M=_<=L&&_<=$?b:L<=$?W:Y,K[N++]=(j+M)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!P){var H=((m+I*x)*d.width+f)*o,Q=I*O;for(v=0;v<X;v+=1){for(var G=0;G<o;G+=1)l[H++]=K[Q++];H+=(p-1)*o}}I++}}return a=EO(a),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,c,d,u,f,m,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,a=0,o=f=0,m=l.length;f<m;o=f+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(p=u[a++])!=null?p:255;return d},n.prototype.copyToImageData=function(a,o){var l,c,d,u,f,m,p,x,j,N,y;if(c=this.colors,j=null,l=this.hasAlphaChannel,this.palette.length&&(j=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=a.data||a).length,f=j||o,u=m=0,c===1)for(;u<x;)p=j?4*o[u/4]:m,N=f[p++],d[u++]=N,d[u++]=N,d[u++]=N,d[u++]=l?f[p++]:255,m=p;else for(;u<x;)p=j?4*o[u/4]:m,d[u++]=f[p++],d[u++]=f[p++],d[u++]=f[p++],d[u++]=l?f[p++]:255,m=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{t=jt.document.createElement("canvas"),s=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return s.width=a.width,s.height=a.height,s.clearRect(0,0,a.width,a.height),s.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,c,d,u,f,m,p;if(this.animation){for(p=[],l=u=0,f=(m=this.animation.frames).length;u<f;l=++u)o=m[l],c=a.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(a,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,c,d,u,f,m=this;return l=0,f=this.animation,d=f.numFrames,c=f.frames,u=f.numPlays,(o=function(){var p,x;if(p=l++%d,x=c[p],m.renderFrame(a,p),d>1&&l/d<u)return m.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function QO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,u=[],f=0,m=null,p=0,x=null;for(this.width=s,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],!(1&j)&&(m=null),p=j>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,k=e[t++],C=k>>6&1,_=1<<(7&k)+1,M=l,L=c,$=!1;k>>7&&($=!0,M=t,L=_,t+=3*_);var K=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}u.push({x:N,y,width:v,height:b,has_local_palette:$,palette_offset:M,palette_size:L,data_offset:K,data_length:t-K,transparent_index:m,interlaced:!!C,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=u.length)throw new Error("Frame index out of range.");return u[O]},this.decodeAndBlitFrameBGRA=function(O,W){var Y=this.frameInfo(O),le=Y.width*Y.height,ie=new Uint8Array(le);rN(e,Y.data_offset,ie,le);var oe=Y.palette_offset,Z=Y.transparent_index;Z===null&&(Z=256);var B=Y.width,X=s-B,J=B,P=4*(Y.y*s+Y.x),H=4*((Y.y+Y.height)*s+Y.x),Q=P,G=4*X;Y.interlaced===!0&&(G+=4*s*7);for(var ae=8,xe=0,we=ie.length;xe<we;++xe){var de=ie[xe];if(J===0&&(J=B,(Q+=G)>=H&&(G=4*X+4*s*(ae-1),Q=P+(B+X)*(ae<<1),ae>>=1)),de===Z)Q+=4;else{var Ee=e[oe+3*de],Le=e[oe+3*de+1],$e=e[oe+3*de+2];W[Q++]=$e,W[Q++]=Le,W[Q++]=Ee,W[Q++]=255}--J}},this.decodeAndBlitFrameRGBA=function(O,W){var Y=this.frameInfo(O),le=Y.width*Y.height,ie=new Uint8Array(le);rN(e,Y.data_offset,ie,le);var oe=Y.palette_offset,Z=Y.transparent_index;Z===null&&(Z=256);var B=Y.width,X=s-B,J=B,P=4*(Y.y*s+Y.x),H=4*((Y.y+Y.height)*s+Y.x),Q=P,G=4*X;Y.interlaced===!0&&(G+=4*s*7);for(var ae=8,xe=0,we=ie.length;xe<we;++xe){var de=ie[xe];if(J===0&&(J=B,(Q+=G)>=H&&(G=4*X+4*s*(ae-1),Q=P+(B+X)*(ae<<1),ae>>=1)),de===Z)Q+=4;else{var Ee=e[oe+3*de],Le=e[oe+3*de+1],$e=e[oe+3*de+2];W[Q++]=Ee,W[Q++]=Le,W[Q++]=$e,W[Q++]=255}--J}}}function rN(e,t,s,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,f=0,m=0,p=e[t++],x=new Int32Array(4096),j=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<c)break;var N=f&d;if(f>>=c,u-=c,N!==a){if(N===o)break;for(var y=N<l?N:j,v=0,b=y;b>a;)b=x[b]>>8,++v;var k=b;if(m+v+(y!==N?1:0)>n)return void ms.log("Warning, gif stream longer than expected.");s[m++]=k;var C=m+=v;for(y!==N&&(s[m++]=k),b=y;v--;)b=x[b],s[--C]=255&b,b>>=8;j!==null&&l<4096&&(x[l++]=j<<8|k,l>=d+1&&c<12&&(++c,d=d<<1|1)),j=N}else l=o+1,d=(1<<(c=i+1))-1,j=null}return m!==n&&ms.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bg(e){var t,s,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),j=[],N=0,y=7,v=new Array(64),b=new Array(64),k=new Array(64),C=new Array(256),_=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(P,H){for(var Q=0,G=0,ae=new Array,xe=1;xe<=16;xe++){for(var we=1;we<=P[xe];we++)ae[H[G]]=[],ae[H[G]][0]=Q,ae[H[G]][1]=xe,G++,Q++;Q*=2}return ae}function oe(P){for(var H=P[0],Q=P[1]-1;Q>=0;)H&1<<Q&&(N|=1<<y),Q--,--y<0&&(N==255?(Z(255),Z(0)):Z(N),y=7,N=0)}function Z(P){j.push(P)}function B(P){Z(P>>8&255),Z(255&P)}function X(P,H,Q,G,ae){for(var xe,we=ae[0],de=ae[240],Ee=function(Oe,Ve){var Ye,Je,dt,pt,ut,ft,wt,_t,tt,Nt,Ze=0;for(tt=0;tt<8;++tt){Ye=Oe[Ze],Je=Oe[Ze+1],dt=Oe[Ze+2],pt=Oe[Ze+3],ut=Oe[Ze+4],ft=Oe[Ze+5],wt=Oe[Ze+6];var Is=Ye+(_t=Oe[Ze+7]),Dt=Ye-_t,vr=Je+wt,$t=Je-wt,ns=dt+ft,hs=dt-ft,It=pt+ut,Qn=pt-ut,ts=Is+It,ds=Is-It,Jt=vr+ns,Qt=vr-ns;Oe[Ze]=ts+Jt,Oe[Ze+4]=ts-Jt;var xt=.707106781*(Qt+ds);Oe[Ze+2]=ds+xt,Oe[Ze+6]=ds-xt;var Vt=.382683433*((ts=Qn+hs)-(Qt=$t+Dt)),mi=.5411961*ts+Vt,Lt=1.306562965*Qt+Vt,Cr=.707106781*(Jt=hs+$t),pn=Dt+Cr,lt=Dt-Cr;Oe[Ze+5]=lt+mi,Oe[Ze+3]=lt-mi,Oe[Ze+1]=pn+Lt,Oe[Ze+7]=pn-Lt,Ze+=8}for(Ze=0,tt=0;tt<8;++tt){Ye=Oe[Ze],Je=Oe[Ze+8],dt=Oe[Ze+16],pt=Oe[Ze+24],ut=Oe[Ze+32],ft=Oe[Ze+40],wt=Oe[Ze+48];var Ks=Ye+(_t=Oe[Ze+56]),Kr=Ye-_t,Xt=Je+wt,Ps=Je-wt,gs=dt+ft,ur=dt-ft,gn=pt+ut,ht=pt-ut,xn=Ks+gn,yn=Ks-gn,vn=Xt+gs,bn=Xt-gs;Oe[Ze]=xn+vn,Oe[Ze+32]=xn-vn;var Yr=.707106781*(bn+yn);Oe[Ze+16]=yn+Yr,Oe[Ze+48]=yn-Yr;var Ln=.382683433*((xn=ht+ur)-(bn=Ps+Kr)),Oi=.5411961*xn+Ln,Mn=1.306562965*bn+Ln,da=.707106781*(vn=ur+Ps),Fi=Kr+da,Bi=Kr-da;Oe[Ze+40]=Bi+Oi,Oe[Ze+24]=Bi-Oi,Oe[Ze+8]=Fi+Mn,Oe[Ze+56]=Fi-Mn,Ze++}for(tt=0;tt<64;++tt)Nt=Oe[tt]*Ve[tt],p[tt]=Nt>0?Nt+.5|0:Nt-.5|0;return p}(P,H),Le=0;Le<64;++Le)x[M[Le]]=Ee[Le];var $e=x[0]-Q;Q=x[0],$e==0?oe(G[0]):(oe(G[m[xe=32767+$e]]),oe(f[xe]));for(var Be=63;Be>0&&x[Be]==0;)Be--;if(Be==0)return oe(we),Q;for(var Re,fe=1;fe<=Be;){for(var te=fe;x[fe]==0&&fe<=Be;)++fe;var Ke=fe-te;if(Ke>=16){Re=Ke>>4;for(var We=1;We<=Re;++We)oe(de);Ke&=15}xe=32767+x[fe],oe(ae[(Ke<<4)+m[xe]]),oe(f[xe]),fe++}return Be!=63&&oe(we),Q}function J(P){P=Math.min(Math.max(P,1),100),a!=P&&(function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var ae=o((Q[G]*H+50)/100);ae=Math.min(Math.max(ae,1),255),l[M[G]]=ae}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var de=o((xe[we]*H+50)/100);de=Math.min(Math.max(de,1),255),c[M[we]]=de}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,$e=0;$e<8;$e++)for(var Be=0;Be<8;Be++)d[Le]=1/(l[M[Le]]*Ee[$e]*Ee[Be]*8),u[Le]=1/(c[M[Le]]*Ee[$e]*Ee[Be]*8),Le++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,H){H&&J(H),j=new Array,N=0,y=7,B(65496),B(65504),B(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),B(1),B(1),Z(0),Z(0),function(){B(65499),B(132),Z(0);for(var Je=0;Je<64;Je++)Z(l[Je]);Z(1);for(var dt=0;dt<64;dt++)Z(c[dt])}(),function(Je,dt){B(65472),B(17),Z(8),B(dt),B(Je),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(P.width,P.height),function(){B(65476),B(418),Z(0);for(var Je=0;Je<16;Je++)Z(L[Je+1]);for(var dt=0;dt<=11;dt++)Z($[dt]);Z(16);for(var pt=0;pt<16;pt++)Z(K[pt+1]);for(var ut=0;ut<=161;ut++)Z(I[ut]);Z(1);for(var ft=0;ft<16;ft++)Z(O[ft+1]);for(var wt=0;wt<=11;wt++)Z(W[wt]);Z(17);for(var _t=0;_t<16;_t++)Z(Y[_t+1]);for(var tt=0;tt<=161;tt++)Z(le[tt])}(),B(65498),B(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var Q=0,G=0,ae=0;N=0,y=7,this.encode.displayName="_encode_";for(var xe,we,de,Ee,Le,$e,Be,Re,fe,te=P.data,Ke=P.width,We=P.height,Oe=4*Ke,Ve=0;Ve<We;){for(xe=0;xe<Oe;){for(Le=Oe*Ve+xe,Be=-1,Re=0,fe=0;fe<64;fe++)$e=Le+(Re=fe>>3)*Oe+(Be=4*(7&fe)),Ve+Re>=We&&($e-=Oe*(Ve+1+Re-We)),xe+Be>=Oe&&($e-=xe+Be-Oe+4),we=te[$e++],de=te[$e++],Ee=te[$e++],v[fe]=(_[we]+_[de+256>>0]+_[Ee+512>>0]>>16)-128,b[fe]=(_[we+768>>0]+_[de+1024>>0]+_[Ee+1280>>0]>>16)-128,k[fe]=(_[we+1280>>0]+_[de+1536>>0]+_[Ee+1792>>0]>>16)-128;Q=X(v,d,Q,t,n),G=X(b,u,G,s,i),ae=X(k,u,ae,s,i),xe+=32}Ve+=8}if(y>=0){var Ye=[];Ye[1]=y+1,Ye[0]=(1<<y+1)-1,oe(Ye)}return B(65497),new Uint8Array(j)},e=e||50,function(){for(var P=String.fromCharCode,H=0;H<256;H++)C[H]=P(H)}(),t=ie(L,$),s=ie(O,W),n=ie(K,I),i=ie(Y,le),function(){for(var P=1,H=2,Q=1;Q<=15;Q++){for(var G=P;G<H;G++)m[32767+G]=Q,f[32767+G]=[],f[32767+G][1]=Q,f[32767+G][0]=G;for(var ae=-(H-1);ae<=-P;ae++)m[32767+ae]=Q,f[32767+ae]=[],f[32767+ae][1]=Q,f[32767+ae][0]=H-1+ae;P<<=1,H<<=1}}(),function(){for(var P=0;P<256;P++)_[P]=19595*P,_[P+256>>0]=38470*P,_[P+512>>0]=7471*P+32768,_[P+768>>0]=-11059*P,_[P+1024>>0]=-21709*P,_[P+1280>>0]=32768*P+8421375,_[P+1536>>0]=-27439*P,_[P+1792>>0]=-5329*P}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ki(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nN(e){function t(L){if(!L)throw Error("assert :P")}function s(L,$,K){for(var I=0;4>I;I++)if(L[$+I]!=K.charCodeAt(I))return!0;return!1}function n(L,$,K,I,O){for(var W=0;W<O;W++)L[$+W]=K[I+W]}function i(L,$,K,I){for(var O=0;O<I;O++)L[$+O]=K}function a(L){return new Int32Array(L)}function o(L,$){for(var K=[],I=0;I<L;I++)K.push(new $);return K}function l(L,$){var K=[];return function I(O,W,Y){for(var le=Y[W],ie=0;ie<le&&(O.push(Y.length>W+1?[]:new $),!(Y.length<W+1));ie++)I(O[ie],W+1,Y)}(K,0,L),K}var c=function(){var L=this;function $(h,g){for(var S=1<<g-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function K(h,g,S,A,R){t(!(A%S));do h[g+(A-=S)]=R;while(0<A)}function I(h,g,S,A,R){if(t(2328>=R),512>=R)var U=a(512);else if((U=a(R))==null)return 0;return function(z,V,q,ee,ue,Ne){var je,pe,De=V,Ae=1<<q,he=a(16),me=a(16);for(t(ue!=0),t(ee!=null),t(z!=null),t(0<q),pe=0;pe<ue;++pe){if(15<ee[pe])return 0;++he[ee[pe]]}if(he[0]==ue)return 0;for(me[1]=0,je=1;15>je;++je){if(he[je]>1<<je)return 0;me[je+1]=me[je]+he[je]}for(pe=0;pe<ue;++pe)je=ee[pe],0<ee[pe]&&(Ne[me[je]++]=pe);if(me[15]==1)return(ee=new O).g=0,ee.value=Ne[0],K(z,De,1,Ae,ee),Ae;var Te,ze=-1,Ie=Ae-1,rt=0,Qe=1,yt=1,et=1<<q;for(pe=0,je=1,ue=2;je<=q;++je,ue<<=1){if(Qe+=yt<<=1,0>(yt-=he[je]))return 0;for(;0<he[je];--he[je])(ee=new O).g=je,ee.value=Ne[pe++],K(z,De+rt,ue,et,ee),rt=$(rt,je)}for(je=q+1,ue=2;15>=je;++je,ue<<=1){if(Qe+=yt<<=1,0>(yt-=he[je]))return 0;for(;0<he[je];--he[je]){if(ee=new O,(rt&Ie)!=ze){for(De+=et,Te=1<<(ze=je)-q;15>ze&&!(0>=(Te-=he[ze]));)++ze,Te<<=1;Ae+=et=1<<(Te=ze-q),z[V+(ze=rt&Ie)].g=Te+q,z[V+ze].value=De-V-ze}ee.g=je-q,ee.value=Ne[pe++],K(z,De+(rt>>q),ue,et,ee),rt=$(rt,je)}}return Qe!=2*me[15]-1?0:Ae}(h,g,S,A,R,U)}function O(){this.value=this.g=0}function W(){this.value=this.g=0}function Y(){this.G=o(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ur,W)}function le(h,g,S,A){t(h!=null),t(g!=null),t(2147483648>A),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=S,h.Jd=g,h.Yc=S+A,h.Zc=4<=A?S+A-4+1:S,xe(h)}function ie(h,g){for(var S=0;0<g--;)S|=de(h,128)<<g;return S}function oe(h,g){var S=ie(h,g);return we(h)?-S:S}function Z(h,g,S,A){var R,U=0;for(t(h!=null),t(g!=null),t(4294967288>A),h.Sb=A,h.Ra=0,h.u=0,h.h=0,4<A&&(A=4),R=0;R<A;++R)U+=g[S+R]<<8*R;h.Ra=U,h.bb=A,h.oa=g,h.pa=S}function B(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Tc-8>>>0,++h.bb,h.u-=8;Q(h)&&(h.h=1,h.u=0)}function X(h,g){if(t(0<=g),!h.h&&g<=Pc){var S=H(h)&Ec[g];return h.u+=g,B(h),S}return h.h=1,h.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(h){return h.Ra>>>(h.u&Tc-1)>>>0}function Q(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Tc}function G(h,g){h.u=g,h.h=Q(h)}function ae(h){h.u>=hu&&(t(h.u>=hu),B(h))}function xe(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function we(h){return ie(h,1)}function de(h,g){var S=h.Ca;0>h.b&&xe(h);var A=h.b,R=S*g>>>8,U=(h.I>>>A>R)+0;for(U?(S-=R,h.I-=R+1<<A>>>0):S=R+1,A=S,R=0;256<=A;)R+=8,A>>=8;return A=7^R+Dn[A],h.b-=A,h.Ca=(S<<A)-1,U}function Ee(h,g,S){h[g+0]=S>>24&255,h[g+1]=S>>16&255,h[g+2]=S>>8&255,h[g+3]=S>>0&255}function Le(h,g){return h[g+0]<<0|h[g+1]<<8}function $e(h,g){return Le(h,g)|h[g+2]<<16}function Be(h,g){return Le(h,g)|Le(h,g+2)<<16}function Re(h,g){var S=1<<g;return t(h!=null),t(0<g),h.X=a(S),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function fe(h,g){t(h!=null),t(g!=null),t(h.Xa==g.Xa),n(g.X,0,h.X,0,1<<g.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Ke(h,g,S,A){t(S!=null),t(A!=null);var R=S[0],U=A[0];return R==0&&(R=(h*U+g/2)/g),U==0&&(U=(g*R+h/2)/h),0>=R||0>=U?0:(S[0]=R,A[0]=U,1)}function We(h,g){return h+(1<<g)-1>>>g}function Oe(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Ve(h,g){L[g]=function(S,A,R,U,z,V,q){var ee;for(ee=0;ee<z;++ee){var ue=L[h](V[q+ee-1],R,U+ee);V[q+ee]=Oe(S[A+ee],ue)}}}function Ye(){this.ud=this.hd=this.jd=0}function Je(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function dt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function pt(h,g){return dt(h+(h-g+.5>>1))}function ut(h,g,S){return Math.abs(g-S)-Math.abs(h-S)}function ft(h,g,S,A,R,U,z){for(A=U[z-1],S=0;S<R;++S)U[z+S]=A=Oe(h[g+S],A)}function wt(h,g,S,A,R){var U;for(U=0;U<S;++U){var z=h[g+U],V=z>>8&255,q=16711935&(q=(q=16711935&z)+((V<<16)+V));A[R+U]=(4278255360&z)+q>>>0}}function _t(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function tt(h,g,S,A,R,U){var z;for(z=0;z<A;++z){var V=g[S+z],q=V>>>8,ee=V,ue=255&(ue=(ue=V>>>16)+((h.jd<<24>>24)*(q<<24>>24)>>>5));ee=255&(ee=(ee=ee+((h.hd<<24>>24)*(q<<24>>24)>>>5))+((h.ud<<24>>24)*(ue<<24>>24)>>>5)),R[U+z]=(4278255360&V)+(ue<<16)+ee}}function Nt(h,g,S,A,R){L[g]=function(U,z,V,q,ee,ue,Ne,je,pe){for(q=Ne;q<je;++q)for(Ne=0;Ne<pe;++Ne)ee[ue++]=R(V[A(U[z++])])},L[h]=function(U,z,V,q,ee,ue,Ne){var je=8>>U.b,pe=U.Ea,De=U.K[0],Ae=U.w;if(8>je)for(U=(1<<U.b)-1,Ae=(1<<je)-1;z<V;++z){var he,me=0;for(he=0;he<pe;++he)he&U||(me=A(q[ee++])),ue[Ne++]=R(De[me&Ae]),me>>=je}else L["VP8LMapColor"+S](q,ee,De,Ae,ue,Ne,z,V,pe)}}function Ze(h,g,S,A,R){for(S=g+S;g<S;){var U=h[g++];A[R++]=U>>16&255,A[R++]=U>>8&255,A[R++]=U>>0&255}}function Is(h,g,S,A,R){for(S=g+S;g<S;){var U=h[g++];A[R++]=U>>16&255,A[R++]=U>>8&255,A[R++]=U>>0&255,A[R++]=U>>24&255}}function Dt(h,g,S,A,R){for(S=g+S;g<S;){var U=(z=h[g++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;A[R++]=U,A[R++]=z}}function vr(h,g,S,A,R){for(S=g+S;g<S;){var U=(z=h[g++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[R++]=U,A[R++]=z}}function $t(h,g,S,A,R){for(S=g+S;g<S;){var U=h[g++];A[R++]=U>>0&255,A[R++]=U>>8&255,A[R++]=U>>16&255}}function ns(h,g,S,A,R,U){if(U==0)for(S=g+S;g<S;)Ee(A,((U=h[g++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),R+=32;else n(A,R,h,g,S)}function hs(h,g){L[g][0]=L[h+"0"],L[g][1]=L[h+"1"],L[g][2]=L[h+"2"],L[g][3]=L[h+"3"],L[g][4]=L[h+"4"],L[g][5]=L[h+"5"],L[g][6]=L[h+"6"],L[g][7]=L[h+"7"],L[g][8]=L[h+"8"],L[g][9]=L[h+"9"],L[g][10]=L[h+"10"],L[g][11]=L[h+"11"],L[g][12]=L[h+"12"],L[g][13]=L[h+"13"],L[g][14]=L[h+"0"],L[g][15]=L[h+"0"]}function It(h){return h==m0||h==p0||h==vf||h==g0}function Qn(){this.eb=[],this.size=this.A=this.fb=0}function ts(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ds(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qn,this.f.kb=new ts,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Vt(h,g){var S=h.T,A=g.ba.f.RGBA,R=A.eb,U=A.fb+h.ka*A.A,z=ji[g.ba.S],V=h.y,q=h.O,ee=h.f,ue=h.N,Ne=h.ea,je=h.W,pe=g.cc,De=g.dc,Ae=g.Mc,he=g.Nc,me=h.ka,Te=h.ka+h.T,ze=h.U,Ie=ze+1>>1;for(me==0?z(V,q,null,null,ee,ue,Ne,je,ee,ue,Ne,je,R,U,null,null,ze):(z(g.ec,g.fc,V,q,pe,De,Ae,he,ee,ue,Ne,je,R,U-A.A,R,U,ze),++S);me+2<Te;me+=2)pe=ee,De=ue,Ae=Ne,he=je,ue+=h.Rc,je+=h.Rc,U+=2*A.A,z(V,(q+=2*h.fa)-h.fa,V,q,pe,De,Ae,he,ee,ue,Ne,je,R,U-A.A,R,U,ze);return q+=h.fa,h.j+Te<h.o?(n(g.ec,g.fc,V,q,ze),n(g.cc,g.dc,ee,ue,Ie),n(g.Mc,g.Nc,Ne,je,Ie),S--):1&Te||z(V,q,null,null,ee,ue,Ne,je,ee,ue,Ne,je,R,U+A.A,null,null,ze),S}function mi(h,g,S){var A=h.F,R=[h.J];if(A!=null){var U=h.U,z=g.ba.S,V=z==yf||z==vf;g=g.ba.f.RGBA;var q=[0],ee=h.ka;q[0]=h.T,h.Kb&&(ee==0?--q[0]:(--ee,R[0]-=h.width),h.j+h.ka+h.T==h.o&&(q[0]=h.o-h.j-ee));var ue=g.eb;ee=g.fb+ee*g.A,h=ys(A,R[0],h.width,U,q,ue,ee+(V?0:3),g.A),t(S==q),h&&It(z)&&wi(ue,ee,V,U,q,g.A)}return 0}function Lt(h){var g=h.ma,S=g.ba.S,A=11>S,R=S==gf||S==xf||S==yf||S==f0||S==12||It(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!du(g.Oa,h,R?11:12))return 0;if(R&&It(S)&&qe(),h.da)alert("todo:use_scaling");else{if(A){if(g.Ib=xt,h.Kb){if(S=h.U+1>>1,g.memory=a(h.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=Vt,qe()}}else alert("todo:EmitYUV");R&&(g.Jb=mi,A&&ve())}if(A&&!l2){for(h=0;256>h;++h)qk[h]=89858*(h-128)+wf>>bf,Gk[h]=-22014*(h-128)+wf,Wk[h]=-45773*(h-128),Hk[h]=113618*(h-128)+wf>>bf;for(h=vu;h<v0;++h)g=76283*(h-16)+wf>>bf,Kk[h-vu]=si(g,255),Yk[h-vu]=si(g+8>>4,15);l2=1}return 1}function Cr(h){var g=h.ma,S=h.U,A=h.T;return t(!(1&h.ka)),0>=S||0>=A?0:(S=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,S),g.Dc+=S,1)}function pn(h){h.ma.memory=null}function lt(h,g,S,A){return X(h,8)!=47?0:(g[0]=X(h,14)+1,S[0]=X(h,14)+1,A[0]=X(h,1),X(h,3)!=0?0:!h.h)}function Ks(h,g){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+X(g,S)+1}function Kr(h,g){return 120<g?g-120:1<=(S=((S=Pk[g-1])>>4)*h+(8-(15&S)))?S:1;var S}function Xt(h,g,S){var A=H(S),R=h[g+=255&A].g-8;return 0<R&&(G(S,S.u+8),A=H(S),g+=h[g].value,g+=A&(1<<R)-1),G(S,S.u+h[g].g),h[g].value}function Ps(h,g,S){return S.g+=h.g,S.value+=h.value<<g>>>0,t(8>=S.g),h.g}function gs(h,g,S){var A=h.xc;return t((g=A==0?0:h.vc[h.md*(S>>A)+(g>>A)])<h.Wb),h.Ya[g]}function ur(h,g,S,A){var R=h.ab,U=h.c*g,z=h.C;g=z+g;var V=S,q=A;for(A=h.Ta,S=h.Ua;0<R--;){var ee=h.gc[R],ue=z,Ne=g,je=V,pe=q,De=(q=A,V=S,ee.Ea);switch(t(ue<Ne),t(Ne<=ee.nc),ee.hc){case 2:cf(je,pe,(Ne-ue)*De,q,V);break;case 0:var Ae=ue,he=Ne,me=q,Te=V,ze=(et=ee).Ea;Ae==0&&(u0(je,pe,null,null,1,me,Te),ft(je,pe+1,0,0,ze-1,me,Te+1),pe+=ze,Te+=ze,++Ae);for(var Ie=1<<et.b,rt=Ie-1,Qe=We(ze,et.b),yt=et.K,et=et.w+(Ae>>et.b)*Qe;Ae<he;){var Zt=yt,as=et,Kt=1;for(fu(je,pe,me,Te-ze,1,me,Te);Kt<ze;){var Ht=(Kt&~rt)+Ie;Ht>ze&&(Ht=ze),(0,Lo[Zt[as++]>>8&15])(je,pe+ +Kt,me,Te+Kt-ze,Ht-Kt,me,Te+Kt),Kt=Ht}pe+=ze,Te+=ze,++Ae&rt||(et+=Qe)}Ne!=ee.nc&&n(q,V-De,q,V+(Ne-ue-1)*De,De);break;case 1:for(De=je,he=pe,ze=(je=ee.Ea)-(Te=je&~(me=(pe=1<<ee.b)-1)),Ae=We(je,ee.b),Ie=ee.K,ee=ee.w+(ue>>ee.b)*Ae;ue<Ne;){for(rt=Ie,Qe=ee,yt=new Ye,et=he+Te,Zt=he+je;he<et;)_t(rt[Qe++],yt),Ul(yt,De,he,pe,q,V),he+=pe,V+=pe;he<Zt&&(_t(rt[Qe++],yt),Ul(yt,De,he,ze,q,V),he+=ze,V+=ze),++ue&me||(ee+=Ae)}break;case 3:if(je==q&&pe==V&&0<ee.b){for(he=q,je=De=V+(Ne-ue)*De-(Te=(Ne-ue)*We(ee.Ea,ee.b)),pe=q,me=V,Ae=[],Te=(ze=Te)-1;0<=Te;--Te)Ae[Te]=pe[me+Te];for(Te=ze-1;0<=Te;--Te)he[je+Te]=Ae[Te];yi(ee,ue,Ne,q,De,q,V)}else yi(ee,ue,Ne,je,pe,q,V)}V=A,q=S}q!=S&&n(A,S,V,q,U)}function gn(h,g){var S=h.V,A=h.Ba+h.c*h.C,R=g-h.C;if(t(g<=h.l.o),t(16>=R),0<R){var U=h.l,z=h.Ta,V=h.Ua,q=U.width;if(ur(h,R,S,A),R=V=[V],t((S=h.C)<(A=g)),t(U.v<U.va),A>U.o&&(A=U.o),S<U.j){var ee=U.j-S;S=U.j,R[0]+=ee*q}if(S>=A?S=0:(R[0]+=4*U.v,U.ka=S-U.j,U.U=U.va-U.v,U.T=A-S,S=1),S){if(V=V[0],11>(S=h.ca).S){var ue=S.f.RGBA,Ne=(A=S.S,R=U.U,U=U.T,ee=ue.eb,ue.A),je=U;for(ue=ue.fb+h.Ma*ue.A;0<je--;){var pe=z,De=V,Ae=R,he=ee,me=ue;switch(A){case pf:On(pe,De,Ae,he,me);break;case gf:jn(pe,De,Ae,he,me);break;case m0:jn(pe,De,Ae,he,me),wi(he,me,0,Ae,1,0);break;case Z1:Xa(pe,De,Ae,he,me);break;case xf:ns(pe,De,Ae,he,me,1);break;case p0:ns(pe,De,Ae,he,me,1),wi(he,me,0,Ae,1,0);break;case yf:ns(pe,De,Ae,he,me,0);break;case vf:ns(pe,De,Ae,he,me,0),wi(he,me,1,Ae,1,0);break;case f0:Mo(pe,De,Ae,he,me);break;case g0:Mo(pe,De,Ae,he,me),xs(he,me,Ae,1,0);break;case e2:Ja(pe,De,Ae,he,me);break;default:t(0)}V+=q,ue+=Ne}h.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=S.height)}}h.C=g,t(h.C<=h.i)}function ht(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var S=h.Ya[g].G,A=h.Ya[g].H;if(0<S[1][A[1]+0].g||0<S[2][A[2]+0].g||0<S[3][A[3]+0].g)return 0}return 1}function xn(h,g,S,A,R,U){if(h.Z!=0){var z=h.qd,V=h.rd;for(t(Oo[h.Z]!=null);g<S;++g)Oo[h.Z](z,V,A,R,A,R,U),z=A,V=R,R+=U;h.qd=z,h.rd=V}}function yn(h,g){var S=h.l.ma,A=S.Z==0||S.Z==1?h.l.j:h.C;if(A=h.C<A?A:h.C,t(g<=h.l.o),g>A){var R=h.l.width,U=S.ca,z=S.tb+R*A,V=h.V,q=h.Ba+h.c*A,ee=h.gc;t(h.ab==1),t(ee[0].hc==3),df(ee[0],A,g,V,q,U,z),xn(S,A,g,U,z,R)}h.C=h.Ma=g}function vn(h,g,S,A,R,U,z){var V=h.$/A,q=h.$%A,ee=h.m,ue=h.s,Ne=S+h.$,je=Ne;R=S+A*R;var pe=S+A*U,De=280+ue.ua,Ae=h.Pb?V:16777216,he=0<ue.ua?ue.Wa:null,me=ue.wc,Te=Ne<pe?gs(ue,q,V):null;t(h.C<U),t(pe<=R);var ze=!1;e:for(;;){for(;ze||Ne<pe;){var Ie=0;if(V>=Ae){var rt=Ne-S;t((Ae=h).Pb),Ae.wd=Ae.m,Ae.xd=rt,0<Ae.s.ua&&fe(Ae.s.Wa,Ae.s.vb),Ae=V+Lk}if(q&me||(Te=gs(ue,q,V)),t(Te!=null),Te.Qb&&(g[Ne]=Te.qb,ze=!0),!ze)if(ae(ee),Te.jc){Ie=ee,rt=g;var Qe=Ne,yt=Te.pd[H(Ie)&Ur-1];t(Te.jc),256>yt.g?(G(Ie,Ie.u+yt.g),rt[Qe]=yt.value,Ie=0):(G(Ie,Ie.u+yt.g-256),t(256<=yt.value),Ie=yt.value),Ie==0&&(ze=!0)}else Ie=Xt(Te.G[0],Te.H[0],ee);if(ee.h)break;if(ze||256>Ie){if(!ze)if(Te.nd)g[Ne]=(Te.qb|Ie<<8)>>>0;else{if(ae(ee),ze=Xt(Te.G[1],Te.H[1],ee),ae(ee),rt=Xt(Te.G[2],Te.H[2],ee),Qe=Xt(Te.G[3],Te.H[3],ee),ee.h)break;g[Ne]=(Qe<<24|ze<<16|Ie<<8|rt)>>>0}if(ze=!1,++Ne,++q>=A&&(q=0,++V,z!=null&&V<=U&&!(V%16)&&z(h,V),he!=null))for(;je<Ne;)Ie=g[je++],he.X[(506832829*Ie&4294967295)>>>he.Mb]=Ie}else if(280>Ie){if(Ie=Ks(Ie-256,ee),rt=Xt(Te.G[4],Te.H[4],ee),ae(ee),rt=Kr(A,rt=Ks(rt,ee)),ee.h)break;if(Ne-S<rt||R-Ne<Ie)break e;for(Qe=0;Qe<Ie;++Qe)g[Ne+Qe]=g[Ne+Qe-rt];for(Ne+=Ie,q+=Ie;q>=A;)q-=A,++V,z!=null&&V<=U&&!(V%16)&&z(h,V);if(t(Ne<=R),q&me&&(Te=gs(ue,q,V)),he!=null)for(;je<Ne;)Ie=g[je++],he.X[(506832829*Ie&4294967295)>>>he.Mb]=Ie}else{if(!(Ie<De))break e;for(ze=Ie-280,t(he!=null);je<Ne;)Ie=g[je++],he.X[(506832829*Ie&4294967295)>>>he.Mb]=Ie;Ie=Ne,t(!(ze>>>(rt=he).Xa)),g[Ie]=rt.X[ze],ze=!0}ze||t(ee.h==Q(ee))}if(h.Pb&&ee.h&&Ne<R)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&fe(h.s.vb,h.s.Wa);else{if(ee.h)break e;z!=null&&z(h,V>U?U:V),h.a=0,h.$=Ne-S}return 1}return h.a=3,0}function bn(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,t(h!=null)}function Yr(){var h=new wa;return h==null?null:(h.a=0,h.xb=r2,hs("Predictor","VP8LPredictors"),hs("Predictor","VP8LPredictors_C"),hs("PredictorAdd","VP8LPredictorsAdd"),hs("PredictorAdd","VP8LPredictorsAdd_C"),cf=wt,Ul=tt,On=Ze,jn=Is,Mo=Dt,Ja=vr,Xa=$t,L.VP8LMapColor32b=Lc,L.VP8LMapColor8b=uf,h)}function Ln(h,g,S,A,R){var U=1,z=[h],V=[g],q=A.m,ee=A.s,ue=null,Ne=0;e:for(;;){if(S)for(;U&&X(q,1);){var je=z,pe=V,De=A,Ae=1,he=De.m,me=De.gc[De.ab],Te=X(he,2);if(De.Oc&1<<Te)U=0;else{switch(De.Oc|=1<<Te,me.hc=Te,me.Ea=je[0],me.nc=pe[0],me.K=[null],++De.ab,t(4>=De.ab),Te){case 0:case 1:me.b=X(he,3)+2,Ae=Ln(We(me.Ea,me.b),We(me.nc,me.b),0,De,me.K),me.K=me.K[0];break;case 3:var ze,Ie=X(he,8)+1,rt=16<Ie?0:4<Ie?1:2<Ie?2:3;if(je[0]=We(me.Ea,rt),me.b=rt,ze=Ae=Ln(Ie,1,0,De,me.K)){var Qe,yt=Ie,et=me,Zt=1<<(8>>et.b),as=a(Zt);if(as==null)ze=0;else{var Kt=et.K[0],Ht=et.w;for(as[0]=et.K[0][0],Qe=1;Qe<1*yt;++Qe)as[Qe]=Oe(Kt[Ht+Qe],as[Qe-1]);for(;Qe<4*Zt;++Qe)as[Qe]=0;et.K[0]=null,et.K[0]=as,ze=1}}Ae=ze;break;case 2:break;default:t(0)}U=Ae}}if(z=z[0],V=V[0],U&&X(q,1)&&!(U=1<=(Ne=X(q,4))&&11>=Ne)){A.a=3;break e}var fs;if(fs=U)t:{var us,Pt,fr,Fn=A,mr=z,Bn=V,os=Ne,ni=S,ii=Fn.m,Pr=Fn.s,zr=[null],kn=1,Si=0,ka=Tk[os];s:for(;;){if(ni&&X(ii,1)){var Tr=X(ii,3)+2,to=We(mr,Tr),Hl=We(Bn,Tr),Oc=to*Hl;if(!Ln(to,Hl,0,Fn,zr))break s;for(zr=zr[0],Pr.xc=Tr,us=0;us<Oc;++us){var Fo=zr[us]>>8&65535;zr[us]=Fo,Fo>=kn&&(kn=Fo+1)}}if(ii.h)break s;for(Pt=0;5>Pt;++Pt){var Xs=t2[Pt];!Pt&&0<os&&(Xs+=1<<os),Si<Xs&&(Si=Xs)}var b0=o(kn*ka,O),u2=kn,h2=o(u2,Y);if(h2==null)var jf=null;else t(65536>=u2),jf=h2;var bu=a(Si);if(jf==null||bu==null||b0==null){Fn.a=1;break s}var Sf=b0;for(us=fr=0;us<kn;++us){var Hi=jf[us],Fc=Hi.G,Bc=Hi.H,f2=0,kf=1,m2=0;for(Pt=0;5>Pt;++Pt){Xs=t2[Pt],Fc[Pt]=Sf,Bc[Pt]=fr,!Pt&&0<os&&(Xs+=1<<os);n:{var _f,w0=Xs,Cf=Fn,wu=bu,Qk=Sf,Zk=fr,N0=0,Bo=Cf.m,e_=X(Bo,1);if(i(wu,0,0,w0),e_){var t_=X(Bo,1)+1,s_=X(Bo,1),p2=X(Bo,s_==0?1:8);wu[p2]=1,t_==2&&(wu[p2=X(Bo,8)]=1);var Af=1}else{var g2=a(19),x2=X(Bo,4)+4;if(19<x2){Cf.a=3;var Ef=0;break n}for(_f=0;_f<x2;++_f)g2[Ek[_f]]=X(Bo,3);var j0=void 0,Nu=void 0,y2=Cf,r_=g2,Pf=w0,v2=wu,S0=0,Uo=y2.m,b2=8,w2=o(128,O);r:for(;I(w2,0,7,r_,19);){if(X(Uo,1)){var n_=2+2*X(Uo,3);if((j0=2+X(Uo,n_))>Pf)break r}else j0=Pf;for(Nu=0;Nu<Pf&&j0--;){ae(Uo);var N2=w2[0+(127&H(Uo))];G(Uo,Uo.u+N2.g);var Uc=N2.value;if(16>Uc)v2[Nu++]=Uc,Uc!=0&&(b2=Uc);else{var i_=Uc==16,j2=Uc-16,a_=Ck[j2],S2=X(Uo,_k[j2])+a_;if(Nu+S2>Pf)break r;for(var o_=i_?b2:0;0<S2--;)v2[Nu++]=o_}}S0=1;break r}S0||(y2.a=3),Af=S0}(Af=Af&&!Bo.h)&&(N0=I(Qk,Zk,8,wu,w0)),Af&&N0!=0?Ef=N0:(Cf.a=3,Ef=0)}if(Ef==0)break s;if(kf&&Ak[Pt]==1&&(kf=Sf[fr].g==0),f2+=Sf[fr].g,fr+=Ef,3>=Pt){var ju,k0=bu[0];for(ju=1;ju<Xs;++ju)bu[ju]>k0&&(k0=bu[ju]);m2+=k0}}if(Hi.nd=kf,Hi.Qb=0,kf&&(Hi.qb=(Fc[3][Bc[3]+0].value<<24|Fc[1][Bc[1]+0].value<<16|Fc[2][Bc[2]+0].value)>>>0,f2==0&&256>Fc[0][Bc[0]+0].value&&(Hi.Qb=1,Hi.qb+=Fc[0][Bc[0]+0].value<<8)),Hi.jc=!Hi.Qb&&6>m2,Hi.jc){var Tf,so=Hi;for(Tf=0;Tf<Ur;++Tf){var zo=Tf,$o=so.pd[zo],Lf=so.G[0][so.H[0]+zo];256<=Lf.value?($o.g=Lf.g+256,$o.value=Lf.value):($o.g=0,$o.value=0,zo>>=Ps(Lf,8,$o),zo>>=Ps(so.G[1][so.H[1]+zo],16,$o),zo>>=Ps(so.G[2][so.H[2]+zo],0,$o),Ps(so.G[3][so.H[3]+zo],24,$o))}}}Pr.vc=zr,Pr.Wb=kn,Pr.Ya=jf,Pr.yc=b0,fs=1;break t}fs=0}if(!(U=fs)){A.a=3;break e}if(0<Ne){if(ee.ua=1<<Ne,!Re(ee.Wa,Ne)){A.a=1,U=0;break e}}else ee.ua=0;var _0=A,k2=z,l_=V,C0=_0.s,A0=C0.xc;if(_0.c=k2,_0.i=l_,C0.md=We(k2,A0),C0.wc=A0==0?-1:(1<<A0)-1,S){A.xb=Bk;break e}if((ue=a(z*V))==null){A.a=1,U=0;break e}U=(U=vn(A,ue,0,z,V,V,null))&&!q.h;break e}return U?(R!=null?R[0]=ue:(t(ue==null),t(S)),A.$=0,S||bn(ee)):bn(ee),U}function Oi(h,g){var S=h.c*h.i,A=S+g+16*g;return t(h.c<=g),h.V=a(A),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+g,1)}function Mn(h,g){var S=h.C,A=g-S,R=h.V,U=h.Ba+h.c*S;for(t(g<=h.l.o);0<A;){var z=16<A?16:A,V=h.l.ma,q=h.l.width,ee=q*z,ue=V.ca,Ne=V.tb+q*S,je=h.Ta,pe=h.Ua;ur(h,z,R,U),rr(je,pe,ue,Ne,ee),xn(V,S,S+z,ue,Ne,q),A-=z,R+=z*h.c,S+=z}t(S==g),h.C=h.Ma=g}function da(){this.ub=this.yd=this.td=this.Rb=0}function Fi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bi(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function pi(){this.Yb=function(){var h=[];return function g(S,A,R){for(var U=R[A],z=0;z<U&&(S.push(R.length>A+1?[]:0),!(R.length<A+1));z++)g(S[z],A+1,R)}(h,0,[3,11]),h}()}function Rl(){this.jb=a(3),this.Wc=l([4,8],pi),this.Xc=l([4,17],pi)}function ua(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Jr(){this.ld=this.La=this.dd=this.tc=0}function Ua(){this.Na=this.la=0}function Dl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function za(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jr),this.Y=0,this.ya=Array(new Zn),this.aa=0,this.l=new ha}function Ao(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $a(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new da,this.Kc=new Fi,this.ed=new ua,this.Qa=new Bi,this.Ic=this.$c=this.Aa=0,this.D=new za,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,J),this.ia=0,this.pb=o(4,Dl),this.Pa=new Rl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ao),this.Hd=0,this.rb=Array(new Ua),this.sb=0,this.wa=Array(new Jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zn),this.L=this.aa=0,this.gd=l([4,2],Jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ha(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ol(){var h=new $a;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,yu||(yu=Ha)),h}function Ss(h,g,S){return h.a==0&&(h.a=g,h.sc=S,h.cb=0),0}function Va(h,g,S){return 3<=S&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function qa(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return Ss(h,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,A=g.w,R=g.ha;if(4>R)return Ss(h,7,"Truncated header.");var U=S[A+0]|S[A+1]<<8|S[A+2]<<16,z=h.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return Ss(h,3,"Incorrect keyframe parameters.");if(!z.yd)return Ss(h,4,"Frame not displayable.");A+=3,R-=3;var V=h.Kc;if(z.Rb){if(7>R)return Ss(h,7,"cannot parse picture header");if(!Va(S,A,R))return Ss(h,3,"Bad code word");V.c=16383&(S[A+4]<<8|S[A+3]),V.Td=S[A+4]>>6,V.i=16383&(S[A+6]<<8|S[A+5]),V.Ud=S[A+6]>>6,A+=7,R-=7,h.za=V.c+15>>4,h.Ub=V.i+15>>4,g.width=V.c,g.height=V.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((U=h.Pa).jb,0,255,U.jb.length),t((U=h.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>R)return Ss(h,7,"bad partition length");le(U=h.m,S,A,z.ub),A+=z.ub,R-=z.ub,z.Rb&&(V.Ld=we(U),V.Kd=we(U)),V=h.Qa;var q,ee=h.Pa;if(t(U!=null),t(V!=null),V.Cb=we(U),V.Cb){if(V.Bb=we(U),we(U)){for(V.Fb=we(U),q=0;4>q;++q)V.Zb[q]=we(U)?oe(U,7):0;for(q=0;4>q;++q)V.Lb[q]=we(U)?oe(U,6):0}if(V.Bb)for(q=0;3>q;++q)ee.jb[q]=we(U)?ie(U,8):255}else V.Bb=0;if(U.Ka)return Ss(h,3,"cannot parse segment header");if((V=h.ed).zd=we(U),V.Tb=ie(U,6),V.wb=ie(U,3),V.Pc=we(U),V.Pc&&we(U)){for(ee=0;4>ee;++ee)we(U)&&(V.vd[ee]=oe(U,6));for(ee=0;4>ee;++ee)we(U)&&(V.od[ee]=oe(U,6))}if(h.L=V.Tb==0?0:V.zd?1:2,U.Ka)return Ss(h,3,"cannot parse filter header");var ue=R;if(R=q=A,A=q+ue,V=ue,h.Xb=(1<<ie(h.m,2))-1,ue<3*(ee=h.Xb))S=7;else{for(q+=3*ee,V-=3*ee,ue=0;ue<ee;++ue){var Ne=S[R+0]|S[R+1]<<8|S[R+2]<<16;Ne>V&&(Ne=V),le(h.Jc[+ue],S,q,Ne),q+=Ne,V-=Ne,R+=3}le(h.Jc[+ee],S,q,V),S=q<A?0:5}if(S!=0)return Ss(h,S,"cannot parse partitions");for(S=ie(q=h.m,7),R=we(q)?oe(q,4):0,A=we(q)?oe(q,4):0,V=we(q)?oe(q,4):0,ee=we(q)?oe(q,4):0,q=we(q)?oe(q,4):0,ue=h.Qa,Ne=0;4>Ne;++Ne){if(ue.Cb){var je=ue.Zb[Ne];ue.Fb||(je+=S)}else{if(0<Ne){h.pb[Ne]=h.pb[0];continue}je=S}var pe=h.pb[Ne];pe.Sc[0]=x0[si(je+R,127)],pe.Sc[1]=y0[si(je+0,127)],pe.Eb[0]=2*x0[si(je+A,127)],pe.Eb[1]=101581*y0[si(je+V,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=x0[si(je+ee,117)],pe.Qc[1]=y0[si(je+q,127)],pe.lc=je+q}if(!z.Rb)return Ss(h,4,"Not a key frame.");for(we(U),z=h.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(A=0;3>A;++A)for(V=0;11>V;++V)ee=de(U,Ok[S][R][A][V])?ie(U,8):Rk[S][R][A][V],z.Wc[S][R].Yb[A][V]=ee;for(R=0;17>R;++R)z.Xc[S][R]=z.Wc[S][Fk[R]]}return h.kc=we(U),h.kc&&(h.Bd=ie(U,8)),h.cb=1}function Ha(h,g,S,A,R,U,z){var V=g[R].Yb[S];for(S=0;16>R;++R){if(!de(h,V[S+0]))return R;for(;!de(h,V[S+1]);)if(V=g[++R].Yb[0],S=0,R==16)return 16;var q=g[R+1].Yb;if(de(h,V[S+2])){var ee=h,ue=0;if(de(ee,(je=V)[(Ne=S)+3]))if(de(ee,je[Ne+6])){for(V=0,Ne=2*(ue=de(ee,je[Ne+8]))+(je=de(ee,je[Ne+9+ue])),ue=0,je=Mk[Ne];je[V];++V)ue+=ue+de(ee,je[V]);ue+=3+(8<<Ne)}else de(ee,je[Ne+7])?(ue=7+2*de(ee,165),ue+=de(ee,145)):ue=5+de(ee,159);else ue=de(ee,je[Ne+4])?3+de(ee,je[Ne+5]):2;V=q[2]}else ue=1,V=q[1];q=z+Ik[R],0>(ee=h).b&&xe(ee);var Ne,je=ee.b,pe=(Ne=ee.Ca>>1)-(ee.I>>je)>>31;--ee.b,ee.Ca+=pe,ee.Ca|=1,ee.I-=(Ne+1&pe)<<je,U[q]=((ue^pe)-pe)*A[(0<R)+0]}return 16}function Ui(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Fl(h,g){if(h==null)return 0;if(g==null)return Ss(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!qa(h,g))return 0;if(t(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var S=Nf[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-S>>4,h.zb=g.j-S>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+S>>4,h.Hb=g.va+15+S>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var A=h.ed;for(S=0;4>S;++S){var R;if(h.Qa.Cb){var U=h.Qa.Lb[S];h.Qa.Fb||(U+=A.Tb)}else U=A.Tb;for(R=0;1>=R;++R){var z=h.gd[S][R],V=U;if(A.Pc&&(V+=A.vd[0],R&&(V+=A.od[0])),0<(V=0>V?0:63<V?63:V)){var q=V;0<A.wb&&(q=4<A.wb?q>>2:q>>1)>9-A.wb&&(q=9-A.wb),1>q&&(q=1),z.dd=q,z.tc=2*V+q,z.ld=40<=V?2:15<=V?1:0}else z.tc=0;z.La=R}}}S=0}else Ss(h,6,"Frame setup failed"),S=h.a;if(S=S==0){if(S){h.$c=0,0<h.Aa||(h.Ic=Xk);e:{S=h.Ic,A=4*(q=h.za);var ee=32*q,ue=q+1,Ne=0<h.L?q*(0<h.Aa?2:1):0,je=(h.Aa==2?2:1)*q;if((z=A+832+(R=3*(16*S+Nf[h.L])/2*ee)+(U=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=z)S=0;else{if(z>h.Vb){if(h.Vb=0,h.Ec=a(z),h.Fc=0,h.Ec==null){S=Ss(h,1,"no memory during frame initialization.");break e}h.Vb=z}z=h.Ec,V=h.Fc,h.Ac=z,h.Bc=V,V+=A,h.Gd=o(ee,Ao),h.Hd=0,h.rb=o(ue+1,Ua),h.sb=1,h.wa=Ne?o(Ne,Jr):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=q),t(!0),h.oc=z,h.pc=V,V+=832,h.ya=o(je,Zn),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=q),h.R=16*q,h.B=8*q,q=(ee=Nf[h.L])*h.R,ee=ee/2*h.B,h.sa=z,h.ta=V+q,h.qa=h.sa,h.ra=h.ta+16*S*h.R+ee,h.Ha=h.qa,h.Ia=h.ra+8*S*h.B+ee,h.$c=0,V+=R,h.mb=U?z:null,h.nb=U?V:null,t(V+U<=h.Fc+h.Vb),Ui(h),i(h.Ac,h.Bc,0,A),S=1}}if(S){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!ff){for(S=-255;255>=S;++S)wr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Za[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)xu[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Dc[255+S]=0>S?0:255<S?255:S;ff=1}Mc=be,Qa=re,mu=_e,Sn=F,vi=ne,sr=T,Ic=ei,hf=$i,pu=kc,zl=Eo,$l=ba,Io=Ka,Vl=Po,Rc=_c,ql=ya,Ro=Nn,gu=Ds,bi=va,qi[0]=qt,qi[1]=ye,qi[2]=Qr,qi[3]=Ys,qi[4]=In,qi[5]=Or,qi[6]=Wa,qi[7]=Rs,qi[8]=Rn,qi[9]=wn,Do[0]=Rt,Do[1]=ke,Do[2]=Xe,Do[3]=nt,Do[4]=vt,Do[5]=Wt,Do[6]=is,eo[0]=Fr,eo[1]=ge,eo[2]=ma,eo[3]=Ot,eo[4]=ks,eo[5]=pa,eo[6]=zi,S=1}else S=0}S&&(S=function(pe,De){for(pe.M=0;pe.M<pe.Va;++pe.M){var Ae,he=pe.Jc[pe.M&pe.Xb],me=pe.m,Te=pe;for(Ae=0;Ae<Te.za;++Ae){var ze=me,Ie=Te,rt=Ie.Ac,Qe=Ie.Bc+4*Ae,yt=Ie.zc,et=Ie.ya[Ie.aa+Ae];if(Ie.Qa.Bb?et.$b=de(ze,Ie.Pa.jb[0])?2+de(ze,Ie.Pa.jb[2]):de(ze,Ie.Pa.jb[1]):et.$b=0,Ie.kc&&(et.Ad=de(ze,Ie.Bd)),et.Za=!de(ze,145)+0,et.Za){var Zt=et.Ob,as=0;for(Ie=0;4>Ie;++Ie){var Kt,Ht=yt[0+Ie];for(Kt=0;4>Kt;++Kt){Ht=Dk[rt[Qe+Kt]][Ht];for(var fs=s2[de(ze,Ht[0])];0<fs;)fs=s2[2*fs+de(ze,Ht[fs])];Ht=-fs,rt[Qe+Kt]=Ht}n(Zt,as,rt,Qe,4),as+=4,yt[0+Ie]=Ht}}else Ht=de(ze,156)?de(ze,128)?1:3:de(ze,163)?2:0,et.Ob[0]=Ht,i(rt,Qe,Ht,4),i(yt,0,Ht,4);et.Dd=de(ze,142)?de(ze,114)?de(ze,183)?1:3:2:0}if(Te.m.Ka)return Ss(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Te=he,ze=(me=pe).rb[me.sb-1],rt=me.rb[me.sb+me.ja],Ae=me.ya[me.aa+me.ja],Qe=me.kc?Ae.Ad:0)ze.la=rt.la=0,Ae.Za||(ze.Na=rt.Na=0),Ae.Hc=0,Ae.Gc=0,Ae.ia=0;else{var us,Pt;if(ze=rt,rt=Te,Qe=me.Pa.Xc,yt=me.ya[me.aa+me.ja],et=me.pb[yt.$b],Ie=yt.ad,Zt=0,as=me.rb[me.sb-1],Ht=Kt=0,i(Ie,Zt,0,384),yt.Za)var fr=0,Fn=Qe[3];else{fs=a(16);var mr=ze.Na+as.Na;if(mr=yu(rt,Qe[1],mr,et.Eb,0,fs,0),ze.Na=as.Na=(0<mr)+0,1<mr)Mc(fs,0,Ie,Zt);else{var Bn=fs[0]+3>>3;for(fs=0;256>fs;fs+=16)Ie[Zt+fs]=Bn}fr=1,Fn=Qe[0]}var os=15&ze.la,ni=15&as.la;for(fs=0;4>fs;++fs){var ii=1&ni;for(Bn=Pt=0;4>Bn;++Bn)os=os>>1|(ii=(mr=yu(rt,Fn,mr=ii+(1&os),et.Sc,fr,Ie,Zt))>fr)<<7,Pt=Pt<<2|(3<mr?3:1<mr?2:Ie[Zt+0]!=0),Zt+=16;os>>=4,ni=ni>>1|ii<<7,Kt=(Kt<<8|Pt)>>>0}for(Fn=os,fr=ni>>4,us=0;4>us;us+=2){for(Pt=0,os=ze.la>>4+us,ni=as.la>>4+us,fs=0;2>fs;++fs){for(ii=1&ni,Bn=0;2>Bn;++Bn)mr=ii+(1&os),os=os>>1|(ii=0<(mr=yu(rt,Qe[2],mr,et.Qc,0,Ie,Zt)))<<3,Pt=Pt<<2|(3<mr?3:1<mr?2:Ie[Zt+0]!=0),Zt+=16;os>>=2,ni=ni>>1|ii<<5}Ht|=Pt<<4*us,Fn|=os<<4<<us,fr|=(240&ni)<<us}ze.la=Fn,as.la=fr,yt.Hc=Kt,yt.Gc=Ht,yt.ia=43690&Ht?0:et.ia,Qe=!(Kt|Ht)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[Ae.$b][Ae.Za],me.wa[me.Y+me.ja].La|=!Qe),Te.Ka)return Ss(pe,7,"Premature end-of-file encountered.")}if(Ui(pe),me=De,Te=1,Ae=(he=pe).D,ze=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Ae.M=he.M,Ae.uc=ze,cu(he,Ae),Te=1,Ae=(Pt=he.D).Nb,ze=(Ht=Nf[he.L])*he.R,rt=Ht/2*he.B,fs=16*Ae*he.R,Bn=8*Ae*he.B,Qe=he.sa,yt=he.ta-ze+fs,et=he.qa,Ie=he.ra-rt+Bn,Zt=he.Ha,as=he.Ia-rt+Bn,ni=(os=Pt.M)==0,Kt=os>=he.Va-1,he.Aa==2&&cu(he,Pt),Pt.uc)for(ii=(mr=he).D.M,t(mr.D.uc),Pt=mr.yb;Pt<mr.Hb;++Pt){fr=Pt,Fn=ii;var Pr=(zr=(Xs=mr).D).Nb;us=Xs.R;var zr=zr.wa[zr.Y+fr],kn=Xs.sa,Si=Xs.ta+16*Pr*us+16*fr,ka=zr.dd,Tr=zr.tc;if(Tr!=0)if(t(3<=Tr),Xs.L==1)0<fr&&Ro(kn,Si,us,Tr+4),zr.La&&bi(kn,Si,us,Tr),0<Fn&&ql(kn,Si,us,Tr+4),zr.La&&gu(kn,Si,us,Tr);else{var to=Xs.B,Hl=Xs.qa,Oc=Xs.ra+8*Pr*to+8*fr,Fo=Xs.Ha,Xs=Xs.Ia+8*Pr*to+8*fr;Pr=zr.ld,0<fr&&(hf(kn,Si,us,Tr+4,ka,Pr),zl(Hl,Oc,Fo,Xs,to,Tr+4,ka,Pr)),zr.La&&(Io(kn,Si,us,Tr,ka,Pr),Rc(Hl,Oc,Fo,Xs,to,Tr,ka,Pr)),0<Fn&&(Ic(kn,Si,us,Tr+4,ka,Pr),pu(Hl,Oc,Fo,Xs,to,Tr+4,ka,Pr)),zr.La&&($l(kn,Si,us,Tr,ka,Pr),Vl(Hl,Oc,Fo,Xs,to,Tr,ka,Pr))}}if(he.ia&&alert("todo:DitherRow"),me.put!=null){if(Pt=16*os,os=16*(os+1),ni?(me.y=he.sa,me.O=he.ta+fs,me.f=he.qa,me.N=he.ra+Bn,me.ea=he.Ha,me.W=he.Ia+Bn):(Pt-=Ht,me.y=Qe,me.O=yt,me.f=et,me.N=Ie,me.ea=Zt,me.W=as),Kt||(os-=Ht),os>me.o&&(os=me.o),me.F=null,me.J=null,he.Fa!=null&&0<he.Fa.length&&Pt<os&&(me.J=ja(he,me,Pt,os-Pt),me.F=he.mb,me.F==null&&me.F.length==0)){Te=Ss(he,3,"Could not decode alpha data.");break e}Pt<me.j&&(Ht=me.j-Pt,Pt=me.j,t(!(1&Ht)),me.O+=he.R*Ht,me.N+=he.B*(Ht>>1),me.W+=he.B*(Ht>>1),me.F!=null&&(me.J+=me.width*Ht)),Pt<os&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=Pt-me.j,me.U=me.va-me.v,me.T=os-Pt,Te=me.put(me))}Ae+1!=he.Ic||Kt||(n(he.sa,he.ta-ze,Qe,yt+16*he.R,ze),n(he.qa,he.ra-rt,et,Ie+8*he.B,rt),n(he.Ha,he.Ia-rt,Zt,as+8*he.B,rt))}if(!Te)return Ss(pe,6,"Output aborted.")}return 1}(h,g)),g.bc!=null&&g.bc(g),S&=1}return S?(h.cb=0,S):0}function Xr(h,g,S,A,R){R=h[g+S+32*A]+(R>>3),h[g+S+32*A]=-256&R?0>R?0:255:R}function gi(h,g,S,A,R,U){Xr(h,g,0,S,A+R),Xr(h,g,1,S,A+U),Xr(h,g,2,S,A-U),Xr(h,g,3,S,A-R)}function br(h){return(20091*h>>16)+h}function fa(h,g,S,A){var R,U=0,z=a(16);for(R=0;4>R;++R){var V=h[g+0]+h[g+8],q=h[g+0]-h[g+8],ee=(35468*h[g+4]>>16)-br(h[g+12]),ue=br(h[g+4])+(35468*h[g+12]>>16);z[U+0]=V+ue,z[U+1]=q+ee,z[U+2]=q-ee,z[U+3]=V-ue,U+=4,g++}for(R=U=0;4>R;++R)V=(h=z[U+0]+4)+z[U+8],q=h-z[U+8],ee=(35468*z[U+4]>>16)-br(z[U+12]),Xr(S,A,0,0,V+(ue=br(z[U+4])+(35468*z[U+12]>>16))),Xr(S,A,1,0,q+ee),Xr(S,A,2,0,q-ee),Xr(S,A,3,0,V-ue),U++,A+=32}function T(h,g,S,A){var R=h[g+0]+4,U=35468*h[g+4]>>16,z=br(h[g+4]),V=35468*h[g+1]>>16;gi(S,A,0,R+z,h=br(h[g+1]),V),gi(S,A,1,R+U,h,V),gi(S,A,2,R-U,h,V),gi(S,A,3,R-z,h,V)}function re(h,g,S,A,R){fa(h,g,S,A),R&&fa(h,g+16,S,A+4)}function _e(h,g,S,A){Qa(h,g+0,S,A,1),Qa(h,g+32,S,A+128,1)}function F(h,g,S,A){var R;for(h=h[g+0]+4,R=0;4>R;++R)for(g=0;4>g;++g)Xr(S,A,g,R,h)}function ne(h,g,S,A){h[g+0]&&Sn(h,g+0,S,A),h[g+16]&&Sn(h,g+16,S,A+4),h[g+32]&&Sn(h,g+32,S,A+128),h[g+48]&&Sn(h,g+48,S,A+128+4)}function be(h,g,S,A){var R,U=a(16);for(R=0;4>R;++R){var z=h[g+0+R]+h[g+12+R],V=h[g+4+R]+h[g+8+R],q=h[g+4+R]-h[g+8+R],ee=h[g+0+R]-h[g+12+R];U[0+R]=z+V,U[8+R]=z-V,U[4+R]=ee+q,U[12+R]=ee-q}for(R=0;4>R;++R)z=(h=U[0+4*R]+3)+U[3+4*R],V=U[1+4*R]+U[2+4*R],q=U[1+4*R]-U[2+4*R],ee=h-U[3+4*R],S[A+0]=z+V>>3,S[A+16]=ee+q>>3,S[A+32]=z-V>>3,S[A+48]=ee-q>>3,A+=64}function Se(h,g,S){var A,R=g-32,U=ri,z=255-h[R-1];for(A=0;A<S;++A){var V,q=U,ee=z+h[g-1];for(V=0;V<S;++V)h[g+V]=q[ee+h[R+V]];g+=32}}function ye(h,g){Se(h,g,4)}function ge(h,g){Se(h,g,8)}function ke(h,g){Se(h,g,16)}function Xe(h,g){var S;for(S=0;16>S;++S)n(h,g+32*S,h,g-32,16)}function nt(h,g){var S;for(S=16;0<S;--S)i(h,g,h[g-1],16),g+=32}function at(h,g,S){var A;for(A=0;16>A;++A)i(g,S+32*A,h,16)}function Rt(h,g){var S,A=16;for(S=0;16>S;++S)A+=h[g-1+32*S]+h[g+S-32];at(A>>5,h,g)}function vt(h,g){var S,A=8;for(S=0;16>S;++S)A+=h[g-1+32*S];at(A>>4,h,g)}function Wt(h,g){var S,A=8;for(S=0;16>S;++S)A+=h[g+S-32];at(A>>4,h,g)}function is(h,g){at(128,h,g)}function mt(h,g,S){return h+2*g+S+2>>2}function Qr(h,g){var S,A=g-32;for(A=new Uint8Array([mt(h[A-1],h[A+0],h[A+1]),mt(h[A+0],h[A+1],h[A+2]),mt(h[A+1],h[A+2],h[A+3]),mt(h[A+2],h[A+3],h[A+4])]),S=0;4>S;++S)n(h,g+32*S,A,0,A.length)}function Ys(h,g){var S=h[g-1],A=h[g-1+32],R=h[g-1+64],U=h[g-1+96];Ee(h,g+0,16843009*mt(h[g-1-32],S,A)),Ee(h,g+32,16843009*mt(S,A,R)),Ee(h,g+64,16843009*mt(A,R,U)),Ee(h,g+96,16843009*mt(R,U,U))}function qt(h,g){var S,A=4;for(S=0;4>S;++S)A+=h[g+S-32]+h[g-1+32*S];for(A>>=3,S=0;4>S;++S)i(h,g+32*S,A,4)}function In(h,g){var S=h[g-1+0],A=h[g-1+32],R=h[g-1+64],U=h[g-1-32],z=h[g+0-32],V=h[g+1-32],q=h[g+2-32],ee=h[g+3-32];h[g+0+96]=mt(A,R,h[g-1+96]),h[g+1+96]=h[g+0+64]=mt(S,A,R),h[g+2+96]=h[g+1+64]=h[g+0+32]=mt(U,S,A),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=mt(z,U,S),h[g+3+64]=h[g+2+32]=h[g+1+0]=mt(V,z,U),h[g+3+32]=h[g+2+0]=mt(q,V,z),h[g+3+0]=mt(ee,q,V)}function Wa(h,g){var S=h[g+1-32],A=h[g+2-32],R=h[g+3-32],U=h[g+4-32],z=h[g+5-32],V=h[g+6-32],q=h[g+7-32];h[g+0+0]=mt(h[g+0-32],S,A),h[g+1+0]=h[g+0+32]=mt(S,A,R),h[g+2+0]=h[g+1+32]=h[g+0+64]=mt(A,R,U),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=mt(R,U,z),h[g+3+32]=h[g+2+64]=h[g+1+96]=mt(U,z,V),h[g+3+64]=h[g+2+96]=mt(z,V,q),h[g+3+96]=mt(V,q,q)}function Or(h,g){var S=h[g-1+0],A=h[g-1+32],R=h[g-1+64],U=h[g-1-32],z=h[g+0-32],V=h[g+1-32],q=h[g+2-32],ee=h[g+3-32];h[g+0+0]=h[g+1+64]=U+z+1>>1,h[g+1+0]=h[g+2+64]=z+V+1>>1,h[g+2+0]=h[g+3+64]=V+q+1>>1,h[g+3+0]=q+ee+1>>1,h[g+0+96]=mt(R,A,S),h[g+0+64]=mt(A,S,U),h[g+0+32]=h[g+1+96]=mt(S,U,z),h[g+1+32]=h[g+2+96]=mt(U,z,V),h[g+2+32]=h[g+3+96]=mt(z,V,q),h[g+3+32]=mt(V,q,ee)}function Rs(h,g){var S=h[g+0-32],A=h[g+1-32],R=h[g+2-32],U=h[g+3-32],z=h[g+4-32],V=h[g+5-32],q=h[g+6-32],ee=h[g+7-32];h[g+0+0]=S+A+1>>1,h[g+1+0]=h[g+0+64]=A+R+1>>1,h[g+2+0]=h[g+1+64]=R+U+1>>1,h[g+3+0]=h[g+2+64]=U+z+1>>1,h[g+0+32]=mt(S,A,R),h[g+1+32]=h[g+0+96]=mt(A,R,U),h[g+2+32]=h[g+1+96]=mt(R,U,z),h[g+3+32]=h[g+2+96]=mt(U,z,V),h[g+3+64]=mt(z,V,q),h[g+3+96]=mt(V,q,ee)}function wn(h,g){var S=h[g-1+0],A=h[g-1+32],R=h[g-1+64],U=h[g-1+96];h[g+0+0]=S+A+1>>1,h[g+2+0]=h[g+0+32]=A+R+1>>1,h[g+2+32]=h[g+0+64]=R+U+1>>1,h[g+1+0]=mt(S,A,R),h[g+3+0]=h[g+1+32]=mt(A,R,U),h[g+3+32]=h[g+1+64]=mt(R,U,U),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=U}function Rn(h,g){var S=h[g-1+0],A=h[g-1+32],R=h[g-1+64],U=h[g-1+96],z=h[g-1-32],V=h[g+0-32],q=h[g+1-32],ee=h[g+2-32];h[g+0+0]=h[g+2+32]=S+z+1>>1,h[g+0+32]=h[g+2+64]=A+S+1>>1,h[g+0+64]=h[g+2+96]=R+A+1>>1,h[g+0+96]=U+R+1>>1,h[g+3+0]=mt(V,q,ee),h[g+2+0]=mt(z,V,q),h[g+1+0]=h[g+3+32]=mt(S,z,V),h[g+1+32]=h[g+3+64]=mt(A,S,z),h[g+1+64]=h[g+3+96]=mt(R,A,S),h[g+1+96]=mt(U,R,A)}function ma(h,g){var S;for(S=0;8>S;++S)n(h,g+32*S,h,g-32,8)}function Ot(h,g){var S;for(S=0;8>S;++S)i(h,g,h[g-1],8),g+=32}function Ar(h,g,S){var A;for(A=0;8>A;++A)i(g,S+32*A,h,8)}function Fr(h,g){var S,A=8;for(S=0;8>S;++S)A+=h[g+S-32]+h[g-1+32*S];Ar(A>>4,h,g)}function pa(h,g){var S,A=4;for(S=0;8>S;++S)A+=h[g+S-32];Ar(A>>3,h,g)}function ks(h,g){var S,A=4;for(S=0;8>S;++S)A+=h[g-1+32*S];Ar(A>>3,h,g)}function zi(h,g){Ar(128,h,g)}function xi(h,g,S){var A=h[g-S],R=h[g+0],U=3*(R-A)+h0[1020+h[g-2*S]-h[g+S]],z=mf[112+(U+4>>3)];h[g-S]=ri[255+A+mf[112+(U+3>>3)]],h[g+0]=ri[255+R-z]}function ga(h,g,S,A){var R=h[g+0],U=h[g+S];return Ni[255+h[g-2*S]-h[g-S]]>A||Ni[255+U-R]>A}function xa(h,g,S,A){return 4*Ni[255+h[g-S]-h[g+0]]+Ni[255+h[g-2*S]-h[g+S]]<=A}function Ga(h,g,S,A,R){var U=h[g-3*S],z=h[g-2*S],V=h[g-S],q=h[g+0],ee=h[g+S],ue=h[g+2*S],Ne=h[g+3*S];return 4*Ni[255+V-q]+Ni[255+z-ee]>A?0:Ni[255+h[g-4*S]-U]<=R&&Ni[255+U-z]<=R&&Ni[255+z-V]<=R&&Ni[255+Ne-ue]<=R&&Ni[255+ue-ee]<=R&&Ni[255+ee-q]<=R}function ya(h,g,S,A){var R=2*A+1;for(A=0;16>A;++A)xa(h,g+A,S,R)&&xi(h,g+A,S)}function Nn(h,g,S,A){var R=2*A+1;for(A=0;16>A;++A)xa(h,g+A*S,1,R)&&xi(h,g+A*S,1)}function Ds(h,g,S,A){var R;for(R=3;0<R;--R)ya(h,g+=4*S,S,A)}function va(h,g,S,A){var R;for(R=3;0<R;--R)Nn(h,g+=4,S,A)}function Zr(h,g,S,A,R,U,z,V){for(U=2*U+1;0<R--;){if(Ga(h,g,S,U,z))if(ga(h,g,S,V))xi(h,g,S);else{var q=h,ee=g,ue=S,Ne=q[ee-2*ue],je=q[ee-ue],pe=q[ee+0],De=q[ee+ue],Ae=q[ee+2*ue],he=27*(Te=h0[1020+3*(pe-je)+h0[1020+Ne-De]])+63>>7,me=18*Te+63>>7,Te=9*Te+63>>7;q[ee-3*ue]=ri[255+q[ee-3*ue]+Te],q[ee-2*ue]=ri[255+Ne+me],q[ee-ue]=ri[255+je+he],q[ee+0]=ri[255+pe-he],q[ee+ue]=ri[255+De-me],q[ee+2*ue]=ri[255+Ae-Te]}g+=A}}function Br(h,g,S,A,R,U,z,V){for(U=2*U+1;0<R--;){if(Ga(h,g,S,U,z))if(ga(h,g,S,V))xi(h,g,S);else{var q=h,ee=g,ue=S,Ne=q[ee-ue],je=q[ee+0],pe=q[ee+ue],De=mf[112+((Ae=3*(je-Ne))+4>>3)],Ae=mf[112+(Ae+3>>3)],he=De+1>>1;q[ee-2*ue]=ri[255+q[ee-2*ue]+he],q[ee-ue]=ri[255+Ne+Ae],q[ee+0]=ri[255+je-De],q[ee+ue]=ri[255+pe-he]}g+=A}}function ei(h,g,S,A,R,U){Zr(h,g,S,1,16,A,R,U)}function $i(h,g,S,A,R,U){Zr(h,g,1,S,16,A,R,U)}function ba(h,g,S,A,R,U){var z;for(z=3;0<z;--z)Br(h,g+=4*S,S,1,16,A,R,U)}function Ka(h,g,S,A,R,U){var z;for(z=3;0<z;--z)Br(h,g+=4,1,S,16,A,R,U)}function kc(h,g,S,A,R,U,z,V){Zr(h,g,R,1,8,U,z,V),Zr(S,A,R,1,8,U,z,V)}function Eo(h,g,S,A,R,U,z,V){Zr(h,g,1,R,8,U,z,V),Zr(S,A,1,R,8,U,z,V)}function Po(h,g,S,A,R,U,z,V){Br(h,g+4*R,R,1,8,U,z,V),Br(S,A+4*R,R,1,8,U,z,V)}function _c(h,g,S,A,R,U,z,V){Br(h,g+4,1,R,8,U,z,V),Br(S,A+4,1,R,8,U,z,V)}function Ya(){this.ba=new ds,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ce(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kt(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new O}function wa(){this.xb=this.a=0,this.l=new ha,this.ca=new ds,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kt,this.ab=0,this.gc=o(4,Ue),this.Oc=0}function To(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ha,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Na(h,g,S,A,R,U,z){for(h=h==null?0:h[g+0],g=0;g<z;++g)R[U+g]=h+S[A+g]&255,h=R[U+g]}function Bl(h,g,S,A,R,U,z){var V;if(h==null)Na(null,null,S,A,R,U,z);else for(V=0;V<z;++V)R[U+V]=h[g+V]+S[A+V]&255}function ti(h,g,S,A,R,U,z){if(h==null)Na(null,null,S,A,R,U,z);else{var V,q=h[g+0],ee=q,ue=q;for(V=0;V<z;++V)ee=ue+(q=h[g+V])-ee,ue=S[A+V]+(-256&ee?0>ee?0:255:ee)&255,ee=q,R[U+V]=ue}}function ja(h,g,S,A){var R=g.width,U=g.o;if(t(h!=null&&g!=null),0>S||0>=A||S+A>U)return null;if(!h.Cc){if(h.ga==null){var z;if(h.ga=new To,(z=h.ga==null)||(z=g.width*g.o,t(h.Gb.length==0),h.Gb=a(z),h.Uc=0,h.Gb==null?z=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,z=1),z=!z),!z){z=h.ga;var V=h.Fa,q=h.P,ee=h.qc,ue=h.mb,Ne=h.nb,je=q+1,pe=ee-1,De=z.l;if(t(V!=null&&ue!=null&&g!=null),Oo[0]=null,Oo[1]=Na,Oo[2]=Bl,Oo[3]=ti,z.ca=ue,z.tb=Ne,z.c=g.width,z.i=g.height,t(0<z.c&&0<z.i),1>=ee)g=0;else if(z.$a=V[q+0]>>0&3,z.Z=V[q+0]>>2&3,z.Lc=V[q+0]>>4&3,q=V[q+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||q)g=0;else if(De.put=Cr,De.ac=Lt,De.bc=pn,De.ma=z,De.width=g.width,De.height=g.height,De.Da=g.Da,De.v=g.v,De.va=g.va,De.j=g.j,De.o=g.o,z.$a)e:{t(z.$a==1),g=Yr();t:for(;;){if(g==null){g=0;break e}if(t(z!=null),z.mc=g,g.c=z.c,g.i=z.i,g.l=z.l,g.l.ma=z,g.l.width=z.c,g.l.height=z.i,g.a=0,Z(g.m,V,je,pe),!Ln(z.c,z.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ht(g.s)?(z.ic=1,V=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a(V),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(z.ic=0,g=Oi(g,z.c)),!g))break t;g=1;break e}z.mc=null,g=0}else g=pe>=z.c*z.i;z=!g}if(z)return null;h.ga.Lc!=1?h.Ga=0:A=U-S}t(h.ga!=null),t(S+A<=U);e:{if(g=(V=h.ga).c,U=V.l.o,V.$a==0){if(je=h.rc,pe=h.Vc,De=h.Fa,q=h.P+1+S*g,ee=h.mb,ue=h.nb+S*g,t(q<=h.P+h.qc),V.Z!=0)for(t(Oo[V.Z]!=null),z=0;z<A;++z)Oo[V.Z](je,pe,De,q,ee,ue,g),je=ee,pe=ue,ue+=g,q+=g;else for(z=0;z<A;++z)n(ee,ue,De,q,g),je=ee,pe=ue,ue+=g,q+=g;h.rc=je,h.Vc=pe}else{if(t(V.mc!=null),g=S+A,t((z=V.mc)!=null),t(g<=z.i),z.C>=g)g=1;else if(V.ic||ve(),V.ic){V=z.V,je=z.Ba,pe=z.c;var Ae=z.i,he=(De=1,q=z.$/pe,ee=z.$%pe,ue=z.m,Ne=z.s,z.$),me=pe*Ae,Te=pe*g,ze=Ne.wc,Ie=he<Te?gs(Ne,ee,q):null;t(he<=me),t(g<=Ae),t(ht(Ne));t:for(;;){for(;!ue.h&&he<Te;){if(ee&ze||(Ie=gs(Ne,ee,q)),t(Ie!=null),ae(ue),256>(Ae=Xt(Ie.G[0],Ie.H[0],ue)))V[je+he]=Ae,++he,++ee>=pe&&(ee=0,++q<=g&&!(q%16)&&yn(z,q));else{if(!(280>Ae)){De=0;break t}Ae=Ks(Ae-256,ue);var rt,Qe=Xt(Ie.G[4],Ie.H[4],ue);if(ae(ue),!(he>=(Qe=Kr(pe,Qe=Ks(Qe,ue)))&&me-he>=Ae)){De=0;break t}for(rt=0;rt<Ae;++rt)V[je+he+rt]=V[je+he+rt-Qe];for(he+=Ae,ee+=Ae;ee>=pe;)ee-=pe,++q<=g&&!(q%16)&&yn(z,q);he<Te&&ee&ze&&(Ie=gs(Ne,ee,q))}t(ue.h==Q(ue))}yn(z,q>g?g:q);break t}!De||ue.h&&he<me?(De=0,z.a=ue.h?5:3):z.$=he,g=De}else g=vn(z,z.V,z.Ba,z.c,z.i,g,Mn);if(!g){A=0;break e}}S+A>=U&&(h.Cc=1),A=1}if(!A)return null;if(h.Cc&&((A=h.ga)!=null&&(A.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*R}function w(h,g,S,A,R,U){for(;0<R--;){var z,V=h,q=g+(S?1:0),ee=h,ue=g+(S?0:3);for(z=0;z<A;++z){var Ne=ee[ue+4*z];Ne!=255&&(Ne*=32897,V[q+4*z+0]=V[q+4*z+0]*Ne>>23,V[q+4*z+1]=V[q+4*z+1]*Ne>>23,V[q+4*z+2]=V[q+4*z+2]*Ne>>23)}g+=U}}function D(h,g,S,A,R){for(;0<A--;){var U;for(U=0;U<S;++U){var z=h[g+2*U+0],V=15&(ee=h[g+2*U+1]),q=4369*V,ee=(240&ee|ee>>4)*q>>16;h[g+2*U+0]=(240&z|z>>4)*q>>16&240|(15&z|z<<4)*q>>16>>4&15,h[g+2*U+1]=240&ee|V}g+=R}}function se(h,g,S,A,R,U,z,V){var q,ee,ue=255;for(ee=0;ee<R;++ee){for(q=0;q<A;++q){var Ne=h[g+q];U[z+4*q]=Ne,ue&=Ne}g+=S,z+=V}return ue!=255}function ce(h,g,S,A,R){var U;for(U=0;U<R;++U)S[A+U]=h[g+U]>>8}function ve(){wi=w,xs=D,ys=se,rr=ce}function Pe(h,g,S){L[h]=function(A,R,U,z,V,q,ee,ue,Ne,je,pe,De,Ae,he,me,Te,ze){var Ie,rt=ze-1>>1,Qe=V[q+0]|ee[ue+0]<<16,yt=Ne[je+0]|pe[De+0]<<16;t(A!=null);var et=3*Qe+yt+131074>>2;for(g(A[R+0],255&et,et>>16,Ae,he),U!=null&&(et=3*yt+Qe+131074>>2,g(U[z+0],255&et,et>>16,me,Te)),Ie=1;Ie<=rt;++Ie){var Zt=V[q+Ie]|ee[ue+Ie]<<16,as=Ne[je+Ie]|pe[De+Ie]<<16,Kt=Qe+Zt+yt+as+524296,Ht=Kt+2*(Zt+yt)>>3;et=Ht+Qe>>1,Qe=(Kt=Kt+2*(Qe+as)>>3)+Zt>>1,g(A[R+2*Ie-1],255&et,et>>16,Ae,he+(2*Ie-1)*S),g(A[R+2*Ie-0],255&Qe,Qe>>16,Ae,he+(2*Ie-0)*S),U!=null&&(et=Kt+yt>>1,Qe=Ht+as>>1,g(U[z+2*Ie-1],255&et,et>>16,me,Te+(2*Ie-1)*S),g(U[z+2*Ie+0],255&Qe,Qe>>16,me,Te+(2*Ie+0)*S)),Qe=Zt,yt=as}1&ze||(et=3*Qe+yt+131074>>2,g(A[R+ze-1],255&et,et>>16,Ae,he+(ze-1)*S),U!=null&&(et=3*yt+Qe+131074>>2,g(U[z+ze-1],255&et,et>>16,me,Te+(ze-1)*S)))}}function qe(){ji[pf]=Uk,ji[gf]=n2,ji[Z1]=zk,ji[xf]=i2,ji[yf]=a2,ji[f0]=o2,ji[e2]=$k,ji[m0]=n2,ji[p0]=i2,ji[vf]=a2,ji[g0]=o2}function st(h){return h&-16384?0>h?0:255:h>>Vk}function gt(h,g){return st((19077*h>>8)+(26149*g>>8)-14234)}function Et(h,g,S){return st((19077*h>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function Ct(h,g){return st((19077*h>>8)+(33050*g>>8)-17685)}function Gt(h,g,S,A,R){A[R+0]=gt(h,S),A[R+1]=Et(h,g,S),A[R+2]=Ct(h,g)}function Os(h,g,S,A,R){A[R+0]=Ct(h,g),A[R+1]=Et(h,g,S),A[R+2]=gt(h,S)}function Js(h,g,S,A,R){var U=Et(h,g,S);g=U<<3&224|Ct(h,g)>>3,A[R+0]=248&gt(h,S)|U>>5,A[R+1]=g}function hr(h,g,S,A,R){var U=240&Ct(h,g)|15;A[R+0]=240&gt(h,S)|Et(h,g,S)>>4,A[R+1]=U}function en(h,g,S,A,R){A[R+0]=255,Gt(h,g,S,A,R+1)}function Er(h,g,S,A,R){Os(h,g,S,A,R),A[R+3]=255}function Vi(h,g,S,A,R){Gt(h,g,S,A,R),A[R+3]=255}function si(h,g){return 0>h?0:h>g?g:h}function Sa(h,g,S){L[h]=function(A,R,U,z,V,q,ee,ue,Ne){for(var je=ue+(-2&Ne)*S;ue!=je;)g(A[R+0],U[z+0],V[q+0],ee,ue),g(A[R+1],U[z+0],V[q+0],ee,ue+S),R+=2,++z,++q,ue+=2*S;1&Ne&&g(A[R+0],U[z+0],V[q+0],ee,ue)}}function lf(h,g,S){return S==0?h==0?g==0?6:5:g==0?4:0:S}function lu(h,g,S,A,R){switch(h>>>30){case 3:Qa(g,S,A,R,0);break;case 2:sr(g,S,A,R);break;case 1:Sn(g,S,A,R)}}function cu(h,g){var S,A,R=g.M,U=g.Nb,z=h.oc,V=h.pc+40,q=h.oc,ee=h.pc+584,ue=h.oc,Ne=h.pc+600;for(S=0;16>S;++S)z[V+32*S-1]=129;for(S=0;8>S;++S)q[ee+32*S-1]=129,ue[Ne+32*S-1]=129;for(0<R?z[V-1-32]=q[ee-1-32]=ue[Ne-1-32]=129:(i(z,V-32-1,127,21),i(q,ee-32-1,127,9),i(ue,Ne-32-1,127,9)),A=0;A<h.za;++A){var je=g.ya[g.aa+A];if(0<A){for(S=-1;16>S;++S)n(z,V+32*S-4,z,V+32*S+12,4);for(S=-1;8>S;++S)n(q,ee+32*S-4,q,ee+32*S+4,4),n(ue,Ne+32*S-4,ue,Ne+32*S+4,4)}var pe=h.Gd,De=h.Hd+A,Ae=je.ad,he=je.Hc;if(0<R&&(n(z,V-32,pe[De].y,0,16),n(q,ee-32,pe[De].f,0,8),n(ue,Ne-32,pe[De].ea,0,8)),je.Za){var me=z,Te=V-32+16;for(0<R&&(A>=h.za-1?i(me,Te,pe[De].y[15],4):n(me,Te,pe[De+1].y,0,4)),S=0;4>S;S++)me[Te+128+S]=me[Te+256+S]=me[Te+384+S]=me[Te+0+S];for(S=0;16>S;++S,he<<=2)me=z,Te=V+c2[S],qi[je.Ob[S]](me,Te),lu(he,Ae,16*+S,me,Te)}else if(me=lf(A,R,je.Ob[0]),Do[me](z,V),he!=0)for(S=0;16>S;++S,he<<=2)lu(he,Ae,16*+S,z,V+c2[S]);for(S=je.Gc,me=lf(A,R,je.Dd),eo[me](q,ee),eo[me](ue,Ne),he=Ae,me=q,Te=ee,255&(je=S>>0)&&(170&je?mu(he,256,me,Te):vi(he,256,me,Te)),je=ue,he=Ne,255&(S>>=8)&&(170&S?mu(Ae,320,je,he):vi(Ae,320,je,he)),R<h.Ub-1&&(n(pe[De].y,0,z,V+480,16),n(pe[De].f,0,q,ee+224,8),n(pe[De].ea,0,ue,Ne+224,8)),S=8*U*h.B,pe=h.sa,De=h.ta+16*A+16*U*h.R,Ae=h.qa,je=h.ra+8*A+S,he=h.Ha,me=h.Ia+8*A+S,S=0;16>S;++S)n(pe,De+S*h.R,z,V+32*S,16);for(S=0;8>S;++S)n(Ae,je+S*h.B,q,ee+32*S,8),n(he,me+S*h.B,ue,Ne+32*S,8)}}function Cc(h,g,S,A,R,U,z,V,q){var ee=[0],ue=[0],Ne=0,je=q!=null?q.kd:0,pe=q??new Ce;if(h==null||12>S)return 7;pe.data=h,pe.w=g,pe.ha=S,g=[g],S=[S],pe.gb=[pe.gb];e:{var De=g,Ae=S,he=pe.gb;if(t(h!=null),t(Ae!=null),t(he!=null),he[0]=0,12<=Ae[0]&&!s(h,De[0],"RIFF")){if(s(h,De[0]+8,"WEBP")){he=3;break e}var me=Be(h,De[0]+4);if(12>me||4294967286<me){he=3;break e}if(je&&me>Ae[0]-8){he=7;break e}he[0]=me,De[0]+=12,Ae[0]-=12}he=0}if(he!=0)return he;for(me=0<pe.gb[0],S=S[0];;){e:{var Te=h;Ae=g,he=S;var ze=ee,Ie=ue,rt=De=[0];if((et=Ne=[Ne])[0]=0,8>he[0])he=7;else{if(!s(Te,Ae[0],"VP8X")){if(Be(Te,Ae[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var Qe=Be(Te,Ae[0]+8),yt=1+$e(Te,Ae[0]+12);if(2147483648<=yt*(Te=1+$e(Te,Ae[0]+15))){he=3;break e}rt!=null&&(rt[0]=Qe),ze!=null&&(ze[0]=yt),Ie!=null&&(Ie[0]=Te),Ae[0]+=18,he[0]-=18,et[0]=1}he=0}}if(Ne=Ne[0],De=De[0],he!=0)return he;if(Ae=!!(2&De),!me&&Ne)return 3;if(U!=null&&(U[0]=!!(16&De)),z!=null&&(z[0]=Ae),V!=null&&(V[0]=0),z=ee[0],De=ue[0],Ne&&Ae&&q==null){he=0;break}if(4>S){he=7;break}if(me&&Ne||!me&&!Ne&&!s(h,g[0],"ALPH")){S=[S],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Qe=h,he=g,me=S;var et=pe.gb;ze=pe.na,Ie=pe.P,rt=pe.Sa,yt=22,t(Qe!=null),t(me!=null),Te=he[0];var Zt=me[0];for(t(ze!=null),t(rt!=null),ze[0]=null,Ie[0]=null,rt[0]=0;;){if(he[0]=Te,me[0]=Zt,8>Zt){he=7;break e}var as=Be(Qe,Te+4);if(4294967286<as){he=3;break e}var Kt=8+as+1&-2;if(yt+=Kt,0<et&&yt>et){he=3;break e}if(!s(Qe,Te,"VP8 ")||!s(Qe,Te,"VP8L")){he=0;break e}if(Zt[0]<Kt){he=7;break e}s(Qe,Te,"ALPH")||(ze[0]=Qe,Ie[0]=Te+8,rt[0]=as),Te+=Kt,Zt-=Kt}}if(S=S[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],he!=0)break}S=[S],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(et=h,he=g,me=S,ze=pe.gb[0],Ie=pe.Ja,rt=pe.xa,Qe=he[0],Te=!s(et,Qe,"VP8 "),yt=!s(et,Qe,"VP8L"),t(et!=null),t(me!=null),t(Ie!=null),t(rt!=null),8>me[0])he=7;else{if(Te||yt){if(et=Be(et,Qe+4),12<=ze&&et>ze-12){he=3;break e}if(je&&et>me[0]-8){he=7;break e}Ie[0]=et,he[0]+=8,me[0]-=8,rt[0]=yt}else rt[0]=5<=me[0]&&et[Qe+0]==47&&!(et[Qe+4]>>5),Ie[0]=me[0];he=0}if(S=S[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],g=g[0],he!=0)break;if(4294967286<pe.Ja)return 3;if(V==null||Ae||(V[0]=pe.xa?2:1),z=[z],De=[De],pe.xa){if(5>S){he=7;break}V=z,je=De,Ae=U,h==null||5>S?h=0:5<=S&&h[g+0]==47&&!(h[g+4]>>5)?(me=[0],et=[0],ze=[0],Z(Ie=new P,h,g,S),lt(Ie,me,et,ze)?(V!=null&&(V[0]=me[0]),je!=null&&(je[0]=et[0]),Ae!=null&&(Ae[0]=ze[0]),h=1):h=0):h=0}else{if(10>S){he=7;break}V=De,h==null||10>S||!Va(h,g+3,S-3)?h=0:(je=h[g+0]|h[g+1]<<8|h[g+2]<<16,Ae=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=pe.Ja||!Ae||!h?h=0:(z&&(z[0]=Ae),V&&(V[0]=h),h=1))}if(!h||(z=z[0],De=De[0],Ne&&(ee[0]!=z||ue[0]!=De)))return 3;q!=null&&(q[0]=pe,q.offset=g-q.w,t(4294967286>g-q.w),t(q.offset==q.ha-S));break}return he==0||he==7&&Ne&&q==null?(U!=null&&(U[0]|=pe.na!=null&&0<pe.na.length),A!=null&&(A[0]=z),R!=null&&(R[0]=De),0):he}function du(h,g,S){var A=g.width,R=g.height,U=0,z=0,V=A,q=R;if(g.Da=h!=null&&0<h.Da,g.Da&&(V=h.cd,q=h.bd,U=h.v,z=h.j,11>S||(U&=-2,z&=-2),0>U||0>z||0>=V||0>=q||U+V>A||z+q>R))return 0;if(g.v=U,g.j=z,g.va=U+V,g.o=z+q,g.U=V,g.T=q,g.da=h!=null&&0<h.da,g.da){if(!Ke(V,q,S=[h.ib],U=[h.hb]))return 0;g.ib=S[0],g.hb=U[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*A/4&&g.hb<3*R/4,g.Kb=0),1}function uu(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function Ac(h,g,S,A){if(A==null||0>=h||0>=g)return 2;if(S!=null){if(S.Da){var R=S.cd,U=S.bd,z=-2&S.v,V=-2&S.j;if(0>z||0>V||0>=R||0>=U||z+R>h||V+U>g)return 2;h=R,g=U}if(S.da){if(!Ke(h,g,R=[S.ib],U=[S.hb]))return 2;h=R[0],g=U[0]}}A.width=h,A.height=g;e:{var q=A.width,ee=A.height;if(h=A.S,0>=q||0>=ee||!(h>=pf&&13>h))h=2;else{if(0>=A.Rd&&A.sd==null){z=U=R=g=0;var ue=(V=q*d2[h])*ee;if(11>h||(U=(ee+1)/2*(g=(q+1)/2),h==12&&(z=(R=q)*ee)),(ee=a(ue+2*U+z))==null){h=1;break e}A.sd=ee,11>h?((q=A.f.RGBA).eb=ee,q.fb=0,q.A=V,q.size=ue):((q=A.f.kb).y=ee,q.O=0,q.fa=V,q.Fd=ue,q.f=ee,q.N=0+ue,q.Ab=g,q.Cd=U,q.ea=ee,q.W=0+ue+U,q.Db=g,q.Ed=U,h==12&&(q.F=ee,q.J=0+ue+2*U),q.Tc=z,q.lb=R)}if(g=1,R=A.S,U=A.width,z=A.height,R>=pf&&13>R)if(11>R)h=A.f.RGBA,g&=(V=Math.abs(h.A))*(z-1)+U<=h.size,g&=V>=U*d2[R],g&=h.eb!=null;else{h=A.f.kb,V=(U+1)/2,ue=(z+1)/2,q=Math.abs(h.fa),ee=Math.abs(h.Ab);var Ne=Math.abs(h.Db),je=Math.abs(h.lb),pe=je*(z-1)+U;g&=q*(z-1)+U<=h.Fd,g&=ee*(ue-1)+V<=h.Cd,g=(g&=Ne*(ue-1)+V<=h.Ed)&q>=U&ee>=V&Ne>=V,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,R==12&&(g&=je>=U,g&=pe<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||S!=null&&S.fd&&(h=uu(A)),h}var Ur=64,Ec=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pc=24,Tc=32,hu=8,Dn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(h){return h},L.Predictor2=function(h,g,S){return g[S+0]},L.Predictor3=function(h,g,S){return g[S+1]},L.Predictor4=function(h,g,S){return g[S-1]},L.Predictor5=function(h,g,S){return Je(Je(h,g[S+1]),g[S+0])},L.Predictor6=function(h,g,S){return Je(h,g[S-1])},L.Predictor7=function(h,g,S){return Je(h,g[S+0])},L.Predictor8=function(h,g,S){return Je(g[S-1],g[S+0])},L.Predictor9=function(h,g,S){return Je(g[S+0],g[S+1])},L.Predictor10=function(h,g,S){return Je(Je(h,g[S-1]),Je(g[S+0],g[S+1]))},L.Predictor11=function(h,g,S){var A=g[S+0];return 0>=ut(A>>24&255,h>>24&255,(g=g[S-1])>>24&255)+ut(A>>16&255,h>>16&255,g>>16&255)+ut(A>>8&255,h>>8&255,g>>8&255)+ut(255&A,255&h,255&g)?A:h},L.Predictor12=function(h,g,S){var A=g[S+0];return(dt((h>>24&255)+(A>>24&255)-((g=g[S-1])>>24&255))<<24|dt((h>>16&255)+(A>>16&255)-(g>>16&255))<<16|dt((h>>8&255)+(A>>8&255)-(g>>8&255))<<8|dt((255&h)+(255&A)-(255&g)))>>>0},L.Predictor13=function(h,g,S){var A=g[S-1];return(pt((h=Je(h,g[S+0]))>>24&255,A>>24&255)<<24|pt(h>>16&255,A>>16&255)<<16|pt(h>>8&255,A>>8&255)<<8|pt(h>>0&255,A>>0&255))>>>0};var u0=L.PredictorAdd0;L.PredictorAdd1=ft,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var fu=L.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var cf,yi=L.ColorIndexInverseTransform,Lc=L.MapARGB,df=L.VP8LColorIndexInverseTransformAlpha,uf=L.MapAlpha,Lo=L.VP8LPredictorsAdd=[];Lo.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Ul,On,jn,Mo,Ja,Xa,Mc,Qa,sr,mu,Sn,vi,Ic,hf,pu,zl,$l,Io,Vl,Rc,ql,Ro,gu,bi,wi,xs,ys,rr,wr=a(511),Za=a(2041),xu=a(225),Dc=a(767),ff=0,h0=Za,mf=xu,ri=Dc,Ni=wr,pf=0,gf=1,Z1=2,xf=3,yf=4,f0=5,e2=6,m0=7,p0=8,vf=9,g0=10,_k=[2,3,7],Ck=[3,3,11],t2=[280,256,256,256,40],Ak=[0,1,1,1,0],Ek=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Tk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lk=8,x0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],y0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,Mk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ik=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],s2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ok=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Do=[],qi=[],eo=[],Bk=1,r2=2,Oo=[],ji=[];Pe("UpsampleRgbLinePair",Gt,3),Pe("UpsampleBgrLinePair",Os,3),Pe("UpsampleRgbaLinePair",Vi,4),Pe("UpsampleBgraLinePair",Er,4),Pe("UpsampleArgbLinePair",en,4),Pe("UpsampleRgba4444LinePair",hr,2),Pe("UpsampleRgb565LinePair",Js,2);var Uk=L.UpsampleRgbLinePair,zk=L.UpsampleBgrLinePair,n2=L.UpsampleRgbaLinePair,i2=L.UpsampleBgraLinePair,a2=L.UpsampleArgbLinePair,o2=L.UpsampleRgba4444LinePair,$k=L.UpsampleRgb565LinePair,bf=16,wf=1<<bf-1,vu=-227,v0=482,Vk=6,l2=0,qk=a(256),Hk=a(256),Wk=a(256),Gk=a(256),Kk=a(v0-vu),Yk=a(v0-vu);Sa("YuvToRgbRow",Gt,3),Sa("YuvToBgrRow",Os,3),Sa("YuvToRgbaRow",Vi,4),Sa("YuvToBgraRow",Er,4),Sa("YuvToArgbRow",en,4),Sa("YuvToRgba4444Row",hr,2),Sa("YuvToRgb565Row",Js,2);var c2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nf=[0,2,8],Jk=[8,7,6,4,4,2,2,2,1,1,1,1],Xk=1;this.WebPDecodeRGBA=function(h,g,S,A,R){var U=gf,z=new Ya,V=new ds;z.ba=V,V.S=U,V.width=[V.width],V.height=[V.height];var q=V.width,ee=V.height,ue=new Jt;if(ue==null||h==null)var Ne=2;else t(ue!=null),Ne=Cc(h,g,S,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Ne!=0?q=0:(q!=null&&(q[0]=ue.width[0]),ee!=null&&(ee[0]=ue.height[0]),q=1),q){V.width=V.width[0],V.height=V.height[0],A!=null&&(A[0]=V.width),R!=null&&(R[0]=V.height);e:{if(A=new ha,(R=new Ce).data=h,R.w=g,R.ha=S,R.kd=1,g=[0],t(R!=null),((h=Cc(R.data,R.w,R.ha,null,null,null,g,null,R))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(t(z!=null),A.data=R.data,A.w=R.w+R.offset,A.ha=R.ha-R.offset,A.put=Cr,A.ac=Lt,A.bc=pn,A.ma=z,R.xa){if((h=Yr())==null){z=1;break e}if(function(je,pe){var De=[0],Ae=[0],he=[0];t:for(;;){if(je==null)return 0;if(pe==null)return je.a=2,0;if(je.l=pe,je.a=0,Z(je.m,pe.data,pe.w,pe.ha),!lt(je.m,De,Ae,he)){je.a=3;break t}if(je.xb=r2,pe.width=De[0],pe.height=Ae[0],!Ln(De[0],Ae[0],1,je,null))break t;return 1}return t(je.a!=0),0}(h,A)){if(A=(g=Ac(A.width,A.height,z.Oa,z.ba))==0){t:{A=h;s:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((S=A.l)!=null),t((R=S.ma)!=null),A.xb!=0){if(A.ca=R.ba,A.tb=R.tb,t(A.ca!=null),!du(R.Oa,S,xf)){A.a=2;break s}if(!Oi(A,S.width)||S.da)break s;if((S.da||It(A.ca.S))&&ve(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&ve()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Re(A.s.vb,A.s.Wa.Xa)){A.a=1;break s}A.xb=0}if(!vn(A,A.V,A.Ba,A.c,A.i,S.o,gn))break s;R.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(g=h.a)}else g=h.a}else{if((h=new Ol)==null){z=1;break e}if(h.Fa=R.na,h.P=R.P,h.qc=R.Sa,qa(h,A)){if((g=Ac(A.width,A.height,z.Oa,z.ba))==0){if(h.Aa=0,S=z.Oa,t((R=h)!=null),S!=null){if(0<(q=0>(q=S.Md)?0:100<q?255:255*q/100)){for(ee=ue=0;4>ee;++ee)12>(Ne=R.pb[ee]).lc&&(Ne.ia=q*Jk[0>Ne.lc?0:Ne.lc]>>3),ue|=Ne.ia;ue&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}Fl(h,A)||(g=h.a)}}else g=h.a}g==0&&z.Oa!=null&&z.Oa.fd&&(g=uu(z.ba))}z=g}U=z!=0?null:11>U?V.f.RGBA.eb:V.f.kb.y}else U=null;return U};var d2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,$){for(var K="",I=0;I<4;I++)K+=String.fromCharCode(L[$++]);return K}function u(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16)>>>0}function f(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16|L[$+3]<<24)>>>0}new c;var m=[0],p=[0],x=[],j=new c,N=e,y=function(L,$){var K={},I=0,O=!1,W=0,Y=0;if(K.frames=[],!function(H,Q,G,ae){for(var xe=0;xe<ae;xe++)if(H[Q+xe]!=G.charCodeAt(xe))return!0;return!1}(L,$,"RIFF",4)){for(f(L,$+=4),$+=8;$<L.length;){var le=d(L,$),ie=f(L,$+=4);$+=4;var oe=ie+(1&ie);switch(le){case"VP8 ":case"VP8L":K.frames[I]===void 0&&(K.frames[I]={}),(X=K.frames[I]).src_off=O?Y:$-8,X.src_size=W+ie+8,I++,O&&(O=!1,W=0,Y=0);break;case"VP8X":(X=K.header={}).feature_flags=L[$];var Z=$+4;X.canvas_width=1+u(L,Z),Z+=3,X.canvas_height=1+u(L,Z),Z+=3;break;case"ALPH":O=!0,W=oe+8,Y=$-8;break;case"ANIM":(X=K.header).bgcolor=f(L,$),Z=$+4,X.loop_count=(J=L)[(P=Z)+0]<<0|J[P+1]<<8,Z+=2;break;case"ANMF":var B,X;(X=K.frames[I]={}).offset_x=2*u(L,$),$+=3,X.offset_y=2*u(L,$),$+=3,X.width=1+u(L,$),$+=3,X.height=1+u(L,$),$+=3,X.duration=u(L,$),$+=3,B=L[$++],X.dispose=1&B,X.blend=B>>1&1}le!="ANMF"&&($+=oe)}var J,P;return K}}(N,0);y.response=N,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,b=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,m=[v.canvas_height],p=[v.canvas_width];for(var k=0;k<b.length&&b[k].blend!=0;k++);}var C=b[0],_=j.WebPDecodeRGBA(N,C.src_off,C.src_size,p,m);C.rgba=_,C.imgwidth=p[0],C.imgheight=m[0];for(var M=0;M<p[0]*m[0]*4;M++)x[M]=_[M];return this.width=p,this.height=m,this.data=x,this}(function(e){var t=function(){return typeof Ry=="function"},s=function(m,p,x,j){var N=4,y=o;switch(j){case e.image_compression.FAST:N=1,y=a;break;case e.image_compression.MEDIUM:N=6,y=l;break;case e.image_compression.SLOW:N=9,y=c}m=n(m,p,x,y);var v=Ry(m,{level:N});return e.__addimage__.arrayBufferToBinaryString(v)},n=function(m,p,x,j){for(var N,y,v,b=m.length/p,k=new Uint8Array(m.length+b),C=u(),_=0;_<b;_+=1){if(v=_*p,N=m.subarray(v,v+p),j)k.set(j(N,x,y),v+_);else{for(var M,L=C.length,$=[];M<L;M+=1)$[M]=C[M](N,x,y);var K=f($.concat());k.set($[K],v+_)}y=N}return k},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},a=function(m,p){var x,j=[],N=m.length;j[0]=1;for(var y=0;y<N;y+=1)x=m[y-p]||0,j[y+1]=m[y]-x+256&255;return j},o=function(m,p,x){var j,N=[],y=m.length;N[0]=2;for(var v=0;v<y;v+=1)j=x&&x[v]||0,N[v+1]=m[v]-j+256&255;return N},l=function(m,p,x){var j,N,y=[],v=m.length;y[0]=3;for(var b=0;b<v;b+=1)j=m[b-p]||0,N=x&&x[b]||0,y[b+1]=m[b]+256-(j+N>>>1)&255;return y},c=function(m,p,x){var j,N,y,v,b=[],k=m.length;b[0]=4;for(var C=0;C<k;C+=1)j=m[C-p]||0,N=x&&x[C]||0,y=x&&x[C-p]||0,v=d(j,N,y),b[C+1]=m[C]-v+256&255;return b},d=function(m,p,x){if(m===p&&p===x)return m;var j=Math.abs(p-x),N=Math.abs(m-x),y=Math.abs(m+p-x-x);return j<=N&&j<=y?m:N<=y?p:x},u=function(){return[i,a,o,l,c]},f=function(m){var p=m.map(function(x){return x.reduce(function(j,N){return j+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(m,p,x,j){var N,y,v,b,k,C,_,M,L,$,K,I,O,W,Y,le=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(v=new XO(m)).imgData,y=v.bits,N=v.colorSpace,k=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){L=(M=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,K=new Uint8Array(L*v.colors),$=new Uint8Array(L);var oe,Z=v.pixelBitlength-v.bits;for(W=0,Y=0;W<L;W++){for(O=M[W],oe=0;oe<Z;)K[Y++]=O>>>oe&255,oe+=v.bits;$[W]=O>>>oe&255}}if(v.bits===16){L=(M=new Uint32Array(v.decodePixels().buffer)).length,K=new Uint8Array(L*(32/v.pixelBitlength)*v.colors),$=new Uint8Array(L*(32/v.pixelBitlength)),I=v.colors>1,W=0,Y=0;for(var B=0;W<L;)O=M[W++],K[Y++]=O>>>0&255,I&&(K[Y++]=O>>>16&255,O=M[W++],K[Y++]=O>>>0&255),$[B++]=O>>>16&255;y=8}j!==e.image_compression.NONE&&t()?(m=s(K,v.width*v.colors,v.colors,j),_=s($,v.width,1,j)):(m=K,_=$,le=void 0)}if(v.colorType===3&&(N=this.color_spaces.INDEXED,C=v.palette,v.transparency.indexed)){var X=v.transparency.indexed,J=0;for(W=0,L=X.length;W<L;++W)J+=X[W];if((J/=255)===L-1&&X.indexOf(0)!==-1)b=[X.indexOf(0)];else if(J!==L){for(M=v.decodePixels(),$=new Uint8Array(M.length),W=0,L=M.length;W<L;W++)$[W]=X[M[W]];_=s($,v.width,1)}}var P=function(H){var Q;switch(H){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(j);return le===this.decode.FLATE_DECODE&&(ie="/Predictor "+P+" "),ie+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:x,data:m,index:p,filter:le,decodeParameters:ie,transparency:b,palette:C,sMask:_,predictor:P,width:v.width,height:v.height,bitsPerComponent:y,colorSpace:N}}}})(bt.API),function(e){e.processGIF89A=function(t,s,n,i){var a=new QO(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new Bg(100).encode(d,100);return e.processJPEG.call(this,u,s,n,i)},e.processGIF87A=e.processGIF89A}(bt.API),Ki.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:s,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ki.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(s){ms.log("bit decode error:"+s)}},Ki.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}s!==0&&(this.pos+=4-s)}},Ki.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ki.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ki.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Ki.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&s)/s*255|0,d=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Ki.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ki.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Ki.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,s,n,i){var a=new Ki(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new Bg(100).encode(c,100);return e.processJPEG.call(this,d,s,n,i)}}(bt.API),nN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,s,n,i){var a=new nN(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new Bg(100).encode(c,100);return e.processJPEG.call(this,d,s,n,i)}}(bt.API),bt.API.processRGBA=function(e,t,s){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],f=n[d+1],m=n[d+2],p=n[d+3];a[l++]=u,a[l++]=f,a[l++]=m,o[c++]=p}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},bt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kc=bt.API,am=Kc.getCharWidthsArray=function(e,t){var s,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,m=0,p=e.length,x=0,j=l[0]||c,N=[];for(s=0;s<p;s++)n=e.charCodeAt(s),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=f&&ls(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,N.push((l[n]||j)/c+m)),x=n;return N},eN=Kc.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Kc.processArabic&&(e=Kc.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,s,i)/s:am.apply(this,arguments).reduce(function(a,o){return a+o},0)},tN=function(e,t,s,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<s;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},sN=function(e,t,s){s||(s={});var n,i,a,o,l,c,d,u=[],f=[u],m=s.textIndent||0,p=0,x=0,j=e.split(" "),N=am.apply(this,[" ",s])[0];if(c=s.lineIndent===-1?j[0].length+2:s.lineIndent||0){var y=Array(c).join(" "),v=[];j.map(function(k){(k=k.split(/\s*\n/)).length>1?v=v.concat(k.map(function(C,_){return(_&&C.length?`
`:"")+C})):v.push(k[0])}),j=v,c=eN.apply(this,[y,s])}for(a=0,o=j.length;a<o;a++){var b=0;if(n=j[a],c&&n[0]==`
`&&(n=n.substr(1),b=1),m+p+(x=(i=am.apply(this,[n,s])).reduce(function(k,C){return k+C},0))>t||b){if(x>t){for(l=tN.apply(this,[n,i,t-(m+p),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);x=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(k,C){return k+C},0)}else u=[n];f.push(u),m=x+c,p=N}else u.push(n),m+=p+x,p=N}return d=c?function(k,C){return(C?y:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(d)},Kc.splitTextToSize=function(e,t,s){var n,i=(s=s||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=s.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(sN.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",s={},n={},i=0;i<t.length;i++)s[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var m,p,x,j,N=["{"];for(var y in f){if(m=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof m=="number")m<0?(x=a(m).slice(3),j="-"):(x=a(m).slice(2),j=""),x=j+x.slice(0,-1)+n[x.slice(-1)];else{if(ls(m)!=="object")throw new Error("Don't know what to do with value type "+ls(m)+".");x=o(m)}N.push(p+x)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,x,j,N={},y=1,v=N,b=[],k="",C="",_=f.length-1,M=1;M<_;M+=1)(j=f[M])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(j):j=="{"?(b.push([v,x]),v={},x=void 0):j=="}"?((p=b.pop())[0][p[1]]=v,x=void 0,v=p[0]):j=="-"?y=-1:x===void 0?s.hasOwnProperty(j)?(k+=s[j],x=parseInt(k,16)*y,y=1,k=""):k+=j:s.hasOwnProperty(j)?(C+=s[j],v[x]=parseInt(C,16)*y,y=1,x=void 0,C=""):C+=j;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,p=u.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var x=d.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(bt.API),function(e){var t=function(s){for(var n=s.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=s.charCodeAt(a);return i};e.API.events.push(["addFont",function(s){var n=void 0,i=s.font,a=s.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(oh(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(bt),function(e){function t(){return(jt.canvg?Promise.resolve(jt.canvg):Nl(()=>import("./index.es-M7HQj9q7.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load canvg: "+s))}).then(function(s){return s.default?s.default:s})}bt.API.addSvgAsImage=function(s,n,i,a,o,l,c,d){if(isNaN(n)||isNaN(i))throw ms.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw ms.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(x){return x.fromString(f,s,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,i,a,o,c,d)})}}(),bt.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,s);return this},bt.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,f=0;function m(x,j){var N,y=!1;for(N=0;N<x.length;N+=1)x[N]===j&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)s[l[f]].value=s[l[f]].defaultValue,s[l[f]].explicitSet=!1}if(ls(e)==="object"){for(i in e)if(a=e[i],m(l,i)&&a!==void 0){if(s[i].type==="boolean"&&typeof a=="boolean")s[i].value=a;else if(s[i].type==="name"&&m(s[i].valueSet,a))s[i].value=a;else if(s[i].type==="integer"&&Number.isInteger(a))s[i].value=a;else if(s[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}s[i].value="["+c.join(" ")+"]"}else s[i].value=s[i].defaultValue;s[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,j=[];for(x in s)s[x].explicitSet===!0&&(s[x].type==="name"?j.push("/"+x+" /"+s[x].value):j.push("/"+x+" "+s[x].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}}(bt.API),function(e){var t=e.API,s=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,m=a.length;f<m;++f){if(l=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,f,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(a).sort(function(p,x){return p-x})).length;f<m;f++)o=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var j=d();u({data:p,addLength1:!0,objectId:j}),c("endobj");var N=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Qc(l.fontName)),c("/FontFile2 "+j+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Qc(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+Qc(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var x=d();u({data:m,addLength1:!0,objectId:x}),c("endobj");var j=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var N=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Qc(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Qc(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},f=a.mutex||{},m=f.pdfEscape,p=f.activeFontKey,x=f.fonts,j=p,N="",y=0,v="",b=x[j].encoding;if(x[j].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(v=l,j=p,Array.isArray(l)&&(v=l[0]),y=0;y<v.length;y+=1)x[j].metadata.hasOwnProperty("cmap")&&(o=x[j].metadata.cmap.unicode.codeMap[v[y].charCodeAt(0)]),o||v[y].charCodeAt(0)<256&&x[j].metadata.hasOwnProperty("Unicode")?N+=v[y]:N+="";var k="";return parseInt(j.slice(1))<14||b==="WinAnsiEncoding"?k=m(N,j).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(k=s(N,x[j])),f.isHex=!0,{text:k,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(bt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,n){return t.call(this),this.internal.vFS[s]=n,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(bt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var k=function(I){var O=I.charCodeAt(),W=O>>8,Y=j[W];return Y!==void 0?f[256*Y+(255&O)]:W===252||W===253?"AL":y.test(W)?"L":W===8?"R":"N"},C=function(I){for(var O,W=0;W<I.length;W++){if((O=k(I.charAt(W)))==="L")return!1;if(O==="R")return!0}return!1},_=function(I,O,W,Y){var le,ie,oe,Z,B=O[Y];switch(B){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(B="AN");break;case"AL":v=!0,B="R";break;case"WS":B="N";break;case"CS":Y<1||Y+1>=O.length||(le=W[Y-1])!=="EN"&&le!=="AN"||(ie=O[Y+1])!=="EN"&&ie!=="AN"?B="N":v&&(ie="AN"),B=ie===le?ie:"N";break;case"ES":B=(le=Y>0?W[Y-1]:"B")==="EN"&&Y+1<O.length&&O[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&W[Y-1]==="EN"){B="EN";break}if(v){B="N";break}for(oe=Y+1,Z=O.length;oe<Z&&O[oe]==="ET";)oe++;B=oe<Z&&O[oe]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Z=O.length,oe=Y+1;oe<Z&&O[oe]==="NSM";)oe++;if(oe<Z){var X=I[Y],J=X>=1425&&X<=2303||X===64286;if(le=O[oe],J&&(le==="R"||le==="AL")){B="R";break}}}B=Y<1||(le=O[Y-1])==="B"?"N":W[Y-1];break;case"B":v=!1,i=!0,B=b;break;case"S":a=!0,B="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":B="N"}return B},M=function(I,O,W){var Y=I.split("");return W&&L(Y,W,{hiLevel:b}),Y.reverse(),O&&O.reverse(),Y.join("")},L=function(I,O,W){var Y,le,ie,oe,Z,B=-1,X=I.length,J=0,P=[],H=b?p:m,Q=[];for(v=!1,i=!1,a=!1,le=0;le<X;le++)Q[le]=k(I[le]);for(ie=0;ie<X;ie++){if(Z=J,P[ie]=_(I,Q,P,ie),Y=240&(J=H[Z][x[P[ie]]]),J&=15,O[ie]=oe=H[J][5],Y>0)if(Y===16){for(le=B;le<ie;le++)O[le]=1;B=-1}else B=-1;if(H[J][6])B===-1&&(B=ie);else if(B>-1){for(le=B;le<ie;le++)O[le]=oe;B=-1}Q[ie]==="B"&&(O[ie]=0),W.hiLevel|=oe}a&&function(G,ae,xe){for(var we=0;we<xe;we++)if(G[we]==="S"){ae[we]=b;for(var de=we-1;de>=0&&G[de]==="WS";de--)ae[de]=b}}(Q,O,X)},$=function(I,O,W,Y,le){if(!(le.hiLevel<I)){if(I===1&&b===1&&!i)return O.reverse(),void(W&&W.reverse());for(var ie,oe,Z,B,X=O.length,J=0;J<X;){if(Y[J]>=I){for(Z=J+1;Z<X&&Y[Z]>=I;)Z++;for(B=J,oe=Z-1;B<oe;B++,oe--)ie=O[B],O[B]=O[oe],O[oe]=ie,W&&(ie=W[B],W[B]=W[oe],W[oe]=ie);J=Z}J++}}},K=function(I,O,W){var Y=I.split(""),le={hiLevel:b};return W||(W=[]),L(Y,W,le),function(ie,oe,Z){if(Z.hiLevel!==0&&u)for(var B,X=0;X<ie.length;X++)oe[X]===1&&(B=N.indexOf(ie[X]))>=0&&(ie[X]=N[B+1])}(Y,W,le),$(2,Y,O,W,le),$(1,Y,O,W,le),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(I,O,W){if(function(le,ie){if(ie)for(var oe=0;oe<le.length;oe++)ie[oe]=oe;l===void 0&&(l=C(le)),d===void 0&&(d=C(le))}(I,O),o||!c||d)if(o&&c&&l^d)b=l?1:0,I=M(I,O,W);else if(!o&&c&&d)b=l?1:0,I=K(I,O,W),I=M(I,O);else if(!o||l||c||d){if(o&&!c&&l^d)I=M(I,O),l?(b=0,I=K(I,O,W)):(b=1,I=K(I,O,W),I=M(I,O));else if(o&&l&&!c&&d)b=1,I=K(I,O,W),I=M(I,O);else if(!o&&!c&&l^d){var Y=u;l?(b=1,I=K(I,O,W),b=0,u=!1,I=K(I,O,W),u=Y):(b=0,I=K(I,O,W),I=M(I,O),b=1,u=!1,I=K(I,O,W),u=Y,I=M(I,O))}}else b=0,I=K(I,O,W);else b=l?1:0,I=K(I,O,W);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,d=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,s.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([s.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([s.doBidiReorder(i[l])]);n.text=o}else n.text=s.doBidiReorder(i);s.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function e(t){var s;if(this.rawData=t,s=this.contents=new _l(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new fF(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ZO(this.contents),this.head=new tF(this),this.name=new aF(this),this.cmap=new ik(this),this.toUnicode={},this.hhea=new sF(this),this.maxp=new oF(this),this.hmtx=new lF(this),this.post=new nF(this),this.os2=new rF(this),this.loca=new hF(this),this.glyf=new cF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(s=i>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/s)||0;return o*(s/1e3)},e.prototype.lineHeight=function(t,s){var n;return s==null&&(s=!1),n=s?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ca,_l=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,n;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n[s]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var s,n,i;for(i=[],s=0,n=t.length;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push(this.writeByte(t.charCodeAt(s)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,n,i,a,o,l,c;return t=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*s+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var s,n;return s=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,n;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s.push(this.readByte());return s},e.prototype.write=function(t){var s,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)s=t[n],a.push(this.writeByte(s));return a},e}(),ZO=function(){var e;function t(s){var n,i,a;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(s){var n,i,a,o,l,c,d,u,f,m,p,x,j;for(j in p=Object.keys(s).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),u=16*p-f,(i=new _l).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(u),a=16*p,d=i.pos+a,l=null,x=[],s)for(m=s[j],i.writeString(j),i.writeInt(e(m)),i.writeInt(d),i.writeInt(m.length),x=x.concat(m),j==="head"&&(l=d),d+=m.length;d%4;)x.push(0),d++;return i.write(x),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(s){var n,i,a,o;for(s=ak.call(s);s.length%4;)s.push(0);for(a=new _l(s),i=0,n=0,o=s.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),eF={}.hasOwnProperty,Fa=function(e,t){for(var s in t)eF.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ca=function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var tF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var n;return(n=new _l).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(s),n.writeShort(this.glyphDataFormat),n.data},t}(),iN=function(){function e(t,s){var n,i,a,o,l,c,d,u,f,m,p,x,j,N,y,v,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,a=function(){var k,C;for(C=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)C.push(t.readUInt16());return C}(),t.pos+=2,j=function(){var k,C;for(C=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)C.push(t.readUInt16());return C}(),d=function(){var k,C;for(C=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)C.push(t.readUInt16());return C}(),u=function(){var k,C;for(C=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)C.push(t.readUInt16());return C}(),i=(this.length-t.pos+this.offset)/2,l=function(){var k,C;for(C=[],c=k=0;0<=i?k<i:k>i;c=0<=i?++k:--k)C.push(t.readUInt16());return C}(),c=y=0,b=a.length;y<b;c=++y)for(N=a[c],n=v=x=j[c];x<=N?v<=N:v>=N;n=x<=N?++v:--v)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,s){var n,i,a,o,l,c,d,u,f,m,p,x,j,N,y,v,b,k,C,_,M,L,$,K,I,O,W,Y,le,ie,oe,Z,B,X,J,P,H,Q,G,ae,xe,we,de,Ee,Le,$e;switch(Y=new _l,o=Object.keys(t).sort(function(Be,Re){return Be-Re}),s){case"macroman":for(j=0,N=function(){var Be=[];for(x=0;x<256;++x)Be.push(0);return Be}(),v={0:0},a={},le=0,B=o.length;le<B;le++)v[de=t[i=o[le]]]==null&&(v[de]=++j),a[i]={old:t[i],new:v[t[i]]},N[i]=v[t[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(N),{charMap:a,subtable:Y.data,maxGlyphID:j+1};case"unicode":for(O=[],f=[],b=0,v={},n={},y=d=null,ie=0,X=o.length;ie<X;ie++)v[C=t[i=o[ie]]]==null&&(v[C]=++b),n[i]={old:C,new:v[C]},l=v[C]-i,y!=null&&l===d||(y&&f.push(y),O.push(i),d=l),y=i;for(y&&f.push(y),f.push(65535),O.push(65535),K=2*($=O.length),L=2*Math.pow(Math.log($)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,M=2*$-L,c=[],_=[],p=[],x=oe=0,J=O.length;oe<J;x=++oe){if(I=O[x],u=f[x],I===65535){c.push(0),_.push(0);break}if(I-(W=n[I].new)>=32768)for(c.push(0),_.push(2*(p.length+$-x)),i=Z=I;I<=u?Z<=u:Z>=u;i=I<=u?++Z:--Z)p.push(n[i].new);else c.push(W-I),_.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*$+2*p.length),Y.writeUInt16(0),Y.writeUInt16(K),Y.writeUInt16(L),Y.writeUInt16(m),Y.writeUInt16(M),xe=0,P=f.length;xe<P;xe++)i=f[xe],Y.writeUInt16(i);for(Y.writeUInt16(0),we=0,H=O.length;we<H;we++)i=O[we],Y.writeUInt16(i);for(Ee=0,Q=c.length;Ee<Q;Ee++)l=c[Ee],Y.writeUInt16(l);for(Le=0,G=_.length;Le<G;Le++)k=_[Le],Y.writeUInt16(k);for($e=0,ae=p.length;$e<ae;$e++)j=p[$e],Y.writeUInt16(j);return{charMap:n,subtable:Y.data,maxGlyphID:b+1}}},e}(),ik=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="cmap",t.prototype.parse=function(s){var n,i,a;for(s.pos=this.offset,this.version=s.readUInt16(),a=s.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new iN(s,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(s,n){var i,a;return n==null&&(n="macroman"),i=iN.encode(s,n),(a=new _l).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),sF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t}(),rF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(s.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(s.readInt());return i}(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(s.readInt());return i}(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t}(),nF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="post",t.prototype.parse=function(s){var n,i,a;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:break;case 131072:var o;for(i=s.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],a=[];s.pos<this.offset+this.length;)n=s.readByte(),a.push(this.names.push(s.readString(n)));return a;case 151552:return i=s.readUInt16(),this.offsets=s.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(s.readUInt32());return d}).call(this)}},t}(),iF=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="name",t.prototype.parse=function(s){var n,i,a,o,l,c,d,u,f,m,p;for(s.pos=this.offset,s.readShort(),n=s.readShort(),c=s.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+c+s.readShort()});for(d={},o=f=0,m=i.length;f<m;o=++f)a=i[o],s.pos=a.offset,u=s.readString(a.length),l=new iF(u,a),d[p=a.nameID]==null&&(d[p]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),oF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t}(),lF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="hmtx",t.prototype.parse=function(s){var n,i,a,o,l,c,d;for(s.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)f.push(s.readInt16());return f}(),this.widths=(function(){var u,f,m,p;for(p=[],u=0,f=(m=this.metrics).length;u<f;u++)o=m[u],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],d=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t}(),ak=[].slice,cF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var n,i,a,o,l,c,d,u,f,m;return s in this.cache?this.cache[s]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(s),(a=o.lengthOf(s))===0?this.cache[s]=null:(n.pos=this.offset+i,l=(c=new _l(n.read(a))).readShort(),u=c.readShort(),m=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[s]=l===-1?new uF(c,u,m,d,f):new dF(c,l,u,m,d,f),this.cache[s]))},t.prototype.encode=function(s,n,i){var a,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)a=s[n[c]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),dF=function(){function e(t,s,n,i,a,o){this.raw=t,this.numberOfContours=s,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),uF=function(){function e(t,s,n,i,a){var o,l;for(this.raw=t,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,s,n;for(s=new _l(ak.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)s.pos=this.glyphOffsets[t];return s.data},e}(),hF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fa(t,ca),t.prototype.tag="loca",t.prototype.parse=function(s){var n,i;return s.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*s.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(s.readUInt32());return o}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<n.length&&n[o]==l){++o,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},t}(),fF=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,n,i,a;for(s in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[s],t[s]=i[n];return t},e.prototype.glyphsFor=function(t){var s,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in s=[],i)(n=i[a])!=null&&n.compound&&s.push.apply(s,n.glyphIDs);if(s.length>0)for(a in c=this.glyphsFor(s))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,s){var n,i,a,o,l,c,d,u,f,m,p,x,j,N,y;for(i in n=ik.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},y=n.charMap)p[(c=y[i]).old]=c.new;for(x in m=n.maxGlyphID,o)x in p||(p[x]=m++);return u=function(v){var b,k;for(b in k={},v)k[v[b]]=b;return k}(p),f=Object.keys(u).sort(function(v,b){return v-b}),j=function(){var v,b,k;for(k=[],v=0,b=f.length;v<b;v++)l=f[v],k.push(u[l]);return k}(),a=this.font.glyf.encode(o,j,p),d=this.font.loca.encode(a.offsets,j),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();bt.API.PDFObject=function(){var e;function t(){}return e=function(s,n){return(Array(n+1).join("0")+s).slice(-n)},t.convert=function(s){var n,i,a,o;if(Array.isArray(s))return"["+function(){var l,c,d;for(d=[],l=0,c=s.length;l<c;l++)n=s[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(i in a=["<<"],s)o=s[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+s},t}();var af={},mF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ok={},fi={};let W1;const pF=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];fi.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};fi.getSymbolTotalCodewords=function(t){return pF[t]};fi.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};fi.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');W1=t};fi.isKanjiModeEnabled=function(){return typeof W1<"u"};fi.toSJIS=function(t){return W1(t)};var a0={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+s)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(a0);function lk(){this.buffer=[],this.length=0}lk.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let s=0;s<t;s++)this.putBit((e>>>t-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var gF=lk;function of(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}of.prototype.set=function(e,t,s,n){const i=e*this.size+t;this.data[i]=s,n&&(this.reservedBit[i]=!0)};of.prototype.get=function(e,t){return this.data[e*this.size+t]};of.prototype.xor=function(e,t,s){this.data[e*this.size+t]^=s};of.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var xF=of,ck={};(function(e){const t=fi.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(ck);var dk={};const yF=fi.getSymbolSize,aN=7;dk.getPositions=function(t){const s=yF(t);return[[0,0],[s-aN,0],[0,s-aN]]};var uk={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,d=null,u=null;for(let f=0;f<a;f++){l=c=0,d=u=null;for(let m=0;m<a;m++){let p=i.get(f,m);p===d?l++:(l>=5&&(o+=t.N1+(l-5)),d=p,l=1),p=i.get(m,f),p===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=p,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let u=0;u<a;u++)l=l<<1&2047|i.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*t.N4};function s(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,s(i,c,l))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){a(d),e.applyMask(d,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(d,i),u<c&&(c=u,l=d)}return l}})(uk);var o0={};const ll=a0,om=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lm=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];o0.getBlocksCount=function(t,s){switch(s){case ll.L:return om[(t-1)*4+0];case ll.M:return om[(t-1)*4+1];case ll.Q:return om[(t-1)*4+2];case ll.H:return om[(t-1)*4+3];default:return}};o0.getTotalCodewordsCount=function(t,s){switch(s){case ll.L:return lm[(t-1)*4+0];case ll.M:return lm[(t-1)*4+1];case ll.Q:return lm[(t-1)*4+2];case ll.H:return lm[(t-1)*4+3];default:return}};var hk={},l0={};const lh=new Uint8Array(512),wp=new Uint8Array(256);(function(){let t=1;for(let s=0;s<255;s++)lh[s]=t,wp[t]=s,t<<=1,t&256&&(t^=285);for(let s=255;s<512;s++)lh[s]=lh[s-255]})();l0.log=function(t){if(t<1)throw new Error("log("+t+")");return wp[t]};l0.exp=function(t){return lh[t]};l0.mul=function(t,s){return t===0||s===0?0:lh[wp[t]+wp[s]]};(function(e){const t=l0;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=t.mul(n[o],i[l]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(hk);const fk=hk;function G1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}G1.prototype.initialize=function(t){this.degree=t,this.genPoly=fk.generateECPolynomial(this.degree)};G1.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(t.length+this.degree);s.set(t);const n=fk.mod(s,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var vF=G1,mk={},Il={},K1={};K1.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ba={};const pk="[0-9]+",bF="[A-Z $%*+\\-./:]+";let Vh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Vh=Vh.replace(/u/g,"\\u");const wF="(?:(?![A-Z0-9 $%*+\\-./:]|"+Vh+`)(?:.|[\r
]))+`;Ba.KANJI=new RegExp(Vh,"g");Ba.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ba.BYTE=new RegExp(wF,"g");Ba.NUMERIC=new RegExp(pk,"g");Ba.ALPHANUMERIC=new RegExp(bF,"g");const NF=new RegExp("^"+Vh+"$"),jF=new RegExp("^"+pk+"$"),SF=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ba.testKanji=function(t){return NF.test(t)};Ba.testNumeric=function(t){return jF.test(t)};Ba.testAlphanumeric=function(t){return SF.test(t)};(function(e){const t=K1,s=Ba;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return s.testNumeric(a)?e.NUMERIC:s.testAlphanumeric(a)?e.ALPHANUMERIC:s.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return n(a)}catch{return o}}})(Il);(function(e){const t=fi,s=o0,n=a0,i=Il,a=K1,o=7973,l=t.getBCHDigit(o);function c(m,p,x){for(let j=1;j<=40;j++)if(p<=e.getCapacity(j,x,m))return j}function d(m,p){return i.getCharCountIndicator(m,p)+4}function u(m,p){let x=0;return m.forEach(function(j){const N=d(j.mode,p);x+=N+j.getBitsLength()}),x}function f(m,p){for(let x=1;x<=40;x++)if(u(m,x)<=e.getCapacity(x,p,i.MIXED))return x}e.from=function(p,x){return a.isValid(p)?parseInt(p,10):x},e.getCapacity=function(p,x,j){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=i.BYTE);const N=t.getSymbolTotalCodewords(p),y=s.getTotalCodewordsCount(p,x),v=(N-y)*8;if(j===i.MIXED)return v;const b=v-d(j,p);switch(j){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(p,x){let j;const N=n.from(x,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,N);if(p.length===0)return 1;j=p[0]}else j=p;return c(j.mode,j.getLength(),N)},e.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;t.getBCHDigit(x)-l>=0;)x^=o<<t.getBCHDigit(x)-l;return p<<12|x}})(mk);var gk={};const $y=fi,xk=1335,kF=21522,oN=$y.getBCHDigit(xk);gk.getEncodedBits=function(t,s){const n=t.bit<<3|s;let i=n<<10;for(;$y.getBCHDigit(i)-oN>=0;)i^=xk<<$y.getBCHDigit(i)-oN;return(n<<10|i)^kF};var yk={};const _F=Il;function Gd(e){this.mode=_F.NUMERIC,this.data=e.toString()}Gd.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Gd.prototype.getLength=function(){return this.data.length};Gd.prototype.getBitsLength=function(){return Gd.getBitsLength(this.data.length)};Gd.prototype.write=function(t){let s,n,i;for(s=0;s+3<=this.data.length;s+=3)n=this.data.substr(s,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-s;a>0&&(n=this.data.substr(s),i=parseInt(n,10),t.put(i,a*3+1))};var CF=Gd;const AF=Il,Ug=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Kd(e){this.mode=AF.ALPHANUMERIC,this.data=e}Kd.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Kd.prototype.getLength=function(){return this.data.length};Kd.prototype.getBitsLength=function(){return Kd.getBitsLength(this.data.length)};Kd.prototype.write=function(t){let s;for(s=0;s+2<=this.data.length;s+=2){let n=Ug.indexOf(this.data[s])*45;n+=Ug.indexOf(this.data[s+1]),t.put(n,11)}this.data.length%2&&t.put(Ug.indexOf(this.data[s]),6)};var EF=Kd;const PF=Il;function Yd(e){this.mode=PF.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Yd.getBitsLength=function(t){return t*8};Yd.prototype.getLength=function(){return this.data.length};Yd.prototype.getBitsLength=function(){return Yd.getBitsLength(this.data.length)};Yd.prototype.write=function(e){for(let t=0,s=this.data.length;t<s;t++)e.put(this.data[t],8)};var TF=Yd;const LF=Il,MF=fi;function Jd(e){this.mode=LF.KANJI,this.data=e}Jd.getBitsLength=function(t){return t*13};Jd.prototype.getLength=function(){return this.data.length};Jd.prototype.getBitsLength=function(){return Jd.getBitsLength(this.data.length)};Jd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let s=MF.toSJIS(this.data[t]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),e.put(s,13)}};var IF=Jd,vk={exports:{}};(function(e){var t={single_source_shortest_paths:function(s,n,i){var a={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,d,u,f,m,p,x,j,N;!l.empty();){c=l.pop(),d=c.value,f=c.cost,m=s[d]||{};for(u in m)m.hasOwnProperty(u)&&(p=m[u],x=f+p,j=o[u],N=typeof o[u]>"u",(N||j>x)&&(o[u]=x,l.push(u,x),a[u]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return a},extract_shortest_path_from_predecessor_list:function(s,n){for(var i=[],a=n;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,n,i){var a=t.single_source_shortest_paths(s,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var n=t.PriorityQueue,i={},a;s=s||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=s.sorter||n.default_sorter,i},default_sorter:function(s,n){return s.cost-n.cost},push:function(s,n){var i={value:s,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(vk);var RF=vk.exports;(function(e){const t=Il,s=CF,n=EF,i=TF,a=IF,o=Ba,l=fi,c=RF;function d(y){return unescape(encodeURIComponent(y)).length}function u(y,v,b){const k=[];let C;for(;(C=y.exec(b))!==null;)k.push({data:C[0],index:C.index,mode:v,length:C[0].length});return k}function f(y){const v=u(o.NUMERIC,t.NUMERIC,y),b=u(o.ALPHANUMERIC,t.ALPHANUMERIC,y);let k,C;return l.isKanjiModeEnabled()?(k=u(o.BYTE,t.BYTE,y),C=u(o.KANJI,t.KANJI,y)):(k=u(o.BYTE_KANJI,t.BYTE,y),C=[]),v.concat(b,k,C).sort(function(M,L){return M.index-L.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function m(y,v){switch(v){case t.NUMERIC:return s.getBitsLength(y);case t.ALPHANUMERIC:return n.getBitsLength(y);case t.KANJI:return a.getBitsLength(y);case t.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(v,b){const k=v.length-1>=0?v[v.length-1]:null;return k&&k.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function x(y){const v=[];for(let b=0;b<y.length;b++){const k=y[b];switch(k.mode){case t.NUMERIC:v.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:v.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:v.push([k,{data:k.data,mode:t.BYTE,length:d(k.data)}]);break;case t.BYTE:v.push([{data:k.data,mode:t.BYTE,length:d(k.data)}])}}return v}function j(y,v){const b={},k={start:{}};let C=["start"];for(let _=0;_<y.length;_++){const M=y[_],L=[];for(let $=0;$<M.length;$++){const K=M[$],I=""+_+$;L.push(I),b[I]={node:K,lastCount:0},k[I]={};for(let O=0;O<C.length;O++){const W=C[O];b[W]&&b[W].node.mode===K.mode?(k[W][I]=m(b[W].lastCount+K.length,K.mode)-m(b[W].lastCount,K.mode),b[W].lastCount+=K.length):(b[W]&&(b[W].lastCount=K.length),k[W][I]=m(K.length,K.mode)+4+t.getCharCountIndicator(K.mode,v))}}C=L}for(let _=0;_<C.length;_++)k[C[_]].end=0;return{map:k,table:b}}function N(y,v){let b;const k=t.getBestModeForData(y);if(b=t.from(v,k),b!==t.BYTE&&b.bit<k.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(k));switch(b===t.KANJI&&!l.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new s(y);case t.ALPHANUMERIC:return new n(y);case t.KANJI:return new a(y);case t.BYTE:return new i(y)}}e.fromArray=function(v){return v.reduce(function(b,k){return typeof k=="string"?b.push(N(k,null)):k.data&&b.push(N(k.data,k.mode)),b},[])},e.fromString=function(v,b){const k=f(v,l.isKanjiModeEnabled()),C=x(k),_=j(C,b),M=c.find_path(_.map,"start","end"),L=[];for(let $=1;$<M.length-1;$++)L.push(_.table[M[$]].node);return e.fromArray(p(L))},e.rawSplit=function(v){return e.fromArray(f(v,l.isKanjiModeEnabled()))}})(yk);const c0=fi,zg=a0,DF=gF,OF=xF,FF=ck,BF=dk,Vy=uk,qy=o0,UF=vF,Np=mk,zF=gk,$F=Il,$g=yk;function VF(e,t){const s=e.size,n=BF.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||s<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||s<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(a+l,o+c,!0,!0):e.set(a+l,o+c,!1,!0))}}function qF(e){const t=e.size;for(let s=8;s<t-8;s++){const n=s%2===0;e.set(s,6,n,!0),e.set(6,s,n,!0)}}function HF(e,t){const s=FF.getPositions(t);for(let n=0;n<s.length;n++){const i=s[n][0],a=s[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(i+o,a+l,!0,!0):e.set(i+o,a+l,!1,!0)}}function WF(e,t){const s=e.size,n=Np.getEncodedBits(t);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+s-8-3,o=(n>>l&1)===1,e.set(i,a,o,!0),e.set(a,i,o,!0)}function Vg(e,t,s){const n=e.size,i=zF.getEncodedBits(t,s);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(n-15+a,8,o,!0),a<8?e.set(8,n-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(n-8,8,1,!0)}function GF(e,t){const s=e.size;let n=-1,i=s-1,a=7,o=0;for(let l=s-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let d=!1;o<t.length&&(d=(t[o]>>>a&1)===1),e.set(i,l-c,d),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||s<=i){i-=n,n=-n;break}}}function KF(e,t,s){const n=new DF;s.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),$F.getCharCountIndicator(c.mode,e)),c.write(n)});const i=c0.getSymbolTotalCodewords(e),a=qy.getTotalCodewordsCount(e,t),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return YF(n,e,t)}function YF(e,t,s){const n=c0.getSymbolTotalCodewords(t),i=qy.getTotalCodewordsCount(t,s),a=n-i,o=qy.getBlocksCount(t,s),l=n%o,c=o-l,d=Math.floor(n/o),u=Math.floor(a/o),f=u+1,m=d-u,p=new UF(m);let x=0;const j=new Array(o),N=new Array(o);let y=0;const v=new Uint8Array(e.buffer);for(let M=0;M<o;M++){const L=M<c?u:f;j[M]=v.slice(x,x+L),N[M]=p.encode(j[M]),x+=L,y=Math.max(y,L)}const b=new Uint8Array(n);let k=0,C,_;for(C=0;C<y;C++)for(_=0;_<o;_++)C<j[_].length&&(b[k++]=j[_][C]);for(C=0;C<m;C++)for(_=0;_<o;_++)b[k++]=N[_][C];return b}function JF(e,t,s,n){let i;if(Array.isArray(e))i=$g.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const u=$g.rawSplit(e);d=Np.getBestVersionForData(u,s)}i=$g.fromString(e,d||40)}else throw new Error("Invalid data");const a=Np.getBestVersionForData(i,s);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=KF(t,s,i),l=c0.getSymbolSize(t),c=new OF(l);return VF(c,t),qF(c),HF(c,t),Vg(c,s,0),t>=7&&WF(c,t),GF(c,o),isNaN(n)&&(n=Vy.getBestMask(c,Vg.bind(null,c,s))),Vy.applyMask(n,c),Vg(c,s,n),{modules:c,version:t,errorCorrectionLevel:s,maskPattern:n,segments:i}}ok.create=function(t,s){if(typeof t>"u"||t==="")throw new Error("No input text");let n=zg.M,i,a;return typeof s<"u"&&(n=zg.from(s.errorCorrectionLevel,zg.M),i=Np.from(s.version),a=Vy.from(s.maskPattern),s.toSJISFunc&&c0.setToSJISFunction(s.toSJISFunc)),JF(t,i,n,a)};var bk={},Y1={};(function(e){function t(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let n=s.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+s);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const o=i.modules.size,l=i.modules.data,c=e.getScale(o,a),d=Math.floor((o+a.margin*2)*c),u=a.margin*c,f=[a.color.light,a.color.dark];for(let m=0;m<d;m++)for(let p=0;p<d;p++){let x=(m*d+p)*4,j=a.color.light;if(m>=u&&p>=u&&m<d-u&&p<d-u){const N=Math.floor((m-u)/c),y=Math.floor((p-u)/c);j=f[l[N*o+y]?1:0]}n[x++]=j.r,n[x++]=j.g,n[x++]=j.b,n[x]=j.a}}})(Y1);(function(e){const t=Y1;function s(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=t.getOptions(c);const u=t.getImageWidth(a.modules.size,c),f=d.getContext("2d"),m=f.createImageData(u,u);return t.qrToImageData(m.data,a,c),s(f,d,u),f.putImageData(m,0,0),d},e.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=e.render(a,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return d.toDataURL(u,f.quality)}})(bk);var wk={};const XF=Y1;function lN(e,t){const s=e.a/255,n=t+'="'+e.hex+'"';return s<1?n+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function qg(e,t,s){let n=e+t;return typeof s<"u"&&(n+=" "+s),n}function QF(e,t,s){let n="",i=0,a=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);!c&&!a&&(a=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=a?qg("M",c+s,.5+d+s):qg("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(n+=qg("h",o),o=0)):i++}return n}wk.render=function(t,s,n){const i=XF.getOptions(s),a=t.modules.size,o=t.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+lN(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+lN(i.color.dark,"stroke")+' d="'+QF(o,a,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,m),m};const ZF=mF,Hy=ok,Nk=bk,eB=wk;function J1(e,t,s,n,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!ZF())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=s,s=t,t=n=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=s,s=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(s=t,t=n=void 0):o===2&&!t.getContext&&(n=s,s=t,t=void 0),new Promise(function(c,d){try{const u=Hy.create(s,n);c(e(u,t,n))}catch(u){d(u)}})}try{const c=Hy.create(s,n);i(null,e(c,t,n))}catch(c){i(c)}}af.create=Hy.create;af.toCanvas=J1.bind(null,Nk.render);af.toDataURL=J1.bind(null,Nk.renderToDataURL);af.toString=J1.bind(null,function(e,t,s){return eB.render(e,s)});const rs={name:"PureLove",tagline:"Find Your Perfect Match",email:"support@purelove.com",website:"https://purelove.com",primaryColor:[244,63,94]};var d0=(e=>(e.STANDARD="standard",e.DETAILED="detailed",e.MINIMAL="minimal",e.INVOICE="invoice",e))(d0||{});const tB=(e,t="EUR")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Wy=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}),sB=()=>{const e=Date.now(),t=Math.random().toString(36).substring(2,8).toUpperCase();return`PL-${e}-${t}`},rB=async e=>{try{return await af.toDataURL(e,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"})}catch(t){return console.error("QR Code generation failed:",t),""}},X1=async(e,t="standard",s="completed")=>{try{const n=new bt({orientation:"portrait",unit:"mm",format:"a4"}),i=`Order ID: ${e.orderId}
Subscription: ${e.subscriptionPlan}
Email: ${e.email}${e.transactionHash?`
Transaction Hash: ${e.transactionHash}`:""}`,a=await rB(i),o=n.internal.pageSize.width,l=n.internal.pageSize.height,c=15;let d=20;d=await nB(n,o,c,d,t),d=iB(n,o,d,s),d=aB(n,e,c,o,d),d=oB(n,e,c,o,d),d=lB(n,e,c,o,d,t),e.transactionHash&&(d=dB(n,e,c,o,d)),d=cB(n,e,c,o,d),a&&uB(n,a,o,l,c),hB(n,o,l,c,s);const u=`PureLove_Receipt_${e.orderId}_${new Date().toISOString().split("T")[0]}.pdf`;n.save(u),console.log(`Receipt generated successfully: ${u}`)}catch(n){throw console.error("Receipt generation failed:",n),new Error("Failed to generate receipt. Please try again.")}},nB=async(e,t,s,n,i)=>{let a=n;return e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text(rs.name,s,a),a+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(80,80,80),e.text(rs.tagline,s,a),a+=5,e.text(rs.email,s,a),(i==="detailed"||i==="invoice")&&(a+=5,e.text(rs.website,s,a),a+=5),a+5},iB=(e,t,s,n)=>{let i=s;e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const a=n==="completed"?"SUBSCRIPTION RECEIPT":n==="pending"?"PAYMENT PENDING":n==="failed"?"PAYMENT FAILED":"SUBSCRIPTION RECEIPT";if(e.text(a,t/2,i,{align:"center"}),n!=="completed"){i+=8,e.setFontSize(10),e.setFont("helvetica","normal");const o=n==="pending"?[245,158,11]:n==="failed"?[239,68,68]:[16,185,129];e.setTextColor(o[0],o[1],o[2]);const l=n==="pending"?"Payment confirmation pending":n==="failed"?"Payment processing failed":"Payment completed successfully";e.text(l,t/2,i,{align:"center"})}return i+10},aB=(e,t,s,n,i)=>{let a=i;const o=(l,c,d=!1)=>{e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text(l,s,a),e.setFont("helvetica",d?"bold":"normal"),e.setTextColor(0,0,0),e.text(c,n-s,a,{align:"right"}),a+=6};return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text("ORDER INFORMATION",s,a),a+=8,e.setFontSize(10),o("Order ID:",t.orderId,!0),o("Date:",Wy(t.date)),o("Email:",t.email),t.customerName&&o("Customer:",t.customerName),a+=3,e.setLineWidth(.3),e.setDrawColor(200,200,200),e.line(s,a,n-s,a),a+8},oB=(e,t,s,n,i)=>{let a=i;const o=(l,c)=>{e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text(l,s,a),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(c,n-s,a,{align:"right"}),a+=6};return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text("SUBSCRIPTION DETAILS",s,a),a+=8,e.setFontSize(10),o("Plan:",t.subscriptionPlan),o("Duration:",t.subscriptionDuration),o("Start Date:",Wy(t.subscriptionStartDate)),o("End Date:",Wy(t.subscriptionEndDate)),o("Coins Included:",t.coinsIncluded.toString()),a+=3,e.setLineWidth(.3),e.setDrawColor(200,200,200),e.line(s,a,n-s,a),a+8},lB=(e,t,s,n,i,a)=>{let o=i;const l=(c,d,u)=>{e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text(c,s,o),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(d,n-s,o,{align:"right"}),o+=6};return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text("PAYMENT DETAILS",s,o),o+=8,e.setFontSize(10),l("Payment Method:",t.paymentMethod),t.cryptoAsset&&l("Crypto Asset:",t.cryptoAsset),t.cryptoAmount&&l("Crypto Amount:",t.cryptoAmount),o+=3,e.setLineWidth(.5),e.setDrawColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.line(s,o,n-s,o),o+=8,e.setFont("helvetica","bold"),e.setFontSize(14),e.setTextColor(0,0,0),e.text("TOTAL AMOUNT:",s,o),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text(tB(t.finalPrice),n-s,o,{align:"right"}),o+10},cB=(e,t,s,n,i)=>{let a=i;return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text("SUBSCRIPTION FEATURES",s,a),a+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),t.features.forEach(o=>{e.text(`• ${o}`,s+5,a),a+=5}),a+=3,e.setLineWidth(.3),e.setDrawColor(200,200,200),e.line(s,a,n-s,a),a+8},dB=(e,t,s,n,i)=>{let a=i;e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(rs.primaryColor[0],rs.primaryColor[1],rs.primaryColor[2]),e.text("TRANSACTION DETAILS",s,a),a+=8,e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(60,60,60),e.text("Transaction Hash:",s,a),a+=5,e.setFont("helvetica","normal"),e.setTextColor(0,0,0);const o=e.splitTextToSize(t.transactionHash||"",n-2*s);if(e.text(o,s,a),a+=o.length*4,t.cryptoAddress){a+=3,e.setTextColor(60,60,60),e.text("Payment Address:",s,a),a+=5,e.setTextColor(0,0,0);const l=e.splitTextToSize(t.cryptoAddress,n-2*s);e.text(l,s,a),a+=l.length*4}return a+8},uB=(e,t,s,n,i)=>{const o=s-i-25,l=n-i-25-15;try{e.addImage(t,"PNG",o,l,25,25),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("Scan for verification",o+25/2,l+25+5,{align:"center"})}catch{console.warn("QR Code could not be added to receipt")}},hB=(e,t,s,n,i)=>{const a=s-15;e.setFontSize(8),e.setTextColor(100,100,100),e.text(`© ${new Date().getFullYear()} ${rs.name}. All rights reserved.`,n,a);const o=i==="completed"?"This is an official receipt for your subscription.":"This document serves as proof of your subscription request.";e.text(o,t-n,a,{align:"right"}),e.text(`For support: ${rs.email}`,t/2,a-5,{align:"center"})},Q1=(e,t,s,n,i,a,o,l,c,d,u)=>({orderId:e||sB(),date:new Date().toISOString(),subscriptionPlan:t,subscriptionDuration:s,originalPrice:(u==null?void 0:u.originalPrice)||i,finalPrice:i,paymentMethod:a,email:n,subscriptionStartDate:o,subscriptionEndDate:l,coinsIncluded:c,features:d,...u});function fB(){var k,C,_,M,L,$,K,I,O,W,Y;const e=Dr(),t=oa(),{user:s}=Gr(),i=new URLSearchParams(t.search).get("dev_bypass")==="true",a=((k=t.state)==null?void 0:k.message)||(i?"Development bypass completed successfully!":"Payment completed successfully!"),o=((C=t.state)==null?void 0:C.coins)||0,l=(_=t.state)==null?void 0:_.subscription,c=(M=t.state)==null?void 0:M.transactionId,d=(L=t.state)==null?void 0:L.expiresAt,u=($=t.state)==null?void 0:$.amount,f=(K=t.state)==null?void 0:K.paymentMethod,m=(I=t.state)==null?void 0:I.error,p=(O=t.state)==null?void 0:O.cryptoAmount,x=(W=t.state)==null?void 0:W.cryptoAddress,j=(Y=t.state)==null?void 0:Y.transactionHash,N=le=>new Date(le).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=le=>({btc:"Bitcoin (BTC)",eth:"Ethereum (ETH)",usdttrc20:"USDT (TRC-20)",usdterc20:"USDT (ERC-20)",usdc:"USD Coin (USDC)",ltc:"Litecoin (LTC)",sol:"Solana (SOL)"})[le]||le.toUpperCase(),v=le=>({"Weekly Chat Subscription":["Unlimited messaging for 7 days","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"],"Monthly Chat Subscription":["Unlimited messaging for 30 days","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"],"Quarterly Chat Subscription":["Unlimited messaging for 90 days","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]})[le]||["Premium subscription features"],b=async()=>{var le;if(!l||!c||!(s!=null&&s.email)){Ei.error("Receipt data not available");return}try{const ie=new Date().toISOString(),oe=d||new Date(Date.now()+l.duration*24*60*60*1e3).toISOString(),Z=Q1(c,l.name,`${l.duration} days`,s.email,u||l.price,y(f||"Cryptocurrency"),ie,oe,o||l.coins||0,v(l.name),{cryptoAsset:y(f||""),cryptoAmount:p,cryptoAddress:x,transactionHash:j,customerName:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:((le=s.email)==null?void 0:le.split("@")[0])||"Customer"});await X1(Z,d0.DETAILED),Ei.success("Receipt downloaded successfully!")}catch(ie){console.error("Receipt generation failed:",ie),Ei.error("Failed to generate receipt. Please try again.")}};return r.jsx("div",{className:`min-h-screen ${m?"bg-gradient-to-br from-amber-50 to-orange-50":"bg-gradient-to-br from-green-50 to-emerald-50"} flex items-center justify-center py-8`,children:r.jsx("div",{className:"max-w-lg w-full mx-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsx("div",{className:`${m?"bg-amber-100":"bg-green-100"} h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6`,children:m?r.jsx(po,{className:"h-12 w-12 text-amber-600"}):r.jsx(jr,{className:"h-12 w-12 text-green-600"})}),r.jsx("h1",{className:`text-3xl font-bold ${m?"text-amber-900":"text-gray-900"} mb-4 text-center`,children:m?"Payment Received":"Payment Successful!"}),i&&r.jsxs("div",{className:"bg-orange-100 border border-orange-200 rounded-lg p-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-orange-600",children:"🚀"}),r.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Development Bypass Mode"})]}),r.jsx("p",{className:"text-xs text-center text-orange-700 mt-1",children:"This subscription was activated using the development bypass feature"})]}),r.jsx("p",{className:"text-gray-600 mb-6 text-center",children:a}),l&&c&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Th,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Receipt"})]}),r.jsxs("button",{onClick:b,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 transition-colors",children:[r.jsx(rp,{className:"h-4 w-4"}),"Download PDF"]})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subscription:"}),r.jsx("span",{className:"font-medium text-gray-900",children:l.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Duration:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[l.duration," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["€",u==null?void 0:u.toFixed(2)]})]}),f&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),r.jsx("span",{className:"font-medium text-gray-900",children:y(f)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),r.jsx("span",{className:"font-mono text-xs text-gray-900 break-all",children:c})]}),d&&!m&&r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("span",{className:"text-gray-600",children:"Expires:"}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-medium text-gray-900",children:N(d)}),r.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[r.jsx(_r,{className:"h-3 w-3"}),"Active subscription"]})]})]})]})]}),o>0&&r.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 mb-6 border border-rose-200",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Jn,{className:"h-6 w-6 text-rose-600"}),r.jsxs("span",{className:"font-semibold text-rose-600",children:[o," coins"]})]}),r.jsx("p",{className:"text-sm text-gray-600 text-center",children:"have been added to your account"})]}),m&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-amber-800 text-sm text-center",children:[r.jsx("strong",{children:"Important:"})," Your payment was processed successfully, but there was a technical issue activating your subscription. Please contact support with your transaction ID above, and we'll activate your subscription manually within 24 hours."]})}),r.jsxs("div",{className:"space-y-4",children:[!m&&l?r.jsxs("button",{onClick:()=>e("/messages"),className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all duration-300 font-medium flex items-center justify-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5"}),"Start Messaging",r.jsx(sp,{className:"h-5 w-5"})]}):r.jsxs("button",{onClick:()=>e("/browse"),className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all duration-300 font-medium flex items-center justify-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5"}),"Start Browsing Profiles",r.jsx(sp,{className:"h-5 w-5"})]}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full bg-white border-2 border-rose-300 text-rose-600 py-3 rounded-lg hover:bg-rose-50 transition-all duration-300 font-medium",children:"View My Dashboard"})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:m?"Need immediate help?":"Questions about your purchase?"}),r.jsx("a",{href:"mailto:support@purelove.com",className:"text-rose-600 hover:text-rose-700 text-sm font-medium",children:"support@purelove.com"})]})]})})})}function mB(){const{user:e}=Gr(),t=Dr(),[s,n]=E.useState([]),[i,a]=E.useState([]),[o,l]=E.useState(!0),[c,d]=E.useState("all"),[u,f]=E.useState("");E.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e)try{l(!0);const{data:_,error:M}=await Fe.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(M)throw M;const{data:L,error:$}=await Fe.from("subscription_purchases").select("*").eq("user_id",e.id).order("purchased_at",{ascending:!1});if($)throw $;n(_||[]),a(L||[])}catch(_){console.error("Error fetching billing data:",_),Ei.error("Failed to load billing information")}finally{l(!1)}},p=_=>{switch(_){case"completed":return r.jsx(jr,{className:"h-5 w-5 text-green-500"});case"pending":return r.jsx(Vd,{className:"h-5 w-5 text-yellow-500"});case"failed":return r.jsx(zp,{className:"h-5 w-5 text-red-500"});case"refunded":return r.jsx(ud,{className:"h-5 w-5 text-blue-500"});default:return r.jsx(po,{className:"h-5 w-5 text-gray-500"})}},x=_=>{switch(_){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=_=>({btc:"Bitcoin (BTC)",eth:"Ethereum (ETH)",usdttrc20:"USDT (TRC-20)",usdterc20:"USDT (ERC-20)",usdc:"USD Coin (USDC)",ltc:"Litecoin (LTC)",sol:"Solana (SOL)"})[_]||_.toUpperCase(),N=_=>({"weekly-chat":["Unlimited messaging for 7 days","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"],"monthly-chat":["Unlimited messaging for 30 days","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"],"quarterly-chat":["Unlimited messaging for 90 days","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]})[_]||["Premium subscription features"],y=async _=>{var M;if(!(e!=null&&e.email)){Ei.error("User email not available");return}try{const L={"weekly-chat":"Weekly Chat Subscription","monthly-chat":"Monthly Chat Subscription","quarterly-chat":"Quarterly Chat Subscription"},$=Q1(_.order_id,L[_.subscription_plan]||_.subscription_plan,`${_.subscription_duration} days`,e.email,_.amount,j(_.crypto_asset),_.created_at,_.expires_at||new Date(new Date(_.created_at).getTime()+_.subscription_duration*24*60*60*1e3).toISOString(),_.coins_added,N(_.subscription_plan),{cryptoAsset:j(_.crypto_asset),cryptoAmount:_.crypto_amount,cryptoAddress:_.crypto_address,transactionHash:_.transaction_hash,customerName:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:((M=e.email)==null?void 0:M.split("@")[0])||"Customer"});await X1($,d0.DETAILED),Ei.success("Receipt downloaded successfully!")}catch(L){console.error("Receipt generation failed:",L),Ei.error("Failed to generate receipt. Please try again.")}},v=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=s.filter(_=>{const M=c==="all"||_.status===c,L=u===""||_.order_id.toLowerCase().includes(u.toLowerCase())||_.subscription_plan.toLowerCase().includes(u.toLowerCase())||j(_.crypto_asset).toLowerCase().includes(u.toLowerCase());return M&&L}),k=e==null?void 0:e.chatSubscription,C=k&&new Date(k.expiresAt)>new Date;return o?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading billing information..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Billing & Subscriptions"}),r.jsx("p",{className:"text-gray-600",children:"Manage your payments, subscriptions, and download receipts"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(kd,{className:"h-6 w-6 text-rose-500"}),"Current Subscription"]}),r.jsxs("button",{onClick:()=>t("/pricing"),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:[r.jsx(_d,{className:"h-4 w-4"}),"Upgrade Plan"]})]}),C?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"font-medium text-green-800",children:"Active Subscription"})]}),r.jsxs("p",{className:"text-green-700",children:[k.type.replace("-"," ").replace(/\b\w/g,_=>_.toUpperCase())," Plan"]}),r.jsxs("p",{className:"text-sm text-green-600",children:["Expires: ",v(k.expiresAt)]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"flex items-center gap-1 text-green-600 mb-1",children:[r.jsx(Jn,{className:"h-4 w-4"}),r.jsxs("span",{className:"text-sm",children:[e.coins," coins available"]})]})})]})}):r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e!=null&&e.chatSubscription?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(po,{className:"h-5 w-5 text-amber-500"}),r.jsx("span",{className:"font-medium text-gray-700",children:e.chatSubscription.type?`${e.chatSubscription.type.replace("-"," ").replace(/\b\w/g,_=>_.toUpperCase())} Subscription Expired`:"Subscription Expired"})]}),r.jsxs("p",{className:"text-gray-600 mb-2",children:["Your subscription expired on ",new Date(e.chatSubscription.expiresAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Renew to continue unlimited messaging and premium features"}),r.jsx("button",{onClick:()=>t("/pricing"),className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"Renew Subscription"})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(po,{className:"h-5 w-5 text-gray-500"}),r.jsx("span",{className:"font-medium text-gray-700",children:"No Active Subscription"})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Subscribe to unlock unlimited messaging and premium features"}),r.jsx("button",{onClick:()=>t("/pricing"),className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"View Plans"})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(X8,{className:"h-5 w-5 text-gray-500"}),r.jsxs("select",{value:c,onChange:_=>d(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-rose-500 focus:border-rose-500",children:[r.jsx("option",{value:"all",children:"All Transactions"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsx(un,{className:"h-5 w-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search transactions...",value:u,onChange:_=>f(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 w-full sm:w-64"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Th,{className:"h-6 w-6 text-rose-500"}),"Payment History"]})}),b.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Th,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:s.length===0?"You haven't made any payments yet.":"No transactions match your current filters."}),s.length===0&&r.jsx("button",{onClick:()=>t("/pricing"),className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"View Subscription Plans"})]}):r.jsx("div",{className:"divide-y divide-gray-200",children:b.map(_=>r.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[p(_.status),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:[_.subscription_plan.replace("-"," ").replace(/\b\w/g,M=>M.toUpperCase())," Plan"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",_.order_id]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-900",children:["€",_.amount.toFixed(2)]}),r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${x(_.status)}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),r.jsx("p",{className:"font-medium",children:j(_.crypto_asset)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),r.jsx("p",{className:"font-medium",children:v(_.created_at)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Coins Added"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jn,{className:"h-4 w-4 text-rose-500"}),r.jsx("span",{className:"font-medium",children:_.coins_added})]})]})]}),_.crypto_amount&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Crypto Amount"}),r.jsx("p",{className:"font-mono text-sm",children:_.crypto_amount})]}),_.transaction_hash&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Transaction Hash"}),r.jsx("p",{className:"font-mono text-xs text-gray-500 break-all",children:_.transaction_hash})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"h-4 w-4 text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Duration: ",_.subscription_duration," days"]})]}),_.status==="completed"&&r.jsxs("button",{onClick:()=>y(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 transition-colors",children:[r.jsx(rp,{className:"h-4 w-4"}),"Download Receipt"]})]})]},_.id))})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need Help?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Issues"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Having trouble with a payment or need a refund?"}),r.jsx("a",{href:"mailto:billing@purelove.com",className:"text-rose-600 hover:text-rose-700 text-sm font-medium",children:"billing@purelove.com"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Subscription Support"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Questions about your subscription or features?"}),r.jsx("a",{href:"mailto:support@purelove.com",className:"text-rose-600 hover:text-rose-700 text-sm font-medium",children:"support@purelove.com"})]})]})]})]})})}function pB(){var b,k;const{user:e}=Gr(),t=Dr(),[s,n]=E.useState("overview"),[i,a]=E.useState([]),[o,l]=E.useState({profileViews:0,messagesReceived:0,profileCompleteness:0}),[c,d]=E.useState(!0);console.log("🔍 [DASHBOARD] DashboardPage rendered, user:",!!e,e==null?void 0:e.email),E.useEffect(()=>{console.log("🔍 [DASHBOARD] useEffect triggered, user:",!!e,e==null?void 0:e.email),e?(console.log("✅ [DASHBOARD] User found, fetching dashboard data..."),u()):(console.log("❌ [DASHBOARD] No user found, setting loading to false"),d(!1))},[e]);const u=async()=>{if(!e){console.log("❌ [DASHBOARD] fetchDashboardData called without user");return}console.log("🔄 [DASHBOARD] Starting to fetch dashboard data for user:",e.id);try{d(!0);const{data:C,error:_}=await Fe.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(_)throw console.error("❌ [DASHBOARD] Transactions error:",_),_;console.log("✅ [DASHBOARD] Transactions fetched:",(C==null?void 0:C.length)||0);const M=()=>{let $=0;const K=10;return e.firstName&&$++,e.lastName&&$++,e.bio&&$++,e.profession&&$++,e.country&&$++,e.city&&$++,e.photos&&e.photos.length>0&&$++,e.interests&&e.interests.length>0&&$++,e.languages&&e.languages.length>0&&$++,e.birthDate&&$++,Math.round($/K*100)},L={profileViews:Math.floor(Math.random()*100)+50,messagesReceived:Math.floor(Math.random()*25)+10,profileCompleteness:M()};a(C||[]),l(L),console.log("✅ [DASHBOARD] Dashboard data loaded successfully")}catch(C){console.error("❌ [DASHBOARD] Error fetching dashboard data:",C),Ei.error("Failed to load dashboard data")}finally{d(!1),console.log("✅ [DASHBOARD] Loading set to false")}},f=C=>{switch(C){case"completed":return r.jsx(jr,{className:"h-4 w-4 text-green-500"});case"pending":return r.jsx(Vd,{className:"h-4 w-4 text-yellow-500"});case"failed":return r.jsx(zp,{className:"h-4 w-4 text-red-500"});case"refunded":return r.jsx(ud,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(po,{className:"h-4 w-4 text-gray-500"})}},m=C=>({btc:"Bitcoin (BTC)",eth:"Ethereum (ETH)",usdttrc20:"USDT (TRC-20)",usdterc20:"USDT (ERC-20)",usdc:"USD Coin (USDC)",ltc:"Litecoin (LTC)",sol:"Solana (SOL)"})[C]||C.toUpperCase(),p=C=>({"weekly-chat":["Unlimited messaging for 7 days","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"],"monthly-chat":["Unlimited messaging for 30 days","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"],"quarterly-chat":["Unlimited messaging for 90 days","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]})[C]||["Premium subscription features"],x=async C=>{var _;try{if(!(e!=null&&e.email)||!C.subscription_plan){Ei.error("Receipt data incomplete");return}const M=Q1(C.id,C.subscription_plan,`${C.subscription_duration||30} days`,e.email,C.amount,m(C.crypto_asset||"crypto"),C.created_at,C.expires_at||new Date(new Date(C.created_at).getTime()+(C.subscription_duration||30)*24*60*60*1e3).toISOString(),C.coins_added||0,p(C.subscription_plan),{cryptoAsset:m(C.crypto_asset||"crypto"),cryptoAmount:C.crypto_amount,cryptoAddress:C.crypto_address,transactionHash:C.transaction_hash,customerName:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:((_=e.email)==null?void 0:_.split("@")[0])||"Customer"});await X1(M,d0.DETAILED),Ei.success("Receipt downloaded successfully!")}catch(M){console.error("Receipt generation failed:",M),Ei.error("Failed to generate receipt. Please try again.")}},j=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=e==null?void 0:e.chatSubscription,y=N&&new Date(N.expiresAt)>new Date,v=[{id:"overview",label:"Overview",icon:q8},{id:"profile",label:"Profile",icon:Oa},{id:"subscription",label:"Subscription",icon:kd},{id:"billing",label:"Billing",icon:cc},{id:"settings",label:"Settings",icon:sa}];return c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50",children:[r.jsx(js,{}),r.jsx("div",{className:"py-4 md:py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4",children:[r.jsxs("div",{className:"mb-6 md:mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-3 sm:gap-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Dashboard"}),r.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(e==null?void 0:e.firstName)||"User","!"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4",children:[r.jsxs(zs,{variant:"secondary",className:"font-medium text-xs md:text-sm",children:[r.jsx(Jn,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),(e==null?void 0:e.coins)||0," Coins"]}),y&&r.jsxs(zs,{className:"bg-green-100 text-green-800 font-medium text-xs md:text-sm",children:[r.jsx(kd,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"Premium Active"]})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6 mb-6 md:mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 md:gap-6",children:[r.jsxs("div",{className:"relative mx-auto sm:mx-0",children:[r.jsxs(dp,{className:"h-16 w-16 md:h-20 md:w-20",children:[r.jsx(up,{src:((b=e==null?void 0:e.photos)==null?void 0:b[0])||"https://danielschule.de/wp-content/uploads/2019/12/avatar.jpg"}),r.jsx(hp,{className:"text-base md:text-lg",children:((k=e==null?void 0:e.firstName)==null?void 0:k.charAt(0))||"U"})]}),(e==null?void 0:e.verified)&&r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1",children:r.jsx(ps,{className:"h-2 w-2 md:h-3 md:w-3 text-white"})})]}),r.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[r.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),(e==null?void 0:e.premium)&&r.jsxs(zs,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 mx-auto sm:mx-0 w-fit",children:[r.jsx(Lh,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),"Premium"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs md:text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[r.jsx(vc,{className:"h-3 w-3 md:h-4 md:w-4"}),r.jsxs("span",{className:"truncate",children:[e==null?void 0:e.city,", ",e==null?void 0:e.country]})]}),r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[r.jsx(yl,{className:"h-3 w-3 md:h-4 md:w-4"}),r.jsx("span",{className:"truncate",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[r.jsx(_r,{className:"h-3 w-3 md:h-4 md:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Joined "}),r.jsx("span",{children:j((e==null?void 0:e.createdAt)||new Date().toISOString())})]})]})]}),r.jsxs(Me,{onClick:()=>t("/edit-profile"),className:"bg-rose-500 hover:bg-rose-600 text-white w-full sm:w-auto text-sm md:text-base",children:[r.jsx(ag,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Edit Profile"]})]})})]}),r.jsx("div",{className:"mb-6 md:mb-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-1 md:p-2",children:[r.jsx("div",{className:"flex flex-col md:hidden space-y-1",children:v.map(C=>r.jsxs("button",{onClick:()=>n(C.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg font-medium text-sm transition-all ${s===C.id?"bg-rose-500 text-white shadow-md":"text-gray-600 hover:text-rose-600 hover:bg-rose-50"}`,children:[r.jsx(C.icon,{className:"h-4 w-4"}),C.label]},C.id))}),r.jsx("div",{className:"hidden md:flex space-x-1",children:v.map(C=>r.jsxs("button",{onClick:()=>n(C.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium text-sm transition-all ${s===C.id?"bg-rose-500 text-white shadow-md":"text-gray-600 hover:text-rose-600 hover:bg-rose-50"}`,children:[r.jsx(C.icon,{className:"h-4 w-4"}),C.label]},C.id))})]})}),s==="overview"&&r.jsxs("div",{className:"space-y-6 md:space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"bg-blue-100 p-2 md:p-3 rounded-lg",children:r.jsx(Di,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})}),r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 text-green-500"})]}),r.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:o.profileViews}),r.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Profile Views"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"bg-green-100 p-2 md:p-3 rounded-lg",children:r.jsx(Ns,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})}),r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 text-green-500"})]}),r.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:o.messagesReceived}),r.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Messages Received"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"bg-purple-100 p-2 md:p-3 rounded-lg",children:r.jsx(H8,{className:"h-4 w-4 md:h-6 md:w-6 text-purple-600"})}),r.jsxs("span",{className:"text-xs md:text-sm text-gray-500",children:[o.profileCompleteness,"%"]})]}),r.jsxs("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:[o.profileCompleteness,"%"]}),r.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Profile Complete"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[r.jsxs(Me,{onClick:()=>t("/browse"),className:"flex items-center gap-2 bg-rose-500 hover:bg-rose-600 text-white p-3 md:p-4 h-auto justify-start",children:[r.jsx(qs,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-sm md:text-base",children:"Find Matches"}),r.jsx("div",{className:"text-xs md:text-sm opacity-90",children:"Browse profiles"})]})]}),r.jsxs(Me,{onClick:()=>{Ei.success("Chat feature will open in the navbar")},className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white p-3 md:p-4 h-auto justify-start",children:[r.jsx(Ns,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-sm md:text-base",children:"Messages"}),r.jsx("div",{className:"text-xs md:text-sm opacity-90",children:"Use chat button in navbar"})]})]}),r.jsxs(Me,{onClick:()=>t("/pricing"),className:"flex items-center gap-2 bg-purple-500 hover:bg-purple-600 text-white p-3 md:p-4 h-auto justify-start",children:[r.jsx(kd,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-sm md:text-base",children:"Upgrade"}),r.jsx("div",{className:"text-xs md:text-sm opacity-90",children:"Get premium features"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),i.length===0?r.jsxs("div",{className:"text-center py-6 md:py-8",children:[r.jsx(Th,{className:"h-10 w-10 md:h-12 md:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"No transactions yet"}),r.jsx(Me,{onClick:()=>t("/pricing"),className:"mt-4 bg-rose-500 hover:bg-rose-600 text-white text-sm md:text-base",children:"View Plans"})]}):r.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.slice(0,3).map(C=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 md:p-4 border border-gray-200 rounded-lg gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[f(C.status),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm md:text-base",children:C.subscription_plan&&typeof C.subscription_plan=="string"?C.subscription_plan.replace("-"," ").replace(/\b\w/g,_=>_.toUpperCase())+" Plan":"Subscription Plan"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:j(C.created_at)})]})]}),r.jsxs("div",{className:"text-left sm:text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["€",C.amount.toFixed(2)]}),C.status==="completed"&&r.jsxs(Me,{onClick:()=>x(C),variant:"ghost",size:"sm",className:"text-rose-600 hover:text-rose-700 text-xs md:text-sm p-0 h-auto mt-1",children:[r.jsx(rp,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"Receipt"]})]})]},C.id)),r.jsx(Me,{onClick:()=>n("billing"),variant:"outline",className:"w-full text-sm md:text-base",children:"View All Transactions"})]})]})]}),s==="profile"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-3 sm:gap-0",children:[r.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Profile Information"}),r.jsxs(Me,{onClick:()=>t("/edit-profile"),className:"bg-rose-500 hover:bg-rose-600 text-white w-full sm:w-auto text-sm md:text-base",children:[r.jsx(ag,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Edit Profile"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Basic Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Oa,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsxs("span",{className:"text-sm md:text-base truncate",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yl,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm md:text-base truncate",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vc,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsxs("span",{className:"text-sm md:text-base truncate",children:[e==null?void 0:e.city,", ",e==null?void 0:e.country]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_r,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm md:text-base",children:e!=null&&e.birthDate?new Date(e.birthDate).toLocaleDateString():"Not specified"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Me"}),r.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg text-sm md:text-base",children:(e==null?void 0:e.bio)||"No bio added yet. Click Edit Profile to add one."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profession"}),r.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:(e==null?void 0:e.profession)||"Not specified"})]})]}),r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e!=null&&e.interests&&e.interests.length>0?e.interests.map((C,_)=>r.jsx(zs,{variant:"secondary",className:"text-xs md:text-sm",children:C},_)):r.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"No interests added yet"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e!=null&&e.languages&&e.languages.length>0?e.languages.map((C,_)=>r.jsxs(zs,{variant:"outline",className:"text-xs md:text-sm",children:[r.jsx(Co,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),C]},_)):r.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"No languages added yet"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Completeness"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o.profileCompleteness,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-rose-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.profileCompleteness}%`}})}),r.jsx("p",{className:"text-xs text-gray-500",children:"Complete your profile to get more matches and views"})]})]})]})]})]}),s==="subscription"&&r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-4 md:p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-amber-100 h-16 w-16 md:h-20 md:w-20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Jn,{className:"h-8 w-8 md:h-10 md:w-10 text-amber-600"})}),r.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-amber-800 mb-2",children:[(e==null?void 0:e.coins)||0," Coins"]}),r.jsx("p",{className:"text-amber-700 mb-4 text-sm md:text-base",children:"Use your coins for messages, calls, gifts, and premium features"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[r.jsx(Me,{onClick:()=>t("/pricing"),className:"bg-amber-500 hover:bg-amber-600 text-white text-sm md:text-base",children:"Buy More Coins"}),r.jsx(Me,{onClick:()=>t("/browse"),variant:"outline",className:"text-amber-600 border-amber-300 hover:bg-amber-50 text-sm md:text-base",children:"Start Messaging"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"How to Use Your Coins"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Ns,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Send Messages"}),r.jsx("span",{className:"text-xs text-blue-600",children:"Subscription"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx(Hn,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Virtual Gifts"}),r.jsx("span",{className:"text-xs text-purple-600",children:"5-50 coins each"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[r.jsx(aa,{className:"h-4 w-4 md:h-5 md:w-5 text-orange-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Voice Calls"}),r.jsx("span",{className:"text-xs text-orange-600",children:"400 coins/min"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(wo,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Video Calls"}),r.jsx("span",{className:"text-xs text-green-600",children:"1000 coins/min"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-rose-50 rounded-lg",children:[r.jsx(aa,{className:"h-4 w-4 md:h-5 md:w-5 text-rose-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Contact Info"}),r.jsx("span",{className:"text-xs text-rose-600",children:"700 coins"})]})]})]})]})]}),s==="billing"&&r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 md:mb-6 gap-3 sm:gap-0",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(cc,{className:"h-5 w-5 md:h-6 md:w-6 text-rose-500"}),"Billing & Payments"]}),r.jsxs(Me,{onClick:()=>t("/billing"),variant:"outline",className:"w-full sm:w-auto text-sm md:text-base",children:[r.jsx(sa,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Manage Billing"]})]}),i.length===0?r.jsxs("div",{className:"text-center py-6 md:py-8",children:[r.jsx(Th,{className:"h-10 w-10 md:h-12 md:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2",children:"No Payment History"}),r.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Your payment history will appear here once you make a purchase"})]}):r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-600"}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-blue-800",children:"Total Spent"})]}),r.jsxs("p",{className:"text-lg md:text-2xl font-bold text-blue-900",children:["€",i.reduce((C,_)=>C+_.amount,0).toFixed(2)]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(jr,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600"}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-green-800",children:"Completed"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-900",children:i.filter(C=>C.status==="completed").length})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vd,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-600"}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-yellow-800",children:"Pending"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold text-yellow-900",children:i.filter(C=>C.status==="pending").length})]})]})})]}),i.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"Payment History"}),r.jsx("div",{className:"space-y-3 md:space-y-4",children:i.map(C=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-3 md:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[f(C.status),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm md:text-base",children:C.subscription_plan&&typeof C.subscription_plan=="string"?C.subscription_plan.replace("-"," ").replace(/\b\w/g,_=>_.toUpperCase())+" Plan":"Subscription Plan"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["#",(C.order_id||"unknown").slice(-8)]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 text-xs md:text-sm text-gray-600",children:[r.jsx("span",{children:j(C.created_at)}),r.jsx("span",{className:"hidden sm:inline",children:"•"}),r.jsx("span",{children:m(C.crypto_asset||"crypto")}),r.jsx("span",{className:"hidden sm:inline",children:"•"}),r.jsxs("span",{children:[C.crypto_amount||"0"," ",(C.crypto_asset||"crypto").toUpperCase()]})]})]})]}),r.jsxs("div",{className:"text-left sm:text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["€",C.amount.toFixed(2)]}),r.jsxs("div",{className:"flex flex-col sm:items-end gap-1 mt-1",children:[r.jsx(zs,{variant:C.status==="completed"?"default":C.status==="pending"?"secondary":"destructive",className:"text-xs w-fit",children:C.status}),C.status==="completed"&&r.jsxs(Me,{onClick:()=>x(C),variant:"ghost",size:"sm",className:"text-rose-600 hover:text-rose-700 text-xs p-0 h-auto",children:[r.jsx(rp,{className:"h-3 w-3 mr-1"}),"Receipt"]})]})]})]})},C.id))})]})]}),s==="settings"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-3 sm:gap-0",children:[r.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Account Settings"}),r.jsxs(Me,{onClick:()=>t("/settings"),variant:"outline",className:"w-full sm:w-auto text-sm md:text-base",children:[r.jsx(sa,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Advanced Settings"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[r.jsx("div",{className:"space-y-4 md:space-y-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(yl,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:"Email Address"})]}),r.jsx("span",{className:"text-xs md:text-sm font-medium truncate ml-2",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_r,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:"Member Since"})]}),r.jsx("span",{className:"text-xs md:text-sm font-medium",children:j((e==null?void 0:e.createdAt)||new Date().toISOString())})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ps,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:"Account Status"})]}),r.jsx(zs,{variant:e!=null&&e.verified?"default":"secondary",className:"text-xs",children:e!=null&&e.verified?"Verified":"Unverified"})]})]})]})}),r.jsx("div",{className:"space-y-4 md:space-y-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Me,{onClick:()=>t("/edit-profile"),variant:"outline",className:"w-full justify-start text-sm md:text-base",children:[r.jsx(ag,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Edit Profile"]}),r.jsxs(Me,{onClick:()=>t("/settings"),variant:"outline",className:"w-full justify-start text-sm md:text-base",children:[r.jsx(sa,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Privacy Settings"]}),r.jsxs(Me,{onClick:()=>t("/billing"),variant:"outline",className:"w-full justify-start text-sm md:text-base",children:[r.jsx(cc,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Billing Information"]}),r.jsxs(Me,{onClick:()=>{window.confirm("Are you sure you want to sign out?")&&Fe.auth.signOut()},variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 text-sm md:text-base",children:[r.jsx(Wv,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Sign Out"]})]})]})})]})]})})]})})]})}class Vs{static set(t,s,n={}){let i=`${encodeURIComponent(t)}=${encodeURIComponent(s)}`;if(n.expires){let a;typeof n.expires=="number"?(a=new Date,a.setTime(a.getTime()+n.expires*24*60*60*1e3)):a=n.expires,i+=`; expires=${a.toUTCString()}`}n.path&&(i+=`; path=${n.path}`),n.domain&&(i+=`; domain=${n.domain}`),n.secure&&(i+="; secure"),n.sameSite&&(i+=`; samesite=${n.sameSite}`),document.cookie=i}static get(t){const s=encodeURIComponent(t)+"=",n=document.cookie.split(";");for(let i of n)if(i=i.trim(),i.indexOf(s)===0)return decodeURIComponent(i.substring(s.length));return null}static delete(t,s={}){this.set(t,"",{...s,expires:new Date(0)})}static exists(t){return this.get(t)!==null}static getAll(){const t={},s=document.cookie.split(";");for(let n of s){n=n.trim();const[i,a]=n.split("=");i&&a&&(t[decodeURIComponent(i)]=decodeURIComponent(a))}return t}static clearAll(){const t=this.getAll();Object.keys(t).forEach(s=>{this.delete(s)})}static setJSON(t,s,n={}){this.set(t,JSON.stringify(s),n)}static getJSON(t){const s=this.get(t);if(s===null)return null;try{return JSON.parse(s)}catch(n){return console.error(`Error parsing JSON cookie ${t}:`,n),null}}static hasConsent(){return this.exists("cookie-consent")}static getConsent(){return this.getJSON("cookie-consent")}}function gB(e,t){const[s,n]=E.useState(()=>Vs.get(e)||t);return[s,(o,l)=>{Vs.set(e,o,l),n(o)},o=>{Vs.delete(e,o),n(null)}]}function xB(e,t){const[s,n]=E.useState(()=>Vs.getJSON(e)||t||null);return[s,(o,l)=>{Vs.setJSON(e,o,l),n(o)},o=>{Vs.delete(e,o),n(null)}]}function jk({onAccept:e,onDecline:t,showPreferences:s=!1,className:n="",forceShow:i=!1}){const[a,o]=E.useState(!1),[l,c]=E.useState(!1),[d,u]=E.useState({necessary:!0,analytics:!1,marketing:!1,preferences:!1});E.useEffect(()=>{(!Vs.hasConsent()||i)&&o(!0)},[i]);const f=()=>{const x={necessary:!0,analytics:!0,marketing:!0,preferences:!0};Vs.setJSON("cookie-consent",x,{expires:365}),e(x),o(!1)},m=()=>{Vs.setJSON("cookie-consent",d,{expires:365}),e(d),o(!1)},p=()=>{const x={necessary:!0,analytics:!1,marketing:!1,preferences:!1};Vs.setJSON("cookie-consent",x,{expires:365}),t==null||t(),o(!1)};return a?r.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 ${n}`,children:r.jsx("div",{className:"bg-white rounded-t-lg shadow-2xl w-full max-w-4xl mx-4 mb-0",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-rose-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"We value your privacy"})]}),r.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. You can customize your preferences below.'}),l&&r.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Necessary Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Required for the website to function properly"})]}),r.jsx("input",{type:"checkbox",checked:d.necessary,disabled:!0,className:"rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Analytics Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Help us understand how visitors interact with our website"})]}),r.jsx("input",{type:"checkbox",checked:d.analytics,onChange:x=>u(j=>({...j,analytics:x.target.checked})),className:"rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Marketing Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Used to deliver personalized advertisements"})]}),r.jsx("input",{type:"checkbox",checked:d.marketing,onChange:x=>u(j=>({...j,marketing:x.target.checked})),className:"rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preference Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Remember your settings and preferences"})]}),r.jsx("input",{type:"checkbox",checked:d.preferences,onChange:x=>u(j=>({...j,preferences:x.target.checked})),className:"rounded border-gray-300"})]})]})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[s&&r.jsx("button",{onClick:()=>c(!l),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50",children:l?"Hide Preferences":"Customize Cookies"}),r.jsx("button",{onClick:p,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50",children:"Decline All"}),l?r.jsx("button",{onClick:m,className:"px-6 py-2 text-sm bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded font-medium transition-all duration-200",children:"Accept Selected"}):r.jsx("button",{onClick:f,className:"px-6 py-2 text-sm bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded font-medium transition-all duration-200",children:"Accept All Cookies"})]})]})})}):null}function yB(){const[e,t]=E.useState(()=>Vs.getConsent()||{necessary:!0,analytics:!1,marketing:!1,preferences:!1}),s=()=>{Vs.setJSON("cookie-consent",e,{expires:365}),alert("Cookie preferences saved!")},n=()=>{Vs.delete("cookie-consent"),t({necessary:!0,analytics:!1,marketing:!1,preferences:!1}),alert("Cookie preferences reset!")};return r.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cookie Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Necessary Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function properly"})]}),r.jsx("input",{type:"checkbox",checked:e.necessary,disabled:!0,className:"rounded border-gray-300"})]})}),r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website"})]}),r.jsx("input",{type:"checkbox",checked:e.analytics,onChange:i=>t(a=>({...a,analytics:i.target.checked})),className:"rounded border-gray-300"})]})}),r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Marketing Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements"})]}),r.jsx("input",{type:"checkbox",checked:e.marketing,onChange:i=>t(a=>({...a,marketing:i.target.checked})),className:"rounded border-gray-300"})]})}),r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Preference Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Remember your settings and preferences"})]}),r.jsx("input",{type:"checkbox",checked:e.preferences,onChange:i=>t(a=>({...a,preferences:i.target.checked})),className:"rounded border-gray-300"})]})})]}),r.jsxs("div",{className:"flex gap-4 mt-6",children:[r.jsx("button",{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded hover:shadow-lg transition-all duration-200",children:"Save Preferences"}),r.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Reset to Default"})]})]})}function Sk(){const[e,t]=E.useState(()=>Vs.hasConsent()),[s,n]=E.useState(()=>Vs.getConsent());return{hasConsent:e,consent:s,updateConsent:o=>{Vs.setJSON("cookie-consent",o,{expires:365}),n(o),t(!0)},clearConsent:()=>{Vs.delete("cookie-consent"),n(null),t(!1)}}}function vB({children:e,showPreferences:t=!0,onConsentChange:s}){const{hasConsent:n,updateConsent:i}=Sk(),[a,o]=E.useState(!1);E.useEffect(()=>{n||o(!0)},[n]);const l=d=>{i(d),o(!1),s==null||s(d)},c=()=>{const d={necessary:!0,analytics:!1,marketing:!1,preferences:!1};i(d),o(!1),s==null||s(d)};return r.jsxs(r.Fragment,{children:[e,a&&r.jsx(jk,{onAccept:l,onDecline:c,showPreferences:t})]})}function kk(){const{consent:e}=Sk();return{canUseAnalytics:(e==null?void 0:e.analytics)??!1,canUseMarketing:(e==null?void 0:e.marketing)??!1,canUsePreferences:(e==null?void 0:e.preferences)??!1,canUseNecessary:(e==null?void 0:e.necessary)??!0,hasConsent:e!==null}}function cm({children:e,type:t,fallback:s}){const n=kk();return(()=>{switch(t){case"analytics":return n.canUseAnalytics;case"marketing":return n.canUseMarketing;case"preferences":return n.canUsePreferences;case"necessary":return n.canUseNecessary;default:return!1}})()?r.jsx(r.Fragment,{children:e}):s?r.jsx(r.Fragment,{children:s}):null}function bB(){const[e,t]=E.useState(!1),[s,n]=E.useState(!1),[i,a,o]=gB("theme","light"),[l,c,d]=xB("user-preferences",{language:"en",notifications:!0,autoSave:!1}),u=kk(),f=()=>{Vs.set("session-id","abc123",{expires:1}),Vs.setJSON("user-data",{id:1,name:"John Doe",lastLogin:new Date().toISOString()},{expires:7}),alert("Session data saved to cookies!")},m=()=>{Vs.delete("session-id"),Vs.delete("user-data"),alert("Session data cleared from cookies!")},p=k=>{console.log("Cookie consent updated:",k),alert("Cookie preferences saved!")},x=()=>{o()},j=()=>{d()},N=k=>{c({language:(l==null?void 0:l.language)||"en",notifications:k,autoSave:(l==null?void 0:l.autoSave)||!1},{expires:365})},y=k=>{c({language:(l==null?void 0:l.language)||"en",notifications:(l==null?void 0:l.notifications)||!1,autoSave:k},{expires:365})},v=k=>{c({language:k,notifications:(l==null?void 0:l.notifications)||!1,autoSave:(l==null?void 0:l.autoSave)||!1},{expires:365})},b=()=>{Vs.delete("cookie-consent"),n(!0),alert("Cookie consent cleared! Refresh the page to see the banner again.")};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Cookie Consent Test"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"This page demonstrates the cookie consent functionality. Try different actions to see how it works."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Consent Status"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.hasConsent?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Has Consent"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.hasConsent?"Yes":"No"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.canUseAnalytics?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Analytics"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.canUseAnalytics?"Allowed":"Blocked"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.canUseMarketing?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Marketing"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.canUseMarketing?"Allowed":"Blocked"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.canUsePreferences?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Preferences"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.canUsePreferences?"Allowed":"Blocked"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Conditional Content Examples"}),r.jsx(cm,{type:"analytics",children:r.jsxs("div",{className:"p-4 bg-green-100 border border-green-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Analytics Content"}),r.jsx("p",{className:"text-green-700 text-sm",children:"This content is only shown if analytics cookies are allowed."})]})}),r.jsx(cm,{type:"marketing",children:r.jsxs("div",{className:"p-4 bg-blue-100 border border-blue-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-blue-800",children:"Marketing Content"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"This content is only shown if marketing cookies are allowed."})]})}),r.jsx(cm,{type:"preferences",children:r.jsxs("div",{className:"p-4 bg-purple-100 border border-purple-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-purple-800",children:"Preferences Content"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"This content is only shown if preference cookies are allowed."})]})}),r.jsx(cm,{type:"analytics",fallback:r.jsxs("div",{className:"p-4 bg-gray-100 border border-gray-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:"Analytics Blocked"}),r.jsx("p",{className:"text-gray-700 text-sm",children:"Analytics cookies are not allowed. Please enable them in settings."})]}),children:r.jsxs("div",{className:"p-4 bg-green-100 border border-green-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Analytics Active"}),r.jsx("p",{className:"text-green-700 text-sm",children:"Analytics are running and collecting data."})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Theme Selection (useCookie hook)"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("button",{onClick:()=>a("light",{expires:30}),className:`px-4 py-2 rounded ${i==="light"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white":"bg-gray-200"}`,children:"Light Theme"}),r.jsx("button",{onClick:()=>a("dark",{expires:30}),className:`px-4 py-2 rounded ${i==="dark"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white":"bg-gray-200"}`,children:"Dark Theme"}),r.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear Theme"})]}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Current theme: ",r.jsx("strong",{children:i||"default"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Preferences (useJSONCookie hook)"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.notifications)||!1,onChange:k=>N(k.target.checked),className:"rounded border-gray-300 focus:ring-rose-500 focus:ring-2"}),"Enable Notifications"]})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.autoSave)||!1,onChange:k=>y(k.target.checked),className:"rounded border-gray-300 focus:ring-rose-500 focus:ring-2"}),"Auto Save"]})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:["Language:",r.jsxs("select",{value:(l==null?void 0:l.language)||"en",onChange:k=>v(k.target.value),className:"border rounded px-2 py-1 focus:ring-rose-500 focus:border-rose-500",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Spanish"}),r.jsx("option",{value:"fr",children:"French"})]})]})}),r.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear Preferences"})]}),r.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:r.jsx("p",{className:"text-sm font-mono",children:JSON.stringify(l,null,2)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Direct CookieService Usage"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Set Session Data"}),r.jsx("button",{onClick:m,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear Session Data"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"All Cookies:"}),r.jsx("div",{className:"p-3 bg-gray-100 rounded text-sm font-mono max-h-40 overflow-y-auto",children:Object.entries(Vs.getAll()).map(([k,C])=>r.jsxs("div",{children:[r.jsxs("strong",{children:[k,":"]})," ",C]},k))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cookie Settings"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded hover:shadow-lg transition-all duration-200",children:e?"Hide Settings":"Show Cookie Settings"}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700",children:"Clear All Consent"})]}),e&&r.jsx("div",{className:"mt-4",children:r.jsx(yB,{})})]}),s&&r.jsx(jk,{onAccept:p,onDecline:()=>{n(!1),alert("Cookies declined")},showPreferences:!0,forceShow:!0})]})})}const wB=[{id:1,coupleNames:"Michael & Anastasia",countries:"USA & Ukraine",meetDate:"March 2022",marriageDate:"September 2023",image:"https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=400",story:"We met through PureLove and instantly connected over our shared love of travel and classical music. Despite the distance, we knew we had found something special.",testimonial:"PureLove made it possible for us to find true love across continents. The platform's safety features and genuine profiles gave us confidence throughout our journey.",rating:5},{id:2,coupleNames:"David & Elena",countries:"Canada & Belarus",meetDate:"January 2023",marriageDate:"June 2024",image:"https://images.squarespace-cdn.com/content/v1/5f6c63274865985e13575ba8/8c657c02-0553-4ec2-816d-599ee2aa78bf/glewstone-court-country-house-wedding-decors.jpg",story:"After years of unsuccessful dating, we both decided to try international dating. Our first video call lasted 4 hours, and we knew we were meant to be together.",testimonial:"The translation services and cultural guidance from PureLove helped us navigate our differences and build a strong foundation for our relationship.",rating:5},{id:3,coupleNames:"Robert & Oksana",countries:"Australia & Kazakhstan",meetDate:"August 2021",marriageDate:"April 2023",image:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=400",story:"We connected over our shared entrepreneurial spirit. Oksana's business acumen and warm personality captured my heart immediately.",testimonial:"PureLove's verification system ensured we were both serious about finding love. The support team was incredibly helpful throughout our journey.",rating:5},{id:4,coupleNames:"James & Yulia",countries:"UK & Russia",meetDate:"November 2022",image:"https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=400",story:"We're still in the process of closing the distance, but our love grows stronger every day. Video calls and messages keep us connected across time zones.",testimonial:"The platform's communication tools have been essential for maintaining our long-distance relationship. We're planning our wedding for next year!",rating:5},{id:5,coupleNames:"Thomas & Svetlana",countries:"Germany & Moldova",meetDate:"May 2021",marriageDate:"November 2022",image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=400",story:"Our families were initially skeptical about international dating, but when they met us together, they could see how perfect we are for each other.",testimonial:"PureLove connected us with our soulmates. The cultural exchange has enriched both our lives immensely.",rating:5},{id:6,coupleNames:"William & Karina",countries:"USA & Uzbekistan",meetDate:"September 2023",image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?w=400",story:"We bonded over our love for cooking and trying new cuisines. Karina has taught me so much about Central Asian culture and traditions.",testimonial:"The detailed profiles on PureLove helped us find someone with compatible values and interests. We're planning to meet in person soon!",rating:5}];function NB(){const[e,t]=E.useState(null);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx(qs,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Success Stories"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Real couples who found love through PureLove"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),r.jsx("div",{className:"text-rose-100",children:"Happy Couples"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"150+"}),r.jsx("div",{className:"text-rose-100",children:"Marriages"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"95%"}),r.jsx("div",{className:"text-rose-100",children:"Success Rate"})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:wB.map(s=>r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t(s),children:[r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:s.image,alt:s.coupleNames,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),r.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[r.jsx("h3",{className:"text-xl font-bold",children:s.coupleNames}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(vc,{className:"h-4 w-4"}),r.jsx("span",{children:s.countries})]})]}),s.marriageDate&&r.jsx("div",{className:"absolute top-4 right-4 bg-rose-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Married"})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(_r,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Met ",s.meetDate]}),s.marriageDate&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:"•"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Married ",s.marriageDate]})]})]}),r.jsx("div",{className:"flex items-center mb-3",children:[...Array(s.rating)].map((n,i)=>r.jsx(Lh,{className:"h-4 w-4 text-yellow-400 fill-current"},i))}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:s.story}),r.jsx("button",{className:"text-rose-500 hover:text-rose-600 font-medium text-sm",children:"Read Full Story →"})]})]},s.id))})})}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Write Your Own Success Story?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of singles who have found their perfect match through PureLove"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/signup",className:"bg-white text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Start Your Journey"}),r.jsx("button",{onClick:()=>window.location.href="/browse",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-rose-500 transition-colors",children:"Browse Profiles"})]})]})}),e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:e.image,alt:e.coupleNames,className:"w-full h-full object-cover"}),r.jsx("button",{onClick:()=>t(null),className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70",children:"×"})]}),r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:e.coupleNames}),r.jsxs("div",{className:"flex items-center gap-4 mb-6 text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vc,{className:"h-4 w-4"}),r.jsx("span",{children:e.countries})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_r,{className:"h-4 w-4"}),r.jsxs("span",{children:["Met ",e.meetDate]})]}),e.marriageDate&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4 text-rose-500"}),r.jsxs("span",{children:["Married ",e.marriageDate]})]})]}),r.jsx("div",{className:"flex items-center mb-6",children:[...Array(e.rating)].map((s,n)=>r.jsx(Lh,{className:"h-5 w-5 text-yellow-400 fill-current"},n))}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Their Story"}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:e.story})]}),r.jsx("div",{className:"bg-rose-50 p-6 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(dE,{className:"h-6 w-6 text-rose-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-700 italic mb-3",children:e.testimonial}),r.jsxs("p",{className:"text-rose-600 font-medium",children:["- ",e.coupleNames]})]})]})})]})]})}),r.jsx(yr,{})]})}function jB(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(qs,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"About PureLove"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8",children:"Connecting hearts across borders since 2018"}),r.jsx("p",{className:"text-lg max-w-3xl mx-auto",children:"We believe that true love knows no boundaries. Our mission is to help Western men find meaningful relationships with Eastern European and Central Asian women through a safe, authentic, and supportive platform."})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Our Story"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsx("div",{children:r.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600",alt:"Team meeting",className:"rounded-xl shadow-lg"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"PureLove was founded in 2018 by a team of relationship experts and technology professionals who recognized the need for a more authentic approach to international dating."}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"After witnessing countless success stories and the transformative power of cross-cultural relationships, we dedicated ourselves to creating a platform that prioritizes safety, authenticity, and genuine connections."}),r.jsx("p",{className:"text-lg text-gray-700",children:"Today, we're proud to have facilitated over 500 successful relationships and continue to grow our community of love-seekers worldwide."})]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Our Mission & Values"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(qs,{className:"h-10 w-10 text-rose-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Authentic Love"}),r.jsx("p",{className:"text-gray-600",children:"We believe in genuine connections built on mutual respect, understanding, and shared values."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ps,{className:"h-10 w-10 text-blue-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Safety First"}),r.jsx("p",{className:"text-gray-600",children:"Your safety and privacy are our top priorities. We implement strict verification and security measures."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Co,{className:"h-10 w-10 text-green-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Cultural Bridge"}),r.jsx("p",{className:"text-gray-600",children:"We celebrate cultural diversity and help bridge differences to create lasting relationships."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(bo,{className:"h-10 w-10 text-purple-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Community"}),r.jsx("p",{className:"text-gray-600",children:"We foster a supportive community where members can share experiences and find guidance."})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Our Impact"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"50,000+"}),r.jsx("div",{className:"text-rose-100",children:"Active Members"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"500+"}),r.jsx("div",{className:"text-rose-100",children:"Success Stories"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"25+"}),r.jsx("div",{className:"text-rose-100",children:"Countries"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"6"}),r.jsx("div",{className:"text-rose-100",children:"Years of Excellence"})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Find Your Perfect Match?"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of successful couples who found love through PureLove"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/signup",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-600 transition-colors",children:"Get Started Today"}),r.jsx("button",{onClick:()=>window.location.href="/contact",className:"border-2 border-rose-500 text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Contact Us"})]})]})}),r.jsx(yr,{})]})}function SB(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"How It Works"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Your journey to finding true love starts here"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Follow our simple 4-step process to connect with your perfect match"})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"bg-rose-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Jb,{className:"h-12 w-12 text-rose-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"1"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Create Profile"}),r.jsx("p",{className:"text-gray-600",children:"Sign up and create your detailed profile with photos and preferences"})]}),r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"bg-blue-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(un,{className:"h-12 w-12 text-blue-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"2"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Browse & Match"}),r.jsx("p",{className:"text-gray-600",children:"Search through verified profiles and find women who match your criteria"})]}),r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"bg-green-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Ns,{className:"h-12 w-12 text-green-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"3"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Connect"}),r.jsx("p",{className:"text-gray-600",children:"Start conversations and build meaningful relationships through our platform"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(qs,{className:"h-12 w-12 text-purple-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"4"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Find Love"}),r.jsx("p",{className:"text-gray-600",children:"Meet in person and start your journey together towards a lasting relationship"})]})]})})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"The Complete Journey"}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"bg-rose-100 h-16 w-16 rounded-full flex items-center justify-center",children:r.jsx(Jb,{className:"h-8 w-8 text-rose-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Registration & Profile Creation"}),r.jsx("p",{className:"text-gray-600",children:"Build your foundation for success"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ml-20",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Complete Profile Setup"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add photos, personal information, and preferences"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Identity Verification"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Verify your identity for security and trust"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Choose Subscription"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select the plan that fits your needs"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Profile Optimization"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get tips to make your profile stand out"})]})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center",children:r.jsx(un,{className:"h-8 w-8 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Browsing & Matching"}),r.jsx("p",{className:"text-gray-600",children:"Discover your perfect match"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ml-20",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Advanced Search Filters"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Filter by age, location, interests, and more"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Smart Matching Algorithm"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get personalized recommendations"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"View Detailed Profiles"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Learn about potential matches in detail"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(jr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Express Interest"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send likes and virtual gifts"})]})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"bg-green-100 h-16 w-16 rounded-full flex items-center justify-center",children:r.jsx(Ns,{className:"h-8 w-8 text-green-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Communication & Connection"}),r.jsx("p",{className:"text-gray-600",children:"Build meaningful relationships"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ml-20",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ns,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Instant Messaging"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Real-time chat with translation support"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(wo,{className:"h-5 w-5 text-purple-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Video Calls"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Face-to-face conversations"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Hn,{className:"h-5 w-5 text-pink-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Virtual Gifts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Show your affection with thoughtful gifts"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(lE,{className:"h-5 w-5 text-indigo-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Meeting Assistance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Help with travel and meeting arrangements"})]})]})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Tips for Success"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Profile Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:"• Use high-quality, recent photos"}),r.jsx("li",{children:"• Write an honest and engaging bio"}),r.jsx("li",{children:"• Be specific about your interests"}),r.jsx("li",{children:"• Update your profile regularly"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Communication Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:"• Be respectful and genuine"}),r.jsx("li",{children:"• Ask thoughtful questions"}),r.jsx("li",{children:"• Share your culture and traditions"}),r.jsx("li",{children:"• Be patient with language barriers"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Safety Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:"• Never send money to someone"}),r.jsx("li",{children:"• Meet in public places first"}),r.jsx("li",{children:"• Trust your instincts"}),r.jsx("li",{children:"• Report suspicious behavior"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Relationship Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:"• Take time to know each other"}),r.jsx("li",{children:"• Discuss future plans openly"}),r.jsx("li",{children:"• Respect cultural differences"}),r.jsx("li",{children:"• Plan visits when ready"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your Journey?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of successful couples who found love through PureLove"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/signup",className:"bg-white text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Get Started Now"}),r.jsx("button",{onClick:()=>window.location.href="/browse",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-rose-500 transition-colors",children:"Browse Profiles"})]})]})}),r.jsx(yr,{})]})}function kB(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx(ps,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Safety Tips"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Your safety is our top priority"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Follow these essential safety guidelines to ensure a secure and positive dating experience"})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Essential Safety Rules"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(zp,{className:"h-8 w-8 text-red-500"}),r.jsx("h3",{className:"text-xl font-bold text-red-700",children:"Never Do This"})]}),r.jsxs("ul",{className:"space-y-3 text-red-700",children:[r.jsx("li",{children:"• Never send money, gifts, or personal financial information"}),r.jsx("li",{children:"• Don't share your home address or workplace details"}),r.jsx("li",{children:"• Never give out your social security number or bank details"}),r.jsx("li",{children:"• Don't meet in private or isolated locations"}),r.jsx("li",{children:"• Never travel to meet someone without proper verification"})]})]}),r.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(jr,{className:"h-8 w-8 text-green-500"}),r.jsx("h3",{className:"text-xl font-bold text-green-700",children:"Always Do This"})]}),r.jsxs("ul",{className:"space-y-3 text-green-700",children:[r.jsx("li",{children:"• Meet in public places for first meetings"}),r.jsx("li",{children:"• Tell friends/family about your dating plans"}),r.jsx("li",{children:"• Trust your instincts and gut feelings"}),r.jsx("li",{children:"• Verify identity through video calls"}),r.jsx("li",{children:"• Report suspicious behavior immediately"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Comprehensive Safety Guidelines"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(yc,{className:"h-8 w-8 text-blue-500"}),r.jsx("h3",{className:"text-2xl font-bold",children:"Online Safety"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Profile Protection"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Use privacy settings to control who can see your information. Don't include personal details like phone numbers or addresses in your profile."})]}),r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Communication Security"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Keep conversations on the platform initially. Be cautious about sharing personal contact information too quickly."})]}),r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Photo Safety"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Avoid photos that reveal your location, workplace, or other identifying information in the background."})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Di,{className:"h-8 w-8 text-green-500"}),r.jsx("h3",{className:"text-2xl font-bold",children:"Meeting Safety"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-green-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"First Meeting Guidelines"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Always meet in busy, public places like cafes, restaurants, or shopping centers. Arrive and leave independently."})]}),r.jsxs("div",{className:"border-l-4 border-green-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Tell Someone"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Inform a trusted friend or family member about your plans, including where you're going and when you expect to return."})]}),r.jsxs("div",{className:"border-l-4 border-green-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Stay Alert"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Stay sober and alert. Don't leave drinks unattended and trust your instincts if something feels wrong."})]})]})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[r.jsx(wl,{className:"h-10 w-10 text-red-500"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center",children:"Red Flags to Watch For"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Financial Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:"• Asking for money, loans, or financial assistance"}),r.jsx("li",{children:"• Requesting gift cards or wire transfers"}),r.jsx("li",{children:"• Claims of financial emergencies"}),r.jsx("li",{children:"• Asking for banking or credit card information"}),r.jsx("li",{children:"• Investment or business opportunities"})]})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Behavioral Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:"• Professing love very quickly"}),r.jsx("li",{children:"• Avoiding phone or video calls"}),r.jsx("li",{children:"• Inconsistent stories or information"}),r.jsx("li",{children:"• Pressuring for personal information"}),r.jsx("li",{children:"• Refusing to meet in public places"})]})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Profile Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:"• Limited or professional model-like photos"}),r.jsx("li",{children:"• Vague or minimal profile information"}),r.jsx("li",{children:"• Claims of being widowed or in military"}),r.jsx("li",{children:"• Poor grammar despite claiming education"}),r.jsx("li",{children:"• Recently created profiles with perfect details"})]})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Communication Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:"• Generic messages that could be sent to anyone"}),r.jsx("li",{children:"• Immediately asking to move off the platform"}),r.jsx("li",{children:"• Avoiding specific questions about their life"}),r.jsx("li",{children:"• Using overly romantic language too soon"}),r.jsx("li",{children:"• Inconsistent time zones or availability"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"International Dating Safety"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Ph,{className:"h-6 w-6 text-rose-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Verify Identity"}),r.jsx("p",{className:"text-gray-600",children:"Always verify someone's identity through video calls before making any commitments. Ask for multiple forms of verification."})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Ph,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Language Barriers"}),r.jsx("p",{className:"text-gray-600",children:"Be patient with language differences, but be wary if someone's language skills don't match their claimed education level."})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(ps,{className:"h-6 w-6 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cultural Research"}),r.jsx("p",{className:"text-gray-600",children:"Learn about your match's culture and customs. This helps you understand normal behavior and spot inconsistencies."})]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border border-amber-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-amber-800 mb-4",children:"Travel Safety Tips"}),r.jsxs("ul",{className:"space-y-2 text-amber-700 text-sm",children:[r.jsx("li",{children:"• Research visa requirements and travel advisories"}),r.jsx("li",{children:"• Book refundable accommodations initially"}),r.jsx("li",{children:"• Register with your embassy when traveling"}),r.jsx("li",{children:"• Keep emergency contacts and embassy information handy"}),r.jsx("li",{children:"• Have an exit strategy and return ticket"}),r.jsx("li",{children:"• Meet in public places even when traveling to meet them"}),r.jsx("li",{children:"• Don't stay at their residence initially"})]})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Report Suspicious Activity"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Help us keep the community safe by reporting suspicious behavior or profiles"}),r.jsxs("div",{className:"bg-rose-50 p-8 rounded-xl border border-rose-200",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"How to Report"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-rose-600 font-bold",children:"1"})}),r.jsx("p",{children:"Use the report button on any profile or message"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-rose-600 font-bold",children:"2"})}),r.jsx("p",{children:"Provide detailed information about the issue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-rose-600 font-bold",children:"3"})}),r.jsx("p",{children:"Our team will investigate within 24 hours"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Our safety team is available 24/7 to assist you"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Emergency Support"}),r.jsx("p",{className:"text-rose-100",children:"support@purelove.com"}),r.jsx("p",{className:"text-rose-100",children:"safety@purelove.com"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Safety Team"}),r.jsx("p",{className:"text-rose-100",children:"safety@purelove.com"}),r.jsx("p",{className:"text-rose-100",children:"24/7 Response"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Local Authorities"}),r.jsx("p",{className:"text-rose-100",children:"Always contact local police"}),r.jsx("p",{className:"text-rose-100",children:"in case of emergency"})]})]})]})}),r.jsx(yr,{})]})}const cN=[{id:1,category:"Getting Started",question:"How do I create an account?",answer:"Creating an account is simple! Click the 'Sign Up' button, fill in your basic information, verify your email, and complete your profile. The entire process takes about 10-15 minutes."},{id:2,category:"Getting Started",question:"Is PureLove free to use?",answer:"PureLove offers both free and premium features. You can browse profiles and receive messages for free, but to send messages and access advanced features, you'll need a premium subscription."},{id:3,category:"Getting Started",question:"How do I verify my profile?",answer:"Profile verification involves uploading a government-issued ID and taking a verification photo. This process helps ensure the authenticity of all members and typically takes 24-48 hours to complete."},{id:4,category:"Safety & Security",question:"How do you ensure member safety?",answer:"We employ multiple safety measures including profile verification, AI-powered scam detection, 24/7 moderation, secure messaging, and comprehensive safety guidelines. We also have a dedicated safety team available around the clock."},{id:5,category:"Safety & Security",question:"What should I do if I encounter a scammer?",answer:"Immediately report the profile using our report feature. Do not send money or personal information. Block the user and contact our safety team at safety@purelove.com. We investigate all reports within 24 hours."},{id:6,category:"Safety & Security",question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption and security measures to protect your data. Your financial information is never stored on our servers, and you control what information is visible in your profile."},{id:7,category:"Communication",question:"How does the translation service work?",answer:"Our built-in translation service automatically translates messages between different languages. While it's quite accurate, we recommend learning some basic phrases in your match's language for better communication."},{id:8,category:"Communication",question:"Can I video chat with matches?",answer:"Yes! Video chat is available for premium members. It's a great way to verify someone's identity and build a stronger connection before meeting in person."},{id:9,category:"Communication",question:"What are virtual gifts?",answer:"Virtual gifts are digital presents you can send to show interest or affection. They range from flowers and chocolates to more elaborate gifts, and help you stand out and express your feelings."},{id:10,category:"Matching",question:"How does the matching algorithm work?",answer:"Our algorithm considers your preferences, interests, values, and behavior on the platform to suggest compatible matches. The more complete your profile, the better the matches we can provide."},{id:11,category:"Matching",question:"Why am I not getting matches?",answer:"Ensure your profile is complete with high-quality photos and detailed information. Be active on the platform, use search filters effectively, and consider expanding your preferences. Our customer success team can also provide personalized advice."},{id:12,category:"Matching",question:"Can I search for specific criteria?",answer:"Yes! Our advanced search allows you to filter by age, location, education, interests, lifestyle preferences, and more. Premium members have access to additional search filters."},{id:13,category:"Subscription",question:"What's included in premium membership?",answer:"Premium membership includes unlimited messaging, advanced search filters, video chat, priority customer support, profile boost features, and access to exclusive events and content."},{id:14,category:"Subscription",question:"Can I cancel my subscription anytime?",answer:"Yes, you can cancel your subscription at any time through your account settings. Your premium features will remain active until the end of your billing period."},{id:15,category:"Subscription",question:"Do you offer refunds?",answer:"We offer a 30-day satisfaction guarantee for new subscribers. If you're not satisfied within the first 30 days, contact our support team for a full refund."},{id:16,category:"Meeting & Travel",question:"How do I safely meet someone in person?",answer:"Always meet in public places, tell someone your plans, verify their identity through video chat first, and trust your instincts. Consider meeting in your home country initially or choose a neutral location."},{id:17,category:"Meeting & Travel",question:"Do you help with travel arrangements?",answer:"We provide guidance and resources for international travel, including visa information and travel tips. While we don't book travel directly, our concierge service can connect you with trusted travel partners."},{id:18,category:"Meeting & Travel",question:"What if my match doesn't look like their photos?",answer:"This is why we strongly recommend video chats before meeting. If someone misrepresented themselves, you can report the profile and leave the meeting safely. Always meet in public places with an exit strategy."},{id:20,category:"Technical",question:"I'm having trouble with the website. What should I do?",answer:"Try refreshing the page, clearing your browser cache, or using a different browser. If problems persist, contact our technical support team at support@purelove.com with details about the issue."}];function _B(){const[e,t]=E.useState(null),[s,n]=E.useState(""),[i,a]=E.useState("All"),o=["All",...Array.from(new Set(cN.map(d=>d.category)))],l=cN.filter(d=>{const u=d.question.toLowerCase().includes(s.toLowerCase())||d.answer.toLowerCase().includes(s.toLowerCase()),f=i==="All"||d.category===i;return u&&f}),c=d=>{t(e===d?null:d)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Find answers to common questions about PureLove"})]})}),r.jsx("section",{className:"py-12 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(un,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search FAQs...",value:s,onChange:d=>n(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),r.jsx("select",{value:i,onChange:d=>a(d.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",children:o.map(d=>r.jsx("option",{value:d,children:d},d))})]})})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:l.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No FAQs found matching your search criteria."})}):r.jsx("div",{className:"space-y-4",children:l.map(d=>r.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden transition-all duration-200 ease-in-out ${e===d.id?"shadow-lg scale-[1.00]":"hover:shadow-lg"}`,children:[r.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-rose-500 font-medium",children:d.category}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1",children:d.question})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx($d,{className:`h-5 w-5 text-gray-500 transition-transform duration-300 ease-in-out ${e===d.id?"rotate-180":"rotate-0"}`})})]}),r.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${e===d.id?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:r.jsx("div",{className:"px-6 pb-4 border-t border-gray-100 transform transition-transform duration-300 ease-in-out",children:r.jsx("p",{className:"text-gray-700 leading-relaxed pt-4",children:d.answer})})})]},d.id))})})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Still Have Questions?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Our customer support team is here to help you 24/7"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-white text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Contact Support"}),r.jsx("button",{onClick:()=>window.location.href="mailto:support@purelove.com",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-rose-500 transition-colors",children:"Email Us"})]})]})}),r.jsx(yr,{})]})}function CB(){const[e,t]=E.useState({name:"",email:"",subject:"",category:"general",message:""}),s=i=>{i.preventDefault(),console.log("Form submitted:",e),alert("Thank you for your message! We'll get back to you within 24 hours."),t({name:"",email:"",subject:"",category:"general",message:""})},n=i=>{t({...e,[i.target.name]:i.target.value})};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(js,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx(Ph,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Contact Us"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"We're here to help you find love"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Have questions, need support, or want to share feedback? Get in touch with our team"})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"text-center mb-8",children:r.jsx("h2",{className:"text-3xl font-bold",children:"Send us a Message"})}),r.jsxs("form",{onSubmit:s,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"your.email@example.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsxs("select",{id:"category",name:"category",value:e.category,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",children:[r.jsx("option",{value:"general",children:"General Inquiry"}),r.jsx("option",{value:"technical",children:"Technical Support"}),r.jsx("option",{value:"billing",children:"Billing & Subscriptions"}),r.jsx("option",{value:"safety",children:"Safety & Security"}),r.jsx("option",{value:"feedback",children:"Feedback & Suggestions"}),r.jsx("option",{value:"partnership",children:"Partnership Opportunities"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:e.subject,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Brief description of your inquiry"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),r.jsx("textarea",{id:"message",name:"message",required:!0,rows:6,value:e.message,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Please provide details about your inquiry..."})]}),r.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Gv,{className:"h-5 w-5"}),"Send Message"]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Quick Answers"}),r.jsx("p",{className:"text-lg text-gray-600 mb-12",children:"Check out our FAQ section for instant answers to common questions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-rose-50 p-6 rounded-lg",children:[r.jsx(Z8,{className:"h-12 w-12 text-rose-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Technical Issues"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Having trouble with the website or app?"}),r.jsx("button",{onClick:()=>window.location.href="/faq",className:"text-rose-500 hover:text-rose-600 font-medium",children:"View Tech FAQ →"})]}),r.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[r.jsx(yl,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Account & Billing"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Questions about your subscription or payments?"}),r.jsx("button",{onClick:()=>window.location.href="/faq",className:"text-blue-500 hover:text-blue-600 font-medium",children:"View Billing FAQ →"})]}),r.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[r.jsx(Ph,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Safety & Dating"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Need help with safety or dating advice?"}),r.jsx("button",{onClick:()=>window.location.href="/safety",className:"text-green-500 hover:text-green-600 font-medium",children:"View Safety Tips →"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-red-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Emergency Support"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"If you're in immediate danger or need urgent assistance, contact our emergency hotline"}),r.jsxs("div",{className:"bg-white bg-opacity-20 p-8 rounded-xl max-w-md mx-auto",children:[r.jsx(yl,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"24/7 Emergency Support"}),r.jsx("p",{className:"text-3xl font-bold mb-4",children:"safety@purelove.com"}),r.jsx("p",{className:"text-rose-100",children:"Available worldwide, 24 hours a day"})]})]})}),r.jsx(yr,{})]})}function AB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(js,{}),r.jsxs("section",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-purple-600 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(fE,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-rose-100 bg-clip-text text-transparent",children:"Terms of Service"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-rose-100",children:"Simple terms for using PureLove"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-rose-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(_r,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Key Terms"}),r.jsx("p",{className:"text-lg text-gray-600",children:"What you need to know"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(bo,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Age 18+"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"Must be 18 or older to use our service"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(ps,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Safe & Legal"}),r.jsx("p",{className:"text-green-700 text-sm",children:"IMBRA compliant and fully regulated"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(cc,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Fair Billing"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"Clear pricing with 30-day refunds"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-xl border border-rose-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-rose-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(yc,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-rose-900 mb-2",children:"Your Privacy"}),r.jsx("p",{className:"text-rose-700 text-sm",children:"Your data is secure and protected"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-amber-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(wl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"Agreement"}),r.jsx("p",{className:"text-amber-800 leading-relaxed",children:"By using PureLove, you agree to these terms. If you don't agree, please don't use our service."})]})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What We Offer"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"PureLove is a dating platform connecting people for meaningful relationships."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[r.jsx(bo,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-blue-900 font-medium",children:"Profile creation & browsing"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[r.jsx(R4,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-900 font-medium",children:"Messaging & communication"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg",children:[r.jsx(aa,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"text-purple-900 font-medium",children:"Video chat features"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-rose-50 to-rose-100 rounded-lg",children:[r.jsx(Co,{className:"h-5 w-5 text-rose-600"}),r.jsx("span",{className:"text-rose-900 font-medium",children:"Translation services"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Responsibilities"})]}),r.jsx("div",{className:"space-y-3",children:["Be 18+ years old","Provide truthful information","Keep your account secure","Be respectful to other users","Follow all applicable laws"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700",children:e})]},t))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payments & Refunds"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["• Subscriptions renew automatically",r.jsx("br",{}),"• 30-day refund policy for new subscribers",r.jsx("br",{}),"• Cancel anytime in your account settings",r.jsx("br",{}),"• Price changes announced 30 days in advance"]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions?"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about these terms:"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," legal@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Support:"})," support@purelove.com"]})]})]})]})]})]})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ps,{className:"h-12 w-12 text-rose-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our team is here to help with any questions about our terms"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/faq",className:"border-2 border-rose-500 text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"View FAQ"})]})]})})}),r.jsx(yr,{})]})}function EB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(js,{}),r.jsxs("section",{className:"bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(ps,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Privacy Policy"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-blue-100",children:"How we protect your information"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(_r,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Privacy Matters"}),r.jsx("p",{className:"text-lg text-gray-600",children:"We protect your personal information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(yc,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:"Secure"}),r.jsx("p",{className:"text-blue-700 text-center leading-relaxed",children:"Your data is encrypted and protected"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Di,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4 text-center",children:"Transparent"}),r.jsx("p",{className:"text-green-700 text-center leading-relaxed",children:"We're clear about what we collect"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Co,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Your Control"}),r.jsx("p",{className:"text-purple-700 text-center leading-relaxed",children:"You control your data and settings"})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-8 rounded-2xl mt-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(wl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Simple Promise"}),r.jsx("p",{className:"text-blue-800 leading-relaxed",children:"We protect your privacy, use your data responsibly, and give you control over your information."})]})]})})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What We Collect"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(bo,{className:"h-6 w-6 text-blue-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Name, age, and location","Email and phone number","Photos and descriptions","Relationship preferences"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(J8,{className:"h-6 w-6 text-green-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Usage Data"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Pages you visit","Messages you send","Device information","How you use our features"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How We Use Your Data"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(mE,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Provide Service"}),r.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[r.jsx("li",{children:"• Create your profile"}),r.jsx("li",{children:"• Find matches"}),r.jsx("li",{children:"• Enable messaging"}),r.jsx("li",{children:"• Process payments"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(ps,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Keep You Safe"}),r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[r.jsx("li",{children:"• Verify identities"}),r.jsx("li",{children:"• Prevent fraud"}),r.jsx("li",{children:"• Monitor for abuse"}),r.jsx("li",{children:"• Follow laws"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Di,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"Improve Service"}),r.jsxs("ul",{className:"space-y-2 text-purple-800 text-sm",children:[r.jsx("li",{children:"• Better matching"}),r.jsx("li",{children:"• New features"}),r.jsx("li",{children:"• Fix problems"}),r.jsx("li",{children:"• Understand usage"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Rights"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You can:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["See what data we have","Update your information","Delete your account","Download your data","Control who sees your profile","Stop marketing emails"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-gray-700",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions?"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"Contact us about privacy:"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," privacy@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Support:"})," support@purelove.com"]})]})]})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ps,{className:"h-12 w-12 text-blue-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Privacy Questions?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help you understand how we protect your privacy"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-blue-600 hover:to-indigo-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/settings",className:"border-2 border-blue-500 text-blue-500 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:"Privacy Settings"})]})]})})}),r.jsx(yr,{})]})}function PB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(js,{}),r.jsxs("section",{className:"bg-gradient-to-r from-orange-500 via-amber-500 to-yellow-500 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(sg,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-orange-100 bg-clip-text text-transparent",children:"Cookie Policy"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-orange-100",children:"How cookies improve your experience"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(_r,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(sg,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-orange-900 mb-4",children:"What Are Cookies?"}),r.jsx("p",{className:"text-orange-800 leading-relaxed",children:"Cookies are small files that help us remember your preferences and improve your experience on our website."})]})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Types of Cookies"}),r.jsx("p",{className:"text-lg text-gray-600",children:"How different cookies help you"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(ps,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4 text-center",children:"Essential"}),r.jsx("p",{className:"text-green-700 text-center text-sm leading-relaxed",children:"Required for the site to work properly"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(sa,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:"Preferences"}),r.jsx("p",{className:"text-blue-700 text-center text-sm leading-relaxed",children:"Remember your settings and choices"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(qb,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Analytics"}),r.jsx("p",{className:"text-purple-700 text-center text-sm leading-relaxed",children:"Help us improve the website"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-8 rounded-2xl border border-rose-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-rose-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Di,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-rose-900 mb-4 text-center",children:"Marketing"}),r.jsx("p",{className:"text-rose-700 text-center text-sm leading-relaxed",children:"Show you relevant content"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Essential Cookies"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"These cookies are necessary for the website to work. They help you log in, navigate pages, and use basic features."}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ps,{className:"h-6 w-6 text-green-600"}),r.jsx("h4",{className:"text-lg font-semibold text-green-900",children:"What they do:"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Keep you logged in","Remember your session","Provide security","Make the site work"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-green-800 text-sm",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preference Cookies"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"These cookies remember your choices so you don't have to set them again each time you visit."}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(sa,{className:"h-6 w-6 text-blue-600"}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"What they remember:"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Your language","Theme settings","Location preferences","Display options"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-blue-800 text-sm",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics Cookies"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"These cookies help us understand how you use our website so we can make it better."}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(qb,{className:"h-6 w-6 text-purple-600"}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"What we learn:"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Which pages you visit","How long you stay","What features you use","How to improve the site"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-purple-800 text-sm",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Control"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"You can control which cookies we use through your browser settings or our cookie preferences."}),r.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Browser Settings:"})," Block or delete cookies in your browser"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Cookie Banner:"})," Choose your preferences when you first visit"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Contact Us:"})," support@purelove.com for cookie questions"]})]})})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(sg,{className:"h-12 w-12 text-orange-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Cookie Questions?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help you understand how cookies work"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-orange-600 hover:to-amber-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/settings",className:"border-2 border-orange-500 text-orange-500 px-8 py-4 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"Cookie Settings"})]})]})})}),r.jsx(yr,{})]})}function TB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(js,{}),r.jsxs("section",{className:"bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-600 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(ps,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"IMBRA Compliance"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-blue-100",children:"Your safety and protection matter"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(_r,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Hb,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:"What is IMBRA?"}),r.jsx("p",{className:"text-blue-800 leading-relaxed",children:"The International Marriage Broker Regulation Act (IMBRA) is a US law that protects people using international dating services."})]})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Commitment"}),r.jsx("p",{className:"text-lg text-gray-600",children:"How we keep you safe"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(jr,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4 text-center",children:"Full Compliance"}),r.jsx("p",{className:"text-green-700 text-center leading-relaxed",children:"We follow all IMBRA requirements"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(un,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:"Background Checks"}),r.jsx("p",{className:"text-blue-700 text-center leading-relaxed",children:"We verify user information"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(bo,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Your Rights"}),r.jsx("p",{className:"text-purple-700 text-center leading-relaxed",children:"You have important protections"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What We Do"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"We follow IMBRA rules to keep you safe and informed."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(un,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Background Checks"}),r.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[r.jsx("li",{children:"• Verify user identities"}),r.jsx("li",{children:"• Check criminal records"}),r.jsx("li",{children:"• Confirm personal details"}),r.jsx("li",{children:"• Regular updates"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(R4,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Information Sharing"}),r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[r.jsx("li",{children:"• Share background info"}),r.jsx("li",{children:"• Provide safety resources"}),r.jsx("li",{children:"• Offer support"}),r.jsx("li",{children:"• Keep records"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Rights"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"IMBRA gives you important rights and protections."}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Get background information","Know about criminal history","Receive safety information","Report problems","Get help and support","Control your information"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700",children:e})]},t))})})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Safety Resources"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"We provide resources to help you stay safe."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(wl,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"Warning Signs"}),r.jsx("p",{className:"text-red-800 text-sm",children:"Learn to spot potential problems"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(aa,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Support"}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Get help when you need it"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(Hb,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Education"}),r.jsx("p",{className:"text-green-800 text-sm",children:"Learn about safe dating"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions?"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"Contact us about IMBRA:"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," legal@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Support:"})," support@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Safety:"})," safety@purelove.com"]})]})]})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ps,{className:"h-12 w-12 text-indigo-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help you understand your rights and stay safe"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-indigo-500 to-blue-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-indigo-600 hover:to-blue-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/safety",className:"border-2 border-indigo-500 text-indigo-500 px-8 py-4 rounded-lg font-semibold hover:bg-indigo-50 transition-colors",children:"Safety Guide"})]})]})})}),r.jsx(yr,{})]})}function LB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(js,{}),r.jsxs("section",{className:"bg-gradient-to-r from-red-500 via-rose-500 to-pink-500 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(ps,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-red-100 bg-clip-text text-transparent",children:"Anti-Scam Policy"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-red-100",children:"Stay safe from scams and fraud"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(_r,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 border border-red-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(wl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-4",children:"Stay Alert"}),r.jsx("p",{className:"text-red-800 leading-relaxed",children:"Scammers try to trick people on dating sites. Learn how to spot them and stay safe."})]})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Common Scams"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Watch out for these warning signs"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-8 rounded-2xl border border-red-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-red-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(cc,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-red-900 mb-4 text-center",children:"Money Requests"}),r.jsx("p",{className:"text-red-700 text-center text-sm leading-relaxed",children:"Asking for money or financial help"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-2xl border border-orange-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-orange-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(bo,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-orange-900 mb-4 text-center",children:"Fake Profiles"}),r.jsx("p",{className:"text-orange-700 text-center text-sm leading-relaxed",children:"Using stolen photos and fake info"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-8 rounded-2xl border border-yellow-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-yellow-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(aa,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-yellow-900 mb-4 text-center",children:"Quick Romance"}),r.jsx("p",{className:"text-yellow-700 text-center text-sm leading-relaxed",children:'Saying "I love you" too quickly'})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(yl,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Off-Site Contact"}),r.jsx("p",{className:"text-purple-700 text-center text-sm leading-relaxed",children:"Pushing to move off the platform"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How to Stay Safe"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Follow these simple rules to protect yourself."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Never send money to someone online","Don't share personal financial info","Keep conversations on our platform","Video chat before meeting","Meet in public places first","Trust your instincts","Report suspicious behavior","Take relationships slowly"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-red-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Red Flags"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Be careful if someone does these things."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(cc,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"Money Talk"}),r.jsxs("ul",{className:"space-y-2 text-red-800 text-sm",children:[r.jsx("li",{children:"• Asks for money"}),r.jsx("li",{children:"• Has financial emergency"}),r.jsx("li",{children:"• Wants gift cards"}),r.jsx("li",{children:"• Needs help with fees"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(bo,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:"Fake Signs"}),r.jsxs("ul",{className:"space-y-2 text-orange-800 text-sm",children:[r.jsx("li",{children:"• Photos look too perfect"}),r.jsx("li",{children:"• Won't video chat"}),r.jsx("li",{children:"• Story keeps changing"}),r.jsx("li",{children:"• Grammar is poor"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-yellow-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(aa,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:"Pushy Behavior"}),r.jsxs("ul",{className:"space-y-2 text-yellow-800 text-sm",children:[r.jsx("li",{children:'• Says "I love you" quickly'}),r.jsx("li",{children:"• Wants to leave the site"}),r.jsx("li",{children:"• Pressures for meetings"}),r.jsx("li",{children:"• Gets angry when questioned"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How We Protect You"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"We work hard to keep scammers off our platform."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Di,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"We Monitor"}),r.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[r.jsx("li",{children:"• Check all profiles"}),r.jsx("li",{children:"• Watch for suspicious activity"}),r.jsx("li",{children:"• Use automated systems"}),r.jsx("li",{children:"• Review reported users"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(jr,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"We Verify"}),r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[r.jsx("li",{children:"• Require photo verification"}),r.jsx("li",{children:"• Check profile information"}),r.jsx("li",{children:"• Validate identities"}),r.jsx("li",{children:"• Remove fake accounts"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Report Scams"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"If you see something suspicious, tell us right away."}),r.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Report Button:"})," Use the report button on any profile or message"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Email Us:"})," safety@purelove.com"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"24/7 Support:"})," support@purelove.com"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"What to Include:"})," Screenshots, user details, and what happened"]})]})})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ps,{className:"h-12 w-12 text-red-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Report scams or get help staying safe"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-red-600 hover:to-rose-600 transition-colors",children:"Report Scam"}),r.jsx("button",{onClick:()=>window.location.href="/safety",className:"border-2 border-red-500 text-red-500 px-8 py-4 rounded-lg font-semibold hover:bg-red-50 transition-colors",children:"Safety Guide"})]})]})})}),r.jsx(yr,{})]})}class zn{static async isUserAdmin(t){try{const{data:s,error:n}=await Fe.from("profiles").select("role").eq("id",t).single();return n?(console.error("Error checking admin status:",n),!1):(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="super_admin"}catch(s){return console.error("Error checking admin status:",s),!1}}static async testDatabaseAccess(){try{const t={},{data:{user:s},error:n}=await Fe.auth.getUser();if(t.auth={user:s?{id:s.id,email:s.email}:null,error:n},s)try{const{data:i,error:a}=await Fe.from("profiles").select("id, first_name, last_name, role").eq("id",s.id).single();t.admin_profile={profile:i?{role:i.role,name:`${i.first_name} ${i.last_name}`}:null,error:a}}catch(i){t.admin_profile={error:i}}try{const{data:i,error:a}=await Fe.from("conversations").select("id, user1_id, user2_id").limit(3);t.conversations={count:(i==null?void 0:i.length)||0,error:a,sample:i?i.map(o=>({id:o.id.substring(0,8),user1:o.user1_id.substring(0,8),user2:o.user2_id.substring(0,8)})):[]}}catch(i){t.conversations={error:i}}try{const{data:i,error:a}=await Fe.from("messages").select("id, sender_id, receiver_id, content").limit(3);t.messages={count:(i==null?void 0:i.length)||0,error:a,sample:i?i.map(o=>({id:o.id.substring(0,8),sender:o.sender_id.substring(0,8),receiver:o.receiver_id.substring(0,8),content:o.content.substring(0,30)+"..."})):[]}}catch(i){t.messages={error:i}}try{const{data:i,error:a}=await Fe.from("conversation_settings").select("user_id, other_user_id, is_archived").limit(3);t.conversation_settings={count:(i==null?void 0:i.length)||0,error:a,sample:i?i.map(o=>({user:o.user_id.substring(0,8),other:o.other_user_id.substring(0,8),archived:o.is_archived})):[]}}catch(i){t.conversation_settings={error:i}}if(s){try{const{data:i,error:a}=await Fe.rpc("get_all_conversations_for_admin",{user_ids:[s.id]});t.admin_rpc_conversations={count:(i==null?void 0:i.length)||0,error:a,available:!a}}catch(i){t.admin_rpc_conversations={error:i,available:!1}}try{const i="00000000-0000-0000-0000-000000000001",a="00000000-0000-0000-0000-000000000002",{data:o,error:l}=await Fe.rpc("get_all_messages_for_admin",{conversation_user1_id:i,conversation_user2_id:a});t.admin_rpc_messages={error:l,available:!l,test_result:"Function exists and can be called"}}catch(i){t.admin_rpc_messages={error:i,available:!1}}}return t}catch(t){return{general_error:t}}}static async getAdminStats(){try{return{totalUsers:1247,activeUsers:89,totalMessages:5432,flaggedConversations:12,modelUsage:{"gpt-3.5":{name:"GPT-3.5 Turbo",requests:2341,tokens:145632},"gpt-4":{name:"GPT-4",requests:567,tokens:89432},"claude-3":{name:"Claude 3 Sonnet",requests:234,tokens:34521}}}}catch(t){throw console.error("Error fetching admin stats:",t),t}}static async getModels(){try{const{data:t,error:s}=await Fe.from("admin_models").select("*").order("name");return s?(console.error("Database error fetching models:",s),await this.getMockModels()):t.map(n=>({id:n.id,name:n.name,provider:n.provider,model:n.model,active:n.active,maxTokens:n.max_tokens,temperature:n.temperature,presencePenalty:n.presence_penalty,frequencyPenalty:n.frequency_penalty}))}catch(t){return console.error("Error fetching models:",t),await this.getMockModels()}}static async getMockModels(){return[{id:"gpt-3.5",name:"GPT-3.5 Turbo",provider:"openai",model:"gpt-3.5-turbo",active:!0,maxTokens:200,temperature:.8,presencePenalty:.6,frequencyPenalty:.3},{id:"gpt-4",name:"GPT-4",provider:"openai",model:"gpt-4",active:!1,maxTokens:200,temperature:.7,presencePenalty:.5,frequencyPenalty:.2},{id:"claude-3",name:"Claude 3 Sonnet",provider:"anthropic",model:"claude-3-sonnet-20240229",active:!1,maxTokens:200,temperature:.8}]}static async updateModel(t,s){try{const n={};s.maxTokens!==void 0&&(n.max_tokens=s.maxTokens),s.temperature!==void 0&&(n.temperature=s.temperature),s.presencePenalty!==void 0&&(n.presence_penalty=s.presencePenalty),s.frequencyPenalty!==void 0&&(n.frequency_penalty=s.frequencyPenalty),s.active!==void 0&&(n.active=s.active),s.name!==void 0&&(n.name=s.name),s.provider!==void 0&&(n.provider=s.provider),s.model!==void 0&&(n.model=s.model);const{error:i}=await Fe.from("admin_models").update(n).eq("id",t);i&&(console.error("Database error updating model:",i),console.log(`Mock update model ${t}:`,s))}catch(n){console.error("Error updating model:",n),console.log(`Mock update model ${t}:`,s)}}static async toggleModel(t){try{const{data:s,error:n}=await Fe.from("admin_models").select("active").eq("id",t).single();if(n){console.error("Error fetching current model status:",n),console.log(`Mock toggle model ${t}`);return}const{error:i}=await Fe.from("admin_models").update({active:!s.active}).eq("id",t);i&&(console.error("Database error toggling model:",i),console.log(`Mock toggle model ${t}`))}catch(s){console.error("Error toggling model:",s),console.log(`Mock toggle model ${t}`)}}static async getUserChats(){var t,s;try{console.log("🔍 [ADMIN] Starting getUserChats...");const{data:{user:n},error:i}=await Fe.auth.getUser();if(console.log("🔍 [ADMIN] Current authenticated user:",{id:n==null?void 0:n.id,email:n==null?void 0:n.email,authError:i}),!n)return console.error("🔍 [ADMIN] No authenticated user found"),[];const{data:a,error:o}=await Fe.from("profiles").select("id, first_name, last_name, photos, role, created_at").neq("role","admin").order("created_at",{ascending:!1}).limit(50);if(o)return console.warn("Error fetching users:",o),[];if(!a||a.length===0)return console.log("🔍 [ADMIN] No real users found"),[];console.log("🔍 [ADMIN] Found real users:",a.map(f=>({id:f.id.substring(0,8),name:`${f.first_name} ${f.last_name}`,role:f.role})));const l=new Map;for(const f of a)l.set(f.id,{user:{id:f.id,firstName:f.first_name||"Unknown",lastName:f.last_name||"User",email:`user-${f.id.substring(0,8)}@app.com`,photo:f.photos&&f.photos.length>0?f.photos[0]:void 0},conversations:[],totalConversations:0,lastActivity:f.created_at});console.log("🔍 [ADMIN] Fetching conversations for users");let c=[],d=null;try{console.log("🔍 [ADMIN] Attempting to fetch all conversations...");const{data:f,error:m}=await Ut.from("conversations").select(`
          *,
          last_message:messages(content, type)
        `).order("last_message_at",{ascending:!1});if(m)console.log("🔍 [ADMIN] Failed to fetch all conversations:",m),d=m;else if(f){const p=a.map(x=>x.id);c=f.filter(x=>p.includes(x.user1_id)||p.includes(x.user2_id)),console.log("🔍 [ADMIN] Filtered conversations:",c.length,"out of",f.length,"total")}}catch(f){console.log("🔍 [ADMIN] Error fetching conversations:",f),d=f}if((!c||c.length===0)&&d){console.log("🔍 [ADMIN] Trying individual user queries..."),c=[];for(const f of a)try{const{data:m}=await Ut.from("conversations").select(`
                *,
                last_message:messages(content, type)
              `).or(`user1_id.eq.${f.id},user2_id.eq.${f.id}`).order("last_message_at",{ascending:!1});m&&m.forEach(p=>{c.find(x=>x.id===p.id)||c.push(p)})}catch(m){console.log(`🔍 [ADMIN] Failed to fetch conversations for user ${f.id}:`,m)}c.sort((f,m)=>{const p=f.last_message_at?new Date(f.last_message_at).getTime():0;return(m.last_message_at?new Date(m.last_message_at).getTime():0)-p}),d=null}if(console.log("🔍 [ADMIN] Conversation query error:",d),console.log("🔍 [ADMIN] Raw conversations data:",c),d)return console.warn("Error fetching conversations:",d),Array.from(l.values());if(console.log("🔍 [ADMIN] Found conversations:",(c==null?void 0:c.length)||0),c&&c.forEach((f,m)=>{console.log(`🔍 [ADMIN] Conversation ${m+1}:`,{id:f.id.substring(0,8),user1_id:f.user1_id.substring(0,8),user2_id:f.user2_id.substring(0,8),last_message_at:f.last_message_at})}),c&&c.length>0){const{data:f,error:m}=await Ut.from("profiles").select("id, first_name, last_name, photos, role").eq("role","model");console.log("🔍 [ADMIN] Found model profiles:",(f==null?void 0:f.length)||0),f&&f.forEach(x=>{console.log("🔍 [ADMIN] Model profile:",{id:x.id.substring(0,8),name:`${x.first_name} ${x.last_name}`,role:x.role})});const p=new Map;f&&f.forEach(x=>{p.set(x.id,x)});for(const x of c){console.log("🔍 [ADMIN] Processing conversation:",{id:x.id.substring(0,8),user1_id:x.user1_id.substring(0,8),user2_id:x.user2_id.substring(0,8)});const j=a.find($=>$.id===x.user1_id),N=a.find($=>$.id===x.user2_id);console.log("🔍 [ADMIN] User lookup:",{user1Found:!!j,user2Found:!!N,user1Name:j?`${j.first_name} ${j.last_name}`:"Not found",user2Name:N?`${N.first_name} ${N.last_name}`:"Not found"});let y=null,v=null;if(j&&!N){const $=p.get(x.user2_id);$?(y=j.id,v=x.user2_id,console.log(`🔍 [ADMIN] Case 1: user1 is user, user2 is ${$.role}`)):(y=j.id,v=x.user2_id,console.log("🔍 [ADMIN] Case 1: user1 is user, user2 is another user (not model)"))}else if(N&&!j){const $=p.get(x.user1_id);$?(y=N.id,v=x.user1_id,console.log(`🔍 [ADMIN] Case 2: user2 is user, user1 is ${$.role}`)):(y=N.id,v=x.user1_id,console.log("🔍 [ADMIN] Case 2: user2 is user, user1 is another user (not model)"))}else if(j&&N)y=j.id,v=N.id,console.log("🔍 [ADMIN] Case 3: Both are users - showing conversation between users");else{console.log("🔍 [ADMIN] Case 4: Neither is a known user - skipping unknown conversation");continue}if(!y||!v){console.log("🔍 [ADMIN] Missing IDs - skipping:",{regularUserId:!!y,modelProfileId:!!v});continue}const b=l.get(y);if(!b){console.log("🔍 [ADMIN] No userChat found for regularUserId:",y.substring(0,8));continue}const k=p.get(v);let C,_;if(k)C=`${k.first_name} ${k.last_name}`,_=(t=k.photos)==null?void 0:t[0],k.first_name==="Elena"&&(!_||!_.includes("photo-1544005313-94ddf0286df2"))&&(_="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80"),console.log(`🔍 [ADMIN] Model profile: ${C}`);else try{const{data:$}=await Ut.from("profiles").select("first_name, last_name, photos").eq("id",v).single();$?(C=`${$.first_name} ${$.last_name}`,_=(s=$.photos)==null?void 0:s[0],console.log(`🔍 [ADMIN] Other user profile: ${C}`)):(C="Unknown User",console.log(`🔍 [ADMIN] Unknown profile for ID: ${v}`))}catch($){C="Unknown User",console.log(`🔍 [ADMIN] Error fetching profile for ID: ${v}:`,$)}console.log("🔍 [ADMIN] Adding conversation:",{regularUser:b.user.firstName+" "+b.user.lastName,modelProfile:C,modelProfileId:v.substring(0,8)});let M=0;y===x.user1_id?M=x.user1_unread_count||0:y===x.user2_id&&(M=x.user2_unread_count||0),console.log("🔍 [ADMIN] Unread count calculation:",{regularUserId:y.substring(0,8),convUser1:x.user1_id.substring(0,8),convUser2:x.user2_id.substring(0,8),user1Unread:x.user1_unread_count||0,user2Unread:x.user2_unread_count||0,finalUnreadCount:M});let L="No messages yet";if(x.last_message&&x.last_message.content)L=x.last_message.content;else try{const{data:$}=await Ut.from("messages").select("content").or(`and(sender_id.eq.${y},receiver_id.eq.${v}),and(sender_id.eq.${v},receiver_id.eq.${y})`).order("created_at",{ascending:!1}).limit(1).single();$!=null&&$.content&&(L=$.content)}catch($){console.log("Could not fetch latest message:",$)}b.conversations.push({profileId:v,profileName:C,profilePhoto:_,lastMessage:L,lastMessageAt:x.last_message_at||x.updated_at,unreadCount:M,status:"active"}),b.totalConversations=b.conversations.length,b.lastActivity=x.last_message_at||x.updated_at||b.lastActivity}}const u=Array.from(l.values());return console.log("🔍 [ADMIN] Final result:",u.map(f=>({user:f.user.firstName+" "+f.user.lastName,conversationCount:f.conversations.length,conversations:f.conversations.map(m=>m.profileName)}))),u}catch(n){return console.error("Error fetching user chats:",n),[]}}static async getConversation(t,s){var n,i;try{console.log("🔍 [ADMIN] Getting conversation for:",{userId:t,profileId:s});const[a,o]=t<s?[t,s]:[s,t],{data:l,error:c}=await Ut.from("conversations").select("id").eq("user1_id",a).eq("user2_id",o).single();let d;if(c||!l){const{data:v,error:b}=await Ut.from("conversations").insert({user1_id:a,user2_id:o,created_at:new Date().toISOString(),last_message_at:new Date().toISOString()}).select("id").single();if(b)throw console.error("🔍 [ADMIN] Error creating conversation:",b),new Error("Failed to create conversation");d=v.id}else d=l.id;const[u,f]=await Promise.all([Ut.from("profiles").select("*, role").eq("id",t).single(),Ut.from("profiles").select("*, role").eq("id",s).single()]);if(u.error||f.error)throw console.error("🔍 [ADMIN] Error fetching profiles:",{userError:u.error,profileError:f.error}),new Error("Failed to fetch user/profile data");const m=u.data,p=f.data;console.log("🔍 [ADMIN] User assignment:",{realUser:{id:m.id,firstName:m.first_name,role:m.role},modelProfile:{id:p.id,firstName:p.first_name,role:p.role}});let x=[];try{const{data:v}=await Ut.from("messages").select("*").or(`sender_id.eq.${t},sender_id.eq.${s}`).or(`receiver_id.eq.${t},receiver_id.eq.${s}`).order("created_at",{ascending:!0});x=v||[]}catch(v){console.error("🔍 [ADMIN] Error fetching messages:",v),x=[]}const j=x.map(v=>{var k;const b=v.sender_id===p.id?"assistant":"user";return console.log("🔍 [ADMIN] Converting message to ChatMessage:",{messageId:v.id,sender_id:v.sender_id,modelProfileId:p.id,realUserId:m.id,role:b,content:(k=v.content)==null?void 0:k.substring(0,30)}),{id:v.id,conversationId:d,content:v.content,role:b,timestamp:v.created_at,isAdminResponse:!1,type:v.type||"text",imageUrl:v.image_url,voiceUrl:v.voice_url,duration:v.duration}});let N="active";try{const{data:v}=await Ut.from("conversation_settings").select("is_archived").eq("user_id",t).eq("other_user_id",s).single();v!=null&&v.is_archived&&(N="archived")}catch(v){console.log("🔍 [ADMIN] Could not fetch conversation settings:",v)}const y=j.length>0?j[j.length-1]:null;return{id:d,userId:m.id,profileId:p.id,lastMessage:(y==null?void 0:y.content)||"No messages yet",lastMessageAt:(y==null?void 0:y.timestamp)||new Date().toISOString(),status:N,messages:j,user:{id:m.id,firstName:m.first_name||"Unknown",lastName:m.last_name||"User",email:m.email||`user-${m.id.substring(0,8)}@app.com`,photo:(n=m.photos)==null?void 0:n[0]},profile:{id:p.id,firstName:p.first_name||"Profile",lastName:p.last_name||"",photo:(i=p.photos)==null?void 0:i[0],city:p.city||"Unknown City",country:p.country||"Unknown Country",profession:p.profession||"Unknown Profession"}}}catch(a){throw console.error("Error fetching conversation:",a),a}}static getCurrentUserLocalStorageChats(){var t,s,n,i,a,o,l;try{const c=Object.keys(localStorage);console.log("All localStorage keys:",c);const d="sb-bnhvcnbsxjrgdhhxdrpa-auth-token",u=c.filter(C=>C.includes("supabase")||C.includes("auth"));console.log("Auth-related keys:",u);let f=null,m=null;try{const C=localStorage.getItem(d);if(C){const _=JSON.parse(C);_.user&&_.user.id&&(f=_.user,m=_.user.id,console.log(`Found user data in correct project key: ${d}`,{id:m,email:f.email}))}}catch(C){console.warn("Failed to parse correct auth key:",C)}if(!m){for(const C of u)if(C!==d)try{const _=localStorage.getItem(C);if(_){const M=JSON.parse(_);if(M.user&&M.user.id){f=M.user,m=M.user.id,console.log(`Found user data in key: ${C}`,{id:m,email:f.email});break}}}catch{}}if(!m)return console.log("No current user found in localStorage auth sessions"),null;const p=(f==null?void 0:f.email)||`user-${m.substring(0,8)}@app.com`;console.log("Looking for conversations for user:",m,p);let x=null;const j=`conversations_${m}`,N=localStorage.getItem(j);if(N)try{x=JSON.parse(N),console.log(`Found conversations in localStorage under key: ${j}`,x)}catch(C){return console.warn(`Failed to parse localStorage data for key ${j}:`,C),null}else{console.log(`No conversations found for key: ${j}`);const C=c.filter(_=>_.startsWith("conversations_"));if(C.length>0){console.log("Found other conversation keys:",C),console.log("User ID from auth:",m),console.log("Expected key:",j);const _=C[0],M=localStorage.getItem(_);if(M){console.log(`Using fallback conversation key: ${_}`);try{const L=JSON.parse(M);if(L&&Array.isArray(L)){const $=_.replace("conversations_","");let K=f;for(const I of u)try{const O=localStorage.getItem(I);if(O){const W=JSON.parse(O);if(W.user&&W.user.id===$){K=W.user;break}}}catch{}m=$,f=K,x=L,console.log(`Successfully loaded fallback conversations for user: ${m}`)}}catch(L){console.warn("Failed to parse fallback conversation data:",L)}}}if(!x)return null}if(!x||!Array.isArray(x)||x.length===0)return console.log("No localStorage conversations found for current user"),null;const y=x.map(C=>{var M,L,$,K,I;const _=C.messages&&C.messages.length>0?C.messages[C.messages.length-1]:null;return{profileId:C.id,profileName:`${((M=C.profile)==null?void 0:M.firstName)||"Profile"} ${((L=C.profile)==null?void 0:L.lastName)||""}`.trim(),profilePhoto:((K=($=C.profile)==null?void 0:$.photos)==null?void 0:K[0])||((I=C.profile)==null?void 0:I.photo),lastMessage:(_==null?void 0:_.text)||C.lastMessage||"No messages yet",lastMessageAt:(_==null?void 0:_.timestamp)||C.lastMessageTime||new Date().toISOString(),unreadCount:C.unreadCount||0,status:"active"}}),v=((t=f==null?void 0:f.user_metadata)==null?void 0:t.first_name)||((s=f==null?void 0:f.user_metadata)==null?void 0:s.firstName)||((n=f==null?void 0:f.email)==null?void 0:n.split("@")[0])||"Current User",b=((i=f==null?void 0:f.user_metadata)==null?void 0:i.last_name)||((a=f==null?void 0:f.user_metadata)==null?void 0:a.lastName)||"",k=((o=f==null?void 0:f.user_metadata)==null?void 0:o.avatar_url)||((l=f==null?void 0:f.user_metadata)==null?void 0:l.photo)||void 0;return{user:{id:m,firstName:v,lastName:b,email:p,photo:k},conversations:y,totalConversations:y.length,lastActivity:new Date().toISOString()}}catch(c){return console.error("Error reading current user localStorage conversations:",c),null}}static async sendProfileResponse(t,s,n,i){try{console.log("💬 [ADMIN] Sending profile response:",{conversationId:t,profileId:n,adminId:i,profileIdType:typeof n,profileIdLength:n==null?void 0:n.length});const{data:a,error:o}=await Ut.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(o||!a)throw console.error("💬 [ADMIN] Error getting conversation:",o),new Error("Conversation not found");const l=a.user1_id===n?a.user2_id:a.user1_id;console.log("💬 [ADMIN] Creating message with:",{sender_id:n,receiver_id:l,content:s.substring(0,30)});const{data:c,error:d}=await Ut.from("messages").insert({sender_id:n,receiver_id:l,content:s,type:"text",created_at:new Date().toISOString(),read:!1}).select().single();if(d)throw console.error("💬 [ADMIN] Error creating message:",d),new Error("Failed to create message");return await Ut.from("conversations").update({last_message_at:new Date().toISOString(),last_message_id:c.id,user1_unread_count:a.user1_id===l?1:0,user2_unread_count:a.user2_id===l?1:0}).eq("id",t),await zn.logAdminAction(i,"send_message",{conversation_id:t,profile_id:n,message_type:"text"}),{id:c.id,conversationId:t,content:c.content,role:"assistant",timestamp:c.created_at,isAdminResponse:!0,type:"text"}}catch(a){throw console.error("💬 [ADMIN] Error sending message:",a),a}}static async sendImageMessage(t,s,n,i,a){try{console.log("📷 [ADMIN] Sending image message:",{conversationId:t,profileId:i,adminId:a,imageUrl:s});const{data:o,error:l}=await Ut.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(l||!o)throw console.error("📷 [ADMIN] Error getting conversation:",l),new Error("Conversation not found");const c=o.user1_id===i?o.user2_id:o.user1_id,{data:d,error:u}=await Ut.from("messages").insert({sender_id:i,receiver_id:c,content:n,type:"image",image_url:s,created_at:new Date().toISOString(),read:!1}).select().single();if(u)throw console.error("📷 [ADMIN] Error creating image message:",u),new Error("Failed to create image message");return await Ut.from("conversations").update({last_message_at:new Date().toISOString(),last_message_id:d.id,user1_unread_count:o.user1_id===c?1:0,user2_unread_count:o.user2_id===c?1:0}).eq("id",t),{id:d.id,conversationId:t,content:n,role:"assistant",timestamp:d.created_at,isAdminResponse:!0,type:"image",imageUrl:s}}catch(o){throw console.error("📷 [ADMIN] Error sending image message:",o),o}}static async sendGiftMessage(t,s,n,i,a){try{console.log("🎁 [ADMIN] Sending gift message:",{conversationId:t,profileId:i,adminId:a,giftName:s,giftCost:n});const{data:o,error:l}=await Ut.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(l||!o)throw console.error("🎁 [ADMIN] Error getting conversation:",l),new Error("Conversation not found");const c=o.user1_id===i?o.user2_id:o.user1_id;console.log("🎁 [ADMIN] Gift message details:",{sender_id:i,receiver_id:c,content:s,type:"gift",gift_name:s,gift_cost:n,conversation_user1:o.user1_id,conversation_user2:o.user2_id});const{data:d,error:u}=await Ut.from("messages").insert({sender_id:i,receiver_id:c,content:s,type:"gift",gift_name:s,gift_cost:n,created_at:new Date().toISOString(),read:!1}).select().single();if(u)throw console.error("🎁 [ADMIN] Error creating gift message:",u),console.error("🎁 [ADMIN] Error details:",JSON.stringify(u,null,2)),new Error("Failed to create gift message");return console.log("🎁 [ADMIN] Gift message created successfully:",{messageId:d.id,sender_id:d.sender_id,receiver_id:d.receiver_id,content:d.content,type:d.type}),await Ut.from("conversations").update({last_message_at:new Date().toISOString(),last_message_id:d.id,user1_unread_count:o.user1_id===c?1:0,user2_unread_count:o.user2_id===c?1:0}).eq("id",t),{id:d.id,conversationId:t,content:s,role:"assistant",timestamp:d.created_at,isAdminResponse:!0,type:"gift",giftData:{name:s,cost:n,giftType:"real"}}}catch(o){throw console.error("🎁 [ADMIN] Error sending gift message:",o),o}}static async updateUnreadCount(t,s,n){try{console.log("📊 [ADMIN] Updating unread count:",{userId:t,otherUserId:s,unreadCount:n});const{data:i,error:a}=await Fe.from("conversations").select("id, user1_id, user2_id").or(`and(user1_id.eq.${t},user2_id.eq.${s}),and(user1_id.eq.${s},user2_id.eq.${t})`).single();if(a||!i){console.log("📊 [ADMIN] Conversation not found for unread count update");return}let o={};if(i.user1_id===t?o.user1_unread_count=n:i.user2_id===t&&(o.user2_unread_count=n),Object.keys(o).length>0){const{error:l}=await Fe.from("conversations").update(o).eq("id",i.id);l?console.warn("📊 [ADMIN] Failed to update unread count:",l):console.log("📊 [ADMIN] Successfully updated unread count")}}catch(i){console.error("📊 [ADMIN] Error updating unread count:",i)}}static async markConversationAsRead(t,s){try{console.log("📖 [ADMIN] Marking conversation as read:",{userId:t,profileId:s});const{data:n,error:i}=await Fe.from("conversations").select("id, user1_id, user2_id, user1_unread_count, user2_unread_count").or(`and(user1_id.eq.${t},user2_id.eq.${s}),and(user1_id.eq.${s},user2_id.eq.${t})`).single();if(i||!n){console.log("📖 [ADMIN] Conversation not found, creating placeholder read status");return}let a={};if(n.user1_id===t?a.user1_unread_count=0:n.user2_id===t&&(a.user2_unread_count=0),Object.keys(a).length>0){const{error:o}=await Fe.from("conversations").update(a).eq("id",n.id);o?console.warn("📖 [ADMIN] Failed to update conversation unread count:",o):console.log("📖 [ADMIN] Successfully cleared unread count for conversation")}try{const{error:o}=await Fe.from("messages").update({read:!0}).eq("receiver_id",t).eq("sender_id",s).eq("read",!1);o&&console.warn("📖 [ADMIN] Failed to mark individual messages as read:",o)}catch(o){console.warn("📖 [ADMIN] Could not mark individual messages as read:",o)}}catch(n){console.error("📖 [ADMIN] Error marking conversation as read:",n)}}static async updateConversationStatus(t,s){try{const{data:n,error:i}=await Fe.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(i||!n){console.warn("Conversation not found, using mock update");return}const a=[{user_id:n.user1_id,other_user_id:n.user2_id,is_archived:s==="archived",updated_at:new Date().toISOString()},{user_id:n.user2_id,other_user_id:n.user1_id,is_archived:s==="archived",updated_at:new Date().toISOString()}];for(const o of a){const{error:l}=await Fe.from("conversation_settings").upsert(o,{onConflict:"user_id,other_user_id"});l&&console.warn("Failed to update conversation settings:",l)}s==="flagged"&&console.log(`Conversation ${t} flagged for moderation`),console.log(`Updated conversation ${t} status to ${s}`)}catch(n){throw console.error("Error updating conversation status:",n),n}}static async getUsers(t=1,s=20){try{return{users:[],total:0,page:t,limit:s}}catch(n){throw console.error("Error fetching users:",n),n}}static async createUser(t){try{const{data:{user:s},error:n}=await Fe.auth.getUser();if(n)throw n;if(!s)throw new Error("Not authenticated");if(!t.firstName)throw new Error("First name is required");if(!t.lastName)throw new Error("Last name is required");if(!t.role)throw new Error("Role is required");let i=t.email;if(t.role==="model"&&!i){const l=t.firstName.toLowerCase().replace(/[^a-z0-9]/g,""),c=t.lastName.toLowerCase().replace(/[^a-z0-9]/g,"");i=`${l}.${c}@model.lcn.com`}else if(!i)throw new Error("Email is required for non-model users");const{data:a,error:o}=await Fe.rpc("create_user_with_profile",{admin_user_id:s.id,user_email:i,user_first_name:t.firstName,user_last_name:t.lastName,user_role:t.role,user_photos:t.photos||[],user_coins:t.coins||0,user_gender:t.gender||"female",user_birth_date:t.birthDate||null,user_country:t.country||"",user_city:t.city||"",user_profession:t.profession||"",user_languages:t.languages||[],user_bio:t.bio||""});if(o)throw console.error("Database error:",o),new Error(o.message||"Failed to create user");if(!a)throw new Error("No data returned from create_user_with_profile");return{user:a,error:null}}catch(s){return console.error("Error in createUser:",s),{user:null,error:s instanceof Error?s:new Error("Unknown error occurred")}}}static async logAdminAction(t,s,n){try{const{error:i}=await Fe.from("admin_audit_log").insert({admin_id:t,action:s,details:n?JSON.stringify(n):null,timestamp:new Date().toISOString()});i?(console.error("Database error logging admin action:",i),console.log("Mock admin action logged:",{adminId:t,action:s,details:n})):console.log("Admin action logged to database:",{adminId:t,action:s,details:n})}catch(i){console.error("Error logging admin action:",i),console.log("Mock admin action logged:",{adminId:t,action:s,details:n})}}}const MB=()=>{var Xr,gi,br,fa;const{user:e,isAdmin:t}=Gr(),s=Dr(),n=Qh(),[i,a]=E.useState("conversations"),[o,l]=E.useState([]),[c,d]=E.useState(""),[u,f]=E.useState(null),[m,p]=E.useState(!1),[x,j]=E.useState("view"),[N,y]=E.useState({firstName:"",lastName:"",email:"",role:"user",photos:[""],coins:0,gender:"female",birthDate:"",country:"",city:"",profession:"",languages:[],bio:"",interests:[],eyeColor:"",hairColor:"",appearanceType:"",alcohol:"",smoking:"",children:"",religion:"",zodiacSign:"",englishLevel:"",verified:!1,premium:!1,hasIntroVideo:!1,isOnline:!1,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1}),[v,b]=E.useState({}),[k,C]=E.useState([]),[_,M]=E.useState(null),[L,$]=E.useState(!0),[K,I]=E.useState(!1),[O,W]=E.useState(""),[Y,le]=E.useState(!1),[ie,oe]=E.useState(null),[Z,B]=E.useState(""),[X,J]=E.useState([]),[P,H]=E.useState([]),[Q,G]=E.useState("all"),[ae,xe]=E.useState(""),[we,de]=E.useState(!1),[Ee,Le]=E.useState(null),[$e,Be]=E.useState({name:"",description:"",price:0,image_url:"",category:"flowers"}),Re=E.useRef(null),fe=E.useRef(null),te=E.useRef(null),[Ke,We]=E.useState(!1),[Oe,Ve]=E.useState(!1);E.useRef(null);const[Ye,Je]=E.useState(""),[dt,pt]=E.useState(!1),[ut,ft]=E.useState("real"),[wt,_t]=E.useState(!1),[tt,Nt]=E.useState({count:10,countries:["Ukraine","Russia","Belarus","Kazakhstan","Georgia","Poland","Czech Republic","Slovakia","Hungary","Romania","Bulgaria","Serbia","Croatia","Slovenia","Latvia","Lithuania","Estonia","Moldova","Armenia","Azerbaijan"],ageRange:{min:18,max:35},includeVerified:!0,includePremium:!1}),[Ze,Is]=E.useState(!1),[Dt,vr]=E.useState(!1),[$t,ns]=E.useState([]),[hs,It]=E.useState({}),[Qn,ts]=E.useState(!1),ds={firstNames:["Anastasia","Elena","Maria","Sofia","Anna","Victoria","Natalia","Irina","Katerina","Olga","Tatiana","Yulia","Ekaterina","Alina","Daria","Polina","Kristina","Veronika","Angelina","Valentina","Margarita","Evgenia","Larisa","Galina","Raisa","Tamara","Ludmila","Nina","Zinaida","Rosa"],lastNames:["Kovalenko","Melnyk","Shevchenko","Bondarenko","Tkachenko","Kravchenko","Kovalchuk","Oliynyk","Shevchuk","Mazur","Marchenko","Rudenko","Savchenko","Petrenko","Moroz","Lysenko","Romanenko","Vasylenko","Pavlenko","Kharchenko","Tarasenko","Bondar","Melnik","Kravets","Koval","Shevchuk","Marchenko","Savchuk","Petruk","Morozov"],professions:["Model","Student","Teacher","Nurse","Designer","Artist","Photographer","Dancer","Singer","Actress","Journalist","Translator","Tour Guide","Chef","Fitness Trainer","Yoga Instructor","Makeup Artist","Hair Stylist","Fashion Designer","Interior Designer","Graphic Designer","Web Designer","Marketing Specialist","Sales Representative","Customer Service","Receptionist","Administrative Assistant","Event Planner","Travel Agent","Real Estate Agent"],bios:["Passionate about life and looking for meaningful connections. Love traveling and meeting new people.","Creative soul who enjoys art, music, and good conversations. Looking for someone special to share life with.","Adventurous spirit who loves exploring new places and cultures. Ready for exciting experiences.","Romantic at heart, believe in true love and lasting relationships. Looking for my soulmate.","Independent woman with a zest for life. Love cooking, reading, and spending time outdoors.","Professional and ambitious, but also know how to have fun. Looking for someone who shares my values.","Sweet and caring person who loves animals and nature. Looking for someone kind and understanding.","Active lifestyle enthusiast who enjoys sports and outdoor activities. Looking for an active partner.","Intellectual and curious, love learning new things and having deep conversations.","Family-oriented person who values traditions and close relationships. Looking for serious commitment.","Free-spirited and artistic, love expressing myself through various forms of art.","Practical and organized, but also know how to enjoy life. Looking for someone reliable and caring.","Optimistic and positive person who believes in the good in people. Love making others smile.","Ambitious and driven, but also romantic. Looking for someone who can be both my partner and best friend.","Spiritual person who believes in destiny and meaningful connections. Looking for my other half."],interests:[["Travel","Photography","Cooking"],["Music","Dancing","Art"],["Reading","Writing","Poetry"],["Yoga","Meditation","Wellness"],["Fashion","Beauty","Style"],["Sports","Fitness","Outdoor Activities"],["Movies","Theater","Culture"],["Cooking","Baking","Food"],["Photography","Nature","Adventure"],["Music","Singing","Instruments"],["Dancing","Parties","Social Events"],["Reading","Books","Literature"],["Art","Painting","Creativity"],["Travel","Languages","Cultures"],["Fitness","Health","Lifestyle"]],languages:[["Ukrainian","English","Russian"],["Russian","English","French"],["Belarusian","Russian","English"],["Kazakh","Russian","English"],["Georgian","Russian","English"],["Ukrainian","English"],["Russian","English"],["Ukrainian","Russian","English"],["Belarusian","English"],["Kazakh","English"]],photos:["https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80","https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80"]},[Jt,Qt]=E.useState({totalRevenue:0,monthlyRevenue:0,totalOrders:0,monthlyOrders:0,subscriptionRevenue:0,monthlySubscriptionRevenue:0,coinsRevenue:0,monthlyCoinsRevenue:0,popularPlans:[],recentTransactions:[],revenueTrend:[],orderTrend:[],activeSubscriptions:0,totalCoinsSpent:0,monthlyCoinsSpent:0,totalGiftsSent:0,monthlyGiftsSent:0,popularGifts:[]}),[xt,Vt]=E.useState(!1),[mi,Lt]=E.useState(null),[Cr,pn]=E.useState(""),[lt,Ks]=E.useState("month");E.useEffect(()=>{t&&(i==="conversations"?Kr():i==="gifts"?Mn():i==="users"?Jr():i==="analytics"&&Ui())},[t,i,lt]);const Kr=async()=>{$(!0);try{await Xt()}catch(T){console.error("Error loading admin data:",T)}finally{$(!1)}},Xt=async()=>{console.log("🔄 Loading user chats...");try{const T=await zn.getUserChats();console.log("🔄 Loaded chats - Total users:",T.length);const re=T.map(_e=>({..._e,conversations:_e.conversations.map(F=>({...F,unreadCount:typeof F.unreadCount=="number"?F.unreadCount:0,hasUnread:typeof F.unreadCount=="number"&&F.unreadCount>0}))}));C(re)}catch(T){console.error("Failed to load user chats:",T)}},Ps=async()=>{$(!0);try{await Xt(),console.log("Data refreshed successfully")}catch(T){console.error("Error refreshing data:",T)}finally{$(!1)}};E.useEffect(()=>{t&&e&&(Kr(),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(T=>{console.log("🔔 [ADMIN] Notification permission:",T)}))},[t,e]),E.useEffect(()=>{if(!t||!e)return;if(!navigator.onLine){console.log("📴 [ADMIN] Device is offline, skipping real-time setup");return}console.log("🔔 [ADMIN] Setting up real-time subscriptions..."),console.log("🔔 [ADMIN] Admin user ID:",e.id);let T=null,re=null,_e=0;const F=3,ne=()=>{try{T=Ut.channel(`admin_messages_${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},ye=>{var Xe,nt,at,Rt,vt,Wt,is,mt,Qr,Ys,qt,In;console.log("🔔 [ADMIN] ===== NEW MESSAGE DETECTED ====="),console.log("🔔 [ADMIN] Raw payload:",ye),console.log("🔔 [ADMIN] Event type:",ye.eventType),console.log("🔔 [ADMIN] Table:",ye.table);const ge=ye.new;console.log("🔔 [ADMIN] Parsed message:",{id:ge.id,sender_id:ge.sender_id,receiver_id:ge.receiver_id,content:ge.content,type:ge.type,created_at:ge.created_at}),console.log("🔔 [ADMIN] Message details:",{id:ge.id,sender:(Xe=ge.sender_id)==null?void 0:Xe.substring(0,8),receiver:(nt=ge.receiver_id)==null?void 0:nt.substring(0,8),content:(at=ge.content)==null?void 0:at.substring(0,30),type:ge.type,created_at:ge.created_at}),console.log("🔔 [ADMIN] Message details:",{id:ge.id,sender_id:(Rt=ge.sender_id)==null?void 0:Rt.substring(0,8),receiver_id:(vt=ge.receiver_id)==null?void 0:vt.substring(0,8),content:(Wt=ge.content)==null?void 0:Wt.substring(0,50),created_at:ge.created_at}),console.log("%c🔔 NEW MESSAGE IN ADMIN PANEL","background: #ff0000; color: white; padding: 2px 5px; border-radius: 3px; font-weight: bold;"),console.log(`From: ${(is=ge.sender_id)==null?void 0:is.substring(0,8)} → To: ${(mt=ge.receiver_id)==null?void 0:mt.substring(0,8)}`),console.log(`Content: "${ge.content}"`),console.log("---"),C(Wa=>{var wn,Rn,ma;console.log("🔔 [ADMIN] Updating user chats with new message..."),console.log("🔔 [ADMIN] Message details for processing:",{sender_id:(wn=ge.sender_id)==null?void 0:wn.substring(0,8),receiver_id:(Rn=ge.receiver_id)==null?void 0:Rn.substring(0,8),content:(ma=ge.content)==null?void 0:ma.substring(0,50)});let Or=!1;const Rs=Wa.map(Ot=>{var zi,xi,ga,xa,Ga,ya,Nn;if(!(Ot.user.id===ge.sender_id||Ot.user.id===ge.receiver_id))return Ot;console.log("🔔 [ADMIN] User involved in message:",Ot.user.firstName);const Fr=Ot.user.id===ge.sender_id,pa=Fr?ge.receiver_id:ge.sender_id;console.log("🔔 [ADMIN] Message direction:",{isUserSendingMessage:Fr,otherPartyId:pa==null?void 0:pa.substring(0,8),userChatUserId:(zi=Ot.user.id)==null?void 0:zi.substring(0,8),sender:(xi=ge.sender_id)==null?void 0:xi.substring(0,8),receiver:(ga=ge.receiver_id)==null?void 0:ga.substring(0,8)});const ks=Ot.conversations.findIndex(Ds=>Ds.profileId===pa);if(ks!==-1){console.log("🔔 [ADMIN] Updating existing conversation:",Ot.conversations[ks].profileName);const Ds=Ot.conversations[ks],va=_&&_.userId===Ot.user.id&&_.profileId===Ds.profileId;console.log("🔔 [ADMIN] Checking if currently viewing:",{conversation:`${Ot.user.firstName} ↔ ${Ds.profileName}`,hasSelectedConversation:!!_,selectedUserId:(xa=_==null?void 0:_.userId)==null?void 0:xa.substring(0,8),selectedProfileId:(Ga=_==null?void 0:_.profileId)==null?void 0:Ga.substring(0,8),currentUserId:(ya=Ot.user.id)==null?void 0:ya.substring(0,8),currentProfileId:(Nn=Ds.profileId)==null?void 0:Nn.substring(0,8),isCurrentlyViewing:va});let Zr=Ds.unreadCount;Fr&&!va?(Zr=Ds.unreadCount+1,console.log("🔔 [ADMIN] ✅ INCREMENTING unread count:",{conversation:`${Ot.user.firstName} ↔ ${Ds.profileName}`,from:Ds.unreadCount,to:Zr,reason:"user sent message, admin not currently viewing conversation"}),Or=!0):va?(Zr=0,console.log("🔔 [ADMIN] Clearing unread count (admin currently viewing)")):console.log("🔔 [ADMIN] Not incrementing unread count:",{conversation:`${Ot.user.firstName} ↔ ${Ds.profileName}`,isUserSendingMessage:Fr,isCurrentlyViewing:va,reason:Fr?"admin is currently viewing conversation":"admin sent message as model"});let Br=ge.content;ge.type==="gift"?Br=`🎁 ${ge.content}`:ge.type==="image"?Br="📷 Photo":ge.type==="voice"&&(Br="🎵 Voice message");const ei=[...Ot.conversations];return ei[ks]={...Ds,lastMessage:Br,lastMessageAt:ge.created_at,unreadCount:Zr},{...Ot,conversations:ei,lastActivity:ge.created_at}}else if(Fr)return console.log("🔔 [ADMIN] New conversation detected, but not refreshing to preserve unread counts"),Ot;return Ot});if(console.log("🔔 [ADMIN] Message processing complete, wasUpdated:",Or),Or&&(console.log("🔔 [ADMIN] Updated conversations after message:"),Rs.forEach(Ot=>{Ot.conversations.forEach(Ar=>{Ar.unreadCount>0&&console.log(`  🔴 ${Ot.user.firstName} ↔ ${Ar.profileName}: ${Ar.unreadCount} unread`)})})),Or&&"Notification"in window&&Notification.permission==="granted"){const Ot=Wa.find(Ar=>Ar.user.id===ge.receiver_id);Ot&&new Notification("New message in admin panel",{body:`${Ot.user.firstName} received: "${ge.content.substring(0,50)}${ge.content.length>50?"...":""}"`,icon:"/notification-icon.png"})}if(Or)try{new Audio("/notification.mp3").play().catch(Ar=>console.log("Sound play failed:",Ar))}catch(Ot){console.log("Could not play notification sound:",Ot)}return Rs});const ke=te.current;if(ke)if(console.log("🔔 [ADMIN] Checking if message belongs to selected conversation..."),console.log("🔔 [ADMIN] Selected conversation:",{userId:ke.userId,profileId:ke.profileId}),ke.userId===ge.sender_id&&ke.profileId===ge.receiver_id||ke.userId===ge.receiver_id&&ke.profileId===ge.sender_id){console.log("🔔 [ADMIN] Adding message to selected conversation"),console.log("🔍 [ADMIN] Message role assignment:",{sender_id:ge.sender_id,profileId:ke.profileId,userId:ke.userId,senderMatchesProfile:ge.sender_id===ke.profileId,senderMatchesUser:ge.sender_id===ke.userId});const Or=(Qr=ke.messages)==null?void 0:Qr.some(Rs=>Rs.id===ge.id);if(Or)console.log("🔍 [ADMIN] Message already exists, skipping duplicate:",ge.id);else{const Rs={id:ge.id,conversationId:ke.id,content:ge.content,role:ge.sender_id===ke.profileId?"assistant":"user",timestamp:ge.created_at,isAdminResponse:ge.sender_id===ke.profileId,type:ge.type||"text",imageUrl:ge.type==="image"?ge.image_url:void 0,voiceUrl:ge.type==="voice"?ge.voice_url:void 0,duration:ge.duration||void 0,status:"delivered"};console.log("🔍 [ADMIN] Real-time message role assignment:",{messageId:ge.id,sender_id:(Ys=ge.sender_id)==null?void 0:Ys.substring(0,8),profileId:(qt=ke.profileId)==null?void 0:qt.substring(0,8),userId:(In=ke.userId)==null?void 0:In.substring(0,8),assignedRole:Rs.role,senderMatchesProfile:ge.sender_id===ke.profileId,senderMatchesUser:ge.sender_id===ke.userId,isDuplicate:Or});let wn=ge.content;ge.type==="gift"?wn=`🎁 ${ge.content}`:ge.type==="image"?wn="📷 Photo":ge.type==="voice"&&(wn="🎵 Voice message"),M(Rn=>Rn?{...Rn,messages:[...Rn.messages,Rs],lastMessage:wn,lastMessageAt:ge.created_at}:null)}}else console.log("🔔 [ADMIN] Message does not belong to selected conversation")}).subscribe(ye=>{console.log("🔔 [ADMIN] Message subscription status:",ye),ye==="SUBSCRIBED"?(console.log("✅ [ADMIN] Successfully subscribed to messages"),_e=0):(ye==="CHANNEL_ERROR"||ye==="TIMED_OUT")&&(console.warn("⚠️ [ADMIN] Message subscription error, attempting to reconnect..."),_e<F&&navigator.onLine&&(_e++,setTimeout(()=>ne(),1e3*_e)))}),re=Ut.channel(`admin_conversations_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},ye=>{var Xe,nt,at;console.log("🔔 [ADMIN] Conversation updated:",ye);const ge=ye.eventType,ke=ye.new||ye.old;ge==="INSERT"&&ke&&console.log("🔔 [ADMIN] New conversation created:",{id:(Xe=ke==null?void 0:ke.id)==null?void 0:Xe.substring(0,8),user1_id:(nt=ke==null?void 0:ke.user1_id)==null?void 0:nt.substring(0,8),user2_id:(at=ke==null?void 0:ke.user2_id)==null?void 0:at.substring(0,8)}),console.log("🔔 [ADMIN] Conversation change detected, but not auto-refreshing to preserve unread counts")}).subscribe(ye=>{console.log("🔔 [ADMIN] Conversation subscription status:",ye)})}catch(ye){console.error("❌ [ADMIN] Error setting up subscriptions:",ye)}};ne();const be=()=>{console.log("🌐 [ADMIN] Back online, reconnecting subscriptions..."),_e=0,T&&Ut.removeChannel(T),re&&Ut.removeChannel(re),ne()},Se=()=>{console.log("📴 [ADMIN] Gone offline, pausing real-time subscriptions")};return window.addEventListener("online",be),window.addEventListener("offline",Se),()=>{console.log("🔔 [ADMIN] Cleaning up real-time subscriptions..."),T&&Ut.removeChannel(T),re&&Ut.removeChannel(re),window.removeEventListener("online",be),window.removeEventListener("offline",Se)}},[t,e]);const gs=k.filter(T=>T.user.firstName.toLowerCase().includes(Z.toLowerCase())||T.user.lastName.toLowerCase().includes(Z.toLowerCase())||T.user.email.toLowerCase().includes(Z.toLowerCase())||T.conversations.some(re=>re.profileName.toLowerCase().includes(Z.toLowerCase())||re.lastMessage.toLowerCase().includes(Z.toLowerCase()))),ur=T=>new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),gn=T=>{const re=new Date,_e=new Date(T),F=(re.getTime()-_e.getTime())/(1e3*60*60);return F<1?"now":F<24?`${Math.floor(F)}h`:F<48?"yesterday":_e.toLocaleDateString()},ht=T=>T?{emoji:"🎁",name:T}:{emoji:"🎁",name:"Gift"},xn=()=>{var T;(T=fe.current)==null||T.click()},yn=async T=>{var _e,F;const re=(_e=T.target.files)==null?void 0:_e[0];if(!(!re||!_||!e)){if(!re.type.startsWith("image/")){console.error("Please select an image file");return}if(re.size>5*1024*1024){console.error("Image size must be less than 5MB");return}We(!0);try{const ne=await vn(re,1200,.8),be=`admin-img-${Date.now()}`,Se=await bn(ne,be),ye=await zn.sendImageMessage(_.id,Se,O.trim()||"",_.user.id,e.id);console.log("🔍 [ADMIN] Image message sent successfully:",{id:ye.id,role:ye.role,content:(F=ye.content)==null?void 0:F.substring(0,30),isAdminResponse:ye.isAdminResponse,imageUrl:ye.imageUrl}),W("");const ge={id:ye.id,conversationId:_.id,content:ye.content,role:"assistant",timestamp:ye.timestamp,isAdminResponse:!0,type:"image",imageUrl:ye.imageUrl,status:"delivered"};console.log("🔍 [ADMIN] Manually adding image message to conversation:",{id:ge.id,role:ge.role,isAdminResponse:ge.isAdminResponse,hasImageUrl:!!ge.imageUrl}),M(ke=>ke?{...ke,messages:[...ke.messages,ge],lastMessage:"📷 Photo",lastMessageAt:ye.timestamp}:null),setTimeout(async()=>{var Xe;const ke=await zn.getConversation(_.userId,_.profileId);console.log("🔍 [ADMIN] Refreshed conversation after image timeout:",{messageCount:ke.messages.length,lastMessageRole:(Xe=ke.messages[ke.messages.length-1])==null?void 0:Xe.role}),M(ke)},2e3)}catch(ne){console.error("Failed to upload image:",ne)}finally{We(!1),fe.current&&(fe.current.value="")}}},vn=(T,re,_e)=>new Promise((F,ne)=>{const be=document.createElement("canvas"),Se=be.getContext("2d");if(!Se){ne(new Error("Canvas context not available"));return}const ye=document.createElement("img");ye.onload=()=>{const ge=Math.min(re/ye.width,re/ye.height),ke=ye.width*ge,Xe=ye.height*ge;be.width=ke,be.height=Xe,Se.drawImage(ye,0,0,ke,Xe),be.toBlob(nt=>{if(nt){const at=new File([nt],T.name,{type:"image/jpeg",lastModified:Date.now()});F(at)}else ne(new Error("Failed to compress image"))},"image/jpeg",_e)},ye.onerror=()=>{ne(new Error("Failed to load image"))},ye.src=URL.createObjectURL(T)}),bn=async(T,re)=>{const _e=`admin-chat/${re}-${Date.now()}.jpg`,{data:F,error:ne}=await Fe.storage.from("chat-images").upload(_e,T);if(ne)throw console.error("Upload error:",ne),new Error("Failed to upload image");const{data:{publicUrl:be}}=Fe.storage.from("chat-images").getPublicUrl(_e);return be},Yr=["😊","😍","🥰","😘","💕","❤️","🔥","😂","👍","🙌","💯","🎉"],Ln=T=>{W(re=>re+T),Ve(!1)},Oi=async T=>{if(!(!_||!e)){pt(!1);try{console.log("🎁 [ADMIN] Sending gift:",{giftName:T.name,giftCost:T.price,conversationId:_.id,profileId:_.user.id,adminId:e.id});const re=await zn.sendGiftMessage(_.id,T.name,T.price,_.user.id,e.id);console.log("🎁 [ADMIN] Gift sent successfully:",{id:re.id,role:re.role,content:re.content,isAdminResponse:re.isAdminResponse,giftData:re.giftData}),console.log("🎁 [ADMIN] Gift sent, waiting for real-time subscription to add it"),setTimeout(async()=>{var F;const _e=await zn.getConversation(_.userId,_.profileId);console.log("🎁 [ADMIN] Refreshed conversation after gift timeout:",{messageCount:_e.messages.length,lastMessageRole:(F=_e.messages[_e.messages.length-1])==null?void 0:F.role}),M(_e)},2e3)}catch(re){console.error("🎁 [ADMIN] Failed to send gift:",re),n.error("Failed to send gift. Please try again.")}}};E.useEffect(()=>{te.current=_},[_]),E.useEffect(()=>{_&&Re.current&&Re.current.scrollIntoView({behavior:"smooth"})},[_==null?void 0:_.messages]);const Mn=async()=>{try{const[T,re]=await Promise.all([t1(),w3()]);J(T),H(["all",...re])}catch(T){console.error("Error loading gifts data:",T)}},da=async()=>{try{const{error:T}=await Fe.from("gifts").insert([{name:$e.name,description:$e.description,price:$e.price,image_url:$e.image_url,category:$e.category}]);if(T)throw T;await Mn(),de(!1),pi(),n.success("Gift added successfully!")}catch(T){console.error("Error adding gift:",T),n.error("Failed to add gift.")}},Fi=async()=>{if(Ee)try{const{error:T}=await Fe.from("gifts").update({name:$e.name,description:$e.description,price:$e.price,image_url:$e.image_url,category:$e.category}).eq("id",Ee.id);if(T)throw T;await Mn(),Le(null),pi(),n.success("Gift updated successfully!")}catch(T){console.error("Error updating gift:",T),n.error("Failed to update gift.")}},Bi=async T=>{if(confirm("Are you sure you want to delete this gift?"))try{const{error:re}=await Fe.from("gifts").delete().eq("id",T);if(re)throw re;await Mn(),n.success("Gift deleted successfully!")}catch(re){console.error("Error deleting gift:",re),n.error("Failed to delete gift.")}},pi=()=>{Be({name:"",description:"",price:0,image_url:"",category:"flowers"})},Rl=T=>{Le(T),Be({name:T.name,description:T.description,price:T.price,image_url:T.image_url,category:T.category})},ua=X.filter(T=>{const re=Q==="all"||T.category===Q,_e=T.name.toLowerCase().includes(ae.toLowerCase())||T.description.toLowerCase().includes(ae.toLowerCase());return re&&_e}),Jr=async()=>{$(!0);try{const{data:T,error:re}=await Fe.from("profiles").select("*").order("created_at",{ascending:!1});if(re)throw re;l(T||[])}catch(T){console.error("Error loading users:",T)}finally{$(!1)}},Ua=async(T,re)=>{try{if(re==="delete"){const F=o.find(ye=>ye.id===T),ne=F?`${F.first_name} ${F.last_name}`:"this user",be=(F==null?void 0:F.role)||"user";if(!window.confirm(`Are you sure you want to delete ${ne}?

`))return}let _e;switch(re){case"activate":_e=await Fe.from("profiles").update({is_active:!0}).eq("id",T);break;case"deactivate":_e=await Fe.from("profiles").update({is_active:!1}).eq("id",T);break;case"delete":_e=await Fe.from("profiles").delete().eq("id",T);break}if(_e!=null&&_e.error)throw _e.error;await Jr(),n.success(`User ${re}d successfully!`)}catch(_e){console.error(`Error ${re}ing user:`,_e),n.error(`Failed to ${re} user.`)}},Dl=async()=>{var re,_e;if(!u)return;if(!((re=N.firstName)!=null&&re.trim())){n.error("First name is required");return}if(!((_e=N.lastName)!=null&&_e.trim())){n.error("Last name is required");return}const T={};if(N.firstName&&(T.first_name=N.firstName),N.lastName&&(T.last_name=N.lastName),N.role&&(T.role=N.role),N.photos&&N.photos.length>0&&(T.photos=N.photos),typeof N.coins=="number"&&(T.coins=N.coins),N.gender&&(T.gender=N.gender),N.birthDate&&(T.birth_date=new Date(N.birthDate).toISOString().split("T")[0]),N.country&&(T.country=N.country),N.city&&(T.city=N.city),N.profession&&(T.profession=N.profession),N.languages&&N.languages.length>0&&(T.languages=N.languages),N.bio&&(T.bio=N.bio),N.interests&&N.interests.length>0&&(T.interests=N.interests),N.eyeColor&&N.eyeColor.trim()&&(T.eye_color=N.eyeColor),N.hairColor&&N.hairColor.trim()&&(T.hair_color=N.hairColor),N.appearanceType&&N.appearanceType.trim()&&(T.appearance_type=N.appearanceType),N.alcohol&&N.alcohol.trim()&&(T.alcohol=N.alcohol),N.smoking&&N.smoking.trim()&&(T.smoking=N.smoking),N.children&&N.children.trim()&&(T.children=N.children),N.religion&&N.religion.trim()&&(T.religion=N.religion),N.zodiacSign&&N.zodiacSign.trim()&&(T.zodiac_sign=N.zodiacSign),N.englishLevel&&N.englishLevel.trim()&&(T.english_level=N.englishLevel),T.verified=N.verified,T.premium=N.premium,T.has_intro_video=N.hasIntroVideo,T.is_online=N.isOnline,T.has_video=N.hasVideo,T.has_camera_on=N.hasCameraOn,T.birthday_soon=N.birthdaySoon,T.new_profile=N.newProfile,Object.keys(T).length===0){n.error("No data to update");return}console.log("Updating user with data:",T),console.log("User ID:",u.id);try{console.log("Using admin client for update...");const{data:F,error:ne}=await Ut.from("profiles").update(T).eq("id",u.id).select();if(console.log("Update result:",{data:F,error:ne}),ne)throw console.error("Supabase error updating user:",ne),ne;p(!1),f(null),await Jr(),n.success("User updated successfully!")}catch(F){console.error("Error updating user:",F),console.error("Error details:",{message:F==null?void 0:F.message,details:F==null?void 0:F.details,hint:F==null?void 0:F.hint,code:F==null?void 0:F.code}),n.error(`Failed to update user: ${(F==null?void 0:F.message)||"Unknown error"}`)}},Zn=(T,re="view")=>{f(T),y({firstName:T.first_name,lastName:T.last_name,email:T.email,role:T.role||"user",photos:T.photos&&T.photos.length>0?T.photos:[""],coins:T.coins||0,gender:T.gender||"female",birthDate:T.birth_date||"",country:T.country||"",city:T.city||"",profession:T.profession||"",languages:T.languages||[],bio:T.bio||"",interests:T.interests||[],eyeColor:T.eye_color||"",hairColor:T.hair_color||"",appearanceType:T.appearance_type||"",alcohol:T.alcohol||"",smoking:T.smoking||"",children:T.children||"",religion:T.religion||"",zodiacSign:T.zodiac_sign||"",englishLevel:T.english_level||"",verified:T.verified||!1,premium:T.premium||!1,hasIntroVideo:T.has_intro_video||!1,isOnline:T.is_online||!1,hasVideo:T.has_video||!1,hasCameraOn:T.has_camera_on||!1,birthdaySoon:T.birthday_soon||!1,newProfile:T.new_profile||!1,top1000:T.top1000||!1}),j(re),p(!0),b({})};E.useEffect(()=>{t&&i==="users"&&Jr()},[t,i]);const za=o.filter(T=>{var F,ne,be;const re=c.toLowerCase();return(ut==="models"?T.role==="model":T.role!=="model")&&(((F=T.first_name)==null?void 0:F.toLowerCase().includes(re))||((ne=T.last_name)==null?void 0:ne.toLowerCase().includes(re))||((be=T.email)==null?void 0:be.toLowerCase().includes(re)))}),Ao=async()=>{try{if(!$a())return;const{user:T,error:re}=await zn.createUser({email:N.email,firstName:N.firstName,lastName:N.lastName,role:N.role,photos:Array.isArray(N.photos)?N.photos:[],coins:N.coins,gender:N.gender,birthDate:N.birthDate?new Date(N.birthDate).toISOString().split("T")[0]:null,country:N.country,city:N.city,profession:N.profession,languages:Array.isArray(N.languages)?N.languages:[],bio:N.bio});if(re)throw re;p(!1),await Jr(),n.success("User added successfully! They will receive an email to set their password.")}catch(T){console.error("Error adding user/model:",T),n.error("Failed to add user.")}},$a=()=>{const T={};return N.firstName.trim()||(T.firstName="First name is required"),N.lastName.trim()||(T.lastName="Last name is required"),N.role==="model"&&(N.birthDate||(T.birthDate="Birth date is required"),N.country.trim()||(T.country="Country is required"),N.city.trim()||(T.city="City is required"),N.profession.trim()||(T.profession="Profession is required"),N.bio.trim()||(T.bio="Bio is required"),(!N.photos||N.photos.length===0||!N.photos[0].trim())&&(T.photos="At least one photo URL is required")),b(T),Object.keys(T).length===0},ha=async()=>{Is(!0);try{const T=[];for(let _e=0;_e<tt.count;_e++){const F=ds.firstNames[Math.floor(Math.random()*ds.firstNames.length)],ne=ds.lastNames[Math.floor(Math.random()*ds.lastNames.length)],be=tt.countries[Math.floor(Math.random()*tt.countries.length)],Se=Math.floor(Math.random()*(tt.ageRange.max-tt.ageRange.min+1))+tt.ageRange.min,ye=new Date;ye.setFullYear(ye.getFullYear()-Se),ye.setMonth(Math.floor(Math.random()*12)),ye.setDate(Math.floor(Math.random()*28)+1);const ge={id:crypto.randomUUID(),firstName:F,lastName:ne,email:`${F.toLowerCase()}.${ne.toLowerCase()}${Math.floor(Math.random()*1e3)}@example.com`,role:"model",gender:"female",birthDate:ye.toISOString().split("T")[0],country:be,city:Ha(be),profession:ds.professions[Math.floor(Math.random()*ds.professions.length)],bio:ds.bios[Math.floor(Math.random()*ds.bios.length)],interests:ds.interests[Math.floor(Math.random()*ds.interests.length)],languages:ds.languages[Math.floor(Math.random()*ds.languages.length)],photos:[],verified:tt.includeVerified?Math.random()>.3:!1,premium:tt.includePremium?Math.random()>.7:!1,coins:Math.floor(Math.random()*1e3)+100,eyeColor:["blue","brown","green","hazel"][Math.floor(Math.random()*4)],hairColor:["blonde","brunette","black","red"][Math.floor(Math.random()*4)],appearanceType:["slim","athletic","average","curvy"][Math.floor(Math.random()*4)],alcohol:["never","rarely","socially","regularly"][Math.floor(Math.random()*4)],smoking:["never","rarely","regularly","trying to quit"][Math.floor(Math.random()*4)],children:["have","want","maybe","no"][Math.floor(Math.random()*4)],religion:["christian","orthodox","catholic","muslim","none"][Math.floor(Math.random()*4)],zodiacSign:["aries","taurus","gemini","cancer","leo","virgo","libra","scorpio","sagittarius","capricorn","aquarius","pisces"][Math.floor(Math.random()*12)],englishLevel:["basic","intermediate","advanced","fluent"][Math.floor(Math.random()*4)],hasIntroVideo:Math.random()>.5,isOnline:Math.random()>.3,hasVideo:Math.random()>.4,hasCameraOn:Math.random()>.6,birthdaySoon:Math.random()>.8,newProfile:Math.random()>.7,top1000:Math.random()>.9};T.push(ge)}ns(T);const re={};T.forEach(_e=>{re[_e.id]=[""]}),It(re),_t(!1),vr(!0)}catch(T){console.error("Error generating models:",T),n.error("Failed to generate models. Please try again.")}finally{Is(!1)}},Ol=T=>{It(re=>({...re,[T]:[...re[T]||[],""]}))},Ss=(T,re)=>{It(_e=>{var F;return{..._e,[T]:((F=_e[T])==null?void 0:F.filter((ne,be)=>be!==re))||[]}})},Va=(T,re,_e)=>{It(F=>{var ne;return{...F,[T]:((ne=F[T])==null?void 0:ne.map((be,Se)=>Se===re?_e:be))||[]}})},qa=async()=>{var T,re;ts(!0);try{let _e=0,F=0;for(const ne of $t)try{let be;hs[ne.id]&&hs[ne.id].length>0?be=hs[ne.id].filter(ge=>ge.trim().length>0):be=[];const{data:Se,error:ye}=await Fe.rpc("create_model_profile",{model_first_name:ne.firstName,model_last_name:ne.lastName,model_gender:ne.gender,model_birth_date:ne.birthDate,model_country:ne.country,model_city:ne.city,model_profession:ne.profession,model_languages:ne.languages,model_bio:ne.bio,model_photos:be,model_coins:ne.coins||1e3});if(ye)if(console.error("Error creating model profile:",ye),(T=ye.message)!=null&&T.includes("function")||(re=ye.message)!=null&&re.includes("not found")){console.log("RPC function not found, trying direct insert...");const{error:ge}=await Fe.from("profiles").insert([{first_name:ne.firstName,last_name:ne.lastName,gender:ne.gender,birth_date:ne.birthDate,country:ne.country,city:ne.city,bio:ne.bio,interests:ne.interests,profession:ne.profession,languages:ne.languages,photos:be,verified:ne.verified,premium:ne.premium,coins:ne.coins||1e3,role:"model",eye_color:ne.eyeColor,hair_color:ne.hairColor,appearance_type:ne.appearanceType,alcohol:ne.alcohol,smoking:ne.smoking,children:ne.children,religion:ne.religion,zodiac_sign:ne.zodiacSign,english_level:ne.englishLevel,has_intro_video:ne.hasIntroVideo,is_online:ne.isOnline,has_video:ne.hasVideo,has_camera_on:ne.hasCameraOn,birthday_soon:ne.birthdaySoon,new_profile:ne.newProfile,top1000:ne.top1000}]);ge?(console.error("Direct insert also failed:",ge),F++):_e++}else F++;else _e++,console.log("Created model:",Se)}catch(be){console.error("Error creating model:",be),F++}_e>0&&n.success(`Successfully created ${_e} out of ${$t.length} models!`),F>0&&n.error(`Failed to create ${F} models. Check console for details.`),vr(!1),ns([]),It({}),await Jr()}catch(_e){console.error("Error saving models:",_e),n.error("Failed to save models. Please try again.")}finally{ts(!1)}},Ha=T=>{const re={Ukraine:["Kyiv","Lviv","Kharkiv","Odesa","Dnipro","Zaporizhzhia","Vinnytsia","Poltava","Sumy","Chernihiv","Cherkasy","Kropyvnytskyi","Mykolaiv","Kherson","Mariupol","Donetsk","Luhansk","Ivano-Frankivsk","Ternopil","Rivne"],Russia:["Moscow","Saint Petersburg","Novosibirsk","Yekaterinburg","Kazan","Nizhny Novgorod","Chelyabinsk","Samara","Omsk","Rostov-on-Don","Ufa","Krasnoyarsk","Perm","Voronezh","Volgograd","Krasnodar","Saratov","Tyumen","Tolyatti","Izhevsk"],Belarus:["Minsk","Gomel","Mogilev","Vitebsk","Grodno","Brest","Baranovichi","Borisov","Pinsk","Orsha","Mozyr","Soligorsk","Novopolotsk","Lida","Molodechno","Polotsk","Slutsk","Kobrin","Slonim","Volkovysk"],Kazakhstan:["Almaty","Nur-Sultan","Shymkent","Aktobe","Karaganda","Taraz","Pavlodar","Semey","Oskemen","Atyrau","Kyzylorda","Kostanay","Petropavl","Taldykorgan","Kokshetau","Ekibastuz","Rudny","Temirtau","Zhezkazgan","Baikonur"],Georgia:["Tbilisi","Batumi","Kutaisi","Rustavi","Gori","Zugdidi","Poti","Khashuri","Samtredia","Senaki","Zestafoni","Marneuli","Telavi","Akhaltsikhe","Ozurgeti","Kaspi","Chiatura","Tsqaltubo","Sagarejo","Gurjaani"],Poland:["Warsaw","Krakow","Lodz","Wroclaw","Poznan","Gdansk","Szczecin","Bydgoszcz","Lublin","Katowice","Bialystok","Gdynia","Czestochowa","Radom","Torun","Kielce","Gliwice","Zabrze","Bytom","Bielsko-Biala"],"Czech Republic":["Prague","Brno","Ostrava","Plzen","Liberec","Olomouc","Usti nad Labem","Ceske Budejovice","Hradec Kralove","Pardubice","Zlin","Havirov","Kladno","Most","Opava","Frydek-Mistek","Karvina","Jihlava","Teplice","Decin"],Slovakia:["Bratislava","Kosice","Presov","Nitra","Zilina","Banska Bystrica","Trnava","Martin","Trencin","Poprad","Prievidza","Zvolen","Povazska Bystrica","Michalovce","Spisska Nova Ves","Komarno","Levice","Humenne","Bardejov","Liptovsky Mikulas"],Hungary:["Budapest","Debrecen","Szeged","Miskolc","Pecs","Gyor","Nyiregyhaza","Kecskemet","Szekesfehervar","Szombathely","Szolnok","Tatabanya","Kaposvar","Bekescsaba","Erd","Veszprem","Zalaegerszeg","Sopron","Eger","Nagykanizsa"],Romania:["Bucharest","Cluj-Napoca","Timisoara","Iasi","Constanta","Craiova","Galati","Brasov","Ploiesti","Braila","Oradea","Bacau","Arad","Pitesti","Sibiu","Targu Mures","Baia Mare","Buzau","Botosani","Satu Mare"],Bulgaria:["Sofia","Plovdiv","Varna","Burgas","Ruse","Stara Zagora","Pleven","Sliven","Dobrich","Shumen","Pernik","Haskovo","Yambol","Pazardzhik","Blagoevgrad","Veliko Tarnovo","Vratsa","Gabrovo","Asenovgrad","Kazanlak"],Serbia:["Belgrade","Novi Sad","Nis","Kragujevac","Subotica","Zrenjanin","Pancevo","Cacak","Leskovac","Novi Pazar","Kraljevo","Uzice","Smederevo","Vranje","Sabac","Sombor","Pozarevac","Pirot","Zajecar","Kikinda"],Croatia:["Zagreb","Split","Rijeka","Osijek","Zadar","Slavonski Brod","Pula","Sesvete","Karlovac","Varazdin","Sibenik","Sisak","Velika Gorica","Vinkovci","Vukovar","Dubrovnik","Bjelovar","Koprivnica","Krapina","Pozega"],Slovenia:["Ljubljana","Maribor","Celje","Kranj","Velenje","Koper","Novo Mesto","Ptuj","Trbovlje","Kamnik","Jesenice","Nova Gorica","Domzale","Skofja Loka","Murska Sobota","Izola","Postojna","Logatec","Slovenj Gradec","Kocevje"],Latvia:["Riga","Daugavpils","Liepaja","Jelgava","Jurmala","Ventspils","Rezekne","Valmiera","Jekabpils","Ogre","Tukums","Cesis","Salaspils","Kuldiga","Olaine","Sigulda","Bauska","Ludza","Gulbene","Madona"],Lithuania:["Vilnius","Kaunas","Klaipeda","Siauliai","Panevezys","Alytus","Marijampole","Mazeikiai","Jonava","Utena","Kedainiai","Telsiai","Visaginas","Taurage","Ukmerge","Plunge","Kretinga","Silute","Radviliskis","Palanga"],Estonia:["Tallinn","Tartu","Narva","Parnu","Kohtla-Jarve","Viljandi","Rakvere","Maardu","Kuressaare","Sillamae","Valga","Voru","Jogeva","Haapsalu","Keila","Paide","Tapa","Polva","Kivioli","Turi"],Moldova:["Chisinau","Tiraspol","Balti","Bender","Ribnita","Cahul","Ungheni","Soroca","Orhei","Dubasari","Comrat","Edinet","Causeni","Straseni","Floresti","Drochia","Slobozia","Singerei","Falesti","Vulcanesti"],Armenia:["Yerevan","Gyumri","Vanadzor","Vagharshapat","Abovyan","Kapan","Hrazdan","Ijevan","Gavar","Armavir","Artashat","Sevan","Goris","Masis","Ashtarak","Ararat","Vedi","Martuni","Spitak","Alaverdi"],Azerbaijan:["Baku","Ganja","Sumqayit","Mingachevir","Lankaran","Shirvan","Nakhchivan","Shaki","Yevlakh","Khankendi","Gabala","Shamakhi","Fuzuli","Salyan","Barda","Neftchala","Agdash","Zaqatala","Goychay","Ujar"]},_e=re[T]||re.Ukraine;return _e[Math.floor(Math.random()*_e.length)]};E.useEffect(()=>{t&&(i==="conversations"?Kr():i==="gifts"?Mn():i==="users"?Jr():i==="analytics"&&Ui())},[t,i,lt]);const Ui=async()=>{Vt(!0),Lt(null);try{console.log("🔍 [DEBUG] Starting analytics load..."),console.log("🔍 [DEBUG] Testing basic database access...");const{data:T,error:re}=await Ut.from("transactions").select("count(*)").limit(1);console.log("🔍 [DEBUG] Test transactions query result:",{data:T,error:re});const{data:_e,error:F}=await Ut.from("transactions").select("*");console.log("🔍 [DEBUG] All transactions query result:",{count:(_e==null?void 0:_e.length)||0,error:F,sample:_e==null?void 0:_e.slice(0,2)}),console.log("🔍 [DEBUG] Testing RPC function existence...");try{const{data:Ce,error:Ue}=await Fe.rpc("is_admin_user");console.log("🔍 [DEBUG] RPC test result:",{data:Ce,error:Ue})}catch(Ce){console.log("🔍 [DEBUG] RPC test failed:",Ce)}let ne=[],be=null;try{console.log("🔍 [DEBUG] Trying RPC function...");const{data:Ce,error:Ue}=await Fe.rpc("get_all_transactions_admin");if(console.log("🔍 [DEBUG] RPC result:",{data:Ce==null?void 0:Ce.length,error:Ue}),Ue)throw console.log("RPC failed, trying direct query...",Ue),Ue;ne=Ce||[],console.log("✅ [DEBUG] Got transactions via RPC:",ne.length)}catch{console.log("🔄 [DEBUG] RPC failed, trying admin client...");const{data:Ue,error:kt}=await Ut.from("transactions").select("*").order("created_at",{ascending:!1});if(console.log("🔍 [DEBUG] Admin client result:",{data:Ue==null?void 0:Ue.length,error:kt,sample:Ue==null?void 0:Ue.slice(0,2)}),kt)throw console.error("Admin client also failed:",kt),kt;ne=Ue||[],console.log("✅ [DEBUG] Got transactions via admin client:",ne.length)}const Se=[...new Set((ne==null?void 0:ne.map(Ce=>Ce.user_id))||[])];console.log("👥 [DEBUG] Unique user IDs:",Se.length);const{data:ye,error:ge}=await Ut.from("profiles").select("id, first_name, last_name, role").in("id",Se);if(ge)throw console.error("Failed to get transaction profiles:",ge),ge;const ke=(ye||[]).reduce((Ce,Ue)=>(Ce[Ue.id]=Ue,Ce),{}),Xe=ne==null?void 0:ne.map(Ce=>({...Ce,profile:ke[Ce.user_id]||{first_name:"Unknown",last_name:"User",id:Ce.user_id}}));let nt=[],at=null;try{console.log("🔍 [DEBUG] Trying subscription RPC function...");const{data:Ce,error:Ue}=await Fe.rpc("get_all_subscription_purchases_admin");if(console.log("🔍 [DEBUG] Subscription RPC result:",{data:Ce==null?void 0:Ce.length,error:Ue}),Ue)throw console.log("Subscription RPC failed, trying direct query...",Ue),Ue;nt=Ce||[],console.log("✅ [DEBUG] Got subscriptions via RPC:",nt.length)}catch{console.log("🔄 [DEBUG] Subscription RPC failed, trying admin client...");const{data:Ue,error:kt}=await Ut.from("subscription_purchases").select("*").order("created_at",{ascending:!1});if(console.log("🔍 [DEBUG] Subscription admin client result:",{data:Ue==null?void 0:Ue.length,error:kt,sample:Ue==null?void 0:Ue.slice(0,2)}),kt)throw console.error("Admin client for subscriptions also failed:",kt),kt;nt=Ue||[],console.log("✅ [DEBUG] Got subscriptions via admin client:",nt.length)}const Rt=[...new Set((nt==null?void 0:nt.map(Ce=>Ce.user_id))||[])],{data:vt,error:Wt}=await Ut.from("profiles").select("id, first_name, last_name, role").in("id",Rt);if(Wt)throw console.error("Failed to get subscription profiles:",Wt),Wt;const is=(vt||[]).reduce((Ce,Ue)=>(Ce[Ue.id]=Ue,Ce),{}),{data:mt,error:Qr}=await Ut.from("subscriptions").select("*");if(Qr)throw console.error("Failed to get subscription plans:",Qr),Qr;const Ys=(mt||[]).reduce((Ce,Ue)=>(Ce[Ue.id]=Ue,Ce),{}),{data:qt,error:In}=await Ut.from("profiles").select("id, first_name, last_name").in("id",(nt==null?void 0:nt.map(Ce=>Ce.user_id))||[]);if(In)throw console.error("Failed to get subscription profiles:",In),In;const Wa=(qt||[]).reduce((Ce,Ue)=>(Ce[Ue.id]=Ue,Ce),{}),Or=nt==null?void 0:nt.map(Ce=>({...Ce,profile:is[Ce.user_id]||{first_name:"Unknown",last_name:"User",id:Ce.user_id},subscription:Ys[Ce.subscription_id]||{name:"Unknown Plan",price:0,duration:0}}));console.log("📊 [DEBUG] Final data counts:"),console.log("- Transactions:",(ne==null?void 0:ne.length)||0),console.log("- Subscriptions:",(nt==null?void 0:nt.length)||0),console.log("- Transaction profiles:",(ye==null?void 0:ye.length)||0),console.log("- Subscription profiles:",(vt==null?void 0:vt.length)||0);const Rs=new Date,wn=new Date(Rs.getFullYear(),Rs.getMonth(),Rs.getDate()),Rn=new Date(Rs.getFullYear(),Rs.getMonth(),Rs.getDate(),23,59,59,999),ma=new Date(Rs.getTime()-7*24*60*60*1e3),Ot=new Date(Rs.getFullYear(),Rs.getMonth(),1),Ar=Ce=>{switch(lt){case"today":return(Ce==null?void 0:Ce.filter(Ue=>{const kt=new Date(Ue.created_at);return kt>=wn&&kt<=Rn}))||[];case"week":return(Ce==null?void 0:Ce.filter(Ue=>new Date(Ue.created_at)>=ma))||[];case"month":return(Ce==null?void 0:Ce.filter(Ue=>new Date(Ue.created_at)>=Ot))||[];case"all":default:return Ce||[]}},Fr=Ce=>{switch(lt){case"today":return(Ce==null?void 0:Ce.filter(Ue=>{const kt=new Date(Ue.created_at);return kt>=wn&&kt<=Rn}))||[];case"week":return(Ce==null?void 0:Ce.filter(Ue=>new Date(Ue.created_at)>=ma))||[];case"month":return(Ce==null?void 0:Ce.filter(Ue=>new Date(Ue.created_at)>=Ot))||[];case"all":default:return Ce||[]}},pa=Ce=>{switch(lt){case"today":return(Ce==null?void 0:Ce.filter(Ue=>{const kt=new Date(Ue.created_at);return kt>=wn&&kt<=Rn}))||[];case"week":return(Ce==null?void 0:Ce.filter(Ue=>new Date(Ue.created_at)>=ma))||[];case"month":return(Ce==null?void 0:Ce.filter(Ue=>new Date(Ue.created_at)>=Ot))||[];case"all":default:return Ce||[]}},ks=Ar(Xe),zi=Fr(Or),xi=ks.reduce((Ce,Ue)=>Ce+(Ue.status==="completed"&&Ue.amount||0),0)||0,ga=ks.reduce((Ce,Ue)=>Ce+(Ue.status==="completed"&&Ue.amount||0),0)||0,xa=ks.reduce((Ce,Ue)=>Ce+(Ue.status==="completed"&&Ue.type==="subscription"&&Ue.amount||0),0)||0,Ga=ks.reduce((Ce,Ue)=>Ce+(Ue.status==="completed"&&Ue.type==="subscription"&&Ue.amount||0),0)||0,ya=ks.reduce((Ce,Ue)=>Ce+(Ue.status==="completed"&&Ue.type==="coins"&&Ue.amount||0),0)||0,Nn=ks.reduce((Ce,Ue)=>Ce+(Ue.status==="completed"&&Ue.type==="coins"&&Ue.amount||0),0)||0,Ds=ks.reduce((Ce,Ue)=>(Ue.status==="completed"&&Ue.subscription_plan&&(Ce[Ue.subscription_plan]=(Ce[Ue.subscription_plan]||0)+1),Ce),{}),va=Object.entries(Ds||{}).map(([Ce,Ue])=>({plan:Ce,count:Ue,revenue:ks.filter(kt=>kt.status==="completed"&&kt.subscription_plan===Ce).reduce((kt,wa)=>kt+(wa.amount||0),0)||0})).sort((Ce,Ue)=>Ue.count-Ce.count).slice(0,5),Zr=Array.from({length:7},(Ce,Ue)=>{const kt=new Date;kt.setDate(kt.getDate()-Ue);const wa=new Date(kt.setHours(0,0,0,0)),To=new Date(kt.setHours(23,59,59,999)),Na=ks.filter(ti=>{const ja=new Date(ti.created_at);return ja>=wa&&ja<=To&&ti.status==="completed"})||[],Bl=Na.reduce((ti,ja)=>ti+(ja.amount||0),0);return{date:wa.toISOString().split("T")[0],orders:Na.length,revenue:Bl}}).reverse(),Br=zi.filter(Ce=>Ce.is_active&&new Date(Ce.expires_at)>new Date).length||0;console.log("🔍 [DEBUG] Calculating coins spent from gift messages...");const{data:ei,error:$i}=await Ut.from("messages").select("gift_cost, created_at, sender_id, receiver_id, gift_name").eq("type","gift").not("gift_cost","is",null);if($i)throw console.error("Failed to get gift messages:",$i),$i;console.log("🎁 [DEBUG] Gift messages found:",(ei==null?void 0:ei.length)||0);const ba=pa(ei||[]),Ka=ba.reduce((Ce,Ue)=>Ce+(Ue.gift_cost||0),0)||0,kc=ba.reduce((Ce,Ue)=>Ce+(Ue.gift_cost||0),0)||0,Eo=ba.length||0,Po=ba.length||0,_c=ba.reduce((Ce,Ue)=>{const kt=Ue.gift_name||"Unknown Gift";return Ce[kt]=(Ce[kt]||0)+1,Ce},{})||{},Ya=Object.entries(_c).map(([Ce,Ue])=>({name:Ce,count:Ue,totalCost:ba.filter(kt=>kt.gift_name===Ce).reduce((kt,wa)=>kt+(wa.gift_cost||0),0)||0})).sort((Ce,Ue)=>Ue.count-Ce.count).slice(0,5);console.log("💰 [DEBUG] Coins calculations:"),console.log("- Total coins spent:",Ka),console.log("- Monthly coins spent:",kc),console.log("- Total gifts sent:",Eo),console.log("- Monthly gifts sent:",Po),console.log("- Popular gifts:",Ya),console.log("💰 [DEBUG] Revenue calculations:"),console.log("- Total revenue:",xi),console.log("- Monthly revenue:",ga),console.log("- Subscription revenue:",xa),console.log("- Coins revenue:",ya),Qt({totalRevenue:xi,monthlyRevenue:ga,totalOrders:ks.filter(Ce=>Ce.status==="completed").length||0,monthlyOrders:ks.filter(Ce=>Ce.status==="completed").length||0,subscriptionRevenue:xa,monthlySubscriptionRevenue:Ga,coinsRevenue:ya,monthlyCoinsRevenue:Nn,popularPlans:va,recentTransactions:ks.filter(Ce=>Ce.status==="completed").slice(0,10).map(Ce=>({...Ce,profiles:Ce.profile}))||[],revenueTrend:Zr.map(Ce=>({date:Ce.date,value:Ce.revenue})),orderTrend:Zr.map(Ce=>({date:Ce.date,value:Ce.orders})),activeSubscriptions:zi.filter(Ce=>Ce.is_active&&new Date(Ce.expires_at)>new Date).length||0,totalCoinsSpent:Ka,monthlyCoinsSpent:kc,totalGiftsSent:Eo,monthlyGiftsSent:Po,popularGifts:Ya})}catch(T){console.error("❌ [DEBUG] Error loading analytics:",T),Lt((T==null?void 0:T.message)||(T==null?void 0:T.error_description)||"Failed to load analytics data"),Qt({totalRevenue:0,monthlyRevenue:0,totalOrders:0,monthlyOrders:0,subscriptionRevenue:0,monthlySubscriptionRevenue:0,coinsRevenue:0,monthlyCoinsRevenue:0,popularPlans:[],recentTransactions:[],revenueTrend:[],orderTrend:[],activeSubscriptions:0,totalCoinsSpent:0,monthlyCoinsSpent:0,totalGiftsSent:0,monthlyGiftsSent:0,popularGifts:[]})}finally{Vt(!1)}},Fl=async()=>{await Ui()};return E.useEffect(()=>{if(!t||!e)return;const T=Ut.channel("admin-messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},async re=>{console.log("🔄 Real-time message update:",re),await Xt()}).subscribe();return()=>{T.unsubscribe()}},[t,e]),e?t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 md:py-8",children:[r.jsx("div",{className:"mb-4 md:mb-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"Admin Dashboard"}),r.jsx("p",{className:"mt-1 md:mt-2 text-xs md:text-sm lg:text-base text-gray-600",children:"Manage conversations and monitor user activity"})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsxs("button",{onClick:()=>s("/"),className:"px-2 md:px-3 lg:px-4 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-colors text-xs md:text-sm flex items-center gap-1 md:gap-2",children:[r.jsx(D4,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Back to Website"}),r.jsx("span",{className:"sm:hidden",children:"Home"})]}),r.jsxs("button",{onClick:i==="analytics"?Fl:Ps,className:"px-2 md:px-3 lg:px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-lg hover:from-rose-600 hover:to-pink-600 transition-colors text-xs md:text-sm flex items-center gap-1 md:gap-2 relative",disabled:i==="analytics"?xt:L,children:[i==="analytics"?xt?r.jsx("span",{className:"animate-spin inline-block mr-1",children:r.jsx(ud,{className:"w-3 h-3 md:w-4 md:h-4"})}):r.jsx(ud,{className:"w-3 h-3 md:w-4 md:h-4"}):L?r.jsx("span",{className:"animate-spin inline-block mr-1",children:r.jsx(ud,{className:"w-3 h-3 md:w-4 md:h-4"})}):r.jsx(ud,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Refresh Data"}),r.jsx("span",{className:"sm:hidden",children:"Refresh"})]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-1 mb-4 md:mb-8",children:r.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row gap-1 md:gap-0",children:[r.jsxs("button",{onClick:()=>a("conversations"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="conversations"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(Ns,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Chats"})]}),r.jsxs("button",{onClick:()=>a("gifts"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="gifts"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(B4,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Gifts"})]}),r.jsxs("button",{onClick:()=>a("users"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="users"?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(xE,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Users"})]}),r.jsxs("button",{onClick:()=>a("models"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="models"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(gE,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Models"})]}),r.jsxs("button",{onClick:()=>a("analytics"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 col-span-2 md:col-span-1 ${i==="analytics"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(Cd,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Analytics"})]})]})}),i==="conversations"?r.jsxs("div",{className:"flex flex-col md:flex-row h-[600px] md:h-[700px] bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:`w-full md:w-96 ${_?"hidden md:flex":"flex"} border-r md:border-r border-gray-200 flex-col`,children:[r.jsx("div",{className:"px-3 md:px-4 py-3 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Conversations"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[gs.reduce((T,re)=>T+re.conversations.length,0)," active chats"]})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"Users"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"Models"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:L?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):gs.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Ns,{className:"mx-auto h-8 w-8 text-gray-400 mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No conversations found"})]}):gs.flatMap(T=>T.conversations.sort((re,_e)=>new Date(_e.lastMessageAt).getTime()-new Date(re.lastMessageAt).getTime()).map(re=>r.jsx("div",{className:`p-2 md:p-3 lg:p-4 cursor-pointer transition-all duration-200 border-b border-gray-100 hover:bg-slate-50 ${(_==null?void 0:_.id)===`${T.user.id}-${re.profileId}`?"bg-rose-50 border-l-4 border-l-rose-500":re.unreadCount>0?"bg-rose-50/30 border-l-4 border-l-rose-300":""}`,onClick:async()=>{try{C(F=>F.map(ne=>ne.user.id===T.user.id?{...ne,conversations:ne.conversations.map(be=>be.profileId===re.profileId?{...be,unreadCount:0}:be)}:ne));try{await zn.markConversationAsRead(T.user.id,re.profileId)}catch(F){console.log("Failed to mark conversation as read in database:",F)}const _e=await zn.getConversation(T.user.id,re.profileId);console.log("🔍 [DEBUG] Loaded conversation messages:",_e.messages.map(F=>{var ne;return{id:F.id,type:F.type,role:F.role,content:(ne=F.content)==null?void 0:ne.substring(0,50),imageUrl:F.imageUrl,hasImageUrl:!!F.imageUrl}})),M(_e),I(!1)}catch(_e){console.error("Failed to load conversation:",_e)}},children:r.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 lg:space-x-3",children:[r.jsxs("div",{className:"relative",children:[T.user.photo?r.jsx("img",{src:T.user.photo,alt:`${T.user.firstName} ${T.user.lastName}`,className:"h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full object-cover border border-blue-200"}):r.jsx("div",{className:"h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border border-blue-200",children:r.jsxs("span",{className:"text-xs font-semibold text-white",children:[T.user.firstName[0],T.user.lastName[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 md:w-2 md:h-2 lg:w-2.5 lg:h-2.5 bg-blue-500 border border-white rounded-full",title:"Real User"})]}),r.jsxs("div",{className:"relative",children:[re.profilePhoto?r.jsx("img",{src:re.profilePhoto,alt:re.profileName,className:"h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full object-cover border border-green-200",onError:_e=>{if(re.profileName.includes("Elena"))_e.currentTarget.src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80";else{_e.currentTarget.style.display="none";const F=_e.currentTarget.nextElementSibling;F&&(F.style.display="flex")}}}):null,r.jsx("div",{className:`h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full bg-gradient-to-br from-green-400 to-green-500 flex items-center justify-center border border-green-200 ${re.profilePhoto?"hidden":"flex"}`,children:r.jsx("span",{className:"text-xs font-semibold text-white",children:re.profileName[0]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 md:w-2 md:h-2 lg:w-2.5 lg:h-2.5 bg-green-500 border border-white rounded-full",title:"Model"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:[T.user.firstName," ↔ ",re.profileName]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:gn(new Date(re.lastMessageAt))}),re.unreadCount>0&&r.jsx("div",{className:"bg-rose-500 text-white text-xs font-semibold rounded-full min-w-[20px] h-[20px] flex items-center justify-center px-1.5 shadow-sm animate-pulse",children:re.unreadCount>99?"99+":re.unreadCount})]})]}),r.jsx("p",{className:"text-xs text-gray-600 truncate mt-0.5",children:re.lastMessage||"No messages yet..."})]})]})},`${T.user.id}-${re.profileId}`)))})]}),r.jsx("div",{className:`flex-1 ${_?"flex":"hidden md:flex"} flex-col h-[100dvh] md:h-auto relative`,children:_?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-2 md:p-4",children:[r.jsx("button",{className:"md:hidden h-8 w-8 -ml-1 hover:bg-white/60 rounded-lg flex items-center justify-center transition-colors",onClick:()=>M(null),children:r.jsx(Ah,{className:"h-5 w-5 text-slate-600"})}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[r.jsxs("div",{className:"relative hidden md:block",children:[_.user.photo?r.jsx("img",{src:_.user.photo,alt:`${_.user.firstName} ${_.user.lastName}`,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-200"}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border-2 border-blue-200",children:r.jsxs("span",{className:"text-sm font-semibold text-white",children:[_.user.firstName[0],_.user.lastName[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-blue-500 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"relative md:hidden",children:[_.user.photo?r.jsx("img",{src:_.user.photo,alt:`${_.user.firstName} ${_.user.lastName}`,className:"h-8 w-8 rounded-full object-cover border-2 border-blue-200"}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border-2 border-blue-200",children:r.jsxs("span",{className:"text-xs font-semibold text-white",children:[_.user.firstName[0],_.user.lastName[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-blue-500 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"relative hidden md:block",children:[_.profile.photo?r.jsx("img",{src:_.profile.photo,alt:`${_.profile.firstName} ${_.profile.lastName}`,className:"h-10 w-10 rounded-full object-cover border-2 border-green-200"}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:e.photos&&e.photos[0]?r.jsx("img",{src:e.photos[0],alt:e.firstName,className:"h-10 w-10 object-cover rounded-full"}):r.jsxs("span",{children:[(Xr=e.firstName)==null?void 0:Xr[0],(gi=e.lastName)==null?void 0:gi[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full",title:"Model"})]}),r.jsxs("div",{className:"relative md:hidden",children:[_.profile.photo?r.jsx("img",{src:_.profile.photo,alt:`${_.profile.firstName} ${_.profile.lastName}`,className:"h-8 w-8 rounded-full object-cover border-2 border-green-200"}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:e.photos&&e.photos[0]?r.jsx("img",{src:e.photos[0],alt:e.firstName,className:"h-8 w-8 object-cover rounded-full"}):r.jsxs("span",{className:"text-xs",children:[(br=e.firstName)==null?void 0:br[0],(fa=e.lastName)==null?void 0:fa[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full",title:"Model"})]}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:[_.user.firstName," ↔ ",_.profile.firstName]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mt-0.5 md:mt-1",children:[r.jsx("span",{className:"inline-flex items-center px-1.5 md:px-2 py-0.5 rounded-full text-[10px] md:text-xs font-medium bg-blue-100 text-blue-800",children:"Real User"}),r.jsx("span",{className:"text-[10px] md:text-xs text-slate-500 hidden md:inline",children:"•"}),r.jsx("span",{className:"inline-flex items-center px-1.5 md:px-2 py-0.5 rounded-full text-[10px] md:text-xs font-medium bg-green-100 text-green-800",children:"Model"})]})]})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50/30 to-white pb-[150px] md:pb-4",children:[_.messages.length===0?r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ns,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"No messages yet"})]})}):_.messages.map(T=>r.jsxs("div",{className:`flex ${T.role==="user"?"justify-end":"justify-start"}`,children:[T.role==="user"&&r.jsx("div",{className:"order-2 ml-2",children:_.user.photo?r.jsx("img",{src:_.user.photo,alt:_.user.firstName,className:"w-6 h-6 rounded-full object-cover border border-slate-200"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-slate-400 to-slate-500 flex items-center justify-center border border-slate-200",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:_.user.firstName[0]})})}),r.jsxs("div",{className:`max-w-[85%] md:max-w-[80%] ${T.role==="user"?"order-1":"order-2"}`,children:[(()=>{var re,_e,F;return console.log("🔍 [UI DEBUG] Rendering message:",{id:T.id,type:T.type,role:T.role,content:(re=T.content)==null?void 0:re.substring(0,30),imageUrl:T.imageUrl,hasImageUrl:!!T.imageUrl,isGift:T.type==="gift",isImage:T.type==="image",imageCondition:T.type==="image"&&T.imageUrl,senderInfo:{profileId:(_e=_.profileId)==null?void 0:_e.substring(0,8),userId:(F=_.userId)==null?void 0:F.substring(0,8)}}),null})(),r.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-sm ${T.type==="gift"?T.role==="user"?"bg-gradient-to-r from-pink-50 to-rose-50 text-slate-800 rounded-br-md border-2 border-rose-200 shadow-lg":"bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white rounded-bl-md border-2 border-yellow-300 shadow-lg":T.role==="user"?"bg-white text-slate-800 rounded-br-md border border-slate-200":"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-bl-md"}`,children:T.type==="gift"?r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("div",{className:"text-2xl animate-bounce",children:ht(T.content).emoji}),r.jsx("p",{className:"text-sm font-medium",children:T.role==="user"?"Gift Sent!":"Gift Received!"}),r.jsx("p",{className:"text-xs opacity-90",children:ht(T.content).name})]}):T.type==="image"&&T.imageUrl?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:T.imageUrl,alt:"Shared image",className:"rounded-lg max-w-48 h-auto cursor-pointer hover:opacity-90 transition-opacity",style:{maxHeight:"200px",objectFit:"cover"},onClick:()=>window.open(T.imageUrl,"_blank"),loading:"lazy",onError:re=>{console.error("🔍 [UI DEBUG] Image failed to load:",T.imageUrl)},onLoad:()=>{console.log("🔍 [UI DEBUG] Image loaded successfully:",T.imageUrl)}}),T.content&&r.jsx("p",{className:"text-sm",children:T.content})]}):T.type==="image"&&!T.imageUrl?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 text-red-700 text-sm",children:["🔍 DEBUG: Image message missing imageUrl",r.jsx("br",{}),"Type: ",T.type,r.jsx("br",{}),"ImageUrl: ",T.imageUrl||"null/undefined"]}),T.content&&r.jsx("p",{className:"text-sm",children:T.content})]}):r.jsx("p",{className:"text-sm leading-relaxed break-words",children:T.content})}),r.jsxs("p",{className:`text-xs text-slate-500 mt-2 px-1 ${T.role==="user"?"text-right":"text-left"}`,children:[ur(new Date(T.timestamp))," • ",T.role==="user"?_.user.firstName:_.profile.firstName]}),(()=>{var re,_e;return console.log("🔍 [UI DEBUG] Conversation data for message:",{messageId:T.id,messageRole:T.role,userFirstName:(re=_.user)==null?void 0:re.firstName,profileFirstName:(_e=_.profile)==null?void 0:_e.firstName,userData:_.user,profileData:_.profile}),null})()]}),T.role==="assistant"&&r.jsx("div",{className:"order-1 mr-2",children:_.profile.photo?r.jsx("img",{src:_.profile.photo,alt:_.profile.firstName,className:"w-6 h-6 rounded-full object-cover border border-blue-200"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border border-blue-200",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:_.profile.firstName[0]})})})]},T.id)),r.jsx("div",{ref:Re})]}),Oe&&r.jsx("div",{className:"border-t border-slate-200 p-4 bg-white fixed bottom-[80px] left-0 right-0 md:static",children:r.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2",children:Yr.map(T=>r.jsx("button",{onClick:()=>Ln(T),className:"p-3 hover:bg-slate-100 active:bg-slate-200 rounded-lg text-lg transition-colors touch-manipulation",children:T},T))})}),r.jsx("div",{className:"border-t border-slate-200 p-4 bg-white fixed bottom-0 left-0 right-0 md:static",children:r.jsxs("div",{className:"space-y-3 max-w-[100vw] md:max-w-none",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:xn,disabled:Ke||Y,children:[Ke?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-slate-600 mr-1"}):r.jsx(O4,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Photo"})]}),r.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:()=>Ve(!Oe),children:[r.jsx(ip,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Emoji"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx($s,{value:O,onChange:T=>W(T.target.value),onKeyPress:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),O.trim()&&e&&!Y&&(le(!0),console.log("🔍 [ADMIN] Calling sendProfileResponse with:",{conversationId:_.id,content:O.substring(0,30),profileId:_.user.id,adminId:e.id,profileName:_.user.firstName,userName:_.profile.firstName,userId:_.userId,conversationProfileId:_.profileId,fullConversation:_}),zn.sendProfileResponse(_.id,O,_.user.id,e.id).then(async re=>{var _e;console.log("🔍 [ADMIN] Message sent successfully:",{id:re.id,role:re.role,content:(_e=re.content)==null?void 0:_e.substring(0,30),isAdminResponse:re.isAdminResponse}),W(""),console.log("🔍 [ADMIN] Message sent, waiting for real-time subscription to add it"),setTimeout(async()=>{var ne,be,Se;const F=await zn.getConversation(_.userId,_.profileId);console.log("🔍 [ADMIN] Refreshed conversation after timeout:",{messageCount:F.messages.length,lastMessageRole:(ne=F.messages[F.messages.length-1])==null?void 0:ne.role,userFirstName:(be=F.user)==null?void 0:be.firstName,profileFirstName:(Se=F.profile)==null?void 0:Se.firstName,conversationData:F}),M(F)},2e3)}).catch(re=>{console.error("Failed to send response:",re)}).finally(()=>{le(!1)})))},placeholder:`Message ${_.user.firstName}...`,className:"rounded-full border-slate-300 focus:border-rose-400 focus:ring-rose-400 text-base h-12 pr-12"}),r.jsx("button",{onClick:()=>Ve(!Oe),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition-colors",children:r.jsx(ip,{className:"h-5 w-5 text-slate-400"})})]}),!O.trim()&&r.jsx(Me,{variant:"ghost",size:"sm",className:"h-12 w-12 p-0 touch-manipulation transition-colors hover:bg-slate-100 active:bg-slate-200 text-slate-600",onClick:()=>pt(!0),title:"Send gift",children:r.jsx(Hn,{className:"h-5 w-5"})}),!O.trim()&&r.jsx(Me,{variant:"ghost",size:"sm",className:"h-12 w-12 p-0 touch-manipulation transition-colors hover:bg-slate-100 active:bg-slate-200 text-slate-600",onClick:()=>{},title:"Voice message",children:r.jsx(np,{className:"h-5 w-5"})}),O.trim()&&r.jsx(Me,{onClick:async()=>{var T;if(O.trim()&&e&&!Y){le(!0);try{const re=await zn.sendProfileResponse(_.id,O,_.user.id,e.id);console.log("🔍 [ADMIN] Message sent successfully (button):",{id:re.id,role:re.role,content:(T=re.content)==null?void 0:T.substring(0,30),isAdminResponse:re.isAdminResponse}),W(""),console.log("🔍 [ADMIN] Message sent (button), waiting for real-time subscription to add it"),setTimeout(async()=>{var F;const _e=await zn.getConversation(_.userId,_.profileId);console.log("🔍 [ADMIN] Refreshed conversation after timeout (button):",{messageCount:_e.messages.length,lastMessageRole:(F=_e.messages[_e.messages.length-1])==null?void 0:F.role}),M(_e)},2e3)}catch(re){console.error("Failed to send response:",re)}finally{le(!1)}}},disabled:Y||Ke,className:"h-12 w-12 p-0 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 touch-manipulation",children:r.jsx(Gv,{className:"h-4 w-4"})})]})]})}),r.jsx("input",{ref:fe,type:"file",accept:"image/*",onChange:yn,className:"hidden"})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ns,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Choose a conversation from the sidebar to start managing messages"})]})})})]}):i==="gifts"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-rose-50 to-pink-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gifts"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Manage ",ua.length," gifts"]})]}),r.jsxs("button",{onClick:()=>{de(!0),pi()},className:"px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-lg hover:from-rose-600 hover:to-pink-600 transition-colors flex items-center gap-2",children:[r.jsx(_d,{className:"w-4 h-4"}),"Add Gift"]})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(T=>r.jsx("button",{onClick:()=>G(T),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${Q===T?"bg-rose-100 text-rose-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:T.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())},T))})}),r.jsx("div",{className:"p-6",children:L?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):ua.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Hn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No gifts found"}),r.jsx("p",{className:"text-gray-600",children:"No gifts match your search criteria."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ua.map(T=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-100",children:r.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-48 object-cover",onError:re=>{re.currentTarget.src="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400"}})}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:T.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:T.description}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("span",{className:"font-bold text-rose-600",children:[T.price," coins"]}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:T.category.replace(/_/g," ")}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${T.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:T.is_active?"Active":"Inactive"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>Rl(T),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-1",children:[r.jsx(ng,{className:"w-4 h-4"}),"Edit"]}),r.jsx("button",{onClick:()=>Bi(T.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center justify-center",children:r.jsx(Ad,{className:"w-4 h-4"})})]})]})]},T.id))})})]}):i==="users"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-teal-50 to-emerald-50",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Manage ",za.length," users"]})]})})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"Search users by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),r.jsx("div",{className:"p-6",children:L?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):za.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oa,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"})]}):r.jsx("div",{className:"space-y-4",children:za.map(T=>{var re,_e;return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-teal-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:T.photos&&T.photos[0]?r.jsx("img",{src:T.photos[0],alt:T.first_name,className:"h-10 w-10 object-cover rounded-full"}):r.jsxs("span",{children:[(re=T.first_name)==null?void 0:re[0],(_e=T.last_name)==null?void 0:_e[0]]})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 truncate",children:[T.first_name," ",T.last_name]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:T.email})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${T.role==="admin"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:T.role||"user"}),r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["Joined ",new Date(T.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2 border-t md:border-t-0 pt-3 md:pt-0 mt-3 md:mt-0",children:[r.jsxs("button",{onClick:()=>Zn(T,"view"),className:"flex-1 md:flex-none p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",title:"View Details",children:[r.jsx(Di,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"View"})]}),r.jsxs("button",{onClick:()=>Zn(T,"edit"),className:"flex-1 md:flex-none p-2 text-blue-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",title:"Edit User",children:[r.jsx(ng,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Edit"})]}),r.jsxs("button",{onClick:()=>Ua(T.id,"delete"),className:"flex-1 md:flex-none p-2 text-red-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Delete User",children:[r.jsx(Ad,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Delete"})]})]})]})})},T.id)})})})]}):i==="analytics"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Analytics"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track your sales performance and revenue"})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 shadow-inner overflow-x-auto scrollbar-hide",children:[r.jsx("button",{onClick:()=>Ks("today"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${lt==="today"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"Today"}),r.jsx("button",{onClick:()=>Ks("week"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${lt==="week"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"Last 7 Days"}),r.jsx("button",{onClick:()=>Ks("month"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${lt==="month"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"This Month"}),r.jsx("button",{onClick:()=>Ks("all"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${lt==="all"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"All Time"})]})]})}),xt?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):mi?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-red-50 text-red-600 rounded-lg p-4",children:mi})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 p-3 md:p-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Total Revenue"}),r.jsx(rg,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsxs("p",{className:"text-lg md:text-2xl font-bold mt-2",children:["$",Jt.totalRevenue.toFixed(2)]}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsxs("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:["Subs: $",Jt.subscriptionRevenue.toFixed(2)]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Monthly Revenue"}),r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsxs("p",{className:"text-lg md:text-2xl font-bold mt-2",children:["$",Jt.monthlyRevenue.toFixed(2)]}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsxs("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:["Subs: $",Jt.monthlySubscriptionRevenue.toFixed(2)]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Subscriptions"}),r.jsx(ps,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold mt-2",children:Jt.activeSubscriptions}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsx("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:"Active Plans"})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Coins Activity"}),r.jsx(rg,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold mt-2",children:Jt.totalCoinsSpent}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsx("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:"Total Coins Spent"})})]})]}),r.jsxs("div",{className:"p-3 md:p-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-0 mb-4 md:mb-6",children:[r.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Recent Transactions"}),r.jsxs("div",{className:"relative w-full md:w-auto",children:[r.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:Cr,onChange:T=>pn(T.target.value),placeholder:"Search transactions...",className:"w-full md:w-64 pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"overflow-x-auto -mx-3 md:mx-0",children:r.jsxs("table",{className:"w-full min-w-[800px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Transaction ID"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Customer"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Type"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Plan/Coins"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Amount"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Status"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Date"})]})}),r.jsx("tbody",{children:Jt.recentTransactions.filter(T=>{var re,_e,F,ne,be,Se;return((re=T.subscription_plan)==null?void 0:re.toLowerCase().includes(Cr.toLowerCase()))||((F=(_e=T.profiles)==null?void 0:_e.first_name)==null?void 0:F.toLowerCase().includes(Cr.toLowerCase()))||((be=(ne=T.profiles)==null?void 0:ne.last_name)==null?void 0:be.toLowerCase().includes(Cr.toLowerCase()))||((Se=T.type)==null?void 0:Se.toLowerCase().includes(Cr.toLowerCase()))}).map(T=>{var re,_e,F,ne,be,Se,ye;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:["#",T.id.slice(0,8)]})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[r.jsxs("div",{className:"h-6 w-6 md:h-8 md:w-8 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center text-blue-600 text-xs md:text-sm font-medium",children:[(_e=(re=T.profiles)==null?void 0:re.first_name)==null?void 0:_e[0],(ne=(F=T.profiles)==null?void 0:F.last_name)==null?void 0:ne[0]]}),r.jsx("div",{children:r.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-900",children:[(be=T.profiles)==null?void 0:be.first_name," ",(Se=T.profiles)==null?void 0:Se.last_name]})})]})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:`text-xs font-medium px-1.5 md:px-2 py-0.5 md:py-1 rounded-full ${T.type==="subscription"?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:T.type==="subscription"?"Subscription":"Coins"})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:T.type==="subscription"?T.subscription_plan:`${T.coins_added} coins`})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:["$",(ye=T.amount)==null?void 0:ye.toFixed(2)]})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:`text-xs font-medium px-1.5 md:px-2 py-0.5 md:py-1 rounded-full ${T.status==="completed"?"bg-green-100 text-green-700":T.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:T.status})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:new Date(T.created_at).toLocaleDateString()})})]},T.id)})})]})})]}),r.jsxs("div",{className:"p-3 md:p-6 border-t border-gray-200",children:[r.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 md:mb-6",children:"Popular Subscription Plans"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:Jt.popularPlans.map((T,re)=>{var _e;return r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:T.plan}),r.jsxs("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-1.5 md:px-2 py-0.5 md:py-1 rounded-full",children:[T.count," sold"]})]}),r.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Revenue: $",(_e=T.revenue)==null?void 0:_e.toFixed(2)]})]},re)})})]}),r.jsx("div",{className:"p-3 md:p-6 border-t border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6",children:[r.jsx("h5",{className:"text-sm md:text-base font-semibold text-gray-900 mb-3 md:mb-4",children:"Active Subscriptions"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-bold text-purple-600",children:Jt.activeSubscriptions}),r.jsx("div",{className:"bg-purple-100 rounded-full p-2 md:p-3",children:r.jsx(ps,{className:"h-5 w-5 md:h-6 md:w-6 text-purple-600"})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6",children:[r.jsx("h5",{className:"text-sm md:text-base font-semibold text-gray-900 mb-3 md:mb-4",children:"Total Coins Spent"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-bold text-amber-600",children:Jt.totalCoinsSpent}),r.jsx("div",{className:"bg-amber-100 rounded-full p-2 md:p-3",children:r.jsx(rg,{className:"h-5 w-5 md:h-6 md:w-6 text-amber-600"})})]}),r.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-2",children:["Monthly: ",Jt.monthlyCoinsSpent," coins"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6 sm:col-span-2 md:col-span-1",children:[r.jsx("h5",{className:"text-sm md:text-base font-semibold text-gray-900 mb-3 md:mb-4",children:"Gift Activity"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-bold text-pink-600",children:Jt.totalGiftsSent}),r.jsx("div",{className:"bg-pink-100 rounded-full p-2 md:p-3",children:r.jsx(Hn,{className:"h-5 w-5 md:h-6 md:w-6 text-pink-600"})})]}),r.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-2",children:["Monthly: ",Jt.monthlyGiftsSent," gifts"]})]})]})})]})]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 md:gap-4 px-6 pt-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 text-left",children:"Model Management"}),r.jsxs("p",{className:"text-sm md:text-base text-gray-600 mt-1 text-left",children:["Manage ",o.filter(T=>T.role==="model").length," models"]})]}),r.jsxs("button",{onClick:()=>_t(!0),className:"w-full md:w-auto px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-colors flex items-center justify-center gap-2 text-base md:text-lg",children:[r.jsx(Cd,{className:"w-4 h-4"}),"Generate Models"]})]}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(un,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"Search models by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),r.jsx("div",{className:"p-6",children:L?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):o.filter(T=>{var re,_e,F;return T.role==="model"&&(((re=T.first_name)==null?void 0:re.toLowerCase().includes(c.toLowerCase()))||((_e=T.last_name)==null?void 0:_e.toLowerCase().includes(c.toLowerCase()))||((F=T.email)==null?void 0:F.toLowerCase().includes(c.toLowerCase())))}).length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oa,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No models found"})]}):r.jsx("div",{className:"space-y-4",children:o.filter(T=>{var re,_e,F;return T.role==="model"&&(((re=T.first_name)==null?void 0:re.toLowerCase().includes(c.toLowerCase()))||((_e=T.last_name)==null?void 0:_e.toLowerCase().includes(c.toLowerCase()))||((F=T.email)==null?void 0:F.toLowerCase().includes(c.toLowerCase())))}).map(T=>{var re,_e;return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:T.photos&&T.photos[0]?r.jsx("img",{src:T.photos[0],alt:T.first_name,className:"h-10 w-10 object-cover rounded-full"}):r.jsxs("span",{children:[(re=T.first_name)==null?void 0:re[0],(_e=T.last_name)==null?void 0:_e[0]]})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 truncate",children:[T.first_name," ",T.last_name]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:T.email})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-600",children:"model"}),r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["Joined ",new Date(T.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2 border-t md:border-t-0 pt-3 md:pt-0 mt-3 md:mt-0",children:[r.jsxs("button",{onClick:()=>Zn(T,"view"),className:"flex-1 md:flex-none p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",title:"View Details",children:[r.jsx(Di,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"View"})]}),r.jsxs("button",{onClick:()=>Zn(T,"edit"),className:"flex-1 md:flex-none p-2 text-blue-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",title:"Edit Model",children:[r.jsx(ng,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Edit"})]}),r.jsxs("button",{onClick:()=>Ua(T.id,"delete"),className:"flex-1 md:flex-none p-2 text-red-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Delete Model",children:[r.jsx(Ad,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Delete"})]})]})]})})},T.id)})})})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x==="edit"?"Edit User/Model":x==="add"?"Add User/Model":"User Details"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:N.firstName,onChange:T=>y(re=>({...re,firstName:T.target.value})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:N.lastName,onChange:T=>y(re=>({...re,lastName:T.target.value})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsxs(ss,{value:N.role,onChange:T=>y(re=>({...re,role:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"model",children:"Model"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birth Date *"}),r.jsx("input",{type:"date",value:N.birthDate||"",onChange:T=>y(re=>({...re,birthDate:T.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.birthDate?"border-red-500":"border-gray-300"}`}),v.birthDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.birthDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),r.jsx("input",{type:"text",value:N.country||"",onChange:T=>y(re=>({...re,country:T.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.country?"border-red-500":"border-gray-300"}`}),v.country&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.country})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),r.jsx("input",{type:"text",value:N.city||"",onChange:T=>y(re=>({...re,city:T.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.city?"border-red-500":"border-gray-300"}`}),v.city&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.city})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profession *"}),r.jsx("input",{type:"text",value:N.profession||"",onChange:T=>y(re=>({...re,profession:T.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.profession?"border-red-500":"border-gray-300"}`}),v.profession&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.profession})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages (comma separated)"}),r.jsx("input",{type:"text",value:N.languages?N.languages.join(", "):"",onChange:T=>y(re=>({...re,languages:T.target.value.split(",").map(_e=>_e.trim())})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100",placeholder:"English, Spanish, French"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo URLs (comma separated) *"}),r.jsx("input",{type:"text",value:N.photos?N.photos.join(", "):"",onChange:T=>y(re=>({...re,photos:T.target.value.split(",").map(_e=>_e.trim())})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.photos?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/photo1.jpg, https://example.com/photo2.jpg"}),v.photos&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.photos}),N.photos&&N.photos[0]&&r.jsx("img",{src:N.photos[0],alt:"Preview",className:"h-16 w-16 rounded-full mt-2 object-cover border"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio *"}),r.jsx("textarea",{value:N.bio||"",onChange:T=>y(re=>({...re,bio:T.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 min-h-[80px] ${v.bio?"border-red-500":"border-gray-300"}`,placeholder:"Tell us about yourself..."}),v.bio&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.bio})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests (comma separated)"}),r.jsx("input",{type:"text",value:N.interests?N.interests.join(", "):"",onChange:T=>y(re=>({...re,interests:T.target.value.split(",").map(_e=>_e.trim())})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Travel, Music, Art, Cooking"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coins"}),r.jsx("input",{type:"number",value:N.coins||0,onChange:T=>y(re=>({...re,coins:parseInt(T.target.value)||0})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),r.jsxs(ss,{value:N.gender||"female",onChange:T=>y(re=>({...re,gender:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"female",children:"Female"}),r.jsx("option",{value:"male",children:"Male"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Eye Color"}),r.jsxs(ss,{value:N.eyeColor||"",onChange:T=>y(re=>({...re,eyeColor:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Eye Color"}),r.jsx("option",{value:"blue",children:"Blue"}),r.jsx("option",{value:"brown",children:"Brown"}),r.jsx("option",{value:"green",children:"Green"}),r.jsx("option",{value:"hazel",children:"Hazel"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hair Color"}),r.jsxs(ss,{value:N.hairColor||"",onChange:T=>y(re=>({...re,hairColor:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Hair Color"}),r.jsx("option",{value:"blonde",children:"Blonde"}),r.jsx("option",{value:"brunette",children:"Brunette"}),r.jsx("option",{value:"black",children:"Black"}),r.jsx("option",{value:"red",children:"Red"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appearance Type"}),r.jsxs(ss,{value:N.appearanceType||"",onChange:T=>y(re=>({...re,appearanceType:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"slim",children:"Slim"}),r.jsx("option",{value:"athletic",children:"Athletic"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"curvy",children:"Curvy"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alcohol"}),r.jsxs(ss,{value:N.alcohol||"",onChange:T=>y(re=>({...re,alcohol:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Preference"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"socially",children:"Socially"}),r.jsx("option",{value:"regularly",children:"Regularly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Smoking"}),r.jsxs(ss,{value:N.smoking||"",onChange:T=>y(re=>({...re,smoking:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Preference"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"regularly",children:"Regularly"}),r.jsx("option",{value:"trying to quit",children:"Trying to Quit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Children"}),r.jsxs(ss,{value:N.children||"",onChange:T=>y(re=>({...re,children:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Preference"}),r.jsx("option",{value:"have",children:"Have"}),r.jsx("option",{value:"want",children:"Want"}),r.jsx("option",{value:"maybe",children:"Maybe"}),r.jsx("option",{value:"no",children:"No"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Religion"}),r.jsxs(ss,{value:N.religion||"",onChange:T=>y(re=>({...re,religion:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Religion"}),r.jsx("option",{value:"christian",children:"Christian"}),r.jsx("option",{value:"orthodox",children:"Orthodox"}),r.jsx("option",{value:"catholic",children:"Catholic"}),r.jsx("option",{value:"muslim",children:"Muslim"}),r.jsx("option",{value:"none",children:"None"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zodiac Sign"}),r.jsxs(ss,{value:N.zodiacSign||"",onChange:T=>y(re=>({...re,zodiacSign:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Sign"}),r.jsx("option",{value:"aries",children:"Aries"}),r.jsx("option",{value:"taurus",children:"Taurus"}),r.jsx("option",{value:"gemini",children:"Gemini"}),r.jsx("option",{value:"cancer",children:"Cancer"}),r.jsx("option",{value:"leo",children:"Leo"}),r.jsx("option",{value:"virgo",children:"Virgo"}),r.jsx("option",{value:"libra",children:"Libra"}),r.jsx("option",{value:"scorpio",children:"Scorpio"}),r.jsx("option",{value:"sagittarius",children:"Sagittarius"}),r.jsx("option",{value:"capricorn",children:"Capricorn"}),r.jsx("option",{value:"aquarius",children:"Aquarius"}),r.jsx("option",{value:"pisces",children:"Pisces"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"English Level"}),r.jsxs(ss,{value:N.englishLevel||"",onChange:T=>y(re=>({...re,englishLevel:T.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Level"}),r.jsx("option",{value:"basic",children:"Basic"}),r.jsx("option",{value:"intermediate",children:"Intermediate"}),r.jsx("option",{value:"advanced",children:"Advanced"}),r.jsx("option",{value:"fluent",children:"Fluent"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Features"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.verified||!1,onChange:T=>y(re=>({...re,verified:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Verified"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.premium||!1,onChange:T=>y(re=>({...re,premium:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Premium"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.hasIntroVideo||!1,onChange:T=>y(re=>({...re,hasIntroVideo:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Intro Video"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.isOnline||!1,onChange:T=>y(re=>({...re,isOnline:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Online"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.hasVideo||!1,onChange:T=>y(re=>({...re,hasVideo:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Has Video"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.hasCameraOn||!1,onChange:T=>y(re=>({...re,hasCameraOn:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Camera On"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.birthdaySoon||!1,onChange:T=>y(re=>({...re,birthdaySoon:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Birthday Soon"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.newProfile||!1,onChange:T=>y(re=>({...re,newProfile:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"New Profile"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.top1000||!1,onChange:T=>y(re=>({...re,top1000:T.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Top 1000"})]})]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>{p(!1),f(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:x==="view"?"Close":"Cancel"}),x==="edit"&&r.jsx("button",{onClick:()=>{N.role==="model"&&!$a()||Dl()},disabled:!N.firstName||!N.lastName,className:"px-4 py-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white rounded-lg hover:from-teal-600 hover:to-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Update User/Model"}),x==="add"&&r.jsx("button",{onClick:()=>{N.role==="model"&&!$a()||Ao()},disabled:!N.firstName||!N.lastName,className:"px-4 py-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white rounded-lg hover:from-teal-600 hover:to-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add User/Model"})]})]})}),(we||Ee)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Ee?"Edit Gift":"Add New Gift"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Name"}),r.jsx("input",{type:"text",value:$e.name,onChange:T=>Be(re=>({...re,name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter gift name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (coins)"}),r.jsx("input",{type:"number",value:$e.price,onChange:T=>Be(re=>({...re,price:parseInt(T.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter price",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsx(ss,{value:$e.category,onChange:T=>Be(re=>({...re,category:T.target.value})),children:P.filter(T=>T!=="all").map(T=>r.jsx("option",{value:T,children:T.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())},T))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),r.jsx("input",{type:"url",value:$e.image_url,onChange:T=>Be(re=>({...re,image_url:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:$e.description,onChange:T=>Be(re=>({...re,description:T.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter gift description"})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>{de(!1),Le(null),pi()},className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Ee?Fi:da,disabled:!$e.name||!$e.price,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg hover:from-emerald-600 hover:to-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Ee?"Update Gift":"Add Gift"})]})]})}),wt&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Random Models"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automatically create model profiles with realistic data"})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Models to Generate"}),r.jsx("input",{type:"number",min:"1",max:"100",value:tt.count,onChange:T=>Nt(re=>({...re,count:Math.min(100,Math.max(1,parseInt(T.target.value)||1))})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Countries"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:["Ukraine","Russia","Belarus","Kazakhstan","Georgia","Poland","Czech Republic","Slovakia","Hungary","Romania","Bulgaria","Serbia","Croatia","Slovenia","Latvia","Lithuania","Estonia","Moldova","Armenia","Azerbaijan"].map(T=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:tt.countries.includes(T),onChange:re=>{re.target.checked?Nt(_e=>({..._e,countries:[..._e.countries,T]})):Nt(_e=>({..._e,countries:_e.countries.filter(F=>F!==T)}))},className:"mr-2"}),r.jsx("span",{className:"truncate",children:T})]},T))}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",tt.countries.length," countries"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Range"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Age"}),r.jsx("input",{type:"number",min:"18",max:"65",value:tt.ageRange.min,onChange:T=>Nt(re=>({...re,ageRange:{...re.ageRange,min:Math.min(re.ageRange.max,Math.max(18,parseInt(T.target.value)||18))}})),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Age"}),r.jsx("input",{type:"number",min:"18",max:"65",value:tt.ageRange.max,onChange:T=>Nt(re=>({...re,ageRange:{...re.ageRange,max:Math.max(re.ageRange.min,Math.min(65,parseInt(T.target.value)||35))}})),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:tt.includeVerified,onChange:T=>Nt(re=>({...re,includeVerified:T.target.checked})),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Include verified profiles (70% chance)"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:tt.includePremium,onChange:T=>Nt(re=>({...re,includePremium:T.target.checked})),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Include premium profiles (30% chance)"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:["• Will generate ",tt.count," models"]}),r.jsxs("p",{children:["• From countries: ",tt.countries.join(", ")]}),r.jsxs("p",{children:["• Age range: ",tt.ageRange.min,"-",tt.ageRange.max," years"]}),r.jsx("p",{children:"• Each model will have random:"}),r.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[r.jsx("li",{children:"Name, profession, bio, and interests"}),r.jsx("li",{children:"Eye color, hair color, and appearance type"}),r.jsx("li",{children:"Lifestyle preferences (alcohol, smoking, children)"}),r.jsx("li",{children:"Religious beliefs and zodiac sign"}),r.jsx("li",{children:"English level and special features"}),r.jsx("li",{children:"Profile photo from Unsplash"})]})]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>_t(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:ha,disabled:Ze||tt.countries.length===0,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Ze?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Cd,{className:"w-4 h-4"}),"Generate Models"]})})]})]})}),Dt&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Photos for Generated Models"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[$t.length," models generated. Add custom photos or use default ones."]})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-6",children:$t.map((T,re)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsxs("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-400 to-indigo-400 flex items-center justify-center text-white font-semibold",children:[T.firstName[0],T.lastName[0]]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:[T.firstName," ",T.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[new Date().getFullYear()-new Date(T.birthDate).getFullYear()," years old • ",T.city,", ",T.country]}),r.jsx("p",{className:"text-xs text-gray-500",children:T.profession})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photo URLs"}),r.jsxs("button",{type:"button",onClick:()=>Ol(T.id),className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded hover:bg-purple-200 transition-colors flex items-center gap-1",children:[r.jsx(_d,{className:"w-3 h-3"}),"Add Photo"]})]}),r.jsx("div",{className:"space-y-2",children:(hs[T.id]||[""]).map((_e,F)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",placeholder:"https://example.com/photo.jpg",value:_e||"",onChange:ne=>Va(T.id,F,ne.target.value),onBlur:ne=>{Va(T.id,F,ne.target.value.trim())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"}),(hs[T.id]||[]).length>1&&r.jsx("button",{type:"button",onClick:()=>Ss(T.id,F),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Remove photo",children:r.jsx(kr,{className:"w-4 h-4"})})]},F))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add photo URLs or leave empty. Multiple photos recommended for better profile presentation."})]})]}),r.jsxs("div",{className:"flex-shrink-0",children:[r.jsxs("div",{className:"w-20 h-20 rounded-lg overflow-hidden border border-gray-200",children:[hs[T.id]&&hs[T.id].length>0&&hs[T.id][0]?r.jsx("img",{src:hs[T.id][0],alt:`${T.firstName}'s photo`,className:"w-full h-full object-cover",onError:_e=>{var F;_e.currentTarget.style.display="none",(F=_e.currentTarget.nextElementSibling)==null||F.classList.remove("hidden")}}):null,r.jsx("div",{className:`w-full h-full bg-gray-200 flex items-center justify-center text-gray-500 text-xs ${hs[T.id]&&hs[T.id].length>0&&hs[T.id][0]?"hidden":""}`,children:"No Photo"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Preview"}),hs[T.id]&&hs[T.id].length>1&&r.jsx("div",{className:"mt-1 text-center",children:r.jsxs("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:[hs[T.id].filter(_e=>_e.trim()).length," photos"]})})]})]})},T.id))})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[$t.length," models ready to create"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>{vr(!1),ns([]),It({})},className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:qa,disabled:Qn,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Qn?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating Models..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_d,{className:"w-4 h-4"}),"Create ",$t.length," Models"]})})]})]})]})}),dt&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Gift"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Send a gift as ",_==null?void 0:_.user.firstName," to ",_==null?void 0:_.profile.firstName]})]}),r.jsx("button",{onClick:()=>pt(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(kr,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.filter(T=>T.is_active).map(T=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Oi(T),children:[r.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-100",children:r.jsx("img",{src:T.image_url,alt:T.name,className:"w-full h-48 object-cover",onError:re=>{re.currentTarget.src="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400"}})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:T.name}),T.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:T.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-lg font-bold text-rose-600",children:[T.price," coins"]}),r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:T.category})]})]})]},T.id))}),X.filter(T=>T.is_active).length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Hn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No active gifts available"}),r.jsx("p",{className:"text-gray-600",children:"Please add some gifts in the gifts management section."})]})]})]})})]}),r.jsx(n1,{toasts:n.toasts,onClose:n.removeToast})]}):r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-red-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel."})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-rose-500 mb-6"}),r.jsx("div",{className:"text-lg font-semibold text-gray-700",children:"Loading..."})]})})},IB=()=>{const[e,t]=E.useState({}),[s,n]=E.useState(!1),i=async()=>{n(!0);const a={};try{console.log("🔍 Testing authentication...");const{data:{user:o},error:l}=await Fe.auth.getUser();a.auth={user:o?{id:o.id,email:o.email}:null,error:l},console.log("🔍 Testing profiles table...");try{const{data:c,error:d}=await Fe.from("profiles").select("id, first_name, last_name, role").limit(5);a.profiles={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.profiles={error:c}}console.log("🔍 Testing conversations table...");try{const{data:c,error:d}=await Fe.from("conversations").select("id, user1_id, user2_id").limit(5);a.conversations={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.conversations={error:c}}console.log("🔍 Testing messages table...");try{const{data:c,error:d}=await Fe.from("messages").select("id, sender_id, receiver_id").limit(5);a.messages={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.messages={error:c}}console.log("🔍 Testing conversation_settings table...");try{const{data:c,error:d}=await Fe.from("conversation_settings").select("user_id, other_user_id, is_archived").limit(5);a.conversation_settings={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.conversation_settings={error:c}}console.log("🔍 Testing admin RPC function...");try{const c=[(o==null?void 0:o.id)||"00000000-0000-0000-0000-000000000000"],{data:d,error:u}=await Fe.rpc("get_all_conversations_for_admin",{user_ids:c});a.admin_rpc={data:(d==null?void 0:d.length)||0,error:u}}catch(c){a.admin_rpc={error:c}}}catch(o){a.general_error=o}console.log("🔍 Debug results:",a),t(a),n(!1)};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Database Debug"}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:r.jsx("button",{onClick:i,disabled:s,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Running Tests...":"Run Database Tests"})}),Object.keys(e).length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Debug Results"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded-md overflow-auto text-sm",children:JSON.stringify(e,null,2)})]})]})})};function RB(){const{notifications:e,addNotification:t,clearAllNotifications:s}=i1(),{openChat:n}=Yp(),i=()=>{const o=["Hi! How are you doing today? 😊","I was thinking about our last conversation...","Would you like to meet for coffee sometime?","Your profile really caught my attention!","I'd love to get to know you better 💕"],l=[{name:"Elena K.",photo:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80",id:"test-elena",profile:{id:"test-elena",userId:"test-elena",firstName:"Elena",lastName:"K.",gender:"female",birthDate:"1995-05-15",country:"Ukraine",city:"Kyiv",bio:"I feel music in every cell of my body. Looking for someone who shares my passion for arts and travel.",interests:["Music","Travel","Art"],profession:"Graphic Designer",languages:["Ukrainian","English","Russian"],photos:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-01-15",height:168,weight:55,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"want",religion:"orthodox",zodiacSign:"taurus",englishLevel:"intermediate",hasIntroVideo:!0,isOnline:!0,hasVideo:!0,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!0}},{name:"Anastasia M.",photo:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80",id:"test-anastasia",profile:{id:"test-anastasia",userId:"test-anastasia",firstName:"Anastasia",lastName:"M.",gender:"female",birthDate:"1992-08-23",country:"Russia",city:"Moscow",bio:"Passionate about literature and philosophy. I enjoy deep conversations and quiet evenings with good wine.",interests:["Reading","Philosophy","Wine Tasting"],profession:"Literature Professor",languages:["Russian","English","French"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-02-10",height:172,weight:58,eyeColor:"brown",hairColor:"brunette",appearanceType:"average",alcohol:"regularly",smoking:"rarely",children:"none",religion:"orthodox",zodiacSign:"virgo",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!1,hasVideo:!0,hasCameraOn:!0,birthdaySoon:!1,newProfile:!1,top1000:!0}}],c=l[Math.floor(Math.random()*l.length)],d=o[Math.floor(Math.random()*o.length)],u={id:`test-${Date.now()}`,senderName:c.name,senderPhoto:c.photo,message:d,senderId:c.id,timestamp:new Date().toISOString()};t(u),window.testProfiles=window.testProfiles||{},window.testProfiles[c.id]=c.profile},a=()=>{n({id:"test-direct",userId:"test-direct",firstName:"Sofia",lastName:"R.",gender:"female",birthDate:"1994-09-30",country:"Romania",city:"Bucharest",bio:"Software engineer by day, book lover by night. Looking for an intellectual partner who enjoys deep conversations and traveling.",interests:["Technology","Reading","Travel"],profession:"Software Engineer",languages:["Romanian","English","French"],photos:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-01-05",height:175,weight:62,eyeColor:"gray",hairColor:"brunette",appearanceType:"average",alcohol:"socially",smoking:"never",children:"no-want",religion:"christian",zodiacSign:"libra",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!0,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!0})};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[r.jsx(js,{}),r.jsx("main",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mb-6",children:r.jsx(Hv,{className:"w-10 h-10 text-blue-600"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Message Notification Test"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Test the real-time message notification system"})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Click the button below to simulate receiving a message notification"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Me,{onClick:i,className:"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 text-lg w-full",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Trigger Test Notification"]}),r.jsxs(Me,{onClick:a,variant:"outline",className:"border-blue-500 text-blue-600 hover:bg-blue-50 px-8 py-3 text-lg w-full",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Open Test Chat Directly"]})]})]}),e.length>0&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Active Notifications (",e.length,")"]}),r.jsxs(Me,{onClick:s,variant:"outline",size:"sm",children:[r.jsx(W8,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),r.jsx("div",{className:"space-y-3",children:e.map(o=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[o.senderPhoto?r.jsx("img",{src:o.senderPhoto,alt:o.senderName,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-400 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-sm",children:o.senderName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:o.senderName}),r.jsx("p",{className:"text-sm text-gray-600",children:o.message})]})]})},o.id))})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"How it works"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"1"})}),r.jsx("p",{children:"When someone sends you a message, a notification appears in the top-right corner"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"2"})}),r.jsx("p",{children:"Notifications include the sender's photo, name, and message preview"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"3"})}),r.jsx("p",{children:'Click "Reply" or "View Chat" to open the conversation'})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"4"})}),r.jsx("p",{children:"Notifications auto-dismiss after 8 seconds or when you're in an active chat"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"5"})}),r.jsx("p",{children:"Browser notifications are also shown if you've granted permission"})]})]})]})]})})]})}),r.jsx(yr,{})]})}function DB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50",children:[r.jsx(js,{}),r.jsx("main",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"text-9xl font-bold text-rose-200 select-none",children:"404"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"text-6xl font-bold text-rose-500",children:"404"})})]})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Oops! Page Not Found"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),r.jsxs("div",{className:"space-y-4 mb-12",children:[r.jsx("p",{className:"text-gray-500",children:"Maybe you meant to visit one of these pages?"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(it,{to:"/",children:r.jsxs(Me,{className:"w-full sm:w-auto bg-rose-500 hover:bg-rose-600 text-white px-6 py-3",children:[r.jsx(D4,{className:"w-4 h-4 mr-2"}),"Go Home"]})}),r.jsx(it,{to:"/browse",children:r.jsxs(Me,{variant:"outline",className:"w-full sm:w-auto px-6 py-3",children:[r.jsx(un,{className:"w-4 h-4 mr-2"}),"Browse Profiles"]})})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(Me,{variant:"ghost",onClick:()=>window.history.back(),className:"text-gray-500 hover:text-gray-700",children:[r.jsx(Up,{className:"w-4 h-4 mr-2"}),"Go Back"]})}),r.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Need help? Try these popular pages:"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[r.jsx(it,{to:"/about",className:"text-rose-500 hover:text-rose-600 hover:underline",children:"About Us"}),r.jsx(it,{to:"/how-it-works",className:"text-rose-500 hover:text-rose-600 hover:underline",children:"How It Works"}),r.jsx(it,{to:"/pricing",className:"text-rose-500 hover:text-rose-600 hover:underline",children:"Pricing"}),r.jsx(it,{to:"/contact",className:"text-rose-500 hover:text-rose-600 hover:underline",children:"Contact"}),r.jsx(it,{to:"/faq",className:"text-rose-500 hover:text-rose-600 hover:underline",children:"FAQ"})]})]})]})}),r.jsx(yr,{})]})}const OB=()=>{const{showChatWindow:e,chatProfile:t,closeChat:s}=Yp();return!e||!t?null:r.jsx(t0,{profile:t,isOpen:e,onClose:s})},FB=()=>{const[e,t]=E.useState(!1);E.useEffect(()=>{(()=>{t(!0)})()},[]);const s=n=>{console.log("Cookie consent updated:",n),n.analytics&&console.log("Analytics enabled"),n.marketing&&console.log("Marketing cookies enabled")};return r.jsx(vB,{onConsentChange:s,children:r.jsx(_7,{children:r.jsx(A7,{children:r.jsx(P7,{children:r.jsxs(F8,{children:[r.jsx(h9,{}),!e&&r.jsxs("div",{className:"bg-amber-100 border-l-4 border-amber-500 text-amber-700 p-4 fixed top-0 left-0 right-0 z-50",children:[r.jsx("p",{className:"font-medium",children:"Supabase connection not established. Using mock data."}),r.jsx("p",{className:"text-sm",children:"To connect to Supabase, update your .env file with valid credentials."})]}),r.jsxs(P8,{children:[r.jsx(es,{path:"/",element:r.jsx(u9,{})}),r.jsx(es,{path:"/browse",element:r.jsx(m9,{})}),r.jsx(es,{path:"/profile/:id",element:r.jsx(p9,{})}),r.jsx(es,{path:"/dashboard",element:r.jsx(Du,{children:r.jsx(pB,{})})}),r.jsx(es,{path:"/settings",element:r.jsx(Du,{children:r.jsx(gO,{})})}),r.jsx(es,{path:"/edit-profile",element:r.jsx(Du,{children:r.jsx(g9,{})})}),r.jsx(es,{path:"/billing",element:r.jsx(Du,{children:r.jsx(mB,{})})}),r.jsx(es,{path:"/admin",element:r.jsx(Du,{children:r.jsx(MB,{})})}),r.jsx(es,{path:"/checkout",element:r.jsx(hO,{})}),r.jsx(es,{path:"/success",element:r.jsx(fB,{})}),r.jsx(es,{path:"/pricing",element:r.jsx(w9,{})}),r.jsx(es,{path:"/how-it-works",element:r.jsx(SB,{})}),r.jsx(es,{path:"/success-stories",element:r.jsx(NB,{})}),r.jsx(es,{path:"/safety",element:r.jsx(kB,{})}),r.jsx(es,{path:"/anti-scam",element:r.jsx(LB,{})}),r.jsx(es,{path:"/about",element:r.jsx(jB,{})}),r.jsx(es,{path:"/faq",element:r.jsx(_B,{})}),r.jsx(es,{path:"/contact",element:r.jsx(CB,{})}),r.jsx(es,{path:"/blog",element:r.jsx(pO,{})}),r.jsx(es,{path:"/privacy",element:r.jsx(EB,{})}),r.jsx(es,{path:"/terms",element:r.jsx(AB,{})}),r.jsx(es,{path:"/imbra",element:r.jsx(TB,{})}),r.jsx(es,{path:"/cookie-policy",element:r.jsx(PB,{})}),r.jsx(es,{path:"/cookie-test",element:r.jsx(bB,{})}),r.jsx(es,{path:"/login",element:r.jsx(mO,{})}),r.jsx(es,{path:"/register",element:r.jsx(B5,{})}),r.jsx(es,{path:"/signup",element:r.jsx(B5,{})}),r.jsx(es,{path:"/debug",element:r.jsx(IB,{})}),r.jsx(es,{path:"/notifications-test",element:r.jsx(RB,{})}),r.jsx(es,{path:"*",element:r.jsx(DB,{})})]}),r.jsx(OB,{})]})})})})})};Hg.createRoot(document.getElementById("root")).render(r.jsx(ir.StrictMode,{children:r.jsx(FB,{})}));export{ls as _,Mi as c,d_ as g};
