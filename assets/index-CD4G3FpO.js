function cC(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var hN={exports:{}},jp={},fN={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=Symbol.for("react.element"),hC=Symbol.for("react.portal"),fC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),pC=Symbol.for("react.profiler"),gC=Symbol.for("react.provider"),xC=Symbol.for("react.context"),yC=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),bC=Symbol.for("react.memo"),wC=Symbol.for("react.lazy"),_2=Symbol.iterator;function NC(e){return e===null||typeof e!="object"?null:(e=_2&&e[_2]||e["@@iterator"],typeof e=="function"?e:null)}var mN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pN=Object.assign,gN={};function Kd(e,t,s){this.props=e,this.context=t,this.refs=gN,this.updater=s||mN}Kd.prototype.isReactComponent={};Kd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xN(){}xN.prototype=Kd.prototype;function Wy(e,t,s){this.props=e,this.context=t,this.refs=gN,this.updater=s||mN}var Gy=Wy.prototype=new xN;Gy.constructor=Wy;pN(Gy,Kd.prototype);Gy.isPureReactComponent=!0;var A2=Array.isArray,yN=Object.prototype.hasOwnProperty,Ky={current:null},vN={key:!0,ref:!0,__self:!0,__source:!0};function bN(e,t,s){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)yN.call(t,n)&&!vN.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:qh,type:e,key:a,ref:o,props:i,_owner:Ky.current}}function jC(e,t){return{$$typeof:qh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yy(e){return typeof e=="object"&&e!==null&&e.$$typeof===qh}function SC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var E2=/\/+/g;function A0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SC(""+e.key):t.toString(36)}function dm(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qh:case hC:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+A0(o,0):n,A2(i)?(s="",e!=null&&(s=e.replace(E2,"$&/")+"/"),dm(i,t,s,"",function(d){return d})):i!=null&&(Yy(i)&&(i=jC(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E2,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",A2(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+A0(a,l);o+=dm(a,t,s,c,i)}else if(c=NC(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+A0(a,l++),o+=dm(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(e,t,s){if(e==null)return e;var n=[],i=0;return dm(e,n,"","",function(a){return t.call(s,a,i++)}),n}function kC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kn={current:null},um={transition:null},CC={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:um,ReactCurrentOwner:Ky};function wN(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Mf,forEach:function(e,t,s){Mf(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Mf(e,function(){t++}),t},toArray:function(e){return Mf(e,function(t){return t})||[]},only:function(e){if(!Yy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=Kd;qt.Fragment=fC;qt.Profiler=pC;qt.PureComponent=Wy;qt.StrictMode=mC;qt.Suspense=vC;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CC;qt.act=wN;qt.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pN({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Ky.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yN.call(t,c)&&!vN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:qh,type:e.type,key:i,ref:a,props:n,_owner:o}};qt.createContext=function(e){return e={$$typeof:xC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gC,_context:e},e.Consumer=e};qt.createElement=bN;qt.createFactory=function(e){var t=bN.bind(null,e);return t.type=e,t};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:yC,render:e}};qt.isValidElement=Yy;qt.lazy=function(e){return{$$typeof:wC,_payload:{_status:-1,_result:e},_init:kC}};qt.memo=function(e,t){return{$$typeof:bC,type:e,compare:t===void 0?null:t}};qt.startTransition=function(e){var t=um.transition;um.transition={};try{e()}finally{um.transition=t}};qt.unstable_act=wN;qt.useCallback=function(e,t){return kn.current.useCallback(e,t)};qt.useContext=function(e){return kn.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return kn.current.useDeferredValue(e)};qt.useEffect=function(e,t){return kn.current.useEffect(e,t)};qt.useId=function(){return kn.current.useId()};qt.useImperativeHandle=function(e,t,s){return kn.current.useImperativeHandle(e,t,s)};qt.useInsertionEffect=function(e,t){return kn.current.useInsertionEffect(e,t)};qt.useLayoutEffect=function(e,t){return kn.current.useLayoutEffect(e,t)};qt.useMemo=function(e,t){return kn.current.useMemo(e,t)};qt.useReducer=function(e,t,s){return kn.current.useReducer(e,t,s)};qt.useRef=function(e){return kn.current.useRef(e)};qt.useState=function(e){return kn.current.useState(e)};qt.useSyncExternalStore=function(e,t,s){return kn.current.useSyncExternalStore(e,t,s)};qt.useTransition=function(){return kn.current.useTransition()};qt.version="18.3.1";fN.exports=qt;var E=fN.exports;const sr=dC(E),NN=cC({__proto__:null,default:sr},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=E,AC=Symbol.for("react.element"),EC=Symbol.for("react.fragment"),PC=Object.prototype.hasOwnProperty,TC=_C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LC={key:!0,ref:!0,__self:!0,__source:!0};function jN(e,t,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)PC.call(t,n)&&!LC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:AC,type:e,key:a,ref:o,props:i,_owner:TC.current}}jp.Fragment=EC;jp.jsx=jN;jp.jsxs=jN;hN.exports=jp;var r=hN.exports,qg={},SN={exports:{}},oi={},kN={exports:{}},CN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,Q){var se=z.length;z.push(Q);e:for(;0<se;){var ue=se-1>>>1,I=z[ue];if(0<i(I,Q))z[ue]=Q,z[se]=I,se=ue;else break e}}function s(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Q=z[0],se=z.pop();if(se!==Q){z[0]=se;e:for(var ue=0,I=z.length,W=I>>>1;ue<W;){var Z=2*(ue+1)-1,te=z[Z],ae=Z+1,ge=z[ae];if(0>i(te,se))ae<I&&0>i(ge,te)?(z[ue]=ge,z[ae]=se,ue=ae):(z[ue]=te,z[Z]=se,ue=Z);else if(ae<I&&0>i(ge,se))z[ue]=ge,z[ae]=se,ue=ae;else break e}}return Q}function i(z,Q){var se=z.sortIndex-Q.sortIndex;return se!==0?se:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,x=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var Q=s(d);Q!==null;){if(Q.callback===null)n(d);else if(Q.startTime<=z)n(d),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=s(d)}}function k(z){if(j=!1,b(z),!x)if(s(c)!==null)x=!0,V(_);else{var Q=s(d);Q!==null&&ne(k,Q.startTime-z)}}function _(z,Q){x=!1,j&&(j=!1,y(T),T=-1),p=!0;var se=m;try{for(b(Q),h=s(c);h!==null&&(!(h.expirationTime>Q)||z&&!M());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,m=h.priorityLevel;var I=ue(h.expirationTime<=Q);Q=e.unstable_now(),typeof I=="function"?h.callback=I:h===s(c)&&n(c),b(Q)}else n(c);h=s(c)}if(h!==null)var W=!0;else{var Z=s(d);Z!==null&&ne(k,Z.startTime-Q),W=!1}return W}finally{h=null,m=se,p=!1}}var C=!1,L=null,T=-1,q=5,G=-1;function M(){return!(e.unstable_now()-G<q)}function O(){if(L!==null){var z=e.unstable_now();G=z;var Q=!0;try{Q=L(!0,z)}finally{Q?X():(C=!1,L=null)}}else C=!1}var X;if(typeof v=="function")X=function(){v(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,de=K.port2;K.port1.onmessage=O,X=function(){de.postMessage(null)}}else X=function(){N(O,0)};function V(z){L=z,C||(C=!0,X())}function ne(z,Q){T=N(function(){z(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,V(_))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var se=m;m=Q;try{return z()}finally{m=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=m;m=z;try{return Q()}finally{m=se}},e.unstable_scheduleCallback=function(z,Q,se){var ue=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ue+se:ue):se=ue,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=se+I,z={id:u++,callback:Q,priorityLevel:z,startTime:se,expirationTime:I,sortIndex:-1},se>ue?(z.sortIndex=se,t(d,z),s(c)===null&&z===s(d)&&(j?(y(T),T=-1):j=!0,ne(k,se-ue))):(z.sortIndex=I,t(c,z),x||p||(x=!0,V(_))),z},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(z){var Q=m;return function(){var se=m;m=Q;try{return z.apply(this,arguments)}finally{m=se}}}})(CN);kN.exports=CN;var MC=kN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC=E,ai=MC;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _N=new Set,ch={};function yc(e,t){Md(e,t),Md(e+"Capture",t)}function Md(e,t){for(ch[e]=t,e=0;e<t.length;e++)_N.add(t[e])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,RC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P2={},T2={};function DC(e){return Hg.call(T2,e)?!0:Hg.call(P2,e)?!1:RC.test(e)?T2[e]=!0:(P2[e]=!0,!1)}function OC(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FC(e,t,s,n){if(t===null||typeof t>"u"||OC(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,s,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qr[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qr[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qr[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qr[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qr[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qr[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qr[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qr[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qr[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function Xy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jy,Xy);qr[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jy,Xy);qr[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jy,Xy);qr[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qr[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});qr.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qr[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qy(e,t,s,n){var i=qr.hasOwnProperty(t)?qr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FC(t,s,i,n)&&(s=null),n||i===null?DC(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var po=IC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,If=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),AN=Symbol.for("react.provider"),EN=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),Gg=Symbol.for("react.suspense"),Kg=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),PN=Symbol.for("react.offscreen"),L2=Symbol.iterator;function Su(e){return e===null||typeof e!="object"?null:(e=L2&&e[L2]||e["@@iterator"],typeof e=="function"?e:null)}var Vs=Object.assign,E0;function Bu(e){if(E0===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);E0=t&&t[1]||""}return`
`+E0+e}var P0=!1;function T0(e,t){if(!e||P0)return"";P0=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{P0=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Bu(e):""}function BC(e){switch(e.tag){case 5:return Bu(e.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return e=T0(e.type,!1),e;case 11:return e=T0(e.type.render,!1),e;case 1:return e=T0(e.type,!0),e;default:return""}}function Yg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Xc:return"Portal";case Wg:return"Profiler";case Zy:return"StrictMode";case Gg:return"Suspense";case Kg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EN:return(e.displayName||"Context")+".Consumer";case AN:return(e._context.displayName||"Context")+".Provider";case ev:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tv:return t=e.displayName||null,t!==null?t:Yg(e.type)||"Memo";case Wo:t=e._payload,e=e._init;try{return Yg(e(t))}catch{}}return null}function UC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yg(t);case 8:return t===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zC(e){var t=TN(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rf(e){e._valueTracker||(e._valueTracker=zC(e))}function LN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=TN(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Tm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jg(e,t){var s=t.checked;return Vs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function M2(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=fl(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MN(e,t){t=t.checked,t!=null&&Qy(e,"checked",t,!1)}function Xg(e,t){MN(e,t);var s=fl(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qg(e,t.type,s):t.hasOwnProperty("defaultValue")&&Qg(e,t.type,fl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I2(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Qg(e,t,s){(t!=="number"||Tm(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Uu=Array.isArray;function xd(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+fl(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Zg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Vs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R2(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Ge(92));if(Uu(s)){if(1<s.length)throw Error(Ge(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:fl(s)}}function IN(e,t){var s=fl(t.value),n=fl(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function D2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ex(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Df,DN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Df=Df||document.createElement("div"),Df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dh(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(e){$C.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hu[t]=Hu[e]})});function ON(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Hu.hasOwnProperty(e)&&Hu[e]?(""+t).trim():t+"px"}function FN(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=ON(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var VC=Vs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tx(e,t){if(t){if(VC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function sx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rx=null;function sv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nx=null,yd=null,vd=null;function O2(e){if(e=Gh(e)){if(typeof nx!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=Ap(t),nx(e.stateNode,e.type,t))}}function BN(e){yd?vd?vd.push(e):vd=[e]:yd=e}function UN(){if(yd){var e=yd,t=vd;if(vd=yd=null,O2(e),t)for(e=0;e<t.length;e++)O2(t[e])}}function zN(e,t){return e(t)}function $N(){}var L0=!1;function VN(e,t,s){if(L0)return e(t,s);L0=!0;try{return zN(e,t,s)}finally{L0=!1,(yd!==null||vd!==null)&&($N(),UN())}}function uh(e,t){var s=e.stateNode;if(s===null)return null;var n=Ap(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Ge(231,t,typeof s));return s}var ix=!1;if(io)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){ix=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{ix=!1}function qC(e,t,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Wu=!1,Lm=null,Mm=!1,ax=null,HC={onError:function(e){Wu=!0,Lm=e}};function WC(e,t,s,n,i,a,o,l,c){Wu=!1,Lm=null,qC.apply(HC,arguments)}function GC(e,t,s,n,i,a,o,l,c){if(WC.apply(this,arguments),Wu){if(Wu){var d=Lm;Wu=!1,Lm=null}else throw Error(Ge(198));Mm||(Mm=!0,ax=d)}}function vc(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function qN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F2(e){if(vc(e)!==e)throw Error(Ge(188))}function KC(e){var t=e.alternate;if(!t){if(t=vc(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return F2(i),e;if(a===n)return F2(i),t;a=a.sibling}throw Error(Ge(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(Ge(189))}}if(s.alternate!==n)throw Error(Ge(190))}if(s.tag!==3)throw Error(Ge(188));return s.stateNode.current===s?e:t}function HN(e){return e=KC(e),e!==null?WN(e):null}function WN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WN(e);if(t!==null)return t;e=e.sibling}return null}var GN=ai.unstable_scheduleCallback,B2=ai.unstable_cancelCallback,YC=ai.unstable_shouldYield,JC=ai.unstable_requestPaint,rr=ai.unstable_now,XC=ai.unstable_getCurrentPriorityLevel,rv=ai.unstable_ImmediatePriority,KN=ai.unstable_UserBlockingPriority,Im=ai.unstable_NormalPriority,QC=ai.unstable_LowPriority,YN=ai.unstable_IdlePriority,Sp=null,ka=null;function ZC(e){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Sp,e,void 0,(e.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:s_,e_=Math.log,t_=Math.LN2;function s_(e){return e>>>=0,e===0?32:31-(e_(e)/t_|0)|0}var Of=64,Ff=4194304;function zu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rm(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=zu(l):(a&=o,a!==0&&(n=zu(a)))}else o=s&~i,o!==0?n=zu(o):a!==0&&(n=zu(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-ia(t),i=1<<s,n|=e[s],t&=~i;return n}function r_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n_(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ia(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=r_(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ox(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JN(){var e=Of;return Of<<=1,!(Of&4194240)&&(Of=64),e}function M0(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Hh(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ia(t),e[t]=s}function i_(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-ia(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function nv(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ia(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var ls=0;function XN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QN,iv,ZN,ej,tj,lx=!1,Bf=[],nl=null,il=null,al=null,hh=new Map,fh=new Map,Yo=[],a_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U2(e,t){switch(e){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":hh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function Cu(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Gh(t),t!==null&&iv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function o_(e,t,s,n,i){switch(t){case"focusin":return nl=Cu(nl,e,t,s,n,i),!0;case"dragenter":return il=Cu(il,e,t,s,n,i),!0;case"mouseover":return al=Cu(al,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return hh.set(a,Cu(hh.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,fh.set(a,Cu(fh.get(a)||null,e,t,s,n,i)),!0}return!1}function sj(e){var t=Zl(e.target);if(t!==null){var s=vc(t);if(s!==null){if(t=s.tag,t===13){if(t=qN(s),t!==null){e.blockedOn=t,tj(e.priority,function(){ZN(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=cx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);rx=n,s.target.dispatchEvent(n),rx=null}else return t=Gh(s),t!==null&&iv(t),e.blockedOn=s,!1;t.shift()}return!0}function z2(e,t,s){hm(e)&&s.delete(t)}function l_(){lx=!1,nl!==null&&hm(nl)&&(nl=null),il!==null&&hm(il)&&(il=null),al!==null&&hm(al)&&(al=null),hh.forEach(z2),fh.forEach(z2)}function _u(e,t){e.blockedOn===t&&(e.blockedOn=null,lx||(lx=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,l_)))}function mh(e){function t(i){return _u(i,e)}if(0<Bf.length){_u(Bf[0],e);for(var s=1;s<Bf.length;s++){var n=Bf[s];n.blockedOn===e&&(n.blockedOn=null)}}for(nl!==null&&_u(nl,e),il!==null&&_u(il,e),al!==null&&_u(al,e),hh.forEach(t),fh.forEach(t),s=0;s<Yo.length;s++)n=Yo[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yo.length&&(s=Yo[0],s.blockedOn===null);)sj(s),s.blockedOn===null&&Yo.shift()}var bd=po.ReactCurrentBatchConfig,Dm=!0;function c_(e,t,s,n){var i=ls,a=bd.transition;bd.transition=null;try{ls=1,av(e,t,s,n)}finally{ls=i,bd.transition=a}}function d_(e,t,s,n){var i=ls,a=bd.transition;bd.transition=null;try{ls=4,av(e,t,s,n)}finally{ls=i,bd.transition=a}}function av(e,t,s,n){if(Dm){var i=cx(e,t,s,n);if(i===null)V0(e,t,n,Om,s),U2(e,n);else if(o_(i,e,t,s,n))n.stopPropagation();else if(U2(e,n),t&4&&-1<a_.indexOf(e)){for(;i!==null;){var a=Gh(i);if(a!==null&&QN(a),a=cx(e,t,s,n),a===null&&V0(e,t,n,Om,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else V0(e,t,n,null,s)}}var Om=null;function cx(e,t,s,n){if(Om=null,e=sv(n),e=Zl(e),e!==null)if(t=vc(e),t===null)e=null;else if(s=t.tag,s===13){if(e=qN(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Om=e,null}function rj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XC()){case rv:return 1;case KN:return 4;case Im:case QC:return 16;case YN:return 536870912;default:return 16}default:return 16}}var Zo=null,ov=null,fm=null;function nj(){if(fm)return fm;var e,t=ov,s=t.length,n,i="value"in Zo?Zo.value:Zo.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[a-n];n++);return fm=i.slice(e,1<n?1-n:void 0)}function mm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uf(){return!0}function $2(){return!1}function li(e){function t(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uf:$2,this.isPropagationStopped=$2,this}return Vs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),t}var Yd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=li(Yd),Wh=Vs({},Yd,{view:0,detail:0}),u_=li(Wh),I0,R0,Au,kp=Vs({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Au&&(Au&&e.type==="mousemove"?(I0=e.screenX-Au.screenX,R0=e.screenY-Au.screenY):R0=I0=0,Au=e),I0)},movementY:function(e){return"movementY"in e?e.movementY:R0}}),V2=li(kp),h_=Vs({},kp,{dataTransfer:0}),f_=li(h_),m_=Vs({},Wh,{relatedTarget:0}),D0=li(m_),p_=Vs({},Yd,{animationName:0,elapsedTime:0,pseudoElement:0}),g_=li(p_),x_=Vs({},Yd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y_=li(x_),v_=Vs({},Yd,{data:0}),q2=li(v_),b_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N_[e])?!!t[e]:!1}function cv(){return j_}var S_=Vs({},Wh,{key:function(e){if(e.key){var t=b_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(e){return e.type==="keypress"?mm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k_=li(S_),C_=Vs({},kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H2=li(C_),__=Vs({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),A_=li(__),E_=Vs({},Yd,{propertyName:0,elapsedTime:0,pseudoElement:0}),P_=li(E_),T_=Vs({},kp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=li(T_),M_=[9,13,27,32],dv=io&&"CompositionEvent"in window,Gu=null;io&&"documentMode"in document&&(Gu=document.documentMode);var I_=io&&"TextEvent"in window&&!Gu,ij=io&&(!dv||Gu&&8<Gu&&11>=Gu),W2=" ",G2=!1;function aj(e,t){switch(e){case"keyup":return M_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zc=!1;function R_(e,t){switch(e){case"compositionend":return oj(t);case"keypress":return t.which!==32?null:(G2=!0,W2);case"textInput":return e=t.data,e===W2&&G2?null:e;default:return null}}function D_(e,t){if(Zc)return e==="compositionend"||!dv&&aj(e,t)?(e=nj(),fm=ov=Zo=null,Zc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ij&&t.locale!=="ko"?null:t.data;default:return null}}var O_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O_[e.type]:t==="textarea"}function lj(e,t,s,n){BN(n),t=Fm(t,"onChange"),0<t.length&&(s=new lv("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ku=null,ph=null;function F_(e){vj(e,0)}function Cp(e){var t=sd(e);if(LN(t))return e}function B_(e,t){if(e==="change")return t}var cj=!1;if(io){var O0;if(io){var F0="oninput"in document;if(!F0){var Y2=document.createElement("div");Y2.setAttribute("oninput","return;"),F0=typeof Y2.oninput=="function"}O0=F0}else O0=!1;cj=O0&&(!document.documentMode||9<document.documentMode)}function J2(){Ku&&(Ku.detachEvent("onpropertychange",dj),ph=Ku=null)}function dj(e){if(e.propertyName==="value"&&Cp(ph)){var t=[];lj(t,ph,e,sv(e)),VN(F_,t)}}function U_(e,t,s){e==="focusin"?(J2(),Ku=t,ph=s,Ku.attachEvent("onpropertychange",dj)):e==="focusout"&&J2()}function z_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cp(ph)}function $_(e,t){if(e==="click")return Cp(t)}function V_(e,t){if(e==="input"||e==="change")return Cp(t)}function q_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oa=typeof Object.is=="function"?Object.is:q_;function gh(e,t){if(oa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Hg.call(t,i)||!oa(e[i],t[i]))return!1}return!0}function X2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Q2(e,t){var s=X2(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=X2(s)}}function uj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hj(){for(var e=window,t=Tm();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Tm(e.document)}return t}function uv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H_(e){var t=hj(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&uj(s.ownerDocument.documentElement,s)){if(n!==null&&uv(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Q2(s,a);var o=Q2(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W_=io&&"documentMode"in document&&11>=document.documentMode,ed=null,dx=null,Yu=null,ux=!1;function Z2(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ux||ed==null||ed!==Tm(n)||(n=ed,"selectionStart"in n&&uv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yu&&gh(Yu,n)||(Yu=n,n=Fm(dx,"onSelect"),0<n.length&&(t=new lv("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ed)))}function zf(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var td={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionend:zf("Transition","TransitionEnd")},B0={},fj={};io&&(fj=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function _p(e){if(B0[e])return B0[e];if(!td[e])return e;var t=td[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in fj)return B0[e]=t[s];return e}var mj=_p("animationend"),pj=_p("animationiteration"),gj=_p("animationstart"),xj=_p("transitionend"),yj=new Map,eb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(e,t){yj.set(e,t),yc(t,[e])}for(var U0=0;U0<eb.length;U0++){var z0=eb[U0],G_=z0.toLowerCase(),K_=z0[0].toUpperCase()+z0.slice(1);Nl(G_,"on"+K_)}Nl(mj,"onAnimationEnd");Nl(pj,"onAnimationIteration");Nl(gj,"onAnimationStart");Nl("dblclick","onDoubleClick");Nl("focusin","onFocus");Nl("focusout","onBlur");Nl(xj,"onTransitionEnd");Md("onMouseEnter",["mouseout","mouseover"]);Md("onMouseLeave",["mouseout","mouseover"]);Md("onPointerEnter",["pointerout","pointerover"]);Md("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function tb(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,GC(n,t,void 0,e),e.currentTarget=null}function vj(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;tb(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;tb(i,l,d),a=c}}}if(Mm)throw e=ax,Mm=!1,ax=null,e}function Ss(e,t){var s=t[gx];s===void 0&&(s=t[gx]=new Set);var n=e+"__bubble";s.has(n)||(bj(t,e,2,!1),s.add(n))}function $0(e,t,s){var n=0;t&&(n|=4),bj(s,e,n,t)}var $f="_reactListening"+Math.random().toString(36).slice(2);function xh(e){if(!e[$f]){e[$f]=!0,_N.forEach(function(s){s!=="selectionchange"&&(Y_.has(s)||$0(s,!1,e),$0(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$f]||(t[$f]=!0,$0("selectionchange",!1,t))}}function bj(e,t,s,n){switch(rj(t)){case 1:var i=c_;break;case 4:i=d_;break;default:i=av}s=i.bind(null,t,s,e),i=void 0,!ix||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function V0(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Zl(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}VN(function(){var d=a,u=sv(s),h=[];e:{var m=yj.get(e);if(m!==void 0){var p=lv,x=e;switch(e){case"keypress":if(mm(s)===0)break e;case"keydown":case"keyup":p=k_;break;case"focusin":x="focus",p=D0;break;case"focusout":x="blur",p=D0;break;case"beforeblur":case"afterblur":p=D0;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=V2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=f_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A_;break;case mj:case pj:case gj:p=g_;break;case xj:p=P_;break;case"scroll":p=u_;break;case"wheel":p=L_;break;case"copy":case"cut":case"paste":p=y_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=H2}var j=(t&4)!==0,N=!j&&e==="scroll",y=j?m!==null?m+"Capture":null:m;j=[];for(var v=d,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,y!==null&&(k=uh(v,y),k!=null&&j.push(yh(v,k,b)))),N)break;v=v.return}0<j.length&&(m=new p(m,x,null,s,u),h.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&s!==rx&&(x=s.relatedTarget||s.fromElement)&&(Zl(x)||x[ao]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=s.relatedTarget||s.toElement,p=d,x=x?Zl(x):null,x!==null&&(N=vc(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(j=V2,k="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(j=H2,k="onPointerLeave",y="onPointerEnter",v="pointer"),N=p==null?m:sd(p),b=x==null?m:sd(x),m=new j(k,v+"leave",p,s,u),m.target=N,m.relatedTarget=b,k=null,Zl(u)===d&&(j=new j(y,v+"enter",x,s,u),j.target=b,j.relatedTarget=N,k=j),N=k,p&&x)t:{for(j=p,y=x,v=0,b=j;b;b=Bc(b))v++;for(b=0,k=y;k;k=Bc(k))b++;for(;0<v-b;)j=Bc(j),v--;for(;0<b-v;)y=Bc(y),b--;for(;v--;){if(j===y||y!==null&&j===y.alternate)break t;j=Bc(j),y=Bc(y)}j=null}else j=null;p!==null&&sb(h,m,p,j,!1),x!==null&&N!==null&&sb(h,N,x,j,!0)}}e:{if(m=d?sd(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=B_;else if(K2(m))if(cj)_=V_;else{_=z_;var C=U_}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=$_);if(_&&(_=_(e,d))){lj(h,_,s,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Qg(m,"number",m.value)}switch(C=d?sd(d):window,e){case"focusin":(K2(C)||C.contentEditable==="true")&&(ed=C,dx=d,Yu=null);break;case"focusout":Yu=dx=ed=null;break;case"mousedown":ux=!0;break;case"contextmenu":case"mouseup":case"dragend":ux=!1,Z2(h,s,u);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":Z2(h,s,u)}var L;if(dv)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Zc?aj(e,s)&&(T="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(T="onCompositionStart");T&&(ij&&s.locale!=="ko"&&(Zc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zc&&(L=nj()):(Zo=u,ov="value"in Zo?Zo.value:Zo.textContent,Zc=!0)),C=Fm(d,T),0<C.length&&(T=new q2(T,e,null,s,u),h.push({event:T,listeners:C}),L?T.data=L:(L=oj(s),L!==null&&(T.data=L)))),(L=I_?R_(e,s):D_(e,s))&&(d=Fm(d,"onBeforeInput"),0<d.length&&(u=new q2("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=L))}vj(h,t)})}function yh(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Fm(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=uh(e,s),a!=null&&n.unshift(yh(e,a,i)),a=uh(e,t),a!=null&&n.push(yh(e,a,i))),e=e.return}return n}function Bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sb(e,t,s,n,i){for(var a=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=uh(s,a),c!=null&&o.unshift(yh(s,c,l))):i||(c=uh(s,a),c!=null&&o.push(yh(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var J_=/\r\n?/g,X_=/\u0000|\uFFFD/g;function rb(e){return(typeof e=="string"?e:""+e).replace(J_,`
`).replace(X_,"")}function Vf(e,t,s){if(t=rb(t),rb(e)!==t&&s)throw Error(Ge(425))}function Bm(){}var hx=null,fx=null;function mx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var px=typeof setTimeout=="function"?setTimeout:void 0,Q_=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(e){return nb.resolve(null).then(e).catch(e8)}:px;function e8(e){setTimeout(function(){throw e})}function q0(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),mh(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);mh(t)}function ol(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ib(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Jd=Math.random().toString(36).slice(2),ja="__reactFiber$"+Jd,vh="__reactProps$"+Jd,ao="__reactContainer$"+Jd,gx="__reactEvents$"+Jd,t8="__reactListeners$"+Jd,s8="__reactHandles$"+Jd;function Zl(e){var t=e[ja];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ao]||s[ja]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ib(e);e!==null;){if(s=e[ja])return s;e=ib(e)}return t}e=s,s=e.parentNode}return null}function Gh(e){return e=e[ja]||e[ao],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function Ap(e){return e[vh]||null}var xx=[],rd=-1;function jl(e){return{current:e}}function _s(e){0>rd||(e.current=xx[rd],xx[rd]=null,rd--)}function ws(e,t){rd++,xx[rd]=e.current,e.current=t}var ml={},on=jl(ml),zn=jl(!1),dc=ml;function Id(e,t){var s=e.type.contextTypes;if(!s)return ml;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $n(e){return e=e.childContextTypes,e!=null}function Um(){_s(zn),_s(on)}function ab(e,t,s){if(on.current!==ml)throw Error(Ge(168));ws(on,t),ws(zn,s)}function wj(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ge(108,UC(e)||"Unknown",i));return Vs({},s,n)}function zm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ml,dc=on.current,ws(on,e),ws(zn,zn.current),!0}function ob(e,t,s){var n=e.stateNode;if(!n)throw Error(Ge(169));s?(e=wj(e,t,dc),n.__reactInternalMemoizedMergedChildContext=e,_s(zn),_s(on),ws(on,e)):_s(zn),ws(zn,s)}var Za=null,Ep=!1,H0=!1;function Nj(e){Za===null?Za=[e]:Za.push(e)}function r8(e){Ep=!0,Nj(e)}function Sl(){if(!H0&&Za!==null){H0=!0;var e=0,t=ls;try{var s=Za;for(ls=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Za=null,Ep=!1}catch(i){throw Za!==null&&(Za=Za.slice(e+1)),GN(rv,Sl),i}finally{ls=t,H0=!1}}return null}var nd=[],id=0,$m=null,Vm=0,ki=[],Ci=0,uc=null,eo=1,to="";function Wl(e,t){nd[id++]=Vm,nd[id++]=$m,$m=e,Vm=t}function jj(e,t,s){ki[Ci++]=eo,ki[Ci++]=to,ki[Ci++]=uc,uc=e;var n=eo;e=to;var i=32-ia(n)-1;n&=~(1<<i),s+=1;var a=32-ia(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,eo=1<<32-ia(t)+i|s<<i|n,to=a+e}else eo=1<<a|s<<i|n,to=e}function hv(e){e.return!==null&&(Wl(e,1),jj(e,1,0))}function fv(e){for(;e===$m;)$m=nd[--id],nd[id]=null,Vm=nd[--id],nd[id]=null;for(;e===uc;)uc=ki[--Ci],ki[Ci]=null,to=ki[--Ci],ki[Ci]=null,eo=ki[--Ci],ki[Ci]=null}var ii=null,ri=null,Ts=!1,ra=null;function Sj(e,t){var s=Ai(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function lb(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ii=e,ri=ol(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ii=e,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=uc!==null?{id:eo,overflow:to}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ai(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ii=e,ri=null,!0):!1;default:return!1}}function yx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vx(e){if(Ts){var t=ri;if(t){var s=t;if(!lb(e,t)){if(yx(e))throw Error(Ge(418));t=ol(s.nextSibling);var n=ii;t&&lb(e,t)?Sj(n,s):(e.flags=e.flags&-4097|2,Ts=!1,ii=e)}}else{if(yx(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,Ts=!1,ii=e}}}function cb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ii=e}function qf(e){if(e!==ii)return!1;if(!Ts)return cb(e),Ts=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mx(e.type,e.memoizedProps)),t&&(t=ri)){if(yx(e))throw kj(),Error(Ge(418));for(;t;)Sj(e,t),t=ol(t.nextSibling)}if(cb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ri=ol(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ri=null}}else ri=ii?ol(e.stateNode.nextSibling):null;return!0}function kj(){for(var e=ri;e;)e=ol(e.nextSibling)}function Rd(){ri=ii=null,Ts=!1}function mv(e){ra===null?ra=[e]:ra.push(e)}var n8=po.ReactCurrentBatchConfig;function Eu(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Ge(309));var n=s.stateNode}if(!n)throw Error(Ge(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ge(284));if(!s._owner)throw Error(Ge(290,e))}return e}function Hf(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function db(e){var t=e._init;return t(e._payload)}function Cj(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function s(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ul(y,v),y.index=0,y.sibling=null,y}function a(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,k){return v===null||v.tag!==6?(v=Q0(b,y.mode,k),v.return=y,v):(v=i(v,b),v.return=y,v)}function c(y,v,b,k){var _=b.type;return _===Qc?u(y,v,b.props.children,k,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wo&&db(_)===v.type)?(k=i(v,b.props),k.ref=Eu(y,v,b),k.return=y,k):(k=wm(b.type,b.key,b.props,null,y.mode,k),k.ref=Eu(y,v,b),k.return=y,k)}function d(y,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Z0(b,y.mode,k),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function u(y,v,b,k,_){return v===null||v.tag!==7?(v=ic(b,y.mode,k,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Q0(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case If:return b=wm(v.type,v.key,v.props,null,y.mode,b),b.ref=Eu(y,null,v),b.return=y,b;case Xc:return v=Z0(v,y.mode,b),v.return=y,v;case Wo:var k=v._init;return h(y,k(v._payload),b)}if(Uu(v)||Su(v))return v=ic(v,y.mode,b,null),v.return=y,v;Hf(y,v)}return null}function m(y,v,b,k){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case If:return b.key===_?c(y,v,b,k):null;case Xc:return b.key===_?d(y,v,b,k):null;case Wo:return _=b._init,m(y,v,_(b._payload),k)}if(Uu(b)||Su(b))return _!==null?null:u(y,v,b,k,null);Hf(y,b)}return null}function p(y,v,b,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(b)||null,l(v,y,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case If:return y=y.get(k.key===null?b:k.key)||null,c(v,y,k,_);case Xc:return y=y.get(k.key===null?b:k.key)||null,d(v,y,k,_);case Wo:var C=k._init;return p(y,v,b,C(k._payload),_)}if(Uu(k)||Su(k))return y=y.get(b)||null,u(v,y,k,_,null);Hf(v,k)}return null}function x(y,v,b,k){for(var _=null,C=null,L=v,T=v=0,q=null;L!==null&&T<b.length;T++){L.index>T?(q=L,L=null):q=L.sibling;var G=m(y,L,b[T],k);if(G===null){L===null&&(L=q);break}e&&L&&G.alternate===null&&t(y,L),v=a(G,v,T),C===null?_=G:C.sibling=G,C=G,L=q}if(T===b.length)return s(y,L),Ts&&Wl(y,T),_;if(L===null){for(;T<b.length;T++)L=h(y,b[T],k),L!==null&&(v=a(L,v,T),C===null?_=L:C.sibling=L,C=L);return Ts&&Wl(y,T),_}for(L=n(y,L);T<b.length;T++)q=p(L,y,T,b[T],k),q!==null&&(e&&q.alternate!==null&&L.delete(q.key===null?T:q.key),v=a(q,v,T),C===null?_=q:C.sibling=q,C=q);return e&&L.forEach(function(M){return t(y,M)}),Ts&&Wl(y,T),_}function j(y,v,b,k){var _=Su(b);if(typeof _!="function")throw Error(Ge(150));if(b=_.call(b),b==null)throw Error(Ge(151));for(var C=_=null,L=v,T=v=0,q=null,G=b.next();L!==null&&!G.done;T++,G=b.next()){L.index>T?(q=L,L=null):q=L.sibling;var M=m(y,L,G.value,k);if(M===null){L===null&&(L=q);break}e&&L&&M.alternate===null&&t(y,L),v=a(M,v,T),C===null?_=M:C.sibling=M,C=M,L=q}if(G.done)return s(y,L),Ts&&Wl(y,T),_;if(L===null){for(;!G.done;T++,G=b.next())G=h(y,G.value,k),G!==null&&(v=a(G,v,T),C===null?_=G:C.sibling=G,C=G);return Ts&&Wl(y,T),_}for(L=n(y,L);!G.done;T++,G=b.next())G=p(L,y,T,G.value,k),G!==null&&(e&&G.alternate!==null&&L.delete(G.key===null?T:G.key),v=a(G,v,T),C===null?_=G:C.sibling=G,C=G);return e&&L.forEach(function(O){return t(y,O)}),Ts&&Wl(y,T),_}function N(y,v,b,k){if(typeof b=="object"&&b!==null&&b.type===Qc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case If:e:{for(var _=b.key,C=v;C!==null;){if(C.key===_){if(_=b.type,_===Qc){if(C.tag===7){s(y,C.sibling),v=i(C,b.props.children),v.return=y,y=v;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Wo&&db(_)===C.type){s(y,C.sibling),v=i(C,b.props),v.ref=Eu(y,C,b),v.return=y,y=v;break e}s(y,C);break}else t(y,C);C=C.sibling}b.type===Qc?(v=ic(b.props.children,y.mode,k,b.key),v.return=y,y=v):(k=wm(b.type,b.key,b.props,null,y.mode,k),k.ref=Eu(y,v,b),k.return=y,y=k)}return o(y);case Xc:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){s(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{s(y,v);break}else t(y,v);v=v.sibling}v=Z0(b,y.mode,k),v.return=y,y=v}return o(y);case Wo:return C=b._init,N(y,v,C(b._payload),k)}if(Uu(b))return x(y,v,b,k);if(Su(b))return j(y,v,b,k);Hf(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(s(y,v.sibling),v=i(v,b),v.return=y,y=v):(s(y,v),v=Q0(b,y.mode,k),v.return=y,y=v),o(y)):s(y,v)}return N}var Dd=Cj(!0),_j=Cj(!1),qm=jl(null),Hm=null,ad=null,pv=null;function gv(){pv=ad=Hm=null}function xv(e){var t=qm.current;_s(qm),e._currentValue=t}function bx(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function wd(e,t){Hm=e,pv=ad=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(pv!==e)if(e={context:e,memoizedValue:t,next:null},ad===null){if(Hm===null)throw Error(Ge(308));ad=e,Hm.dependencies={lanes:0,firstContext:e}}else ad=ad.next=e;return t}var ec=null;function yv(e){ec===null?ec=[e]:ec.push(e)}function Aj(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,yv(t)):(s.next=i.next,i.next=s),t.interleaved=s,oo(e,n)}function oo(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Go=!1;function vv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ej(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ll(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,oo(e,s)}return i=n.interleaved,i===null?(t.next=t,yv(n)):(t.next=i.next,i.next=t),n.interleaved=t,oo(e,s)}function pm(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,nv(e,s)}}function ub(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Wm(e,t,s,n){var i=e.updateQueue;Go=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,j=l;switch(m=t,p=s,j.tag){case 1:if(x=j.payload,typeof x=="function"){h=x.call(p,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=j.payload,m=typeof x=="function"?x.call(p,h,m):x,m==null)break e;h=Vs({},h,m);break e;case 2:Go=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fc|=o,e.lanes=o,e.memoizedState=h}}function hb(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(Ge(191,i));i.call(n)}}}var Kh={},Ca=jl(Kh),bh=jl(Kh),wh=jl(Kh);function tc(e){if(e===Kh)throw Error(Ge(174));return e}function bv(e,t){switch(ws(wh,t),ws(bh,e),ws(Ca,Kh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ex(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ex(t,e)}_s(Ca),ws(Ca,t)}function Od(){_s(Ca),_s(bh),_s(wh)}function Pj(e){tc(wh.current);var t=tc(Ca.current),s=ex(t,e.type);t!==s&&(ws(bh,e),ws(Ca,s))}function wv(e){bh.current===e&&(_s(Ca),_s(bh))}var Rs=jl(0);function Gm(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var W0=[];function Nv(){for(var e=0;e<W0.length;e++)W0[e]._workInProgressVersionPrimary=null;W0.length=0}var gm=po.ReactCurrentDispatcher,G0=po.ReactCurrentBatchConfig,hc=0,$s=null,wr=null,Tr=null,Km=!1,Ju=!1,Nh=0,i8=0;function Jr(){throw Error(Ge(321))}function jv(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!oa(e[s],t[s]))return!1;return!0}function Sv(e,t,s,n,i,a){if(hc=a,$s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gm.current=e===null||e.memoizedState===null?c8:d8,e=s(n,i),Ju){a=0;do{if(Ju=!1,Nh=0,25<=a)throw Error(Ge(301));a+=1,Tr=wr=null,t.updateQueue=null,gm.current=u8,e=s(n,i)}while(Ju)}if(gm.current=Ym,t=wr!==null&&wr.next!==null,hc=0,Tr=wr=$s=null,Km=!1,t)throw Error(Ge(300));return e}function kv(){var e=Nh!==0;return Nh=0,e}function Na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?$s.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function Mi(){if(wr===null){var e=$s.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Tr===null?$s.memoizedState:Tr.next;if(t!==null)Tr=t,wr=e;else{if(e===null)throw Error(Ge(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Tr===null?$s.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function jh(e,t){return typeof t=="function"?t(e):t}function K0(e){var t=Mi(),s=t.queue;if(s===null)throw Error(Ge(311));s.lastRenderedReducer=e;var n=wr,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((hc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,$s.lanes|=u,fc|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,oa(n,t.memoizedState)||(Bn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,$s.lanes|=a,fc|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Y0(e){var t=Mi(),s=t.queue;if(s===null)throw Error(Ge(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);oa(a,t.memoizedState)||(Bn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Tj(){}function Lj(e,t){var s=$s,n=Mi(),i=t(),a=!oa(n.memoizedState,i);if(a&&(n.memoizedState=i,Bn=!0),n=n.queue,Cv(Rj.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||Tr!==null&&Tr.memoizedState.tag&1){if(s.flags|=2048,Sh(9,Ij.bind(null,s,n,i,t),void 0,null),Mr===null)throw Error(Ge(349));hc&30||Mj(s,t,i)}return i}function Mj(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=$s.updateQueue,t===null?(t={lastEffect:null,stores:null},$s.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Ij(e,t,s,n){t.value=s,t.getSnapshot=n,Dj(t)&&Oj(e)}function Rj(e,t,s){return s(function(){Dj(t)&&Oj(e)})}function Dj(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!oa(e,s)}catch{return!0}}function Oj(e){var t=oo(e,1);t!==null&&aa(t,e,1,-1)}function fb(e){var t=Na();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:e},t.queue=e,e=e.dispatch=l8.bind(null,$s,e),[t.memoizedState,e]}function Sh(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=$s.updateQueue,t===null?(t={lastEffect:null,stores:null},$s.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Fj(){return Mi().memoizedState}function xm(e,t,s,n){var i=Na();$s.flags|=e,i.memoizedState=Sh(1|t,s,void 0,n===void 0?null:n)}function Pp(e,t,s,n){var i=Mi();n=n===void 0?null:n;var a=void 0;if(wr!==null){var o=wr.memoizedState;if(a=o.destroy,n!==null&&jv(n,o.deps)){i.memoizedState=Sh(t,s,a,n);return}}$s.flags|=e,i.memoizedState=Sh(1|t,s,a,n)}function mb(e,t){return xm(8390656,8,e,t)}function Cv(e,t){return Pp(2048,8,e,t)}function Bj(e,t){return Pp(4,2,e,t)}function Uj(e,t){return Pp(4,4,e,t)}function zj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $j(e,t,s){return s=s!=null?s.concat([e]):null,Pp(4,4,zj.bind(null,t,e),s)}function _v(){}function Vj(e,t){var s=Mi();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&jv(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function qj(e,t){var s=Mi();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&jv(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Hj(e,t,s){return hc&21?(oa(s,t)||(s=JN(),$s.lanes|=s,fc|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=s)}function a8(e,t){var s=ls;ls=s!==0&&4>s?s:4,e(!0);var n=G0.transition;G0.transition={};try{e(!1),t()}finally{ls=s,G0.transition=n}}function Wj(){return Mi().memoizedState}function o8(e,t,s){var n=dl(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Gj(e))Kj(t,s);else if(s=Aj(e,t,s,n),s!==null){var i=Sn();aa(s,e,n,i),Yj(s,t,n)}}function l8(e,t,s){var n=dl(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gj(e))Kj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,oa(l,o)){var c=t.interleaved;c===null?(i.next=i,yv(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Aj(e,t,i,n),s!==null&&(i=Sn(),aa(s,e,n,i),Yj(s,t,n))}}function Gj(e){var t=e.alternate;return e===$s||t!==null&&t===$s}function Kj(e,t){Ju=Km=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Yj(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,nv(e,s)}}var Ym={readContext:Li,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},c8={readContext:Li,useCallback:function(e,t){return Na().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:mb,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,xm(4194308,4,zj.bind(null,t,e),s)},useLayoutEffect:function(e,t){return xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return xm(4,2,e,t)},useMemo:function(e,t){var s=Na();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Na();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o8.bind(null,$s,e),[n.memoizedState,e]},useRef:function(e){var t=Na();return e={current:e},t.memoizedState=e},useState:fb,useDebugValue:_v,useDeferredValue:function(e){return Na().memoizedState=e},useTransition:function(){var e=fb(!1),t=e[0];return e=a8.bind(null,e[1]),Na().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=$s,i=Na();if(Ts){if(s===void 0)throw Error(Ge(407));s=s()}else{if(s=t(),Mr===null)throw Error(Ge(349));hc&30||Mj(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,mb(Rj.bind(null,n,a,e),[e]),n.flags|=2048,Sh(9,Ij.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Na(),t=Mr.identifierPrefix;if(Ts){var s=to,n=eo;s=(n&~(1<<32-ia(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Nh++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=i8++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d8={readContext:Li,useCallback:Vj,useContext:Li,useEffect:Cv,useImperativeHandle:$j,useInsertionEffect:Bj,useLayoutEffect:Uj,useMemo:qj,useReducer:K0,useRef:Fj,useState:function(){return K0(jh)},useDebugValue:_v,useDeferredValue:function(e){var t=Mi();return Hj(t,wr.memoizedState,e)},useTransition:function(){var e=K0(jh)[0],t=Mi().memoizedState;return[e,t]},useMutableSource:Tj,useSyncExternalStore:Lj,useId:Wj,unstable_isNewReconciler:!1},u8={readContext:Li,useCallback:Vj,useContext:Li,useEffect:Cv,useImperativeHandle:$j,useInsertionEffect:Bj,useLayoutEffect:Uj,useMemo:qj,useReducer:Y0,useRef:Fj,useState:function(){return Y0(jh)},useDebugValue:_v,useDeferredValue:function(e){var t=Mi();return wr===null?t.memoizedState=e:Hj(t,wr.memoizedState,e)},useTransition:function(){var e=Y0(jh)[0],t=Mi().memoizedState;return[e,t]},useMutableSource:Tj,useSyncExternalStore:Lj,useId:Wj,unstable_isNewReconciler:!1};function Zi(e,t){if(e&&e.defaultProps){t=Vs({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function wx(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Vs({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tp={isMounted:function(e){return(e=e._reactInternals)?vc(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Sn(),i=dl(e),a=so(n,i);a.payload=t,s!=null&&(a.callback=s),t=ll(e,a,i),t!==null&&(aa(t,e,i,n),pm(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Sn(),i=dl(e),a=so(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=ll(e,a,i),t!==null&&(aa(t,e,i,n),pm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Sn(),n=dl(e),i=so(s,n);i.tag=2,t!=null&&(i.callback=t),t=ll(e,i,n),t!==null&&(aa(t,e,n,s),pm(t,e,n))}};function pb(e,t,s,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!gh(s,n)||!gh(i,a):!0}function Jj(e,t,s){var n=!1,i=ml,a=t.contextType;return typeof a=="object"&&a!==null?a=Li(a):(i=$n(t)?dc:on.current,n=t.contextTypes,a=(n=n!=null)?Id(e,i):ml),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function gb(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Tp.enqueueReplaceState(t,t.state,null)}function Nx(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},vv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Li(a):(a=$n(t)?dc:on.current,i.context=Id(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wx(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Tp.enqueueReplaceState(i,i.state,null),Wm(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fd(e,t){try{var s="",n=t;do s+=BC(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function J0(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function jx(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var h8=typeof WeakMap=="function"?WeakMap:Map;function Xj(e,t,s){s=so(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Xm||(Xm=!0,Mx=n),jx(e,t)},s}function Qj(e,t,s){s=so(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){jx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){jx(e,t),typeof n!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function xb(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new h8;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=C8.bind(null,e,t,s),t.then(e,e))}function yb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vb(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=so(-1,1),t.tag=2,ll(s,t,1))),s.lanes|=1),e)}var f8=po.ReactCurrentOwner,Bn=!1;function bn(e,t,s,n){t.child=e===null?_j(t,null,s,n):Dd(t,e.child,s,n)}function bb(e,t,s,n,i){s=s.render;var a=t.ref;return wd(t,i),n=Sv(e,t,s,n,a,i),s=kv(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lo(e,t,i)):(Ts&&s&&hv(t),t.flags|=1,bn(e,t,n,i),t.child)}function wb(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Rv(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,Zj(e,t,a,n,i)):(e=wm(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:gh,s(o,n)&&e.ref===t.ref)return lo(e,t,i)}return t.flags|=1,e=ul(a,n),e.ref=t.ref,e.return=t,t.child=e}function Zj(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(gh(a,n)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,lo(e,t,i)}return Sx(e,t,s,n,i)}function e4(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ws(ld,si),si|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ws(ld,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,ws(ld,si),si|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,ws(ld,si),si|=n;return bn(e,t,i,s),t.child}function t4(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Sx(e,t,s,n,i){var a=$n(s)?dc:on.current;return a=Id(t,a),wd(t,i),s=Sv(e,t,s,n,a,i),n=kv(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lo(e,t,i)):(Ts&&n&&hv(t),t.flags|=1,bn(e,t,s,i),t.child)}function Nb(e,t,s,n,i){if($n(s)){var a=!0;zm(t)}else a=!1;if(wd(t,i),t.stateNode===null)ym(e,t),Jj(t,s,n),Nx(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Li(d):(d=$n(s)?dc:on.current,d=Id(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&gb(t,o,n,d),Go=!1;var m=t.memoizedState;o.state=m,Wm(t,n,o,i),c=t.memoizedState,l!==n||m!==c||zn.current||Go?(typeof u=="function"&&(wx(t,s,u,n),c=t.memoizedState),(l=Go||pb(t,s,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ej(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Zi(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Li(c):(c=$n(s)?dc:on.current,c=Id(t,c));var p=s.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&gb(t,o,n,c),Go=!1,m=t.memoizedState,o.state=m,Wm(t,n,o,i);var x=t.memoizedState;l!==h||m!==x||zn.current||Go?(typeof p=="function"&&(wx(t,s,p,n),x=t.memoizedState),(d=Go||pb(t,s,d,n,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return kx(e,t,s,n,a,i)}function kx(e,t,s,n,i,a){t4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&ob(t,s,!1),lo(e,t,a);n=t.stateNode,f8.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Dd(t,e.child,null,a),t.child=Dd(t,null,l,a)):bn(e,t,l,a),t.memoizedState=n.state,i&&ob(t,s,!0),t.child}function s4(e){var t=e.stateNode;t.pendingContext?ab(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ab(e,t.context,!1),bv(e,t.containerInfo)}function jb(e,t,s,n,i){return Rd(),mv(i),t.flags|=256,bn(e,t,s,n),t.child}var Cx={dehydrated:null,treeContext:null,retryLane:0};function _x(e){return{baseLanes:e,cachePool:null,transitions:null}}function r4(e,t,s){var n=t.pendingProps,i=Rs.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ws(Rs,i&1),e===null)return vx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ip(o,n,0,null),e=ic(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_x(s),t.memoizedState=Cx,e):Av(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return m8(e,t,o,n,l,i,s);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ul(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ul(l,a):(a=ic(a,o,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?_x(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=Cx,n}return a=e.child,e=a.sibling,n=ul(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Av(e,t){return t=Ip({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wf(e,t,s,n){return n!==null&&mv(n),Dd(t,e.child,null,s),e=Av(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m8(e,t,s,n,i,a,o){if(s)return t.flags&256?(t.flags&=-257,n=J0(Error(Ge(422))),Wf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ip({mode:"visible",children:n.children},i,0,null),a=ic(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Dd(t,e.child,null,o),t.child.memoizedState=_x(o),t.memoizedState=Cx,a);if(!(t.mode&1))return Wf(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Ge(419)),n=J0(a,n,void 0),Wf(e,t,o,n)}if(l=(o&e.childLanes)!==0,Bn||l){if(n=Mr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oo(e,i),aa(n,e,i,-1))}return Iv(),n=J0(Error(Ge(421))),Wf(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_8.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ri=ol(i.nextSibling),ii=t,Ts=!0,ra=null,e!==null&&(ki[Ci++]=eo,ki[Ci++]=to,ki[Ci++]=uc,eo=e.id,to=e.overflow,uc=t),t=Av(t,n.children),t.flags|=4096,t)}function Sb(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bx(e.return,t,s)}function X0(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function n4(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(bn(e,t,n.children,s),n=Rs.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sb(e,s,t);else if(e.tag===19)Sb(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ws(Rs,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Gm(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),X0(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gm(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}X0(t,!0,s,null,a);break;case"together":X0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ym(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lo(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,s=ul(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ul(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function p8(e,t,s){switch(t.tag){case 3:s4(t),Rd();break;case 5:Pj(t);break;case 1:$n(t.type)&&zm(t);break;case 4:bv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ws(qm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ws(Rs,Rs.current&1),t.flags|=128,null):s&t.child.childLanes?r4(e,t,s):(ws(Rs,Rs.current&1),e=lo(e,t,s),e!==null?e.sibling:null);ws(Rs,Rs.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return n4(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ws(Rs,Rs.current),n)break;return null;case 22:case 23:return t.lanes=0,e4(e,t,s)}return lo(e,t,s)}var i4,Ax,a4,o4;i4=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ax=function(){};a4=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,tc(Ca.current);var a=null;switch(s){case"input":i=Jg(e,i),n=Jg(e,n),a=[];break;case"select":i=Vs({},i,{value:void 0}),n=Vs({},n,{value:void 0}),a=[];break;case"textarea":i=Zg(e,i),n=Zg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bm)}tx(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ch.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ch.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ss("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};o4=function(e,t,s,n){s!==n&&(t.flags|=4)};function Pu(e,t){if(!Ts)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function g8(e,t,s){var n=t.pendingProps;switch(fv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(t),null;case 1:return $n(t.type)&&Um(),Xr(t),null;case 3:return n=t.stateNode,Od(),_s(zn),_s(on),Nv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ra!==null&&(Dx(ra),ra=null))),Ax(e,t),Xr(t),null;case 5:wv(t);var i=tc(wh.current);if(s=t.type,e!==null&&t.stateNode!=null)a4(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ge(166));return Xr(t),null}if(e=tc(Ca.current),qf(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[ja]=t,n[vh]=a,e=(t.mode&1)!==0,s){case"dialog":Ss("cancel",n),Ss("close",n);break;case"iframe":case"object":case"embed":Ss("load",n);break;case"video":case"audio":for(i=0;i<$u.length;i++)Ss($u[i],n);break;case"source":Ss("error",n);break;case"img":case"image":case"link":Ss("error",n),Ss("load",n);break;case"details":Ss("toggle",n);break;case"input":M2(n,a),Ss("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ss("invalid",n);break;case"textarea":R2(n,a),Ss("invalid",n)}tx(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vf(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vf(n.textContent,l,e),i=["children",""+l]):ch.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ss("scroll",n)}switch(s){case"input":Rf(n),I2(n,a,!0);break;case"textarea":Rf(n),D2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Bm)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RN(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[ja]=t,e[vh]=n,i4(e,t,!1,!1),t.stateNode=e;e:{switch(o=sx(s,n),s){case"dialog":Ss("cancel",e),Ss("close",e),i=n;break;case"iframe":case"object":case"embed":Ss("load",e),i=n;break;case"video":case"audio":for(i=0;i<$u.length;i++)Ss($u[i],e);i=n;break;case"source":Ss("error",e),i=n;break;case"img":case"image":case"link":Ss("error",e),Ss("load",e),i=n;break;case"details":Ss("toggle",e),i=n;break;case"input":M2(e,n),i=Jg(e,n),Ss("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Vs({},n,{value:void 0}),Ss("invalid",e);break;case"textarea":R2(e,n),i=Zg(e,n),Ss("invalid",e);break;default:i=n}tx(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?FN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DN(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&dh(e,c):typeof c=="number"&&dh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ch.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ss("scroll",e):c!=null&&Qy(e,a,c,o))}switch(s){case"input":Rf(e),I2(e,n,!1);break;case"textarea":Rf(e),D2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xd(e,!!n.multiple,a,!1):n.defaultValue!=null&&xd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bm)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xr(t),null;case 6:if(e&&t.stateNode!=null)o4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ge(166));if(s=tc(wh.current),tc(Ca.current),qf(t)){if(n=t.stateNode,s=t.memoizedProps,n[ja]=t,(a=n.nodeValue!==s)&&(e=ii,e!==null))switch(e.tag){case 3:Vf(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vf(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[ja]=t,t.stateNode=n}return Xr(t),null;case 13:if(_s(Rs),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ts&&ri!==null&&t.mode&1&&!(t.flags&128))kj(),Rd(),t.flags|=98560,a=!1;else if(a=qf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ge(317));a[ja]=t}else Rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xr(t),a=!1}else ra!==null&&(Dx(ra),ra=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Rs.current&1?jr===0&&(jr=3):Iv())),t.updateQueue!==null&&(t.flags|=4),Xr(t),null);case 4:return Od(),Ax(e,t),e===null&&xh(t.stateNode.containerInfo),Xr(t),null;case 10:return xv(t.type._context),Xr(t),null;case 17:return $n(t.type)&&Um(),Xr(t),null;case 19:if(_s(Rs),a=t.memoizedState,a===null)return Xr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Pu(a,!1);else{if(jr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gm(e),o!==null){for(t.flags|=128,Pu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ws(Rs,Rs.current&1|2),t.child}e=e.sibling}a.tail!==null&&rr()>Bd&&(t.flags|=128,n=!0,Pu(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gm(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Pu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ts)return Xr(t),null}else 2*rr()-a.renderingStartTime>Bd&&s!==1073741824&&(t.flags|=128,n=!0,Pu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rr(),t.sibling=null,s=Rs.current,ws(Rs,n?s&1|2:s&1),t):(Xr(t),null);case 22:case 23:return Mv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?si&1073741824&&(Xr(t),t.subtreeFlags&6&&(t.flags|=8192)):Xr(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function x8(e,t){switch(fv(t),t.tag){case 1:return $n(t.type)&&Um(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Od(),_s(zn),_s(on),Nv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wv(t),null;case 13:if(_s(Rs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));Rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _s(Rs),null;case 4:return Od(),null;case 10:return xv(t.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Gf=!1,rn=!1,y8=typeof WeakSet=="function"?WeakSet:Set,lt=null;function od(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Js(e,t,n)}else s.current=null}function Ex(e,t,s){try{s()}catch(n){Js(e,t,n)}}var kb=!1;function v8(e,t){if(hx=Dm,e=hj(),uv(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fx={focusedElem:e,selectionRange:s},Dm=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){t=lt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var j=x.memoizedProps,N=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?j:Zi(t.type,j),N);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(k){Js(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}return x=kb,kb=!1,x}function Xu(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ex(t,s,a)}i=i.next}while(i!==n)}}function Lp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Px(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function l4(e){var t=e.alternate;t!==null&&(e.alternate=null,l4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ja],delete t[vh],delete t[gx],delete t[t8],delete t[s8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c4(e){return e.tag===5||e.tag===3||e.tag===4}function Cb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tx(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Bm));else if(n!==4&&(e=e.child,e!==null))for(Tx(e,t,s),e=e.sibling;e!==null;)Tx(e,t,s),e=e.sibling}function Lx(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lx(e,t,s),e=e.sibling;e!==null;)Lx(e,t,s),e=e.sibling}var Ur=null,ta=!1;function Fo(e,t,s){for(s=s.child;s!==null;)d4(e,t,s),s=s.sibling}function d4(e,t,s){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Sp,s)}catch{}switch(s.tag){case 5:rn||od(s,t);case 6:var n=Ur,i=ta;Ur=null,Fo(e,t,s),Ur=n,ta=i,Ur!==null&&(ta?(e=Ur,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ur.removeChild(s.stateNode));break;case 18:Ur!==null&&(ta?(e=Ur,s=s.stateNode,e.nodeType===8?q0(e.parentNode,s):e.nodeType===1&&q0(e,s),mh(e)):q0(Ur,s.stateNode));break;case 4:n=Ur,i=ta,Ur=s.stateNode.containerInfo,ta=!0,Fo(e,t,s),Ur=n,ta=i;break;case 0:case 11:case 14:case 15:if(!rn&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ex(s,t,o),i=i.next}while(i!==n)}Fo(e,t,s);break;case 1:if(!rn&&(od(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Js(s,t,l)}Fo(e,t,s);break;case 21:Fo(e,t,s);break;case 22:s.mode&1?(rn=(n=rn)||s.memoizedState!==null,Fo(e,t,s),rn=n):Fo(e,t,s);break;default:Fo(e,t,s)}}function _b(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new y8),t.forEach(function(n){var i=A8.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Ki(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ur=l.stateNode,ta=!1;break e;case 3:Ur=l.stateNode.containerInfo,ta=!0;break e;case 4:Ur=l.stateNode.containerInfo,ta=!0;break e}l=l.return}if(Ur===null)throw Error(Ge(160));d4(a,o,i),Ur=null,ta=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Js(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u4(t,e),t=t.sibling}function u4(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ki(t,e),ba(e),n&4){try{Xu(3,e,e.return),Lp(3,e)}catch(j){Js(e,e.return,j)}try{Xu(5,e,e.return)}catch(j){Js(e,e.return,j)}}break;case 1:Ki(t,e),ba(e),n&512&&s!==null&&od(s,s.return);break;case 5:if(Ki(t,e),ba(e),n&512&&s!==null&&od(s,s.return),e.flags&32){var i=e.stateNode;try{dh(i,"")}catch(j){Js(e,e.return,j)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&MN(i,a),sx(l,o);var d=sx(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?FN(i,h):u==="dangerouslySetInnerHTML"?DN(i,h):u==="children"?dh(i,h):Qy(i,u,h,d)}switch(l){case"input":Xg(i,a);break;case"textarea":IN(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?xd(i,!!a.multiple,p,!1):m!==!!a.multiple&&(a.defaultValue!=null?xd(i,!!a.multiple,a.defaultValue,!0):xd(i,!!a.multiple,a.multiple?[]:"",!1))}i[vh]=a}catch(j){Js(e,e.return,j)}}break;case 6:if(Ki(t,e),ba(e),n&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(j){Js(e,e.return,j)}}break;case 3:if(Ki(t,e),ba(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(j){Js(e,e.return,j)}break;case 4:Ki(t,e),ba(e);break;case 13:Ki(t,e),ba(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Tv=rr())),n&4&&_b(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(rn=(d=rn)||u,Ki(t,e),rn=d):Ki(t,e),ba(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(lt=e,u=e.child;u!==null;){for(h=lt=u;lt!==null;){switch(m=lt,p=m.child,m.tag){case 0:case 11:case 14:case 15:Xu(4,m,m.return);break;case 1:od(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(j){Js(n,s,j)}}break;case 5:od(m,m.return);break;case 22:if(m.memoizedState!==null){Eb(h);continue}}p!==null?(p.return=m,lt=p):Eb(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ON("display",o))}catch(j){Js(e,e.return,j)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){Js(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ki(t,e),ba(e),n&4&&_b(e);break;case 21:break;default:Ki(t,e),ba(e)}}function ba(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(c4(s)){var n=s;break e}s=s.return}throw Error(Ge(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(dh(i,""),n.flags&=-33);var a=Cb(e);Lx(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Cb(e);Tx(e,l,o);break;default:throw Error(Ge(161))}}catch(c){Js(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b8(e,t,s){lt=e,h4(e)}function h4(e,t,s){for(var n=(e.mode&1)!==0;lt!==null;){var i=lt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Gf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||rn;l=Gf;var d=rn;if(Gf=o,(rn=c)&&!d)for(lt=i;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?Pb(i):c!==null?(c.return=o,lt=c):Pb(i);for(;a!==null;)lt=a,h4(a),a=a.sibling;lt=i,Gf=l,rn=d}Ab(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,lt=a):Ab(e)}}function Ab(e){for(;lt!==null;){var t=lt;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||Lp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rn)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Zi(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&hb(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}hb(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&mh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}rn||t.flags&512&&Px(t)}catch(m){Js(t,t.return,m)}}if(t===e){lt=null;break}if(s=t.sibling,s!==null){s.return=t.return,lt=s;break}lt=t.return}}function Eb(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,lt=s;break}lt=t.return}}function Pb(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Lp(4,t)}catch(c){Js(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Js(t,i,c)}}var a=t.return;try{Px(t)}catch(c){Js(t,a,c)}break;case 5:var o=t.return;try{Px(t)}catch(c){Js(t,o,c)}}}catch(c){Js(t,t.return,c)}if(t===e){lt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,lt=l;break}lt=t.return}}var w8=Math.ceil,Jm=po.ReactCurrentDispatcher,Ev=po.ReactCurrentOwner,Ei=po.ReactCurrentBatchConfig,Qt=0,Mr=null,vr=null,Vr=0,si=0,ld=jl(0),jr=0,kh=null,fc=0,Mp=0,Pv=0,Qu=null,On=null,Tv=0,Bd=1/0,Xa=null,Xm=!1,Mx=null,cl=null,Kf=!1,el=null,Qm=0,Zu=0,Ix=null,vm=-1,bm=0;function Sn(){return Qt&6?rr():vm!==-1?vm:vm=rr()}function dl(e){return e.mode&1?Qt&2&&Vr!==0?Vr&-Vr:n8.transition!==null?(bm===0&&(bm=JN()),bm):(e=ls,e!==0||(e=window.event,e=e===void 0?16:rj(e.type)),e):1}function aa(e,t,s,n){if(50<Zu)throw Zu=0,Ix=null,Error(Ge(185));Hh(e,s,n),(!(Qt&2)||e!==Mr)&&(e===Mr&&(!(Qt&2)&&(Mp|=s),jr===4&&Jo(e,Vr)),Vn(e,n),s===1&&Qt===0&&!(t.mode&1)&&(Bd=rr()+500,Ep&&Sl()))}function Vn(e,t){var s=e.callbackNode;n_(e,t);var n=Rm(e,e===Mr?Vr:0);if(n===0)s!==null&&B2(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&B2(s),t===1)e.tag===0?r8(Tb.bind(null,e)):Nj(Tb.bind(null,e)),Z_(function(){!(Qt&6)&&Sl()}),s=null;else{switch(XN(n)){case 1:s=rv;break;case 4:s=KN;break;case 16:s=Im;break;case 536870912:s=YN;break;default:s=Im}s=b4(s,f4.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function f4(e,t){if(vm=-1,bm=0,Qt&6)throw Error(Ge(327));var s=e.callbackNode;if(Nd()&&e.callbackNode!==s)return null;var n=Rm(e,e===Mr?Vr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zm(e,n);else{t=n;var i=Qt;Qt|=2;var a=p4();(Mr!==e||Vr!==t)&&(Xa=null,Bd=rr()+500,nc(e,t));do try{S8();break}catch(l){m4(e,l)}while(!0);gv(),Jm.current=a,Qt=i,vr!==null?t=0:(Mr=null,Vr=0,t=jr)}if(t!==0){if(t===2&&(i=ox(e),i!==0&&(n=i,t=Rx(e,i))),t===1)throw s=kh,nc(e,0),Jo(e,n),Vn(e,rr()),s;if(t===6)Jo(e,n);else{if(i=e.current.alternate,!(n&30)&&!N8(i)&&(t=Zm(e,n),t===2&&(a=ox(e),a!==0&&(n=a,t=Rx(e,a))),t===1))throw s=kh,nc(e,0),Jo(e,n),Vn(e,rr()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ge(345));case 2:Gl(e,On,Xa);break;case 3:if(Jo(e,n),(n&130023424)===n&&(t=Tv+500-rr(),10<t)){if(Rm(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Sn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=px(Gl.bind(null,e,On,Xa),t);break}Gl(e,On,Xa);break;case 4:if(Jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ia(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*w8(n/1960))-n,10<n){e.timeoutHandle=px(Gl.bind(null,e,On,Xa),n);break}Gl(e,On,Xa);break;case 5:Gl(e,On,Xa);break;default:throw Error(Ge(329))}}}return Vn(e,rr()),e.callbackNode===s?f4.bind(null,e):null}function Rx(e,t){var s=Qu;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),e=Zm(e,t),e!==2&&(t=On,On=s,t!==null&&Dx(t)),e}function Dx(e){On===null?On=e:On.push.apply(On,e)}function N8(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!oa(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jo(e,t){for(t&=~Pv,t&=~Mp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-ia(t),n=1<<s;e[s]=-1,t&=~n}}function Tb(e){if(Qt&6)throw Error(Ge(327));Nd();var t=Rm(e,0);if(!(t&1))return Vn(e,rr()),null;var s=Zm(e,t);if(e.tag!==0&&s===2){var n=ox(e);n!==0&&(t=n,s=Rx(e,n))}if(s===1)throw s=kh,nc(e,0),Jo(e,t),Vn(e,rr()),s;if(s===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gl(e,On,Xa),Vn(e,rr()),null}function Lv(e,t){var s=Qt;Qt|=1;try{return e(t)}finally{Qt=s,Qt===0&&(Bd=rr()+500,Ep&&Sl())}}function mc(e){el!==null&&el.tag===0&&!(Qt&6)&&Nd();var t=Qt;Qt|=1;var s=Ei.transition,n=ls;try{if(Ei.transition=null,ls=1,e)return e()}finally{ls=n,Ei.transition=s,Qt=t,!(Qt&6)&&Sl()}}function Mv(){si=ld.current,_s(ld)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Q_(s)),vr!==null)for(s=vr.return;s!==null;){var n=s;switch(fv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Um();break;case 3:Od(),_s(zn),_s(on),Nv();break;case 5:wv(n);break;case 4:Od();break;case 13:_s(Rs);break;case 19:_s(Rs);break;case 10:xv(n.type._context);break;case 22:case 23:Mv()}s=s.return}if(Mr=e,vr=e=ul(e.current,null),Vr=si=t,jr=0,kh=null,Pv=Mp=fc=0,On=Qu=null,ec!==null){for(t=0;t<ec.length;t++)if(s=ec[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}ec=null}return e}function m4(e,t){do{var s=vr;try{if(gv(),gm.current=Ym,Km){for(var n=$s.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Km=!1}if(hc=0,Tr=wr=$s=null,Ju=!1,Nh=0,Ev.current=null,s===null||s.return===null){jr=1,kh=t,vr=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Vr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=yb(o);if(p!==null){p.flags&=-257,vb(p,o,l,a,t),p.mode&1&&xb(a,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var j=new Set;j.add(c),t.updateQueue=j}else x.add(c);break e}else{if(!(t&1)){xb(a,d,t),Iv();break e}c=Error(Ge(426))}}else if(Ts&&l.mode&1){var N=yb(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),vb(N,o,l,a,t),mv(Fd(c,l));break e}}a=c=Fd(c,l),jr!==4&&(jr=2),Qu===null?Qu=[a]:Qu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Xj(a,c,t);ub(a,y);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(cl===null||!cl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Qj(a,l,t);ub(a,k);break e}}a=a.return}while(a!==null)}x4(s)}catch(_){t=_,vr===s&&s!==null&&(vr=s=s.return);continue}break}while(!0)}function p4(){var e=Jm.current;return Jm.current=Ym,e===null?Ym:e}function Iv(){(jr===0||jr===3||jr===2)&&(jr=4),Mr===null||!(fc&268435455)&&!(Mp&268435455)||Jo(Mr,Vr)}function Zm(e,t){var s=Qt;Qt|=2;var n=p4();(Mr!==e||Vr!==t)&&(Xa=null,nc(e,t));do try{j8();break}catch(i){m4(e,i)}while(!0);if(gv(),Qt=s,Jm.current=n,vr!==null)throw Error(Ge(261));return Mr=null,Vr=0,jr}function j8(){for(;vr!==null;)g4(vr)}function S8(){for(;vr!==null&&!YC();)g4(vr)}function g4(e){var t=v4(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?x4(e):vr=t,Ev.current=null}function x4(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=x8(s,t),s!==null){s.flags&=32767,vr=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jr=6,vr=null;return}}else if(s=g8(s,t,si),s!==null){vr=s;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);jr===0&&(jr=5)}function Gl(e,t,s){var n=ls,i=Ei.transition;try{Ei.transition=null,ls=1,k8(e,t,s,n)}finally{Ei.transition=i,ls=n}return null}function k8(e,t,s,n){do Nd();while(el!==null);if(Qt&6)throw Error(Ge(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(i_(e,a),e===Mr&&(vr=Mr=null,Vr=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Kf||(Kf=!0,b4(Im,function(){return Nd(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Ei.transition,Ei.transition=null;var o=ls;ls=1;var l=Qt;Qt|=4,Ev.current=null,v8(e,s),u4(s,e),H_(fx),Dm=!!hx,fx=hx=null,e.current=s,b8(s),JC(),Qt=l,ls=o,Ei.transition=a}else e.current=s;if(Kf&&(Kf=!1,el=e,Qm=i),a=e.pendingLanes,a===0&&(cl=null),ZC(s.stateNode),Vn(e,rr()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xm)throw Xm=!1,e=Mx,Mx=null,e;return Qm&1&&e.tag!==0&&Nd(),a=e.pendingLanes,a&1?e===Ix?Zu++:(Zu=0,Ix=e):Zu=0,Sl(),null}function Nd(){if(el!==null){var e=XN(Qm),t=Ei.transition,s=ls;try{if(Ei.transition=null,ls=16>e?16:e,el===null)var n=!1;else{if(e=el,el=null,Qm=0,Qt&6)throw Error(Ge(331));var i=Qt;for(Qt|=4,lt=e.current;lt!==null;){var a=lt,o=a.child;if(lt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(lt=d;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:Xu(8,u,a)}var h=u.child;if(h!==null)h.return=u,lt=h;else for(;lt!==null;){u=lt;var m=u.sibling,p=u.return;if(l4(u),u===d){lt=null;break}if(m!==null){m.return=p,lt=m;break}lt=p}}}var x=a.alternate;if(x!==null){var j=x.child;if(j!==null){x.child=null;do{var N=j.sibling;j.sibling=null,j=N}while(j!==null)}}lt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,lt=o;else e:for(;lt!==null;){if(a=lt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xu(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,lt=y;break e}lt=a.return}}var v=e.current;for(lt=v;lt!==null;){o=lt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,lt=b;else e:for(o=v;lt!==null;){if(l=lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lp(9,l)}}catch(_){Js(l,l.return,_)}if(l===o){lt=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,lt=k;break e}lt=l.return}}if(Qt=i,Sl(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Sp,e)}catch{}n=!0}return n}finally{ls=s,Ei.transition=t}}return!1}function Lb(e,t,s){t=Fd(s,t),t=Xj(e,t,1),e=ll(e,t,1),t=Sn(),e!==null&&(Hh(e,1,t),Vn(e,t))}function Js(e,t,s){if(e.tag===3)Lb(e,e,s);else for(;t!==null;){if(t.tag===3){Lb(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cl===null||!cl.has(n))){e=Fd(s,e),e=Qj(t,e,1),t=ll(t,e,1),e=Sn(),t!==null&&(Hh(t,1,e),Vn(t,e));break}}t=t.return}}function C8(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Sn(),e.pingedLanes|=e.suspendedLanes&s,Mr===e&&(Vr&s)===s&&(jr===4||jr===3&&(Vr&130023424)===Vr&&500>rr()-Tv?nc(e,0):Pv|=s),Vn(e,t)}function y4(e,t){t===0&&(e.mode&1?(t=Ff,Ff<<=1,!(Ff&130023424)&&(Ff=4194304)):t=1);var s=Sn();e=oo(e,t),e!==null&&(Hh(e,t,s),Vn(e,s))}function _8(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),y4(e,s)}function A8(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ge(314))}n!==null&&n.delete(t),y4(e,s)}var v4;v4=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)Bn=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Bn=!1,p8(e,t,s);Bn=!!(e.flags&131072)}else Bn=!1,Ts&&t.flags&1048576&&jj(t,Vm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ym(e,t),e=t.pendingProps;var i=Id(t,on.current);wd(t,s),i=Sv(null,t,n,e,i,s);var a=kv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$n(n)?(a=!0,zm(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vv(t),i.updater=Tp,t.stateNode=i,i._reactInternals=t,Nx(t,n,e,s),t=kx(null,t,n,!0,a,s)):(t.tag=0,Ts&&a&&hv(t),bn(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(ym(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=P8(n),e=Zi(n,e),i){case 0:t=Sx(null,t,n,e,s);break e;case 1:t=Nb(null,t,n,e,s);break e;case 11:t=bb(null,t,n,e,s);break e;case 14:t=wb(null,t,n,Zi(n.type,e),s);break e}throw Error(Ge(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),Sx(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),Nb(e,t,n,i,s);case 3:e:{if(s4(t),e===null)throw Error(Ge(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Ej(e,t),Wm(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Fd(Error(Ge(423)),t),t=jb(e,t,n,s,i);break e}else if(n!==i){i=Fd(Error(Ge(424)),t),t=jb(e,t,n,s,i);break e}else for(ri=ol(t.stateNode.containerInfo.firstChild),ii=t,Ts=!0,ra=null,s=_j(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rd(),n===i){t=lo(e,t,s);break e}bn(e,t,n,s)}t=t.child}return t;case 5:return Pj(t),e===null&&vx(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,mx(n,i)?o=null:a!==null&&mx(n,a)&&(t.flags|=32),t4(e,t),bn(e,t,o,s),t.child;case 6:return e===null&&vx(t),null;case 13:return r4(e,t,s);case 4:return bv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dd(t,null,n,s):bn(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),bb(e,t,n,i,s);case 7:return bn(e,t,t.pendingProps,s),t.child;case 8:return bn(e,t,t.pendingProps.children,s),t.child;case 12:return bn(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ws(qm,n._currentValue),n._currentValue=o,a!==null)if(oa(a.value,o)){if(a.children===i.children&&!zn.current){t=lo(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=so(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),bx(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ge(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),bx(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}bn(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wd(t,s),i=Li(i),n=n(i),t.flags|=1,bn(e,t,n,s),t.child;case 14:return n=t.type,i=Zi(n,t.pendingProps),i=Zi(n.type,i),wb(e,t,n,i,s);case 15:return Zj(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),ym(e,t),t.tag=1,$n(n)?(e=!0,zm(t)):e=!1,wd(t,s),Jj(t,n,i),Nx(t,n,i,s),kx(null,t,n,!0,e,s);case 19:return n4(e,t,s);case 22:return e4(e,t,s)}throw Error(Ge(156,t.tag))};function b4(e,t){return GN(e,t)}function E8(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(e,t,s,n){return new E8(e,t,s,n)}function Rv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P8(e){if(typeof e=="function")return Rv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ev)return 11;if(e===tv)return 14}return 2}function ul(e,t){var s=e.alternate;return s===null?(s=Ai(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function wm(e,t,s,n,i,a){var o=2;if(n=e,typeof e=="function")Rv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qc:return ic(s.children,i,a,t);case Zy:o=8,i|=8;break;case Wg:return e=Ai(12,s,t,i|2),e.elementType=Wg,e.lanes=a,e;case Gg:return e=Ai(13,s,t,i),e.elementType=Gg,e.lanes=a,e;case Kg:return e=Ai(19,s,t,i),e.elementType=Kg,e.lanes=a,e;case PN:return Ip(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case AN:o=10;break e;case EN:o=9;break e;case ev:o=11;break e;case tv:o=14;break e;case Wo:o=16,n=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=Ai(o,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ic(e,t,s,n){return e=Ai(7,e,n,t),e.lanes=s,e}function Ip(e,t,s,n){return e=Ai(22,e,n,t),e.elementType=PN,e.lanes=s,e.stateNode={isHidden:!1},e}function Q0(e,t,s){return e=Ai(6,e,null,t),e.lanes=s,e}function Z0(e,t,s){return t=Ai(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T8(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M0(0),this.expirationTimes=M0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dv(e,t,s,n,i,a,o,l,c){return e=new T8(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ai(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},vv(a),e}function L8(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function w4(e){if(!e)return ml;e=e._reactInternals;e:{if(vc(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var s=e.type;if($n(s))return wj(e,s,t)}return t}function N4(e,t,s,n,i,a,o,l,c){return e=Dv(s,n,!0,e,i,a,o,l,c),e.context=w4(null),s=e.current,n=Sn(),i=dl(s),a=so(n,i),a.callback=t??null,ll(s,a,i),e.current.lanes=i,Hh(e,i,n),Vn(e,n),e}function Rp(e,t,s,n){var i=t.current,a=Sn(),o=dl(i);return s=w4(s),t.context===null?t.context=s:t.pendingContext=s,t=so(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ll(i,t,o),e!==null&&(aa(e,i,o,a),pm(e,i,o)),o}function ep(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ov(e,t){Mb(e,t),(e=e.alternate)&&Mb(e,t)}function M8(){return null}var j4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fv(e){this._internalRoot=e}Dp.prototype.render=Fv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));Rp(e,t,null,null)};Dp.prototype.unmount=Fv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mc(function(){Rp(null,e,null,null)}),t[ao]=null}};function Dp(e){this._internalRoot=e}Dp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ej();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Yo.length&&t!==0&&t<Yo[s].priority;s++);Yo.splice(s,0,e),s===0&&sj(e)}};function Bv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ib(){}function I8(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=ep(o);a.call(d)}}var o=N4(t,n,e,0,null,!1,!1,"",Ib);return e._reactRootContainer=o,e[ao]=o.current,xh(e.nodeType===8?e.parentNode:e),mc(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=ep(c);l.call(d)}}var c=Dv(e,0,!1,null,null,!1,!1,"",Ib);return e._reactRootContainer=c,e[ao]=c.current,xh(e.nodeType===8?e.parentNode:e),mc(function(){Rp(t,c,s,n)}),c}function Fp(e,t,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=ep(o);l.call(c)}}Rp(t,o,e,i)}else o=I8(s,t,e,i,n);return ep(o)}QN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=zu(t.pendingLanes);s!==0&&(nv(t,s|1),Vn(t,rr()),!(Qt&6)&&(Bd=rr()+500,Sl()))}break;case 13:mc(function(){var n=oo(e,1);if(n!==null){var i=Sn();aa(n,e,1,i)}}),Ov(e,1)}};iv=function(e){if(e.tag===13){var t=oo(e,134217728);if(t!==null){var s=Sn();aa(t,e,134217728,s)}Ov(e,134217728)}};ZN=function(e){if(e.tag===13){var t=dl(e),s=oo(e,t);if(s!==null){var n=Sn();aa(s,e,t,n)}Ov(e,t)}};ej=function(){return ls};tj=function(e,t){var s=ls;try{return ls=e,t()}finally{ls=s}};nx=function(e,t,s){switch(t){case"input":if(Xg(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=Ap(n);if(!i)throw Error(Ge(90));LN(n),Xg(n,i)}}}break;case"textarea":IN(e,s);break;case"select":t=s.value,t!=null&&xd(e,!!s.multiple,t,!1)}};zN=Lv;$N=mc;var R8={usingClientEntryPoint:!1,Events:[Gh,sd,Ap,BN,UN,Lv]},Tu={findFiberByHostInstance:Zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D8={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HN(e),e===null?null:e.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||M8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Sp=Yf.inject(D8),ka=Yf}catch{}}oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R8;oi.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(t))throw Error(Ge(200));return L8(e,t,null,s)};oi.createRoot=function(e,t){if(!Bv(e))throw Error(Ge(299));var s=!1,n="",i=j4;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dv(e,1,!1,null,null,s,!1,n,i),e[ao]=t.current,xh(e.nodeType===8?e.parentNode:e),new Fv(t)};oi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=HN(t),e=e===null?null:e.stateNode,e};oi.flushSync=function(e){return mc(e)};oi.hydrate=function(e,t,s){if(!Op(t))throw Error(Ge(200));return Fp(null,e,t,!0,s)};oi.hydrateRoot=function(e,t,s){if(!Bv(e))throw Error(Ge(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=j4;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=N4(t,null,e,1,s??null,i,!1,a,o),e[ao]=t.current,xh(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Dp(t)};oi.render=function(e,t,s){if(!Op(t))throw Error(Ge(200));return Fp(null,e,t,!1,s)};oi.unmountComponentAtNode=function(e){if(!Op(e))throw Error(Ge(40));return e._reactRootContainer?(mc(function(){Fp(null,null,e,!1,function(){e._reactRootContainer=null,e[ao]=null})}),!0):!1};oi.unstable_batchedUpdates=Lv;oi.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Op(s))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return Fp(e,t,s,!1,n)};oi.version="18.3.1-next-f1338f8080-20240426";function S4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S4)}catch(e){console.error(e)}}S4(),SN.exports=oi;var O8=SN.exports,Rb=O8;qg.createRoot=Rb.createRoot,qg.hydrateRoot=Rb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ch.apply(this,arguments)}var tl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tl||(tl={}));const Db="popstate";function F8(e){e===void 0&&(e={});function t(i,a){let{pathname:o="/",search:l="",hash:c=""}=bc(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ox("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof a=="string"?a:tp(a))}function n(i,a){Uv(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return U8(t,s,n,e)}function lr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B8(){return Math.random().toString(36).substr(2,8)}function Ob(e,t){return{usr:e.state,key:e.key,idx:t}}function Ox(e,t,s,n){return s===void 0&&(s=null),Ch({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bc(t):t,{state:s,key:t&&t.key||n||B8()})}function tp(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bc(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function U8(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=tl.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ch({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=tl.Pop;let N=u(),y=N==null?null:N-d;d=N,c&&c({action:l,location:j.location,delta:y})}function m(N,y){l=tl.Push;let v=Ox(j.location,N,y);s&&s(v,N),d=u()+1;let b=Ob(v,d),k=j.createHref(v);try{o.pushState(b,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(k)}a&&c&&c({action:l,location:j.location,delta:1})}function p(N,y){l=tl.Replace;let v=Ox(j.location,N,y);s&&s(v,N),d=u();let b=Ob(v,d),k=j.createHref(v);o.replaceState(b,"",k),a&&c&&c({action:l,location:j.location,delta:0})}function x(N){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof N=="string"?N:tp(N);return v=v.replace(/ $/,"%20"),lr(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let j={get action(){return l},get location(){return e(i,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Db,h),c=N,()=>{i.removeEventListener(Db,h),c=null}},createHref(N){return t(i,N)},createURL:x,encodeLocation(N){let y=x(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(N){return o.go(N)}};return j}var Fb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fb||(Fb={}));function z8(e,t,s){return s===void 0&&(s="/"),$8(e,t,s)}function $8(e,t,s,n){let i=typeof t=="string"?bc(t):t,a=zv(i.pathname||"/",s);if(a==null)return null;let o=k4(e);V8(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=tA(a);l=Q8(o[c],d)}return l}function k4(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(lr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=hl([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(lr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),k4(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:J8(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of C4(a.path))i(a,o,c)}),t}function C4(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=C4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function V8(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:X8(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const q8=/^:[\w-]+$/,H8=3,W8=2,G8=1,K8=10,Y8=-2,Bb=e=>e==="*";function J8(e,t){let s=e.split("/"),n=s.length;return s.some(Bb)&&(n+=Y8),t&&(n+=W8),s.filter(i=>!Bb(i)).reduce((i,a)=>i+(q8.test(a)?H8:a===""?G8:K8),n)}function X8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Q8(e,t,s){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Z8({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:hl([a,h.pathname]),pathnameBase:iA(hl([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=hl([a,h.pathnameBase]))}return o}function Z8(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=eA(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let j=l[h]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function eA(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Uv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function tA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function sA(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?bc(e):e;return{pathname:s?s.startsWith("/")?s:rA(s,t):t,search:aA(n),hash:oA(i)}}function rA(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function eg(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nA(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function $v(e,t){let s=nA(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Vv(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=bc(e):(i=Ch({},e),lr(!i.pathname||!i.pathname.includes("?"),eg("?","pathname","search",i)),lr(!i.pathname||!i.pathname.includes("#"),eg("#","pathname","hash",i)),lr(!i.search||!i.search.includes("#"),eg("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=s;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=sA(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const hl=e=>e.join("/").replace(/\/\/+/g,"/"),iA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _4=["post","put","patch","delete"];new Set(_4);const cA=["get",..._4];new Set(cA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},_h.apply(this,arguments)}const qv=E.createContext(null),dA=E.createContext(null),kl=E.createContext(null),Bp=E.createContext(null),go=E.createContext({outlet:null,matches:[],isDataRoute:!1}),A4=E.createContext(null);function uA(e,t){let{relative:s}=t===void 0?{}:t;Xd()||lr(!1);let{basename:n,navigator:i}=E.useContext(kl),{hash:a,pathname:o,search:l}=P4(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:hl([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Xd(){return E.useContext(Bp)!=null}function ca(){return Xd()||lr(!1),E.useContext(Bp).location}function E4(e){E.useContext(kl).static||E.useLayoutEffect(e)}function cn(){let{isDataRoute:e}=E.useContext(go);return e?kA():hA()}function hA(){Xd()||lr(!1);let e=E.useContext(qv),{basename:t,future:s,navigator:n}=E.useContext(kl),{matches:i}=E.useContext(go),{pathname:a}=ca(),o=JSON.stringify($v(i,s.v7_relativeSplatPath)),l=E.useRef(!1);return E4(()=>{l.current=!0}),E.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Vv(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:hl([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,a,e])}function fA(){let{matches:e}=E.useContext(go),t=e[e.length-1];return t?t.params:{}}function P4(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=E.useContext(kl),{matches:i}=E.useContext(go),{pathname:a}=ca(),o=JSON.stringify($v(i,n.v7_relativeSplatPath));return E.useMemo(()=>Vv(e,JSON.parse(o),a,s==="path"),[e,o,a,s])}function mA(e,t){return pA(e,t)}function pA(e,t,s,n){Xd()||lr(!1);let{navigator:i}=E.useContext(kl),{matches:a}=E.useContext(go),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ca(),u;if(t){var h;let N=typeof t=="string"?bc(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||lr(!1),u=N}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let N=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=z8(e,{pathname:p}),j=bA(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:hl([c,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:hl([c,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,s,n);return t&&j?E.createElement(Bp.Provider,{value:{location:_h({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tl.Pop}},j):j}function gA(){let e=SA(),t=lA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),s?E.createElement("pre",{style:i},s):null,null)}const xA=E.createElement(gA,null);class yA extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?E.createElement(go.Provider,{value:this.props.routeContext},E.createElement(A4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vA(e){let{routeContext:t,match:s,children:n}=e,i=E.useContext(qv);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),E.createElement(go.Provider,{value:t},n)}function bA(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(i=s)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||lr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=s,x=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,x=!1,j=null,N=null;s&&(p=l&&h.route.id?l[h.route.id]:void 0,j=h.route.errorElement||xA,c&&(d<0&&m===0?(CA("route-fallback"),x=!0,N=null):d===m&&(x=!0,N=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),v=()=>{let b;return p?b=j:x?b=N:h.route.Component?b=E.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,E.createElement(vA,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:s!=null},children:b})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(yA,{location:s.location,revalidation:s.revalidation,component:j,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var T4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T4||{}),L4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(L4||{});function wA(e){let t=E.useContext(qv);return t||lr(!1),t}function NA(e){let t=E.useContext(dA);return t||lr(!1),t}function jA(e){let t=E.useContext(go);return t||lr(!1),t}function M4(e){let t=jA(),s=t.matches[t.matches.length-1];return s.route.id||lr(!1),s.route.id}function SA(){var e;let t=E.useContext(A4),s=NA(),n=M4();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function kA(){let{router:e}=wA(T4.UseNavigateStable),t=M4(L4.UseNavigateStable),s=E.useRef(!1);return E4(()=>{s.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_h({fromRouteId:t},a)))},[e,t])}const Ub={};function CA(e,t,s){Ub[e]||(Ub[e]=!0)}function _A(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function AA(e){let{to:t,replace:s,state:n,relative:i}=e;Xd()||lr(!1);let{future:a,static:o}=E.useContext(kl),{matches:l}=E.useContext(go),{pathname:c}=ca(),d=cn(),u=Vv(t,$v(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return E.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function es(e){lr(!1)}function EA(e){let{basename:t="/",children:s=null,location:n,navigationType:i=tl.Pop,navigator:a,static:o=!1,future:l}=e;Xd()&&lr(!1);let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:a,static:o,future:_h({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=bc(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:x="default"}=n,j=E.useMemo(()=>{let N=zv(u,c);return N==null?null:{location:{pathname:N,search:h,hash:m,state:p,key:x},navigationType:i}},[c,u,h,m,p,x,i]);return j==null?null:E.createElement(kl.Provider,{value:d},E.createElement(Bp.Provider,{children:s,value:j}))}function PA(e){let{children:t,location:s}=e;return mA(Fx(t),s)}new Promise(()=>{});function Fx(e,t){t===void 0&&(t=[]);let s=[];return E.Children.forEach(e,(n,i)=>{if(!E.isValidElement(n))return;let a=[...t,i];if(n.type===E.Fragment){s.push.apply(s,Fx(n.props.children,a));return}n.type!==es&&lr(!1),!n.props.index||!n.props.children||lr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fx(n.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Bx.apply(this,arguments)}function TA(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function LA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MA(e,t){return e.button===0&&(!t||t==="_self")&&!LA(e)}function Ux(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function IA(e,t){let s=Ux(e);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const RA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DA="6";try{window.__reactRouterVersion=DA}catch{}const OA="startTransition",zb=NN[OA];function FA(e){let{basename:t,children:s,future:n,window:i}=e,a=E.useRef();a.current==null&&(a.current=F8({window:i,v5Compat:!0}));let o=a.current,[l,c]=E.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=E.useCallback(h=>{d&&zb?zb(()=>c(h)):c(h)},[c,d]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.useEffect(()=>_A(n),[n]),E.createElement(EA,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const BA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=E.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=TA(t,RA),{basename:p}=E.useContext(kl),x,j=!1;if(typeof d=="string"&&UA.test(d)&&(x=d,BA))try{let b=new URL(window.location.href),k=d.startsWith("//")?new URL(b.protocol+d):new URL(d),_=zv(k.pathname,p);k.origin===b.origin&&_!=null?d=_+k.search+k.hash:j=!0}catch{}let N=uA(d,{relative:i}),y=zA(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function v(b){n&&n(b),b.defaultPrevented||y(b)}return E.createElement("a",Bx({},m,{href:x||N,onClick:j||a?n:v,ref:s,target:c}))});var $b;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($b||($b={}));var Vb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vb||(Vb={}));function zA(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=cn(),d=ca(),u=P4(e,{relative:o});return E.useCallback(h=>{if(MA(h,s)){h.preventDefault();let m=n!==void 0?n:tp(d)===tp(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,s,e,a,o,l])}function I4(e){let t=E.useRef(Ux(e)),s=E.useRef(!1),n=ca(),i=E.useMemo(()=>IA(n.search,s.current?null:t.current),[n.search]),a=cn(),o=E.useCallback((l,c)=>{const d=Ux(typeof l=="function"?l(i):l);s.current=!0,a("?"+d,c)},[a,i]);return[i,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(e,t)=>{const s=E.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>E.createElement("svg",{ref:u,...$A,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${VA(e)}`,l].join(" "),...d},[...t.map(([h,m])=>E.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Ve("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Ve("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Ve("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=Ve("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Ve("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Ve("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=Ve("Church",[["path",{d:"m18 7 4 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9l4-2",key:"gy5gyo"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 22V5l-6-3-6 3v17",key:"1hsnhq"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M10 9h4",key:"u4k05v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Ve("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ve("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ve("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Ve("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Ve("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=Ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Ve("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=Ve("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ve("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=Ve("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Ve("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Ve("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Ve("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Ve("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Ve("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Ve("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Ve("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Ve("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Ve("SquareUser",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Ve("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Ve("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Ve("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Ve("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Ve("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ve("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Ve("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Ve("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function z4(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=z4(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function $4(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=z4(e))&&(n&&(n+=" "),n+=t);return n}const Zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ew=$4,V4=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return ew(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const m=Zb(u)||Zb(h);return i[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(x=>{let[j,N]=x;return Array.isArray(N)?N.includes({...a,...l}[j]):{...a,...l}[j]===N})?[...d,h,m]:d},[]);return ew(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},Yv="-",SE=e=>{const t=CE(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Yv);return l[0]===""&&l.length!==1&&l.shift(),q4(l,t)||kE(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},q4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?q4(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Yv);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},tw=/^\[(.+)\]$/,kE=e=>{if(tw.test(e)){const t=tw.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},CE=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return AE(Object.entries(e.classGroups),s).forEach(([a,o])=>{Vx(o,n,a,t)}),n},Vx=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:sw(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(_E(i)){Vx(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{Vx(o,sw(t,a),s,n)})})},sw=(e,t)=>{let s=e;return t.split(Yv).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},_E=e=>e.isThemeGetter,AE=(e,t)=>t?e.map(([s,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[s,i]}):e,EE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,n=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},H4="!",PE=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let N=0;N<l.length;N++){let y=l[N];if(d===0){if(y===i&&(n||l.slice(N,N+a)===t)){c.push(l.slice(u,N)),u=N+a;continue}if(y==="/"){h=N;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(H4),x=p?m.substring(1):m,j=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:j}};return s?l=>s({className:l,parseClassName:o}):o},TE=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},LE=e=>({cache:EE(e.cacheSize),parseClassName:PE(e),...SE(e)}),ME=/\s+/,IE=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(ME);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=s(d);let x=!!p,j=n(x?m.substring(0,p):m);if(!j){if(!x){l=d+(l.length>0?" "+l:l);continue}if(j=n(m),!j){l=d+(l.length>0?" "+l:l);continue}x=!1}const N=TE(u).join(":"),y=h?N+H4:N,v=y+j;if(a.includes(v))continue;a.push(v);const b=i(j,x);for(let k=0;k<b.length;++k){const _=b[k];a.push(y+_)}l=d+(l.length>0?" "+l:l)}return l};function RE(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=W4(t))&&(n&&(n+=" "),n+=s);return n}const W4=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=W4(e[n]))&&(s&&(s+=" "),s+=t);return s};function DE(e,...t){let s,n,i,a=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return s=LE(d),n=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=IE(c,s);return i(c,u),u}return function(){return a(RE.apply(null,arguments))}}const js=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},G4=/^\[(?:([a-z-]+):)?(.+)\]$/i,OE=/^\d+\/\d+$/,FE=new Set(["px","full","screen"]),BE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$E=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wa=e=>_d(e)||FE.has(e)||OE.test(e),Bo=e=>Qd(e,"length",XE),_d=e=>!!e&&!Number.isNaN(Number(e)),ag=e=>Qd(e,"number",_d),Lu=e=>!!e&&Number.isInteger(Number(e)),qE=e=>e.endsWith("%")&&_d(e.slice(0,-1)),Bt=e=>G4.test(e),Uo=e=>BE.test(e),HE=new Set(["length","size","percentage"]),WE=e=>Qd(e,HE,K4),GE=e=>Qd(e,"position",K4),KE=new Set(["image","url"]),YE=e=>Qd(e,KE,ZE),JE=e=>Qd(e,"",QE),Mu=()=>!0,Qd=(e,t,s)=>{const n=G4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},XE=e=>UE.test(e)&&!zE.test(e),K4=()=>!1,QE=e=>$E.test(e),ZE=e=>VE.test(e),eP=()=>{const e=js("colors"),t=js("spacing"),s=js("blur"),n=js("brightness"),i=js("borderColor"),a=js("borderRadius"),o=js("borderSpacing"),l=js("borderWidth"),c=js("contrast"),d=js("grayscale"),u=js("hueRotate"),h=js("invert"),m=js("gap"),p=js("gradientColorStops"),x=js("gradientColorStopPositions"),j=js("inset"),N=js("margin"),y=js("opacity"),v=js("padding"),b=js("saturate"),k=js("scale"),_=js("sepia"),C=js("skew"),L=js("space"),T=js("translate"),q=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Bt,t],O=()=>[Bt,t],X=()=>["",Wa,Bo],K=()=>["auto",_d,Bt],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Bt],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[_d,Bt];return{cacheSize:500,separator:":",theme:{colors:[Mu],spacing:[Wa,Bo],blur:["none","",Uo,Bt],brightness:ue(),borderColor:[e],borderRadius:["none","","full",Uo,Bt],borderSpacing:O(),borderWidth:X(),contrast:ue(),grayscale:Q(),hueRotate:ue(),invert:Q(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[qE,Bo],inset:M(),margin:M(),opacity:ue(),padding:O(),saturate:ue(),scale:ue(),sepia:Q(),skew:ue(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Uo]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),Bt]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lu,Bt]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Lu,Bt]}],"grid-cols":[{"grid-cols":[Mu]}],"col-start-end":[{col:["auto",{span:["full",Lu,Bt]},Bt]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Mu]}],"row-start-end":[{row:["auto",{span:[Lu,Bt]},Bt]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[Uo]},Uo]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Uo,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ag]}],"font-family":[{font:[Mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",_d,ag]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wa,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wa,Bo]}],"underline-offset":[{"underline-offset":["auto",Wa,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),GE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Wa,Bt]}],"outline-w":[{outline:[Wa,Bo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Wa,Bo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Uo,JE]}],"shadow-color":[{shadow:[Mu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Uo,Bt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Lu,Bt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wa,Bo,ag]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tP=DE(eP),sP="modulepreload",rP=function(e){return"/"+e},rw={},xl=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=rP(c),c in rw)return;rw[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":sP,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},nP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>xl(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class Jv extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class iP extends Jv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nw extends Jv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iw extends Jv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qx||(qx={}));var aP=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class oP{constructor(t,{headers:s={},customFetch:n,region:i=qx.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=nP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return aP(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(j=>{throw new iP(j)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new nw(h);if(!h.ok)throw new iw(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield h.json():p==="application/octet-stream"?x=yield h.blob():p==="text/event-stream"?x=h:p==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof iw||i instanceof nw?i.context:void 0}}})}}var Fn={},Xv={},zp={},Yh={},$p={},Vp={},lP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zd=lP();const cP=zd.fetch,Y4=zd.fetch.bind(zd),J4=zd.Headers,dP=zd.Request,uP=zd.Response,Zd=Object.freeze(Object.defineProperty({__proto__:null,Headers:J4,Request:dP,Response:uP,default:Y4,fetch:cP},Symbol.toStringTag,{value:"Module"})),hP=uC(Zd);var qp={};Object.defineProperty(qp,"__esModule",{value:!0});let fP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qp.default=fP;var X4=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vp,"__esModule",{value:!0});const mP=X4(hP),pP=X4(qp);let gP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let d=null,u=null,h=null,m=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const j=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&N&&N.length>1&&(h=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,m=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const j=await a.text();try{d=JSON.parse(j),Array.isArray(d)&&a.status===404&&(u=[],d=null,m=200,p="OK")}catch{a.status===404&&j===""?(m=204,p="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new pP.default(d)}return{error:d,data:u,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};Vp.default=gP;var xP=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($p,"__esModule",{value:!0});const yP=xP(Vp);let vP=class extends yP.default{select(t){let s=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$p.default=vP;var bP=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yh,"__esModule",{value:!0});const wP=bP($p);let NP=class extends wP.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};Yh.default=NP;var jP=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zp,"__esModule",{value:!0});const Iu=jP(Yh);let SP=class{constructor(t,{headers:s={},schema:n,fetch:i}){this.url=t,this.headers=s,this.schema=n,this.fetch=i}select(t,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Iu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Iu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Iu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Iu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Iu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zp.default=SP;var Hp={},Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.version=void 0;Wp.version="0.0.0-automated";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.DEFAULT_HEADERS=void 0;const kP=Wp;Hp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kP.version}`};var Q4=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xv,"__esModule",{value:!0});const CP=Q4(zp),_P=Q4(Yh),AP=Hp;let EP=class Z4{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},AP.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new CP.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(o=n?"HEAD":"GET",Object.entries(s).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=s);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new _P.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Xv.default=EP;var eu=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.PostgrestError=Fn.PostgrestBuilder=Fn.PostgrestTransformBuilder=Fn.PostgrestFilterBuilder=Fn.PostgrestQueryBuilder=Fn.PostgrestClient=void 0;const e3=eu(Xv);Fn.PostgrestClient=e3.default;const t3=eu(zp);Fn.PostgrestQueryBuilder=t3.default;const s3=eu(Yh);Fn.PostgrestFilterBuilder=s3.default;const r3=eu($p);Fn.PostgrestTransformBuilder=r3.default;const n3=eu(Vp);Fn.PostgrestBuilder=n3.default;const i3=eu(qp);Fn.PostgrestError=i3.default;var PP=Fn.default={PostgrestClient:e3.default,PostgrestQueryBuilder:t3.default,PostgrestFilterBuilder:s3.default,PostgrestTransformBuilder:r3.default,PostgrestBuilder:n3.default,PostgrestError:i3.default};const{PostgrestClient:TP,PostgrestQueryBuilder:HB,PostgrestFilterBuilder:WB,PostgrestTransformBuilder:GB,PostgrestBuilder:KB,PostgrestError:YB}=PP;function LP(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const MP=LP(),IP="2.11.15",RP=`realtime-js/${IP}`,DP="1.0.0",a3=1e4,OP=1e3;var eh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(eh||(eh={}));var sn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sn||(sn={}));var sa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sa||(sa={}));var Hx;(function(e){e.websocket="websocket"})(Hx||(Hx={}));var Xl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xl||(Xl={}));class FP{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class o3{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vs;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vs||(vs={}));const aw=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=BP(o,e,t,i),a),{})},BP=(e,t,s,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,o=s[e];return a&&!n.includes(a)?l3(a,o):Wx(o)},l3=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return VP(t,s)}switch(e){case vs.bool:return UP(t);case vs.float4:case vs.float8:case vs.int2:case vs.int4:case vs.int8:case vs.numeric:case vs.oid:return zP(t);case vs.json:case vs.jsonb:return $P(t);case vs.timestamp:return qP(t);case vs.abstime:case vs.date:case vs.daterange:case vs.int4range:case vs.int8range:case vs.money:case vs.reltime:case vs.text:case vs.time:case vs.timestamptz:case vs.timetz:case vs.tsrange:case vs.tstzrange:return Wx(t);default:return Wx(t)}},Wx=e=>e,UP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$P=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},VP=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,s);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>l3(t,l))}return e},qP=e=>typeof e=="string"?e.replace(" ","T"):e,c3=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class og{constructor(t,s,n={},i=a3){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ow;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ow||(ow={}));class th{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=th.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=th.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=th.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const a=this.cloneDeep(t),o=this.transformState(s),l={},c={};return this.map(a,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=a[d];if(h){const m=u.map(N=>N.presence_ref),p=h.map(N=>N.presence_ref),x=u.filter(N=>p.indexOf(N.presence_ref)<0),j=h.filter(N=>m.indexOf(N.presence_ref)<0);x.length>0&&(l[d]=x),j.length>0&&(c[d]=j)}else l[d]=u}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,s,n,i){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lw||(lw={}));var cw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cw||(cw={}));var Qa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qa||(Qa={}));class Qv{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new og(this,sa.join,this.params,this.timeout),this.rejoinTimer=new o3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new th(this),this.broadcastEndpointURL=c3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==sn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(u=>t==null?void 0:t(Qa.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Qa.CLOSED));const c={},d={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(Qa.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let j=0;j<p;j++){const N=m[j],{filter:{event:y,schema:v,table:b,filter:k}}=N,_=u&&u[j];if(_&&_.event===y&&_.schema===v&&_.table===b&&_.filter===k)x.push(Object.assign(Object.assign({},N),{id:_.id}));else{this.unsubscribe(),this.state=sn.errored,t==null||t(Qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Qa.SUBSCRIBED);return}}).receive("error",u=>{this.state=sn.errored,t==null||t(Qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sn.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new og(this,sa.leave,{},t),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new og(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=sa;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,s,n);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var x,j,N;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(j=p.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var x,j,N,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return k&&((j=s.ids)===null||j===void 0?void 0:j.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(v=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:j,table:N,commit_timestamp:y,type:v,errors:b}=x;m=Object.assign(Object.assign({},{schema:j,table:N,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(m,n)})}_isClosed(){return this.state===sn.closed}_isJoined(){return this.state===sn.joined}_isJoining(){return this.state===sn.joining}_isLeaving(){return this.state===sn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Qv.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sa.close,{},t)}_onError(t){this._on(sa.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=aw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=aw(t.columns,t.old_record)),s}}const dw=()=>{},HP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WP{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a3,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dw,this.ref=0,this.logger=dw,this.conn=null,this.sendBuffer=[],this.serializer=new FP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>xl(async()=>{const{default:c}=await Promise.resolve().then(()=>Zd);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Hx.websocket}`,this.httpEndpoint=c3(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(a,o)=>o(JSON.stringify(a)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=MP),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DP}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case eh.connecting:return Xl.Connecting;case eh.open:return Xl.Open;case eh.closing:return Xl.Closing;default:return Xl.Closed}}isConnected(){return this.connectionState()===Xl.Open}channel(t,s={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Qv(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:RP};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(sa.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(OP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:a,ref:o}=s;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(sa.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([HP],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Zv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GP extends Zv{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gx extends Zv{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var KP=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const d3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>xl(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},YP=()=>KP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xl(()=>Promise.resolve().then(()=>Zd),void 0)).Response:Response}),Kx=e=>{if(Array.isArray(e))return e.map(s=>Kx(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Kx(n)}),t};var wc=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const lg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JP=(e,t,s)=>wc(void 0,void 0,void 0,function*(){const n=yield YP();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new GP(lg(i),e.status||500))}).catch(i=>{t(new Gx(lg(i),i))}):t(new Gx(lg(e),e))}),XP=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function Jh(e,t,s,n,i,a){return wc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(s,XP(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>JP(c,l,n))})})}function ap(e,t,s,n){return wc(this,void 0,void 0,function*(){return Jh(e,"GET",t,s,n)})}function Ko(e,t,s,n,i){return wc(this,void 0,void 0,function*(){return Jh(e,"POST",t,n,i,s)})}function QP(e,t,s,n,i){return wc(this,void 0,void 0,function*(){return Jh(e,"PUT",t,n,i,s)})}function ZP(e,t,s,n){return wc(this,void 0,void 0,function*(){return Jh(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function u3(e,t,s,n,i){return wc(this,void 0,void 0,function*(){return Jh(e,"DELETE",t,n,i,s)})}var Dn=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const eT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tT{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=d3(i)}uploadOrUpdate(t,s,n,i){return Dn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},uw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(s),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(Pr(a))return{data:null,error:a};throw a}})}upload(t,s,n){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return Dn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const d=Object.assign({upsert:uw.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),m=yield h.json();return h.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Pr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,s){return Dn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield Ko(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Zv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}update(t,s,n){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return Dn(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Pr(i))return{data:null,error:i};throw i}})}copy(t,s,n){return Dn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ko(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Pr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return Dn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ko(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(Pr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return Dn(this,void 0,void 0,function*(){try{const i=yield Ko(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(Pr(i))return{data:null,error:i};throw i}})}download(t,s){return Dn(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ap(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pr(l))return{data:null,error:l};throw l}})}info(t){return Dn(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield ap(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Kx(n),error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}exists(t){return Dn(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield ZP(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pr(n)&&n instanceof Gx){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield u3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Pr(s))return{data:null,error:s};throw s}})}list(t,s,n){return Dn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eT),s),{prefix:t||""});return{data:yield Ko(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Pr(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const sT="2.7.1",rT={"X-Client-Info":`storage-js/${sT}`};var Uc=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class nT{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},rT),s),this.fetch=d3(n)}listBuckets(){return Uc(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pr(t))return{data:null,error:t};throw t}})}getBucket(t){return Uc(this,void 0,void 0,function*(){try{return{data:yield ap(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Pr(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Uc(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return Uc(this,void 0,void 0,function*(){try{return{data:yield QP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Uc(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Pr(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Uc(this,void 0,void 0,function*(){try{return{data:yield u3(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Pr(s))return{data:null,error:s};throw s}})}}class iT extends nT{constructor(t,s={},n){super(t,s,n)}from(t){return new tT(this.url,this.headers,t,this.fetch)}}const aT="2.51.0";let Vu="";typeof Deno<"u"?Vu="deno":typeof document<"u"?Vu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vu="react-native":Vu="node";const oT={"X-Client-Info":`supabase-js-${Vu}/${aT}`},lT={headers:oT},cT={schema:"public"},dT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uT={};var hT=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const fT=e=>{let t;return e?t=e:typeof fetch>"u"?t=Y4:t=fetch,(...s)=>t(...s)},mT=()=>typeof Headers>"u"?J4:Headers,pT=(e,t,s)=>{const n=fT(s),i=mT();return(a,o)=>hT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:d}))})};var gT=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function xT(e){return e.endsWith("/")?e:e+"/"}function yT(e,t){var s,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>gT(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const h3="2.71.0",Gc=30*1e3,Yx=3,cg=Yx*Gc,vT="http://localhost:9999",bT="supabase.auth.token",wT={"X-Client-Info":`gotrue-js/${h3}`},Jx="X-Supabase-Api-Version",f3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jT=10*60*1e3;class e1 extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function Ot(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ST extends e1{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function kT(e){return Ot(e)&&e.name==="AuthApiError"}class m3 extends e1{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Cl extends e1{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class qo extends Cl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CT(e){return Ot(e)&&e.name==="AuthSessionMissingError"}class Jf extends Cl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xf extends Cl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qf extends Cl{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _T(e){return Ot(e)&&e.name==="AuthImplicitGrantRedirectError"}class hw extends Cl{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xx extends Cl{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function dg(e){return Ot(e)&&e.name==="AuthRetryableFetchError"}class fw extends Cl{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Qx extends Cl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mw=` 	
\r=`.split(""),AT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mw.length;t+=1)e[mw[t].charCodeAt(0)]=-2;for(let t=0;t<op.length;t+=1)e[op[t].charCodeAt(0)]=t;return e})();function pw(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(op[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(op[n]),t.queuedBits-=6}}function p3(e,t,s){const n=AT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gw(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{TT(o,n,s)};for(let o=0;o<e.length;o+=1)p3(e.charCodeAt(o),i,a);return t.join("")}function ET(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function PT(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}ET(n,t)}}function TT(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function LT(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)p3(e.charCodeAt(i),s,n);return new Uint8Array(t)}function MT(e){const t=[];return PT(e,s=>t.push(s)),new Uint8Array(t)}function IT(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>pw(i,s,n)),pw(null,s,n),t.join("")}function RT(e){return Math.round(Date.now()/1e3)+e}function DT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xi=()=>typeof window<"u"&&typeof document<"u",Vl={tested:!1,writable:!1},g3=()=>{if(!Xi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vl.tested)return Vl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vl.tested=!0,Vl.writable=!0}catch{Vl.tested=!0,Vl.writable=!1}return Vl.writable};function OT(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const x3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>xl(async()=>{const{default:n}=await Promise.resolve().then(()=>Zd);return{default:n}},void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},FT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kc=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},ql=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},zo=async(e,t)=>{await e.removeItem(t)};class Gp{constructor(){this.promise=new Gp.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Gp.promiseConstructor=Promise;function ug(e){const t=e.split(".");if(t.length!==3)throw new Qx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!NT.test(t[n]))throw new Qx("JWT not in base64url format");return{header:JSON.parse(gw(t[0])),payload:JSON.parse(gw(t[1])),signature:LT(t[2]),raw:{header:t[0],payload:t[1]}}}async function BT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function UT(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function zT(e){return("0"+e.toString(16)).substr(-2)}function $T(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,zT).join("")}async function VT(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function qT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await VT(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zc(e,t,s=!1){const n=$T();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Kc(e,`${t}-code-verifier`,i);const a=await qT(n);return[a,n===a?"plain":"s256"]}const HT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WT(e){const t=e.headers.get(Jx);if(!t||!t.match(HT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $c(e){if(!YT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hg(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var JT=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const Kl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XT=[502,503,504];async function xw(e){var t;if(!FT(e))throw new Xx(Kl(e),0);if(XT.includes(e.status))throw new Xx(Kl(e),e.status);let s;try{s=await e.json()}catch(a){throw new m3(Kl(a),a)}let n;const i=WT(e);if(i&&i.getTime()>=f3["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new fw(Kl(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new qo}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new fw(Kl(s),e.status,s.weak_password.reasons);throw new ST(Kl(s),e.status||500,n)}const QT=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function Vt(e,t,s,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Jx]||(a[Jx]=f3["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ZT(e,t,s+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ZT(e,t,s,n,i,a){const o=QT(t,n,i,a);let l;try{l=await e(s,Object.assign({},o))}catch(c){throw console.error(c),new Xx(Kl(c),0)}if(l.ok||await xw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xw(c)}}function Ja(e){var t;let s=null;r7(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=RT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function yw(e){const t=Ja(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function e7(e){return{data:e,error:null}}function t7(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a}=e,o=JT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function s7(e){return e}function r7(e){return e.access_token&&e.refresh_token&&e.expires_in}const fg=["global","local","others"];var n7=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class i7{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=x3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=fg[0]){if(fg.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fg.join(", ")}`);try{return await Vt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await Vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Xo})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=n7(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:t7,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Ot(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xo})}catch(s){if(Ot(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:s7});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const j=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);d[`${N}Page`]=j}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ot(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){$c(t);try{return await Vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xo})}catch(s){if(Ot(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){$c(t);try{return await Vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Xo})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){$c(t);try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Xo})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$c(t.userId);try{const{data:s,error:n}=await Vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(Ot(s))return{data:null,error:s};throw s}}async _deleteFactor(t){$c(t.userId),$c(t.id);try{return{data:await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}}}function vw(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function a7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vc={debug:!!(globalThis&&g3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o7 extends y3{}async function l7(e,t,s){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}a7();const c7={url:vT,storageKey:bT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bw(e,t,s){return await s()}const qc={};class Mh{constructor(t){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mh.nextInstanceID,Mh.nextInstanceID+=1,this.instanceID>0&&Xi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},c7),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new i7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=x3(i.fetch),this.lock=i.lock||bw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Xi()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=l7:this.lock=bw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:g3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=vw(this.memoryStorage)),Xi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=qc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){qc[this.storageKey]=Object.assign(Object.assign({},qc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=qc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qc[this.storageKey]=Object.assign(Object.assign({},qc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${h3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=OT(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Xi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_T(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ot(s)?{error:s}:{error:new m3("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const a=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ja}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var s,n,i;try{let a;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await zc(this.storage,this.storageKey)),a=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ja})}else if("phone"in t){const{phone:u,password:h,options:m}=t;a=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ja})}else throw new Xf("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ot(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:o,options:l}=t;s=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else if("phone"in t){const{phone:a,password:o,options:l}=t;s=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else throw new Xf("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,n,i,a,o,l,c,d,u,h,m,p;let x,j;if("message"in t)x=t.message,j=t.signature;else{const{chain:N,wallet:y,statement:v,options:b}=t;let k;if(Xi())if(typeof y=="object")k=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))k=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const _=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in k&&k.signIn){const C=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let L;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")L=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)L=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)x=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),j=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const C=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=C}}try{const{data:N,error:y}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:IT(j)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ja});if(y)throw y;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Jf}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:y})}catch(N){if(Ot(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const s=await ql(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:a,error:o}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ja});if(await zo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Jf}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ot(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:a,nonce:o}=t,l=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ja}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Jf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await zc(this.storage,this.storageKey));const{error:h}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Xf("You must provide either an email or phone number.")}catch(l){if(Ot(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,n;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ja});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ot(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await zc(this.storage,this.storageKey)),await Vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:e7})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new qo;const{error:i}=await Vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ot(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await Vt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await Vt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xf("You must provide either an email or phone number and a type")}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ql(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hg()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xo}):await this._useSession(async s=>{var n,i,a;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qo}:await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Xo})})}catch(s){if(Ot(s))return CT(s)&&(await this._removeSession(),await zo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new qo;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await zc(this.storage,this.storageKey));const{data:d,error:u}=await Vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Xo});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qo;const s=Date.now()/1e3;let n=s,i=!0,a=null;const{payload:o}=ug(t.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(Ot(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new qo;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Ot(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Xi())throw new Qf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new hw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qf("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hw("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Qf("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const p=m-u;p*1e3<=Gc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=m-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,u);const{data:j,error:N}=await this._getUser(a);if(N)throw N;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Ot(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await ql(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(kT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await zo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=DT(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:a},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await zc(this.storage,this.storageKey,!0));try{return await Vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Ot(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,d,u;const{data:h,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Vt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Xi()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ot(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)throw o;return await Vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(Ot(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await UT(async i=>(i>0&&await BT(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await Vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ja})),(i,a)=>{const o=200*Math.pow(2,i);return a&&dg(a)&&Date.now()+o-n<Gc})}catch(n){if(this._debug(s,"error",n),Ot(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Xi()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ql(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Kc(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hg()}else if(i&&!i.user&&!i.user){const o=await ql(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await zo(this.storage,this.storageKey+"-user"),await Kc(this.storage,this.storageKey,i)):i.user=hg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<cg;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${cg}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),dg(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gp;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new qo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ot(a)){const o={session:null,error:a};return dg(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Kc(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=structuredClone(i);await Kc(this.storage,this.storageKey,a)}else{const i=structuredClone(s);await Kc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await zo(this.storage,this.storageKey),await zo(this.storage,this.storageKey+"-code-verifier"),await zo(this.storage,this.storageKey+"-user"),this.userStorage&&await zo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Gc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Gc}ms, refresh threshold is ${Yx} ticks`),i<=Yx&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await zc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await Vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Ot(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Vt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(Ot(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:a}=s;return a?{data:null,error:a}:await Vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(Ot(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ug(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+jT>i)return n;const{data:a,error:o}=await Vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=ug(n);s!=null&&s.allowExpired||GT(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=KT(i.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,MT(`${l}.${c}`)))throw new Qx("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}}Mh.nextInstanceID=0;const d7=Mh;class u7 extends d7{constructor(t){super(t)}}var h7=function(e,t,s,n){function i(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class f7{constructor(t,s,n){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=xT(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:cT,realtime:uT,auth:Object.assign(Object.assign({},dT),{storageKey:d}),global:lT},h=yT(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=pT(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new TP(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new oP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iT(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return h7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u7({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new WP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const v3=(e,t,s)=>new f7(e,t,s),b3="https://bnhvcnbsxjrgdhhxdrpa.supabase.co",m7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJuaHZjbmJzeGpyZ2RoaHhkcnBhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMTQ5NTUsImV4cCI6MjA2NjY5MDk1NX0.L_P1nOvzhj1bi4ZtREthB5iI00Q7z6-tgVdrtSnzLEU",p7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJuaHZjbmJzeGpyZ2RoaHhkcnBhIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTExNDk1NSwiZXhwIjoyMDY2NjkwOTU1fQ.NkVY6xYHGQFFaHkT96nieVmSx26yk8SdQSXyg-pVS8o",Oe=v3(b3,m7),Xt=v3(b3,p7,{auth:{autoRefreshToken:!1,persistSession:!1}});if(typeof window<"u"){const e=window.fetch;window.fetch=function(...t){try{return e.apply(this,t)}catch(s){throw console.warn(" Fetch error (possibly from browser extension):",s),s}}}function ln(...e){return tP($4(e))}function ww(e){return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(e)}const t1=[{value:"ukraine",label:"Ukraine"},{value:"russia",label:"Russia"},{value:"kazakhstan",label:"Kazakhstan"},{value:"belarus",label:"Belarus"},{value:"moldova",label:"Moldova"},{value:"georgia",label:"Georgia"},{value:"armenia",label:"Armenia"},{value:"azerbaijan",label:"Azerbaijan"},{value:"kyrgyzstan",label:"Kyrgyzstan"},{value:"tajikistan",label:"Tajikistan"},{value:"turkmenistan",label:"Turkmenistan"},{value:"uzbekistan",label:"Uzbekistan"}],Zx=["Travel","Music","Art","Cooking","Dancing","Reading","Sports","Movies","Photography","Nature","Hiking","Swimming","Yoga","Fashion","Technology","Languages","History","Science","Politics","Philosophy"],ey=[{id:1,amount:100,price:9.99,popular:!1,bonus:0},{id:2,amount:500,price:39.99,popular:!0,bonus:50},{id:3,amount:1e3,price:69.99,popular:!1,bonus:150},{id:4,amount:2e3,price:119.99,popular:!1,bonus:400}],ty=[{id:"weekly",name:"Weekly Premium",duration:7,durationUnit:"days",price:19.99,popular:!1,features:["Unlimited messaging","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"]},{id:"monthly",name:"Monthly Premium",duration:1,durationUnit:"month",price:49.99,popular:!0,features:["Unlimited messaging","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"]},{id:"quarterly",name:"Quarterly Premium",duration:3,durationUnit:"months",price:129.99,popular:!1,features:["Unlimited messaging","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]}],Ad={voiceCall:400,videoCall:1e3,contactInfo:700},s1=async()=>{try{const{data:e,error:t}=await Oe.from("gifts").select("*").eq("is_active",!0).order("category",{ascending:!0}).order("price",{ascending:!0});return t?(console.error("Error loading gifts from database:",t),[]):e||[]}catch(e){return console.error("Error loading gifts:",e),[]}},g7=e=>({id:e.id,name:e.name,description:e.description,cost:e.price,category:e.category,image:e.image_url,delivery:"Virtual purchase with coins"}),x7=async e=>{const t=await s1();return(e&&e!=="all"?t.filter(n=>n.category===e):t).map(g7)},w3=async()=>{const e=await s1();return[...new Set(e.map(s=>s.category))].sort()},N3={LIKES:"purelove_likes_data"};function lp(){const e=localStorage.getItem(N3.LIKES);if(!e)return{likedProfiles:{}};try{const t=JSON.parse(e);return!t||typeof t!="object"?{likedProfiles:{}}:Array.isArray(t)?{likedProfiles:{}}:((!t.likedProfiles||typeof t.likedProfiles!="object"||Array.isArray(t.likedProfiles))&&(t.likedProfiles={}),t)}catch(t){return console.error("Error parsing likes data:",t),{likedProfiles:{}}}}function sy(e){try{localStorage.setItem(N3.LIKES,JSON.stringify(e)),console.log(" Saved likes data:",e)}catch(t){console.error("Error saving likes data:",t)}}function j3(e,t="sent"){if(console.log(" Adding like:",{profile:e,status:t}),!e||!e.id){console.error(" Invalid profile passed to addLike:",e);return}const s=lp(),n=s.likedProfiles[e.id];console.log(" Existing like:",n);const i=(n==null?void 0:n.status)==="received"&&t==="sent"?"matched":t;console.log(" New status:",i),s.likedProfiles[e.id]={likedAt:new Date().toISOString(),status:i,profile:{id:e.id,userId:e.userId,firstName:e.firstName,lastName:e.lastName||"",gender:e.gender,birthDate:e.birthDate,city:e.city,country:e.country,bio:e.bio,interests:e.interests,profession:e.profession,languages:e.languages,photos:e.photos,verified:e.verified,createdAt:e.createdAt}},sy(s),t==="sent"&&Math.random()<.5&&(console.log(" Simulating received like back"),setTimeout(()=>{const a=lp();a.likedProfiles[e.id]&&(a.likedProfiles[e.id].status="matched",sy(a))},1e3+Math.random()*2e3))}function S3(e){console.log(" Removing like:",e);const t=lp();delete t.likedProfiles[e],sy(t)}function cp(e){return!!lp().likedProfiles[e]}const y7=V4("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 hover:shadow-lg hover:scale-105 shadow-sm",destructive:"bg-red-500 text-white hover:bg-red-600 hover:shadow-lg hover:scale-105",outline:"border border-gray-200 bg-white hover:bg-gray-50 hover:text-primary-500 hover:border-primary-300 hover:shadow-md",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 hover:shadow-md",ghost:"hover:bg-gray-100 hover:text-primary-500 hover:scale-105",link:"text-primary-500 underline-offset-4 hover:underline hover:scale-105",premium:"bg-gradient-to-r from-amber-500 to-amber-600 text-white hover:from-amber-600 hover:to-amber-700 hover:shadow-xl hover:scale-105 shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-full px-3",lg:"h-11 rounded-full px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=E.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...i},a)=>r.jsx("button",{className:ln(y7({variant:t,size:s,className:e})),ref:a,...i}));Re.displayName="Button";const fs=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ln("rounded-2xl border border-gray-100 bg-card text-gray-950 shadow-card transition-shadow hover:shadow-card-hover",e),...t}));fs.displayName="Card";const r1=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ln("flex flex-col space-y-1.5 p-6",e),...t}));r1.displayName="CardHeader";const n1=E.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:ln("text-2xl font-semibold leading-none tracking-tight",e),...t}));n1.displayName="CardTitle";const v7=E.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:ln("text-sm text-gray-500",e),...t}));v7.displayName="CardDescription";const ks=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ln("p-6 pt-0",e),...t}));ks.displayName="CardContent";const Xh=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ln("flex items-center p-6 pt-0",e),...t}));Xh.displayName="CardFooter";const b7=V4("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-primary-50 text-primary-700",secondary:"bg-gray-100 text-gray-700",destructive:"bg-red-100 text-red-700",outline:"border border-gray-200 text-gray-700",verified:"bg-green-100 text-green-700",premium:"bg-amber-100 text-amber-700"}},defaultVariants:{variant:"default"}});function Os({className:e,variant:t,...s}){return r.jsx("div",{className:ln(b7({variant:t}),e),...s})}async function w7(e,t,s){var n,i;try{console.log(" [SIGNUP] Starting signup process..."),console.log(" [SIGNUP] Email:",e),console.log(" [SIGNUP] User data:",s);const a=Oe.auth.signUp({email:e,password:t,options:{data:{first_name:s.firstName,last_name:s.lastName,gender:s.gender,birth_date:s.birthDate,country:s.country,city:s.city}}}),o=new Promise((u,h)=>setTimeout(()=>h(new Error("Signup request timed out")),15e3));console.log(" [SIGNUP] Waiting for signup response...");const l=await Promise.race([a,o]),{data:c,error:d}=l;return d?(console.error(" [SIGNUP] Signup error:",d),{data:null,error:d}):(console.log(" [SIGNUP] User created successfully!"),console.log(" [SIGNUP] User ID:",(n=c.user)==null?void 0:n.id),console.log(" [SIGNUP] User email:",(i=c.user)==null?void 0:i.email),console.log(" [SIGNUP] Profile will be created automatically by auth trigger"),{data:c,error:null})}catch(a){return console.error(" [SIGNUP] Sign up exception:",a),{data:null,error:a}}}async function N7(e,t,s=!0){var n,i,a;console.log(" [STEP 1] Starting signIn function..."),console.log(" Email:",e),console.log(" Remember me:",s);try{console.log(" [STEP 2] Creating auth request...");const o=Date.now(),l=Oe.auth.signInWithPassword({email:e,password:t});console.log(" [STEP 3] Auth request created, awaiting response..."),console.log(" Request created at:",new Date().toISOString());const{data:c,error:d}=await l,h=Date.now()-o;return console.log(" [STEP 4] Auth response received after",h,"ms"),console.log(" Response data present:",!!c),console.log(" Response error present:",!!d),c&&(console.log(" User ID:",(n=c.user)==null?void 0:n.id),console.log(" User email:",(i=c.user)==null?void 0:i.email),console.log(" Session present:",!!c.session),console.log(" Access token present:",!!((a=c.session)!=null&&a.access_token))),d?(console.log(" [STEP 5] Auth error details:",d),console.log(" Error message:",d.message),console.log(" Error code:",d.status),{data:null,error:d}):(console.log(" [STEP 5] Auth successful, processing session..."),console.log(" [STEP 6] Session handled by Supabase automatically"),console.log(" [STEP 7] SignIn completed successfully"),console.log(" Total duration:",Date.now()-o,"ms"),{data:c,error:null})}catch(o){return console.error(" [ERROR] Sign in exception:",o),console.error(" Error type:",typeof o),console.error(" Error name:",o.name),console.error(" Error message:",o.message),console.error(" Error stack:",o.stack),{data:null,error:o}}}async function j7(){try{const{error:e}=await Oe.auth.signOut();return{error:e}}catch(e){return console.error("Sign out error:",e),{error:e}}}async function Nw(){var e,t,s,n,i,a;console.log(" [GET_USER] Starting getCurrentUser...");try{if(console.log(" [GET_USER] Fetching auth user..."),!navigator.onLine){console.log(" [GET_USER] Device is offline, using cached session data");const{data:{session:p}}=await Oe.auth.getSession();return p!=null&&p.user?{user:p.user,profile:null,error:new Error("Offline - using cached session")}:{user:null,profile:null,error:new Error("No internet connection")}}let o,l=0;const c=1;for(;l<=c;)try{const p=Oe.auth.getUser(),x=new Promise((j,N)=>setTimeout(()=>N(new Error("getUser timeout")),3e3));o=await Promise.race([p,x]);break}catch(p){if(l++,console.warn(` [GET_USER] Attempt ${l} failed:`,p),l>c){console.log(" [GET_USER] Falling back to session data...");try{const{data:{session:x}}=await Oe.auth.getSession();if(x!=null&&x.user)return console.log(" [GET_USER] Using session fallback"),{user:x.user,profile:null,error:new Error("Auth service unavailable - using session fallback")}}catch(x){console.error(" [GET_USER] Session fallback failed:",x)}throw p}await new Promise(x=>setTimeout(x,500*l))}const{data:{user:d},error:u}=o;if(u)return console.error(" [GET_USER] Auth user error:",u),{user:null,profile:null,error:u};if(console.log(" [GET_USER] Auth user result:",!!d),!d)return console.log(" [GET_USER] No authenticated user found"),{user:null,profile:null,error:null};console.log(" [GET_USER] User ID:",d.id),console.log(" [GET_USER] User email:",d.email),console.log(" [GET_USER] Fetching profile from database...");let h=null,m=null;try{const p=Oe.from("profiles").select("*").eq("id",d.id).single(),x=new Promise((y,v)=>setTimeout(()=>v(new Error("profile fetch timeout")),2e3)),N=await Promise.race([p,x]);h=N.data,m=N.error}catch(p){return console.warn(" [GET_USER] Profile fetch timed out, continuing with basic user data"),m=p,{user:d,profile:null,error:new Error("Profile service unavailable - using basic user data")}}if(console.log(" [GET_USER] Profile query result:",{profile:!!h,error:!!m}),m){if(console.error(" [GET_USER] Error fetching profile:",m),m.code==="PGRST116"&&navigator.onLine){console.log(" [GET_USER] Profile not found, creating basic profile...");const p={id:d.id,first_name:((e=d.user_metadata)==null?void 0:e.first_name)||"",last_name:((t=d.user_metadata)==null?void 0:t.last_name)||"",gender:((s=d.user_metadata)==null?void 0:s.gender)||"male",birth_date:((n=d.user_metadata)==null?void 0:n.birth_date)||"",country:((i=d.user_metadata)==null?void 0:i.country)||"",city:((a=d.user_metadata)==null?void 0:a.city)||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};try{const x=Oe.from("profiles").insert(p).select().single(),j=new Promise((b,k)=>setTimeout(()=>k(new Error("profile creation timeout")),2e3)),N=await Promise.race([x,j]),{data:y,error:v}=N;return v?(console.error(" [GET_USER] Failed to create profile:",v),{user:d,profile:null,error:v}):(console.log(" [GET_USER] Profile created successfully"),{user:d,profile:y,error:null})}catch(x){return console.warn(" [GET_USER] Profile creation timed out, continuing without profile"),{user:d,profile:null,error:x}}}return{user:d,profile:null,error:m}}return console.log(" [GET_USER] Profile found:",h==null?void 0:h.first_name),{user:d,profile:h,error:null}}catch(o){console.error(" [GET_USER] Exception in getCurrentUser:",o);try{const{data:{session:l}}=await Oe.auth.getSession();if(l!=null&&l.user)return console.log(" [GET_USER] Emergency fallback to cached session"),{user:l.user,profile:null,error:new Error("Service unavailable - emergency session fallback")}}catch(l){console.error(" [GET_USER] Emergency fallback failed:",l)}return{user:null,profile:null,error:o}}}async function S7(e,t){try{const{error:s}=await Oe.from("profiles").update({first_name:t.firstName,last_name:t.lastName,gender:t.gender,birth_date:t.birthDate,country:t.country,city:t.city,bio:t.bio,interests:t.interests,profession:t.profession,languages:t.languages,updated_at:new Date().toISOString()}).eq("id",e);return{error:s}}catch(s){return console.error("Update profile error:",s),{error:s}}}async function k7(e,t){var s;try{if(console.log(" [UPLOAD] Starting photo upload for user:",e),console.log(" [UPLOAD] File details:",{name:t.name,size:t.size,type:t.type}),!t.type.startsWith("image/"))throw new Error("Please upload an image file (JPG, PNG, GIF, etc.)");if(t.size>5*1024*1024)throw new Error("Image size must be less than 5MB");const n=(s=t.name.split(".").pop())==null?void 0:s.toLowerCase(),i=`${e}-${Date.now()}.${n}`,a=`profiles/${e}/${i}`;console.log(" [UPLOAD] File path:",a);const{error:o}=await Oe.storage.from("profile-photos").upload(a,t,{cacheControl:"3600",upsert:!1});if(o)throw console.error(" [UPLOAD] Storage upload error:",o),new Error(`Upload failed: ${o.message}`);console.log(" [UPLOAD] File uploaded to storage successfully");const{data:l}=Oe.storage.from("profile-photos").getPublicUrl(a);if(!(l!=null&&l.publicUrl))throw new Error("Failed to generate public URL for uploaded image");console.log(" [UPLOAD] Public URL generated:",l.publicUrl);const{data:c,error:d}=await Oe.from("profiles").select("photos").eq("id",e).single();if(d)throw console.error(" [UPLOAD] Error fetching current profile:",d),new Error(`Failed to fetch profile: ${d.message}`);const u=(c==null?void 0:c.photos)||[],h=[...u,l.publicUrl];console.log(" [UPLOAD] Updating photos array:",{current:u.length,updated:h.length});const{error:m}=await Oe.from("profiles").update({photos:h,updated_at:new Date().toISOString()}).eq("id",e);if(m)throw console.error(" [UPLOAD] Error updating profile:",m),new Error(`Failed to update profile: ${m.message}`);return console.log(" [UPLOAD] Profile updated successfully"),{url:l.publicUrl,error:null}}catch(n){return console.error(" [UPLOAD] Upload profile photo error:",n),{url:null,error:n instanceof Error?n:new Error("Unknown upload error")}}}async function C7(){try{console.log(" [STORAGE] Testing storage access...");const{data:e,error:t}=await Oe.storage.listBuckets();if(t)return console.error(" [STORAGE] Error listing buckets:",t),{success:!1,error:t.message,buckets:[]};if(console.log(" [STORAGE] Available buckets:",e.map(a=>a.name)),!e.find(a=>a.name==="profile-photos"))return console.log(" [STORAGE] profile-photos bucket not found"),{success:!1,error:"profile-photos bucket does not exist. Please create it in Supabase Dashboard.",buckets:e.map(a=>a.name)};console.log(" [STORAGE] profile-photos bucket found");const{data:n,error:i}=await Oe.storage.from("profile-photos").list("",{limit:1});return i?(console.error(" [STORAGE] Error accessing profile-photos bucket:",i),{success:!1,error:`Cannot access profile-photos bucket: ${i.message}`,buckets:e.map(a=>a.name)}):(console.log(" [STORAGE] Can access profile-photos bucket"),{success:!0,error:null,buckets:e.map(a=>a.name),canAccessProfilePhotos:!0})}catch(e){return console.error(" [STORAGE] Storage test exception:",e),{success:!1,error:e instanceof Error?e.message:"Unknown storage error",buckets:[]}}}const k3=E.createContext(void 0);function _7({children:e}){const[t,s]=E.useState(null),[n,i]=E.useState(!0),[a,o]=E.useState(null),[l,c]=E.useState(navigator.onLine),[d,u]=E.useState(!1),[h,m]=E.useState(!1);E.useEffect(()=>{const L=()=>{console.log(" [AUTH_CONTEXT] Network is back online"),c(!0),!d&&!t&&!h&&(console.log(" [AUTH_CONTEXT] Retrying auth after reconnection..."),p())},T=()=>{console.log(" [AUTH_CONTEXT] Network went offline"),c(!1)};return window.addEventListener("online",L),window.addEventListener("offline",T),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",T)}},[d,t,h]);const p=async()=>{var L,T,q,G,M,O,X,K,de,V,ne,z,Q,se,ue,I,W,Z,te,ae,ge,be,oe,_e,Ee,ze,Be,Pe;if(h){console.log(" [AUTH_CONTEXT] CheckUser already in progress, skipping...");return}if(!l&&!d){console.log(" [AUTH_CONTEXT] Offline and not initialized, checking local session...");try{const{data:{session:he}}=await Oe.auth.getSession();if(he!=null&&he.user){console.log(" [AUTH_CONTEXT] Found cached session while offline");const Y={id:he.user.id,email:he.user.email||"",firstName:((L=he.user.user_metadata)==null?void 0:L.first_name)||"",lastName:((T=he.user.user_metadata)==null?void 0:T.last_name)||"",gender:((q=he.user.user_metadata)==null?void 0:q.gender)||"male",birthDate:((G=he.user.user_metadata)==null?void 0:G.birth_date)||"",country:((M=he.user.user_metadata)==null?void 0:M.country)||"",city:((O=he.user.user_metadata)==null?void 0:O.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:he.user.created_at||"",chatSubscription:void 0};s(Y),u(!0)}}catch(he){console.warn(" [AUTH_CONTEXT] Error checking offline session:",he)}i(!1);return}console.log(" [AUTH_CONTEXT] Starting user check..."),m(!0);try{const{data:he}=await Oe.auth.getSession();if(console.log(" [AUTH_CONTEXT] Supabase session result:",{hasSession:!!he.session,hasUser:!!((X=he.session)!=null&&X.user),sessionError:!!((K=he.session)!=null&&K.access_token),userEmail:(V=(de=he.session)==null?void 0:de.user)==null?void 0:V.email}),!he.session){console.log(" [AUTH_CONTEXT] No active session found"),s(null),u(!0),i(!1);return}console.log(" [AUTH_CONTEXT] Active session found for user:",he.session.user.email),console.log(" [AUTH_CONTEXT] Getting user data...");const Y={id:he.session.user.id,email:he.session.user.email||"",firstName:((ne=he.session.user.user_metadata)==null?void 0:ne.first_name)||"",lastName:((z=he.session.user.user_metadata)==null?void 0:z.last_name)||"",gender:((Q=he.session.user.user_metadata)==null?void 0:Q.gender)||"male",birthDate:((se=he.session.user.user_metadata)==null?void 0:se.birth_date)||"",country:((ue=he.session.user.user_metadata)==null?void 0:ue.country)||"",city:((I=he.session.user.user_metadata)==null?void 0:I.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:he.session.user.created_at||"",chatSubscription:void 0};s(Y),u(!0),i(!1);try{const{user:Je,profile:We,error:Ie}=await Nw();if(!Ie&&We){const Ke={id:Je.id,email:Je.email||"",firstName:We.first_name||((W=Je.user_metadata)==null?void 0:W.first_name)||"",lastName:We.last_name||((Z=Je.user_metadata)==null?void 0:Z.last_name)||"",gender:We.gender||((te=Je.user_metadata)==null?void 0:te.gender)||"male",birthDate:We.birth_date||((ae=Je.user_metadata)==null?void 0:ae.birth_date)||"",country:We.country||((ge=Je.user_metadata)==null?void 0:ge.country)||"",city:We.city||((be=Je.user_metadata)==null?void 0:be.city)||"",bio:We.bio||"",interests:We.interests||[],profession:We.profession||"",languages:We.languages||[],photos:We.photos||[],verified:We.verified||!1,premium:We.premium||!1,coins:We.coins||0,role:We.role||"user",createdAt:We.created_at||Je.created_at||"",chatSubscription:We.chat_subscription||void 0};console.log(" [AUTH_CONTEXT] Enhanced user data with profile:",Ke.email),s(Ke)}else console.log(" [AUTH_CONTEXT] Using basic user data due to profile error:",Ie==null?void 0:Ie.message)}catch(Je){console.warn(" [AUTH_CONTEXT] Profile enhancement failed:",Je)}}catch(he){console.error(" [AUTH_CONTEXT] Error in checkUser:",he);try{const{data:{session:Y}}=await Oe.auth.getSession();if(Y!=null&&Y.user){console.log(" [AUTH_CONTEXT] Emergency fallback to session data");const Je={id:Y.user.id,email:Y.user.email||"",firstName:((oe=Y.user.user_metadata)==null?void 0:oe.first_name)||"",lastName:((_e=Y.user.user_metadata)==null?void 0:_e.last_name)||"",gender:((Ee=Y.user.user_metadata)==null?void 0:Ee.gender)||"male",birthDate:((ze=Y.user.user_metadata)==null?void 0:ze.birth_date)||"",country:((Be=Y.user.user_metadata)==null?void 0:Be.country)||"",city:((Pe=Y.user.user_metadata)==null?void 0:Pe.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:Y.user.created_at||"",chatSubscription:void 0};s(Je)}else s(null)}catch(Y){console.error(" [AUTH_CONTEXT] Emergency fallback failed:",Y),s(null)}u(!0),i(!1),o(he)}finally{m(!1)}};E.useEffect(()=>{d||p()},[d]),E.useEffect(()=>{if(!d)return;const{data:L}=Oe.auth.onAuthStateChange(async(G,M)=>{var O,X,K,de,V,ne,z,Q,se,ue,I,W,Z,te,ae,ge,be,oe;if(console.log(" [AUTH_LISTENER] Auth state changed:",G),console.log(" [AUTH_LISTENER] Session user present:",!!(M!=null&&M.user)),n){console.log(" [AUTH_LISTENER] Still loading, ignoring rapid auth change");return}if(G==="SIGNED_IN"&&(M!=null&&M.user)){if(console.log(" [AUTH_LISTENER] User signed in"),console.log(" [AUTH_LISTENER] User ID:",M.user.id),console.log(" [AUTH_LISTENER] User email:",M.user.email),(t==null?void 0:t.id)===M.user.id){console.log(" [AUTH_LISTENER] Same user already loaded, skipping refetch");return}try{const _e=new Promise((Y,Je)=>setTimeout(()=>Je(new Error("Auth listener timeout")),3e3)),Ee=Nw(),ze=await Promise.race([Ee,_e]),{user:Be,profile:Pe,error:he}=ze;if(Be){const Y={id:Be.id,email:Be.email||"",firstName:(Pe==null?void 0:Pe.first_name)||((O=Be.user_metadata)==null?void 0:O.first_name)||"",lastName:(Pe==null?void 0:Pe.last_name)||((X=Be.user_metadata)==null?void 0:X.last_name)||"",gender:(Pe==null?void 0:Pe.gender)||((K=Be.user_metadata)==null?void 0:K.gender)||"male",birthDate:(Pe==null?void 0:Pe.birth_date)||((de=Be.user_metadata)==null?void 0:de.birth_date)||"",country:(Pe==null?void 0:Pe.country)||((V=Be.user_metadata)==null?void 0:V.country)||"",city:(Pe==null?void 0:Pe.city)||((ne=Be.user_metadata)==null?void 0:ne.city)||"",bio:(Pe==null?void 0:Pe.bio)||"",interests:(Pe==null?void 0:Pe.interests)||[],profession:(Pe==null?void 0:Pe.profession)||"",languages:(Pe==null?void 0:Pe.languages)||[],photos:(Pe==null?void 0:Pe.photos)||[],verified:(Pe==null?void 0:Pe.verified)||!1,premium:(Pe==null?void 0:Pe.premium)||!1,coins:(Pe==null?void 0:Pe.coins)||0,role:(Pe==null?void 0:Pe.role)||"user",createdAt:(Pe==null?void 0:Pe.created_at)||Be.created_at||"",chatSubscription:(Pe==null?void 0:Pe.chat_subscription)||void 0};console.log(" [AUTH_LISTENER] Setting user state from session:",Y.email),s(Y),console.log(" [AUTH_LISTENER] User state set successfully")}else{const Y={id:M.user.id,email:M.user.email||"",firstName:((z=M.user.user_metadata)==null?void 0:z.first_name)||"",lastName:((Q=M.user.user_metadata)==null?void 0:Q.last_name)||"",gender:((se=M.user.user_metadata)==null?void 0:se.gender)||"male",birthDate:((ue=M.user.user_metadata)==null?void 0:ue.birth_date)||"",country:((I=M.user.user_metadata)==null?void 0:I.country)||"",city:((W=M.user.user_metadata)==null?void 0:W.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:M.user.created_at||"",chatSubscription:void 0};s(Y)}}catch{console.warn(" [AUTH_LISTENER] Timeout getting user data, using session fallback");const Ee={id:M.user.id,email:M.user.email||"",firstName:((Z=M.user.user_metadata)==null?void 0:Z.first_name)||"",lastName:((te=M.user.user_metadata)==null?void 0:te.last_name)||"",gender:((ae=M.user.user_metadata)==null?void 0:ae.gender)||"male",birthDate:((ge=M.user.user_metadata)==null?void 0:ge.birth_date)||"",country:((be=M.user.user_metadata)==null?void 0:be.country)||"",city:((oe=M.user.user_metadata)==null?void 0:oe.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:M.user.created_at||"",chatSubscription:void 0};s(Ee)}}else G==="SIGNED_OUT"?(console.log(" [AUTH_LISTENER] User signed out"),s(null)):G==="TOKEN_REFRESHED"&&(M!=null&&M.user)&&(console.log(" [AUTH_LISTENER] Token refreshed"),(!t||t.id!==M.user.id)&&(console.log(" [AUTH_LISTENER] Refreshing user data after token refresh"),p()))}),T=setInterval(async()=>{if(!l){console.log(" [SESSION_REFRESH] Offline, skipping session check");return}try{const{data:{session:G}}=await Oe.auth.getSession();!G&&t&&(console.log(" [SESSION_REFRESH] Session lost, clearing user"),s(null))}catch(G){console.warn(" [SESSION_REFRESH] Error checking session:",G)}},10*60*1e3),q=async()=>{if(!l){console.log(" [WINDOW_FOCUS] Offline, skipping focus check");return}try{const{data:{session:G}}=await Oe.auth.getSession();!G&&t&&(console.log(" [WINDOW_FOCUS] Session lost on tab return, clearing user"),s(null))}catch(G){console.warn(" [WINDOW_FOCUS] Error checking session on focus:",G)}};return window.addEventListener("focus",q),()=>{L.subscription.unsubscribe(),clearInterval(T),window.removeEventListener("focus",q)}},[d,n,t==null?void 0:t.id,l]);const x=async(L,T,q)=>{try{i(!0);const{error:G}=await w7(L,T,q);return G?(console.error("Sign up error in context:",G),G&&typeof G=="object"&&"message"in G&&typeof G.message=="string"&&G.message.includes("Database error")?{error:new Error("Database setup issue. Please contact support or try again later.")}:{error:G}):{error:null}}catch(G){return console.error("Error in sign up:",G),o(G),{error:G}}finally{i(!1)}},j=async(L,T,q=!0)=>{var G,M,O,X,K,de;if(console.log(" [CONTEXT] handleSignIn called"),console.log(" [CONTEXT] Email:",L),console.log(" [CONTEXT] Remember me:",q),n)return console.log(" [CONTEXT] Already loading, ignoring duplicate call"),{error:new Error("Login already in progress")};try{console.log(" [CONTEXT] Setting loading to true..."),i(!0),console.log(" [CONTEXT] Calling signIn function...");const{error:V}=await N7(L,T,q);if(console.log(" [CONTEXT] signIn function returned"),console.log(" [CONTEXT] Error present:",!!V),V)console.log(" [CONTEXT] SignIn error details:",V);else{console.log(" [CONTEXT] SignIn successful, updating user state...");try{const{data:{session:ne}}=await Oe.auth.getSession();if(ne!=null&&ne.user){console.log(" [CONTEXT] Session found after login, creating user object...");const z={id:ne.user.id,email:ne.user.email||"",firstName:((G=ne.user.user_metadata)==null?void 0:G.first_name)||"",lastName:((M=ne.user.user_metadata)==null?void 0:M.last_name)||"",gender:((O=ne.user.user_metadata)==null?void 0:O.gender)||"male",birthDate:((X=ne.user.user_metadata)==null?void 0:X.birth_date)||"",country:((K=ne.user.user_metadata)==null?void 0:K.country)||"",city:((de=ne.user.user_metadata)==null?void 0:de.city)||"",bio:"",interests:[],profession:"",languages:[],photos:[],verified:!1,premium:!1,coins:0,role:"user",createdAt:ne.user.created_at||"",chatSubscription:void 0};s(z),u(!0),console.log(" [CONTEXT] User state updated after login")}}catch(ne){console.warn(" [CONTEXT] Error updating user state after login:",ne)}}return console.log(" [CONTEXT] Returning from handleSignIn"),{error:V}}catch(V){return console.error(" [CONTEXT] Exception in handleSignIn:",V),o(V),{error:V}}finally{console.log(" [CONTEXT] Setting loading to false..."),i(!1),console.log(" [CONTEXT] Loading set to false")}},N=async()=>{try{i(!0);const{error:L}=await j7();return L||s(null),{error:L}}catch(L){return console.error("Error in sign out:",L),o(L),{error:L}}finally{i(!1)}},y=async L=>{try{if(i(!0),!t)throw new Error("No user logged in");const{error:T}=await S7(t.id,L);return T||s(q=>q?{...q,...L}:null),{error:T}}catch(T){return console.error("Error updating profile:",T),o(T),{error:T}}finally{i(!1)}},v=async L=>{try{if(i(!0),!t)throw new Error("No user logged in");const{url:T,error:q}=await k7(t.id,L);return!q&&T&&s(G=>{if(!G)return null;const M=[...G.photos||[],T];return{...G,photos:M}}),{url:T,error:q}}catch(T){return console.error("Error uploading profile photo:",T),o(T),{url:null,error:T}}finally{i(!1)}},b=async L=>{try{if(!t)throw new Error("No user logged in");const T=t.coins+L,{error:q}=await Oe.from("profiles").update({coins:T}).eq("id",t.id);if(q)throw q;return s(G=>G?{...G,coins:T}:null),{error:null}}catch(T){return console.error("Error updating coins:",T),{error:T}}},k=async()=>{try{const{success:L,error:T,buckets:q}=await C7();return{success:L,error:T,buckets:q}}catch(L){return console.error("Error testing storage access:",L),{success:!1,error:L,buckets:[]}}},_=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin"||!1;console.log(" [AUTH_CONTEXT] Admin check:",{userId:t==null?void 0:t.id,userRole:t==null?void 0:t.role,isAdmin:_,hasUser:!!t});const C={user:t,loading:n,error:a,isAdmin:_,signUp:x,signIn:j,signOut:N,updateProfile:y,uploadProfilePhoto:v,updateCoins:b,testStorageAccess:k};return r.jsx(k3.Provider,{value:C,children:e})}function dn(){const e=E.useContext(k3);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function A7({id:e,title:t,message:s,type:n,duration:i=4e3,onClose:a}){const[o,l]=E.useState(!1),[c,d]=E.useState(i);E.useEffect(()=>{let p;return!o&&c>0&&(p=setTimeout(()=>{d(x=>{const j=x-100;return j<=0?(setTimeout(()=>a(e),0),0):j})},100)),()=>clearTimeout(p)},[o,c,e,a]);const u=()=>{switch(n){case"success":return r.jsx(Nr,{className:"h-5 w-5 text-green-500"});case"error":return r.jsx(ro,{className:"h-5 w-5 text-red-500"});case"warning":return r.jsx(pl,{className:"h-5 w-5 text-yellow-500"});case"info":return r.jsx(F4,{className:"h-5 w-5 text-blue-500"})}},h=()=>{switch(n){case"success":return"border-l-green-500";case"error":return"border-l-red-500";case"warning":return"border-l-yellow-500";case"info":return"border-l-blue-500"}},m=c/i*100;return r.jsxs("div",{className:`bg-white border-l-4 ${h()} rounded-lg shadow-lg p-4 mb-3 animate-slide-in-right max-w-sm relative overflow-hidden`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[r.jsxs("div",{className:"flex items-start gap-3",children:[u(),r.jsxs("div",{className:"flex-1 min-w-0",children:[t&&r.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:t}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:s})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-gray-100",onClick:()=>a(e),children:r.jsx(or,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200",children:r.jsx("div",{className:`h-full transition-all duration-100 ease-linear ${n==="success"?"bg-green-500":n==="error"?"bg-red-500":n==="warning"?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${m}%`}})})]})}function i1({toasts:e,onClose:t}){return e.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-[60] space-y-2",children:e.map(s=>r.jsx(A7,{...s,onClose:t},s.id))})}function Qh(){const[e,t]=E.useState([]),s=c=>{const d=Date.now().toString();t(u=>[...u,{...c,id:d}])};return{toasts:e,addToast:s,removeToast:c=>{t(d=>d.filter(u=>u.id!==c))},success:(c,d)=>{s({type:"success",message:c,title:d})},error:(c,d)=>{s({type:"error",message:c,title:d})},warning:(c,d)=>{s({type:"warning",message:c,title:d})},info:(c,d)=>{s({type:"info",message:c,title:d})}}}function C3({profile:e,onMessage:t,showMessageButton:s=!0,showLikeButton:n=!0,className:i=""}){const[a,o]=E.useState(0),[l,c]=E.useState(()=>cp(e.id)),{user:d}=dn(),u=Qh(),h=E.useMemo(()=>e.birthDate?new Date().getFullYear()-new Date(e.birthDate).getFullYear():0,[e.birthDate]);E.useEffect(()=>{c(cp(e.id))},[e.id]);const m=N=>{N.stopPropagation(),o(y=>y===0?e.photos.length-1:y-1)},p=N=>{N.stopPropagation(),o(y=>y===e.photos.length-1?0:y+1)},x=()=>{l?S3(e.id):j3(e),c(!l)},j=()=>{if(!d){u.error("Please sign in to start messaging","Authentication Required"),setTimeout(()=>{window.location.href="/lcn/login"},1500);return}t&&t(e)};return r.jsxs(fs,{className:`overflow-hidden hover-lift group animate-fade-in ${i}`,children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsxs("div",{className:"transition-transform duration-500 group-hover:scale-105",children:[e.photos&&e.photos.length>0&&e.photos[a]?r.jsx("img",{src:e.photos[a],alt:`${e.firstName}'s profile`,className:`w-full ${i?"h-[70vh]":"h-96"} object-cover`}):r.jsx("div",{className:`w-full ${i?"h-[70vh]":"h-96"} bg-gray-200 flex items-center justify-center`,children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("p",{className:"text-lg font-medium",children:"No Photo"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Photo not available"})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6 text-white",children:r.jsx("div",{className:"flex items-end justify-between",children:r.jsxs("div",{className:"transform transition-transform duration-300 group-hover:translate-y-[-2px]",children:[r.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[e.firstName,", ",h]}),r.jsx("p",{className:"text-white/90 text-sm flex items-center gap-1",children:r.jsxs("span",{children:[e.city,", ",e.country]})})]})})})]}),e.photos&&e.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full p-2 hover:bg-white hover:scale-110 transition-all duration-200 opacity-0 group-hover:opacity-100",onClick:m,children:r.jsx(Ah,{className:"h-4 w-4 text-gray-700"})}),r.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 backdrop-blur-sm rounded-full p-2 hover:bg-white hover:scale-110 transition-all duration-200 opacity-0 group-hover:opacity-100",onClick:p,children:r.jsx(Eh,{className:"h-4 w-4 text-gray-700"})}),r.jsx("div",{className:"absolute top-4 left-0 right-0 flex justify-center gap-1",children:e.photos.map((N,y)=>r.jsx("div",{className:`h-1 rounded-full transition-all duration-300 ${y===a?"w-8 bg-white shadow-lg":"w-2 bg-white/60 hover:bg-white/80"}`},y))})]}),e.verified&&r.jsx("div",{className:"absolute top-4 right-4 animate-bounce-subtle",children:r.jsxs(Os,{variant:"verified",className:"flex items-center gap-1 shadow-lg",children:[r.jsx(ms,{className:"h-3 w-3"}),r.jsx("span",{children:"Verified"})]})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-700 line-clamp-2 mb-4 leading-relaxed",children:e.bio}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 stagger-animation",children:[e.interests.slice(0,3).map((N,y)=>r.jsx(Os,{variant:"secondary",className:"text-xs hover:bg-primary-100 hover:text-primary-700 transition-colors duration-200",children:N},y)),e.interests.length>3&&r.jsxs(Os,{variant:"outline",className:"text-xs hover:bg-gray-100 transition-colors duration-200",children:["+",e.interests.length-3," more"]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[n&&r.jsxs(Re,{variant:"outline",size:"sm",className:`flex-1 gap-2 ${l?"bg-rose-500 text-white ":"hover:bg-primary-50  hover:border-primary-300"} transition-all duration-200`,onClick:x,children:[r.jsx(Us,{className:`h-4 w-4 transition-all duration-200 ${l?"fill-current":""}`}),r.jsx("span",{children:l?"Liked":"Like"})]}),s&&t&&r.jsxs(Re,{variant:"default",size:"sm",className:"flex-1 gap-2 hover:shadow-lg hover:scale-[1.02] transition-all duration-200",onClick:j,children:[r.jsx(Ns,{className:"h-4 w-4"}),r.jsx("span",{children:"Message"})]})]})]})]})}const dp=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ln("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));dp.displayName="Avatar";const up=E.forwardRef(({className:e,...t},s)=>r.jsx("img",{ref:s,className:ln("aspect-square h-full w-full",e),...t}));up.displayName="AvatarImage";const hp=E.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ln("flex h-full w-full items-center justify-center rounded-full bg-slate-100 text-slate-950",e),...t}));hp.displayName="AvatarFallback";const _3=E.createContext(void 0);function E7({children:e}){const[t,s]=E.useState(!1),[n,i]=E.useState(null),a=l=>{i(l),s(!0)},o=()=>{s(!1),i(null)};return r.jsx(_3.Provider,{value:{showChatWindow:t,chatProfile:n,openChat:a,closeChat:o},children:e})}function Kp(){const e=E.useContext(_3);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e}function P7({senderName:e,senderPhoto:t,message:s,duration:n=6e3,onClose:i,onReply:a,onViewConversation:o}){var p;const[l,c]=E.useState(!1),[d,u]=E.useState(!1);E.useEffect(()=>{const x=setTimeout(()=>c(!0),100),j=setTimeout(()=>{h()},n);try{const N=new(window.AudioContext||window.webkitAudioContext),y=N.createOscillator(),v=N.createGain();y.connect(v),v.connect(N.destination),y.frequency.setValueAtTime(800,N.currentTime),y.frequency.setValueAtTime(600,N.currentTime+.1),v.gain.setValueAtTime(.05,N.currentTime),v.gain.exponentialRampToValueAtTime(.01,N.currentTime+.15),y.start(N.currentTime),y.stop(N.currentTime+.15)}catch{}return"Notification"in window&&Notification.permission==="granted"&&new Notification(`${e}`,{body:s.length>50?s.substring(0,50)+"...":s,icon:t||"/default-avatar.png",tag:"chat-message",requireInteraction:!1}),()=>{clearTimeout(x),clearTimeout(j)}},[n,e,s,t]);const h=()=>{u(!0),setTimeout(()=>{c(!1),i==null||i()},200)},m=()=>{o==null||o(),h()};return!l&&!d?null:r.jsxs("div",{className:`fixed top-4 right-4 z-50 w-80 bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden cursor-pointer transition-all duration-200 ease-out ${l&&!d?"translate-y-0 opacity-100 scale-100":"-translate-y-2 opacity-0 scale-95"}`,onClick:m,children:[r.jsx("div",{className:"p-3",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[t?r.jsx("img",{src:t,alt:`${e}'s profile`,className:"w-8 h-8 rounded-full object-cover"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:(p=e[0])==null?void 0:p.toUpperCase()})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border border-white rounded-full"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:e}),r.jsx("button",{onClick:x=>{x.stopPropagation(),h()},className:"p-0.5 rounded-full hover:bg-gray-100 transition-colors ml-2",children:r.jsx(or,{className:"w-3 h-3 text-gray-400"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-0.5 line-clamp-2",children:s.length>60?s.substring(0,60)+"...":s})]})]})}),r.jsx("div",{className:"h-0.5 bg-gray-100",children:r.jsx("div",{className:"h-full bg-gray-400",style:{width:"100%",animation:`progressShrink ${n}ms linear forwards`}})}),r.jsx("style",{children:`
          @keyframes progressShrink {
            from { width: 100%; }
            to { width: 0%; }
          }
          .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }
        `})]})}const A3=E.createContext(void 0);function T7({children:e}){const{user:t}=dn(),{openChat:s}=Kp(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(null),d=a.reduce((v,b)=>v+b.unreadCount,0),u=E.useCallback(v=>l===v,[l]),h=E.useCallback(v=>{o(b=>b.filter(k=>k.senderId!==v)),i(b=>b.filter(k=>k.senderId!==v))},[]),m=E.useCallback(v=>{c(v),v&&h(v)},[h]),p=E.useCallback(v=>{u(v.senderId)||(o(b=>{const k=b.findIndex(_=>_.senderId===v.senderId);if(k>=0){const _=[...b];return _[k]={..._[k],unreadCount:_[k].unreadCount+1,lastMessage:v.message,lastMessageTime:v.timestamp},_}else{const _={senderId:v.senderId,senderName:v.senderName,senderPhoto:v.senderPhoto,unreadCount:1,lastMessage:v.message,lastMessageTime:v.timestamp};return[...b,_]}}),i(b=>{const k=b.filter(C=>C.id!==v.id);return[v,...k].slice(0,3)}))},[u]),x=E.useCallback(v=>{i(b=>b.filter(k=>k.id!==v))},[]),j=E.useCallback(()=>{i([])},[]),N=E.useCallback(async v=>{try{console.log(" [NOTIFICATION] Opening chat for sender:",v);const b=window.testProfiles;if(b&&b[v]){console.log(" [NOTIFICATION] Using test profile"),s(b[v]);return}const{data:k,error:_}=await Oe.from("profiles").select("*").eq("id",v).single();if(_){console.error("Error fetching sender profile:",_),window.location.href=`/browse?openChat=${v}`;return}if(k){const C={id:k.id,userId:k.id,firstName:k.first_name,lastName:k.last_name,gender:k.gender,birthDate:k.birth_date,country:k.country,city:k.city,bio:k.bio,interests:k.interests||[],profession:k.profession,languages:k.languages||[],photos:k.photos||[],verified:k.verified||!1,createdAt:k.created_at,height:k.height,weight:k.weight,eyeColor:k.eye_color,hairColor:k.hair_color,appearanceType:k.appearance_type,alcohol:k.alcohol,smoking:k.smoking,children:k.children,religion:k.religion,zodiacSign:k.zodiac_sign,englishLevel:k.english_level,hasIntroVideo:k.has_intro_video||!1,isOnline:k.is_online||!1,hasVideo:k.has_video||!1,hasCameraOn:k.has_camera_on||!1,birthdaySoon:!1,newProfile:!1,top1000:!1};console.log(" [NOTIFICATION] Opening ChatWindow with profile:",C.firstName),s(C)}}catch(b){console.error("Error opening chat from notification:",b),window.location.href=`/browse?openChat=${v}`}},[s]);E.useEffect(()=>{if(!(t!=null&&t.id))return;if(console.log(" [MESSAGE-NOTIFICATIONS] Setting up real-time message notifications for user:",t.id),!navigator.onLine){console.log(" [MESSAGE-NOTIFICATIONS] Device is offline, skipping real-time setup");return}"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(q=>{console.log(" [MESSAGE-NOTIFICATIONS] Notification permission:",q)});let v=null,b=0;const k=3;let _=null;const C=()=>{try{v=Oe.channel(`message_notifications_${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},async q=>{var M;console.log(" [MESSAGE-NOTIFICATIONS] New message received:",q);const G=q.new;if(G.sender_id!==t.id){if(u(G.sender_id)){console.log(" [MESSAGE-NOTIFICATIONS] User is in active chat, skipping notification");return}try{const O=Oe.from("profiles").select("id, first_name, last_name, photos").eq("id",G.sender_id).single(),X=new Promise((Q,se)=>setTimeout(()=>se(new Error("Profile fetch timeout")),3e3)),{data:K,error:de}=await Promise.race([O,X]);if(de){console.warn(" [MESSAGE-NOTIFICATIONS] Error fetching sender profile:",de);const Q={id:G.id,senderName:"Someone",message:G.content,senderId:G.sender_id,timestamp:G.created_at};p(Q);return}const V=K?`${K.first_name} ${K.last_name}`.trim():"Someone",ne=(M=K==null?void 0:K.photos)==null?void 0:M[0],z={id:G.id,senderName:V,senderPhoto:ne,message:G.content,senderId:G.sender_id,timestamp:G.created_at};console.log(" [MESSAGE-NOTIFICATIONS] Adding notification:",z),p(z)}catch(O){console.error(" [MESSAGE-NOTIFICATIONS] Error processing notification:",O);const X={id:G.id,senderName:"Someone",message:G.content,senderId:G.sender_id,timestamp:G.created_at};p(X)}}}).subscribe(q=>{if(console.log(" [MESSAGE-NOTIFICATIONS] Subscription status:",q),q==="SUBSCRIBED")console.log(" [MESSAGE-NOTIFICATIONS] Successfully subscribed to real-time messages"),b=0;else if(q==="CHANNEL_ERROR"||q==="TIMED_OUT")if(console.warn(" [MESSAGE-NOTIFICATIONS] Subscription error, attempting to reconnect..."),b<k&&navigator.onLine){b++;const G=Math.min(1e3*Math.pow(2,b-1),1e4);console.log(` [MESSAGE-NOTIFICATIONS] Reconnect attempt ${b}/${k} in ${G}ms`),_=setTimeout(()=>{v&&Oe.removeChannel(v),C()},G)}else console.error(" [MESSAGE-NOTIFICATIONS] Max reconnection attempts reached or offline");else q==="CLOSED"&&console.log(" [MESSAGE-NOTIFICATIONS] Subscription closed")})}catch(q){console.error(" [MESSAGE-NOTIFICATIONS] Error setting up subscription:",q)}};C();const L=()=>{console.log(" [MESSAGE-NOTIFICATIONS] Back online, reconnecting..."),b=0,v&&Oe.removeChannel(v),C()},T=()=>{console.log(" [MESSAGE-NOTIFICATIONS] Gone offline, pausing real-time notifications"),_&&(clearTimeout(_),_=null)};return window.addEventListener("online",L),window.addEventListener("offline",T),()=>{console.log(" [MESSAGE-NOTIFICATIONS] Cleaning up message notification subscription"),_&&clearTimeout(_),v&&Oe.removeChannel(v),window.removeEventListener("online",L),window.removeEventListener("offline",T)}},[t==null?void 0:t.id,p,u]),E.useEffect(()=>{const v=setInterval(()=>{const b=Date.now()-3e5;i(k=>k.filter(_=>new Date(_.timestamp).getTime()>b))},6e4);return()=>clearInterval(v)},[]);const y={notifications:n,unreadConversations:a,totalUnreadCount:d,addNotification:p,removeNotification:x,clearAllNotifications:j,markConversationAsRead:h,isInActiveChat:u,setActiveChat:m};return r.jsxs(A3.Provider,{value:y,children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:n.map((v,b)=>r.jsx("div",{style:{transform:`translateY(${b*10}px)`,zIndex:50-b},children:r.jsx(P7,{senderName:v.senderName,senderPhoto:v.senderPhoto,message:v.message,duration:8e3,onClose:()=>x(v.id),onReply:()=>N(v.senderId),onViewConversation:()=>N(v.senderId)})},v.id))})]})}function a1(){const e=E.useContext(A3);if(e===void 0)throw new Error("useMessageNotifications must be used within a MessageNotificationProvider");return e}function Xs(){var G,M,O,X;const[e,t]=E.useState(!1),[s,n]=E.useState(!1),i=cn(),{user:a,signOut:o,isAdmin:l}=dn(),{openChat:c}=Kp(),{totalUnreadCount:d}=a1();ca();const u=Qh(),[h,m]=E.useState("checking"),[p,x]=E.useState(!1),[j,N]=E.useState(null),[y,v]=E.useState(navigator.onLine),b=E.useRef(null),k=E.useRef(null),_=()=>{t(!e),e&&n(!1)},C=()=>{n(!s)},L=async()=>{await o(),i("/login")},T=()=>{if(!a){u.error("Please sign in to start messaging"),i("/login");return}const K={id:"6a4dc632-6e3f-42a6-91b6-0644ff94c864",userId:"6a4dc632-6e3f-42a6-91b6-0644ff94c864",firstName:"Elena",lastName:"Volkov",gender:"female",country:"Ukraine",city:"Kyiv",photos:["https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400"],bio:"Looking for meaningful connections and someone to share life adventures with.",profession:"Designer",interests:["Travel","Art","Cooking"],languages:["Ukrainian","English","Russian"],verified:!0,birthDate:"1995-05-15",height:165,children:"No children",smoking:"Non-smoker",religion:"Christian",createdAt:new Date().toISOString()};c(K),t(!1)};E.useEffect(()=>{const K=()=>{var V;try{const ne="https://bnhvcnbsxjrgdhhxdrpa.supabase.co",Q=`sb-${(V=ne==null?void 0:ne.split("//")[1])==null?void 0:V.split(".")[0]}-auth-token`,se=localStorage.getItem(Q);if(se){const ue=JSON.parse(se);if(ue&&ue.access_token){x(!0),m("active"),ue.user&&N(ue.user),console.log(" [NAVBAR] Session found in localStorage, user connected immediately");return}}x(!1),N(null),m("lost"),console.log(" [NAVBAR] No session found in localStorage")}catch(ne){console.error(" [NAVBAR] Error checking localStorage session:",ne),x(!1),N(null),m("lost")}};K();const de=V=>{V.key&&V.key.includes("auth-token")&&(console.log(" [NAVBAR] localStorage changed, rechecking session"),K())};return window.addEventListener("storage",de),a&&(x(!0),m("active")),()=>{window.removeEventListener("storage",de)}},[a]),E.useEffect(()=>{const K=()=>{v(!0),console.log(" [NAVBAR] Network is back online")},de=()=>{v(!1),console.log(" [NAVBAR] Network went offline")};return window.addEventListener("online",K),window.addEventListener("offline",de),()=>{window.removeEventListener("online",K),window.removeEventListener("offline",de)}},[]),E.useEffect(()=>{const K=de=>{b.current&&!b.current.contains(de.target)&&t(!1),k.current&&!k.current.contains(de.target)&&n(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);const q=a||j;return r.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white/95 backdrop-blur-md border-b border-gray-100 transition-all duration-300",children:[r.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(ut,{to:"/",className:"flex items-center gap-2 group",children:[r.jsx(Us,{className:"h-6 w-6 text-rose-500 fill-rose-500 group-hover:scale-110 transition-transform duration-200"}),r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-rose-500 to-pink-600 bg-clip-text text-transparent",children:"PureLove"})]})}),r.jsxs("nav",{className:"hidden lg:flex items-center gap-8",children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1 cursor-pointer",children:["Brides",r.jsx(Ud,{className:"h-3 w-3"})]}),r.jsx("div",{className:"absolute left-0 mt-2 w-64 rounded-xl shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:r.jsxs("div",{className:"py-2",children:[r.jsxs(ut,{to:"/browse?country=ukraine",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Ukrainian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Beautiful women from Ukraine"})]})]}),r.jsxs(ut,{to:"/browse?country=russia",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Russian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Elegant women from Russia"})]})]}),r.jsxs(ut,{to:"/browse?country=belarus",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Belarusian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Charming women from Belarus"})]})]}),r.jsxs(ut,{to:"/browse?country=poland",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Polish Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Amazing women from Poland"})]})]}),r.jsxs(ut,{to:"/browse?country=kazakhstan",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Kazakhstani Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Wonderful women from Kazakhstan"})]})]}),r.jsxs(ut,{to:"/browse?country=czech",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Czech Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Lovely women from Czech Republic"})]})]}),r.jsxs(ut,{to:"/browse?country=romania",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Romanian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Gorgeous women from Romania"})]})]}),r.jsxs(ut,{to:"/browse?country=bulgaria",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Bulgarian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Beautiful women from Bulgaria"})]})]}),r.jsxs(ut,{to:"/browse?country=latvia",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Latvian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Stunning women from Latvia"})]})]}),r.jsxs(ut,{to:"/browse?country=lithuania",className:"flex items-center gap-3 px-4 py-3 text-sm text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition-colors",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Lithuanian Brides"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Attractive women from Lithuania"})]})]})]})})]}),r.jsx(ut,{to:"/browse",className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1",children:"Browse"}),r.jsx(ut,{to:"/pricing",className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1",children:"Pricing"}),r.jsx("button",{onClick:T,className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1 flex items-center gap-1",children:"Live Chat"}),r.jsx(ut,{to:"/blog",className:"text-sm font-medium text-gray-600 hover:text-rose-500 hover:scale-105 transition-all duration-200 py-2 px-1",children:"Blog"})]}),r.jsx("div",{className:"hidden lg:flex items-center gap-4",children:q?r.jsxs(r.Fragment,{children:[r.jsxs(Re,{onClick:T,variant:"ghost",size:"icon",className:"relative hover:scale-110 transition-transform duration-200",children:[r.jsx(Ns,{className:"h-5 w-5 text-gray-600"}),d>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-rose-500 text-[10px] text-white flex items-center justify-center animate-pulse",children:d>99?"99+":d})]}),r.jsxs(Os,{variant:"secondary",className:"font-medium text-sm px-3 py-1 bg-gradient-to-r from-yellow-50 to-amber-50 text-amber-700 border-amber-200 hover:from-yellow-100 hover:to-amber-100 transition-all duration-200",children:[r.jsx(qn,{className:"h-4 w-4 mr-1 text-amber-600"}),q.coins||0]}),!y&&r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-red-50 border border-red-200 text-red-700",children:[r.jsx(Qb,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Offline"})]}),r.jsx(ut,{to:"/dashboard",children:r.jsxs(Re,{variant:"ghost",className:"flex items-center gap-2 text-gray-600 hover:text-rose-600 hover:bg-rose-50",children:[r.jsx(Yb,{className:"h-4 w-4"}),"Dashboard"]})}),l&&r.jsx(ut,{to:"/admin",children:r.jsxs(Re,{variant:"ghost",className:"flex items-center gap-2 text-gray-600 hover:text-red-600 hover:bg-red-50",children:[r.jsx(na,{className:"h-4 w-4"}),"Admin"]})}),r.jsx(ut,{to:"/dashboard",children:r.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full",children:r.jsxs(dp,{children:[r.jsx(up,{src:((G=q.photos)==null?void 0:G[0])||"https://danielschule.de/wp-content/uploads/2019/12/avatar.jpg"}),r.jsx(hp,{children:((M=q.firstName)==null?void 0:M.charAt(0))||"U"})]})})})]}):r.jsxs(r.Fragment,{children:[r.jsx(ut,{to:"/login",children:r.jsx(Re,{variant:"ghost",className:"text-gray-600 hover:text-rose-600 hover:bg-rose-50",children:"Sign In"})}),r.jsx(ut,{to:"/signup",children:r.jsx(Re,{className:"bg-rose-500 hover:bg-rose-600 text-white px-6",children:"Join Now"})})]})}),r.jsx("button",{className:"lg:hidden",onClick:_,children:e?r.jsx(or,{className:"h-6 w-6 text-gray-600"}):r.jsx(rE,{className:"h-6 w-6 text-gray-600"})})]}),e&&r.jsx("div",{className:"lg:hidden border-t animate-fade-in bg-white/95 backdrop-blur-md",children:r.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[r.jsxs("nav",{className:"flex flex-col space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:C,className:"flex items-center justify-between w-full text-sm  text-gray-800 py-1 hover:text-rose-600 transition-colors",children:[r.jsx("div",{className:"flex items-center gap-2",children:"Brides"}),r.jsx(Ud,{className:`h-4 w-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&r.jsxs("div",{className:"ml-6 space-y-2 animate-fade-in",children:[r.jsxs(ut,{to:"/browse?country=ukraine",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Ukrainian Brides"]}),r.jsxs(ut,{to:"/browse?country=russia",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Russian Brides"]}),r.jsxs(ut,{to:"/browse?country=belarus",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Belarusian Brides"]}),r.jsxs(ut,{to:"/browse?country=poland",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Polish Brides"]}),r.jsxs(ut,{to:"/browse?country=kazakhstan",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Kazakhstani Brides"]}),r.jsxs(ut,{to:"/browse?country=czech",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Czech Brides"]}),r.jsxs(ut,{to:"/browse?country=romania",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Romanian Brides"]}),r.jsxs(ut,{to:"/browse?country=bulgaria",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Bulgarian Brides"]}),r.jsxs(ut,{to:"/browse?country=latvia",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Latvian Brides"]}),r.jsxs(ut,{to:"/browse?country=lithuania",className:"flex items-center gap-2 text-sm text-gray-600 hover:text-rose-500 py-1",onClick:_,children:[r.jsx("span",{children:""})," Lithuanian Brides"]})]})]}),r.jsx(ut,{to:"/browse",className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2",onClick:_,children:"Browse All Profiles"}),r.jsx(ut,{to:"/pricing",className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2",onClick:_,children:"Pricing"}),r.jsx("button",{onClick:T,className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2 flex items-center gap-2",children:"Live Chat"}),r.jsx(ut,{to:"/blog",className:"text-sm font-medium text-gray-600 hover:text-rose-500 py-2",onClick:_,children:"Blog"})]}),q?r.jsxs("div",{className:"flex flex-col space-y-4 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(dp,{className:"h-8 w-8",children:[r.jsx(up,{src:((O=q.photos)==null?void 0:O[0])||"https://danielschule.de/wp-content/uploads/2019/12/avatar.jpg"}),r.jsx(hp,{children:((X=q.firstName)==null?void 0:X.charAt(0))||"U"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[q.firstName," ",q.lastName]}),r.jsx("p",{className:"text-xs text-gray-500",children:q.email}),!y&&r.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-xs mt-1",children:[r.jsx(Qb,{className:"h-3 w-3"}),r.jsx("span",{children:"Offline"})]})]})]}),r.jsxs(Os,{variant:"secondary",className:"font-medium",children:[q.coins||0," Coins"]})]}),r.jsxs(ut,{to:"/dashboard",className:"flex items-center gap-2",onClick:_,children:[r.jsx(Yb,{className:"h-5 w-5"}),r.jsx("span",{children:"Dashboard"})]}),l&&r.jsxs(ut,{to:"/admin",className:"flex items-center gap-2 text-red-600",onClick:_,children:[r.jsx(na,{className:"h-5 w-5"}),r.jsx("span",{children:"Admin Panel"})]}),r.jsxs("button",{onClick:T,className:"flex items-center gap-2 w-full text-left",children:[r.jsx(Ns,{className:"h-5 w-5"}),r.jsx("span",{children:"Messages"}),d>0&&r.jsx("span",{className:"ml-auto h-5 w-5 rounded-full bg-rose-500 text-[10px] text-white flex items-center justify-center",children:d>99?"99+":d})]}),r.jsxs("button",{onClick:()=>{L(),_()},className:"flex items-center gap-2 text-red-600",children:[r.jsx(Gv,{className:"h-5 w-5"}),r.jsx("span",{children:"Sign Out"})]})]}):r.jsxs("div",{className:"flex flex-col space-y-3 pt-6 border-t border-gray-200",children:[r.jsx(ut,{to:"/login",onClick:_,children:r.jsx(Re,{variant:"outline",className:"w-full text-gray-600 border-gray-300 hover:text-rose-600 hover:border-rose-300",children:"Sign In"})}),r.jsx(ut,{to:"/signup",onClick:_,children:r.jsx(Re,{className:"w-full bg-rose-500 hover:bg-rose-600 text-white",children:"Join Now"})})]})]})})]})}function kr(){return r.jsx("footer",{className:"bg-white border-t",children:r.jsxs("div",{className:"container mx-auto px-4 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Us,{className:"h-6 w-6 text-primary-500 fill-primary-500"}),r.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent",children:"PureLove"})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Connecting Western men with Eastern European and Central Asian women for meaningful relationships."}),r.jsx("div",{className:"space-y-2"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ut,{to:"/browse",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Browse Profiles"})}),r.jsx("li",{children:r.jsx(ut,{to:"/messages",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Messages"})}),r.jsx("li",{children:r.jsx(ut,{to:"/blog",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Dating Blog"})}),r.jsx("li",{children:r.jsx(ut,{to:"/success-stories",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Success Stories"})}),r.jsx("li",{children:r.jsx(ut,{to:"/pricing",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Pricing"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Information"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ut,{to:"/about",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"About Us"})}),r.jsx("li",{children:r.jsx(ut,{to:"/how-it-works",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"How It Works"})}),r.jsx("li",{children:r.jsx(ut,{to:"/safety",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Safety Tips"})}),r.jsx("li",{children:r.jsx(ut,{to:"/faq",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"FAQ"})}),r.jsx("li",{children:r.jsx(ut,{to:"/contact",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Contact Us"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ut,{to:"/terms",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx(ut,{to:"/privacy",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx(ut,{to:"/cookie-policy",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Cookie Policy"})}),r.jsx("li",{children:r.jsx(ut,{to:"/imbra",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"IMBRA Compliance"})}),r.jsx("li",{children:r.jsx(ut,{to:"/anti-scam",className:"text-gray-600 hover:text-primary-500 transition-colors",children:"Anti-Scam Policy"})})]})]})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t text-center text-gray-600",children:[r.jsxs("p",{children:[" ",new Date().getFullYear()," PureLove. All rights reserved."]}),r.jsx("p",{className:"mt-2 text-sm",children:"PureLove is committed to ensuring a safe and authentic dating experience. We comply with all international dating regulations including IMBRA."})]})]})})}const Fs=E.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:ln("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));Fs.displayName="Input";function L7({id:e,title:t,message:s,type:n="warning",confirmText:i="Confirm",cancelText:a="Cancel",onConfirm:o,onCancel:l,onClose:c}){const d=()=>{switch(n){case"danger":return r.jsx(pl,{className:"h-6 w-6 text-red-500"});case"warning":return r.jsx(pl,{className:"h-6 w-6 text-yellow-500"});case"success":return r.jsx(Nr,{className:"h-6 w-6 text-green-500"});case"info":return r.jsx(F4,{className:"h-6 w-6 text-blue-500"})}},u=()=>{switch(n){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"success":return"bg-green-600 hover:bg-green-700 text-white";case"info":return"bg-blue-600 hover:bg-blue-700 text-white"}},h=()=>{o(),c(e)},m=()=>{l(),c(e)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[d(),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:m,children:r.jsx(or,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:s})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx(Re,{variant:"outline",onClick:m,className:"px-6",children:a}),r.jsx(Re,{onClick:h,className:`px-6 ${u()}`,children:i})]})]})})}function M7({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(L7,{...s,onClose:t})}function I7(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},confirm:(a,o,l,c=()=>{},d)=>{s({title:a,message:o,onConfirm:l,onCancel:c,type:(d==null?void 0:d.type)||"warning",confirmText:(d==null?void 0:d.confirmText)||"Confirm",cancelText:(d==null?void 0:d.cancelText)||"Cancel"})}}}const o1=E.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:ln("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));o1.displayName="Textarea";function R7({id:e,title:t,message:s,placeholder:n="",defaultValue:i="",multiline:a=!1,onConfirm:o,onCancel:l,onClose:c}){const[d,u]=E.useState(i),h=()=>{o(d),c(e)},m=()=>{l(),c(e)},p=x=>{x.key==="Enter"&&!a&&!x.shiftKey&&(x.preventDefault(),d.trim()&&h())};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ph,{className:"h-6 w-6 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:m,children:r.jsx(or,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("p",{className:"text-gray-700 leading-relaxed",children:s}),a?r.jsx(o1,{value:d,onChange:x=>u(x.target.value),placeholder:n,className:"min-h-[100px] resize-none",autoFocus:!0}):r.jsx(Fs,{value:d,onChange:x=>u(x.target.value),onKeyPress:p,placeholder:n,autoFocus:!0})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx(Re,{variant:"outline",onClick:m,className:"px-6",children:"Cancel"}),r.jsx(Re,{onClick:h,disabled:!d.trim(),className:"px-6 bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit"})]})]})})}function D7({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(R7,{...s,onClose:t})}function O7(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},prompt:(a,o,l,c=()=>{},d)=>{s({title:a,message:o,onConfirm:l,onCancel:c,placeholder:(d==null?void 0:d.placeholder)||"",defaultValue:(d==null?void 0:d.defaultValue)||"",multiline:(d==null?void 0:d.multiline)||!1})}}}function F7(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function E3(...e){return t=>{let s=!1;const n=e.map(i=>{const a=jw(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():jw(e[i],null)}}}}function P3(...e){return E.useCallback(E3(...e),e)}function B7(e,t=[]){let s=[];function n(a,o){const l=E.createContext(o),c=s.length;s=[...s,o];const d=h=>{var y;const{scope:m,children:p,...x}=h,j=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,N=E.useMemo(()=>x,Object.values(x));return r.jsx(j.Provider,{value:N,children:p})};d.displayName=a+"Provider";function u(h,m){var j;const p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,x=E.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>E.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,U7(i,...t)]}function U7(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var T3=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},z7=NN[" useInsertionEffect ".trim().toString()]||T3;function $7({prop:e,defaultProp:t,onChange:s=()=>{},caller:n}){const[i,a,o]=V7({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:i;{const u=E.useRef(e!==void 0);E.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=E.useCallback(u=>{var h;if(l){const m=q7(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,e,a,o]);return[c,d]}function V7({defaultProp:e,onChange:t}){const[s,n]=E.useState(e),i=E.useRef(s),a=E.useRef(t);return z7(()=>{a.current=t},[t]),E.useEffect(()=>{var o;i.current!==s&&((o=a.current)==null||o.call(a,s),i.current=s)},[s,i]),[s,n,a]}function q7(e){return typeof e=="function"}function H7(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function W7(e){const[t,s]=E.useState(void 0);return T3(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}function G7(e){const t=K7(e),s=E.forwardRef((n,i)=>{const{children:a,...o}=n,l=E.Children.toArray(a),c=l.find(J7);if(c){const d=c.props.children,u=l.map(h=>h===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:i,children:E.isValidElement(d)?E.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}function K7(e){const t=E.forwardRef((s,n)=>{const{children:i,...a}=s;if(E.isValidElement(i)){const o=Q7(i),l=X7(a,i.props);return i.type!==E.Fragment&&(l.ref=n?E3(n,o):o),E.cloneElement(i,l)}return E.Children.count(i)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Y7=Symbol("radix.slottable");function J7(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y7}function X7(e,t){const s={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function Q7(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Z7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],L3=Z7.reduce((e,t)=>{const s=G7(`Primitive.${t}`),n=E.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Yp="Switch",[eL,JB]=B7(Yp),[tL,sL]=eL(Yp),M3=E.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=E.useState(null),x=P3(t,b=>p(b)),j=E.useRef(!1),N=m?u||!!m.closest("form"):!0,[y,v]=$7({prop:i,defaultProp:a??!1,onChange:d,caller:Yp});return r.jsxs(tL,{scope:s,checked:y,disabled:l,children:[r.jsx(L3.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":O3(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:F7(e.onClick,b=>{v(k=>!k),N&&(j.current=b.isPropagationStopped(),j.current||b.stopPropagation())})}),N&&r.jsx(D3,{control:m,bubbles:!j.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});M3.displayName=Yp;var I3="SwitchThumb",R3=E.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,i=sL(I3,s);return r.jsx(L3.span,{"data-state":O3(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});R3.displayName=I3;var rL="SwitchBubbleInput",D3=E.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:n=!0,...i},a)=>{const o=E.useRef(null),l=P3(o,a),c=H7(s),d=W7(t);return E.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==s&&p){const x=new Event("click",{bubbles:n});p.call(u,s),u.dispatchEvent(x)}},[c,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D3.displayName=rL;function O3(e){return e?"checked":"unchecked"}var F3=M3,nL=R3;const wn=E.forwardRef(({className:e,...t},s)=>r.jsx(F3,{className:ln("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-500 data-[state=unchecked]:bg-gray-200",e),...t,ref:s,children:r.jsx(nL,{className:ln("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wn.displayName=F3.displayName;function iL({id:e,title:t,settings:s,onSave:n,onCancel:i,onClose:a}){const[o,l]=E.useState(s),c=()=>{n(o),a(e)},d=()=>{i(),a(e)},u=(h,m)=>{l(p=>({...p,[h]:m}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(na,{className:"h-6 w-6 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:d,children:r.jsx(or,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Wv,{className:"h-4 w-4"}),"Notifications"]}),r.jsxs("div",{className:"space-y-3 ml-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Push Notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Receive notifications for new messages"})]}),r.jsx(wn,{checked:o.notifications,onCheckedChange:h=>u("notifications",h)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message Preview"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Show message content in notifications"})]}),r.jsx(wn,{checked:o.messagePreview,onCheckedChange:h=>u("messagePreview",h)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(U4,{className:"h-4 w-4"}),"Audio"]}),r.jsx("div",{className:"space-y-3 ml-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message Sounds"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Play sound when receiving messages"})]}),r.jsx(wn,{checked:o.sounds,onCheckedChange:h=>u("sounds",h)})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ms,{className:"h-4 w-4"}),"Privacy"]}),r.jsxs("div",{className:"space-y-3 ml-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Read Receipts"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Let others know when you've read their messages"})]}),r.jsx(wn,{checked:o.readReceipts,onCheckedChange:h=>u("readReceipts",h)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Online Status"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Show when you're online to other users"})]}),r.jsx(wn,{checked:o.onlineStatus,onCheckedChange:h=>u("onlineStatus",h)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Ns,{className:"h-4 w-4"}),"Chat Management"]}),r.jsx("div",{className:"space-y-3 ml-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Auto Archive"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically archive inactive conversations"})]}),r.jsx(wn,{checked:o.autoArchive,onCheckedChange:h=>u("autoArchive",h)})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[r.jsx(Re,{variant:"outline",onClick:d,className:"px-6",children:"Cancel"}),r.jsx(Re,{onClick:c,className:"px-6 bg-blue-600 hover:bg-blue-700 text-white",children:"Save Settings"})]})]})})}function aL({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(iL,{...s,onClose:t})}function oL(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},openSettings:(a,o,l,c=()=>{})=>{s({title:a,settings:o,onSave:l,onCancel:c})}}}function lL({id:e,title:t,archivedConversations:s,onUnarchive:n,onDelete:i,onCancel:a,onClose:o}){const[l,c]=E.useState(""),d=()=>{a(),o(e)},u=x=>{n(x)},h=x=>{i(x)},m=x=>{const N=new Date().getTime()-x.getTime(),y=Math.floor(N/(1e3*60*60*24));return y===0?"Today":y===1?"Yesterday":y<7?`${y} days ago`:y<30?`${Math.floor(y/7)} weeks ago`:x.toLocaleDateString()},p=s.filter(x=>x.profile.firstName.toLowerCase().includes(l.toLowerCase())||x.lastMessage.toLowerCase().includes(l.toLowerCase()));return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[80vh] animate-scale-in flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(qb,{className:"h-6 w-6 text-blue-500"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r.jsx("span",{className:"bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded-full",children:s.length})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100",onClick:d,children:r.jsx(or,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(Fs,{placeholder:"Search archived conversations...",value:l,onChange:x=>c(x.target.value),className:"pl-10"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:p.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[r.jsx(qb,{className:"h-12 w-12 text-gray-300 mb-4"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.length===0?"No Archived Conversations":"No Results Found"}),r.jsx("p",{className:"text-gray-500 max-w-sm",children:s.length===0?"When you archive conversations, they will appear here. You can always unarchive them later.":"Try adjusting your search terms to find the conversation you're looking for."})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:p.map(x=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:x.profile.photos[0],alt:x.profile.firstName,className:"w-12 h-12 rounded-full object-cover"}),x.profile.verified&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 truncate",children:x.profile.firstName}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(Sr,{className:"h-3 w-3"}),r.jsxs("span",{children:["Archived ",m(x.archivedAt)]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate mb-2",children:x.lastMessage}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:[x.messageCount," messages"]}),r.jsxs("span",{children:["Last: ",m(x.lastMessageTime)]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-blue-50 hover:text-blue-600",onClick:()=>u(x.id),title:"Unarchive conversation",children:[r.jsx(hE,{className:"h-3 w-3 mr-1"}),"Unarchive"]}),r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-red-50 hover:text-red-600",onClick:()=>h(x.id),title:"Delete conversation permanently",children:[r.jsx(Cd,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]})]})},x.id))})}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Archived conversations are hidden from your main chat list but preserved."}),r.jsx(Re,{variant:"outline",onClick:d,className:"px-6",children:"Close"})]})})]})})}function cL({dialogs:e,onClose:t}){if(e.length===0)return null;const s=e[e.length-1];return r.jsx(lL,{...s,onClose:t})}function dL(){const[e,t]=E.useState([]),s=a=>{const o=Date.now().toString();t(l=>[...l,{...a,id:o}])};return{dialogs:e,showDialog:s,closeDialog:a=>{t(o=>o.filter(l=>l.id!==a))},openArchive:(a,o,l,c,d=()=>{})=>{s({title:a,archivedConversations:o,onUnarchive:l,onDelete:c,onCancel:d})}}}const l1=E.createContext({});function c1(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const d1=typeof window<"u",B3=d1?E.useLayoutEffect:E.useEffect,Jp=E.createContext(null);function u1(e,t){e.indexOf(t)===-1&&e.push(t)}function h1(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ho=(e,t,s)=>s>t?t:s<e?e:s;let f1=()=>{};const fo={},U3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function z3(e){return typeof e=="object"&&e!==null}const $3=e=>/^0[^.\s]+$/u.test(e);function m1(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pi=e=>e,uL=(e,t)=>s=>t(e(s)),Zh=(...e)=>e.reduce(uL),Ih=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class p1{constructor(){this.subscriptions=[]}add(t){return u1(this.subscriptions,t),()=>h1(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _a=e=>e*1e3,Aa=e=>e/1e3;function V3(e,t){return t?e*(1e3/t):0}const q3=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,hL=1e-7,fL=12;function mL(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=q3(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>hL&&++l<fL);return o}function ef(e,t,s,n){if(e===t&&s===n)return Pi;const i=a=>mL(a,0,1,e,s);return a=>a===0||a===1?a:q3(i(a),t,n)}const H3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,W3=e=>t=>1-e(1-t),G3=ef(.33,1.53,.69,.99),g1=W3(G3),K3=H3(g1),Y3=e=>(e*=2)<1?.5*g1(e):.5*(2-Math.pow(2,-10*(e-1))),x1=e=>1-Math.sin(Math.acos(e)),J3=W3(x1),X3=H3(x1),pL=ef(.42,0,1,1),gL=ef(0,0,.58,1),Q3=ef(.42,0,.58,1),xL=e=>Array.isArray(e)&&typeof e[0]!="number",Z3=e=>Array.isArray(e)&&typeof e[0]=="number",yL={linear:Pi,easeIn:pL,easeInOut:Q3,easeOut:gL,circIn:x1,circInOut:X3,circOut:J3,backIn:g1,backInOut:K3,backOut:G3,anticipate:Y3},vL=e=>typeof e=="string",Sw=e=>{if(Z3(e)){f1(e.length===4);const[t,s,n,i]=e;return ef(t,s,n,i)}else if(vL(e))return yL[e];return e},Zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bL(e,t){let s=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,h=!1,m=!1)=>{const x=m&&i?s:n;return h&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[s,n]=[n,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,d.process(u))}};return d}const wL=40;function e6(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Zf.reduce((b,k)=>(b[k]=bL(a),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:p,postRender:x}=o,j=()=>{const b=fo.useManualTiming?i.timestamp:performance.now();s=!1,fo.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,wL),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),p.process(i),x.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(j))},N=()=>{s=!0,n=!0,i.isProcessing||e(j)};return{schedule:Zf.reduce((b,k)=>{const _=o[k];return b[k]=(C,L=!1,T=!1)=>(s||N(),_.schedule(C,L,T)),b},{}),cancel:b=>{for(let k=0;k<Zf.length;k++)o[Zf[k]].cancel(b)},state:i,steps:o}}const{schedule:Ls,cancel:yl,state:zr,steps:mg}=e6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pi,!0);let jm;function NL(){jm=void 0}const Un={now:()=>(jm===void 0&&Un.set(zr.isProcessing||fo.useManualTiming?zr.timestamp:performance.now()),jm),set:e=>{jm=e,queueMicrotask(NL)}},t6=e=>t=>typeof t=="string"&&t.startsWith(e),y1=t6("--"),jL=t6("var(--"),v1=e=>jL(e)?SL.test(e.split("/*")[0].trim()):!1,SL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rh={...tu,transform:e=>ho(0,1,e)},em={...tu,default:1},sh=e=>Math.round(e*1e5)/1e5,b1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kL(e){return e==null}const CL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w1=(e,t)=>s=>!!(typeof s=="string"&&CL.test(s)&&s.startsWith(e)||t&&!kL(s)&&Object.prototype.hasOwnProperty.call(s,t)),s6=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(b1);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_L=e=>ho(0,255,e),pg={...tu,transform:e=>Math.round(_L(e))},sc={test:w1("rgb","red"),parse:s6("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+pg.transform(e)+", "+pg.transform(t)+", "+pg.transform(s)+", "+sh(Rh.transform(n))+")"};function AL(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ry={test:w1("#"),parse:AL,transform:sc.transform},tf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ho=tf("deg"),Ea=tf("%"),kt=tf("px"),EL=tf("vh"),PL=tf("vw"),kw={...Ea,parse:e=>Ea.parse(e)/100,transform:e=>Ea.transform(e*100)},dd={test:w1("hsl","hue"),parse:s6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ea.transform(sh(t))+", "+Ea.transform(sh(s))+", "+sh(Rh.transform(n))+")"},xr={test:e=>sc.test(e)||ry.test(e)||dd.test(e),parse:e=>sc.test(e)?sc.parse(e):dd.test(e)?dd.parse(e):ry.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?sc.transform(e):dd.transform(e),getAnimatableNone:e=>{const t=xr.parse(e);return t.alpha=0,xr.transform(t)}},TL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LL(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(b1))==null?void 0:t.length)||0)+(((s=e.match(TL))==null?void 0:s.length)||0)>0}const r6="number",n6="color",ML="var",IL="var(",Cw="${}",RL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dh(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(RL,c=>(xr.test(c)?(n.color.push(a),i.push(n6),s.push(xr.parse(c))):c.startsWith(IL)?(n.var.push(a),i.push(ML),s.push(c)):(n.number.push(a),i.push(r6),s.push(parseFloat(c))),++a,Cw)).split(Cw);return{values:s,split:l,indexes:n,types:i}}function i6(e){return Dh(e).values}function a6(e){const{split:t,types:s}=Dh(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===r6?a+=sh(i[o]):l===n6?a+=xr.transform(i[o]):a+=i[o]}return a}}const DL=e=>typeof e=="number"?0:xr.test(e)?xr.getAnimatableNone(e):e;function OL(e){const t=i6(e);return a6(e)(t.map(DL))}const vl={test:LL,parse:i6,createTransformer:a6,getAnimatableNone:OL};function gg(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function FL({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=gg(c,l,e+1/3),a=gg(c,l,e),o=gg(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function fp(e,t){return s=>s>0?t:e}const zs=(e,t,s)=>e+(t-e)*s,xg=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},BL=[ry,sc,dd],UL=e=>BL.find(t=>t.test(e));function _w(e){const t=UL(e);if(!t)return!1;let s=t.parse(e);return t===dd&&(s=FL(s)),s}const Aw=(e,t)=>{const s=_w(e),n=_w(t);if(!s||!n)return fp(e,t);const i={...s};return a=>(i.red=xg(s.red,n.red,a),i.green=xg(s.green,n.green,a),i.blue=xg(s.blue,n.blue,a),i.alpha=zs(s.alpha,n.alpha,a),sc.transform(i))},ny=new Set(["none","hidden"]);function zL(e,t){return ny.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function $L(e,t){return s=>zs(e,t,s)}function N1(e){return typeof e=="number"?$L:typeof e=="string"?v1(e)?fp:xr.test(e)?Aw:HL:Array.isArray(e)?o6:typeof e=="object"?xr.test(e)?Aw:VL:fp}function o6(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>N1(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function VL(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=N1(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function qL(e,t){const s=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][n[a]],l=e.values[o]??0;s[i]=l,n[a]++}return s}const HL=(e,t)=>{const s=vl.createTransformer(t),n=Dh(e),i=Dh(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?ny.has(e)&&!i.values.length||ny.has(t)&&!n.values.length?zL(e,t):Zh(o6(qL(n,i),i.values),s):fp(e,t)};function l6(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?zs(e,t,s):N1(e)(e,t)}const WL=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ls.update(t,s),stop:()=>yl(t),now:()=>zr.isProcessing?zr.timestamp:Un.now()}},c6=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},mp=2e4;function j1(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<mp;)t+=s,n=e.next(t);return t>=mp?1/0:t}function GL(e,t=100,s){const n=s({...e,keyframes:[0,t]}),i=Math.min(j1(n),mp);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:Aa(i)}}const KL=5;function d6(e,t,s){const n=Math.max(t-KL,0);return V3(s-e(n),t-n)}const Ys={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yg=.001;function YL({duration:e=Ys.duration,bounce:t=Ys.bounce,velocity:s=Ys.velocity,mass:n=Ys.mass}){let i,a,o=1-t;o=ho(Ys.minDamping,Ys.maxDamping,o),e=ho(Ys.minDuration,Ys.maxDuration,Aa(e)),o<1?(i=d=>{const u=d*o,h=u*e,m=u-s,p=iy(d,o),x=Math.exp(-h);return yg-m/p*x},a=d=>{const h=d*o*e,m=h*s+s,p=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-h),j=iy(Math.pow(d,2),o);return(-i(d)+yg>0?-1:1)*((m-p)*x)/j}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-yg+u*h},a=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=XL(i,a,l);if(e=_a(e),isNaN(c))return{stiffness:Ys.stiffness,damping:Ys.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const JL=12;function XL(e,t,s){let n=s;for(let i=1;i<JL;i++)n=n-e(n)/t(n);return n}function iy(e,t){return e*Math.sqrt(1-t*t)}const QL=["duration","bounce"],ZL=["stiffness","damping","mass"];function Ew(e,t){return t.some(s=>e[s]!==void 0)}function eM(e){let t={velocity:Ys.velocity,stiffness:Ys.stiffness,damping:Ys.damping,mass:Ys.mass,isResolvedFromDuration:!1,...e};if(!Ew(e,ZL)&&Ew(e,QL))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*ho(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ys.mass,stiffness:i,damping:a}}else{const s=YL(e);t={...t,...s,mass:Ys.mass},t.isResolvedFromDuration=!0}return t}function pp(e=Ys.visualDuration,t=Ys.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=eM({...s,velocity:-Aa(s.velocity||0)}),x=m||0,j=d/(2*Math.sqrt(c*u)),N=o-a,y=Aa(Math.sqrt(c/u)),v=Math.abs(N)<5;n||(n=v?Ys.restSpeed.granular:Ys.restSpeed.default),i||(i=v?Ys.restDelta.granular:Ys.restDelta.default);let b;if(j<1){const _=iy(y,j);b=C=>{const L=Math.exp(-j*y*C);return o-L*((x+j*y*N)/_*Math.sin(_*C)+N*Math.cos(_*C))}}else if(j===1)b=_=>o-Math.exp(-y*_)*(N+(x+y*N)*_);else{const _=y*Math.sqrt(j*j-1);b=C=>{const L=Math.exp(-j*y*C),T=Math.min(_*C,300);return o-L*((x+j*y*N)*Math.sinh(T)+_*N*Math.cosh(T))/_}}const k={calculatedDuration:p&&h||null,next:_=>{const C=b(_);if(p)l.done=_>=h;else{let L=_===0?x:0;j<1&&(L=_===0?_a(x):d6(b,_,C));const T=Math.abs(L)<=n,q=Math.abs(o-C)<=i;l.done=T&&q}return l.value=l.done?o:C,l},toString:()=>{const _=Math.min(j1(k),mp),C=c6(L=>k.next(_*L).value,_,30);return _+"ms "+C},toTransition:()=>{}};return k}pp.applyToOptions=e=>{const t=GL(e,100,pp);return e.ease=t.ease,e.duration=_a(t.duration),e.type="keyframes",e};function ay({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,x=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let j=s*t;const N=h+j,y=o===void 0?N:o(N);y!==N&&(j=y-h);const v=T=>-j*Math.exp(-T/n),b=T=>y+v(T),k=T=>{const q=v(T),G=b(T);m.done=Math.abs(q)<=d,m.value=m.done?y:G};let _,C;const L=T=>{p(m.value)&&(_=T,C=pp({keyframes:[m.value,x(m.value)],velocity:d6(b,T,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return L(0),{calculatedDuration:null,next:T=>{let q=!1;return!C&&_===void 0&&(q=!0,k(T),L(T)),_!==void 0&&T>=_?C.next(T-_):(!q&&k(T),m)}}}function tM(e,t,s){const n=[],i=s||fo.mix||l6,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Pi:t;l=Zh(c,l)}n.push(l)}return n}function sM(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(f1(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=tM(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Ih(e[h],e[h+1],u);return l[h](m)};return s?u=>d(ho(e[0],e[a-1],u)):d}function rM(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Ih(0,t,n);e.push(zs(s,1,i))}}function nM(e){const t=[0];return rM(t,e.length-1),t}function iM(e,t){return e.map(s=>s*t)}function aM(e,t){return e.map(()=>t||Q3).splice(0,e.length-1)}function rh({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=xL(n)?n.map(Sw):Sw(n),a={done:!1,value:t[0]},o=iM(s&&s.length===t.length?s:nM(t),e),l=sM(o,t,{ease:Array.isArray(i)?i:aM(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const oM=e=>e!==null;function S1(e,{repeat:t,repeatType:s="loop"},n,i=1){const a=e.filter(oM),l=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const lM={decay:ay,inertia:ay,tween:rh,keyframes:rh,spring:pp};function u6(e){typeof e.type=="string"&&(e.type=lM[e.type])}class k1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const cM=e=>e/100;class C1 extends k1{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;u6(t);const{type:s=rh,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=s||rh;c!==rh&&typeof l[0]!="number"&&(this.mixKeyframes=Zh(cM,l6(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=j1(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:p,type:x,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,k=n;if(h){const T=Math.min(this.currentTime,i)/l;let q=Math.floor(T),G=T%1;!G&&T>=1&&(G=1),G===1&&q--,q=Math.min(q,h+1),!!(q%2)&&(m==="reverse"?(G=1-G,p&&(G-=p/l)):m==="mirror"&&(k=o)),b=ho(0,1,G)*l}const _=v?{done:!1,value:u[0]}:k.next(b);a&&(_.value=a(_.value));let{done:C}=_;!v&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return L&&x!==ay&&(_.value=S1(u,this.options,N,this.speed)),j&&j(_.value),L&&this.finish(),_}then(t,s){return this.finished.then(t,s)}get duration(){return Aa(this.calculatedDuration)}get time(){return Aa(this.currentTime)}set time(t){var s;t=_a(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Aa(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=WL,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function dM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const rc=e=>e*180/Math.PI,oy=e=>{const t=rc(Math.atan2(e[1],e[0]));return ly(t)},uM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:oy,rotateZ:oy,skewX:e=>rc(Math.atan(e[1])),skewY:e=>rc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ly=e=>(e=e%360,e<0&&(e+=360),e),Pw=oy,Tw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Lw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),hM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tw,scaleY:Lw,scale:e=>(Tw(e)+Lw(e))/2,rotateX:e=>ly(rc(Math.atan2(e[6],e[5]))),rotateY:e=>ly(rc(Math.atan2(-e[2],e[0]))),rotateZ:Pw,rotate:Pw,skewX:e=>rc(Math.atan(e[4])),skewY:e=>rc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cy(e){return e.includes("scale")?1:0}function dy(e,t){if(!e||e==="none")return cy(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=hM,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=uM,i=l}if(!i)return cy(t);const a=n[t],o=i[1].split(",").map(mM);return typeof a=="function"?a(o):o[a]}const fM=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return dy(s,t)};function mM(e){return parseFloat(e.trim())}const su=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ru=new Set(su),Mw=e=>e===tu||e===kt,pM=new Set(["x","y","z"]),gM=su.filter(e=>!pM.has(e));function xM(e){const t=[];return gM.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const oc={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dy(t,"x"),y:(e,{transform:t})=>dy(t,"y")};oc.translateX=oc.x;oc.translateY=oc.y;const lc=new Set;let uy=!1,hy=!1,fy=!1;function h6(){if(hy){const e=Array.from(lc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=xM(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}hy=!1,uy=!1,lc.forEach(e=>e.complete(fy)),lc.clear()}function f6(){lc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hy=!0)})}function yM(){fy=!0,f6(),h6(),fy=!1}class _1{constructor(t,s,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lc.add(this),uy||(uy=!0,Ls.read(f6),Ls.resolveKeyframes(h6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&s){const l=n.readValue(s,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}dM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),lc.delete(this)}cancel(){this.state==="scheduled"&&(lc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vM=e=>e.startsWith("--");function bM(e,t,s){vM(t)?e.style.setProperty(t,s):e.style[t]=s}const wM=m1(()=>window.ScrollTimeline!==void 0),NM={};function jM(e,t){const s=m1(e);return()=>NM[t]??s()}const m6=jM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function p6(e,t){if(e)return typeof e=="function"?m6()?c6(e,t):"ease-out":Z3(e)?qu(e):Array.isArray(e)?e.map(s=>p6(s,t)||Iw.easeOut):Iw[e]}function SM(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const h=p6(l,i);Array.isArray(h)&&(u.easing=h);const m={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function g6(e){return typeof e=="function"&&"applyToOptions"in e}function kM({type:e,...t}){return g6(e)&&m6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class CM extends k1{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,f1(typeof t.type!="string");const d=kM(t);this.animation=SM(s,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=S1(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):bM(s,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return Aa(Number(t))}get time(){return Aa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_a(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wM()?(this.animation.timeline=t,Pi):s(this)}}const x6={anticipate:Y3,backInOut:K3,circInOut:X3};function _M(e){return e in x6}function AM(e){typeof e.ease=="string"&&_M(e.ease)&&(e.ease=x6[e.ease])}const Rw=10;class EM extends CM{constructor(t){AM(t),u6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new C1({...o,autoplay:!1}),c=_a(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Rw).value,l.sample(c).value,Rw),l.stop()}}const Dw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vl.test(e)||e==="0")&&!e.startsWith("url("));function PM(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function TM(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Dw(i,t),l=Dw(a,t);return!o||!l?!1:PM(e)||(s==="spring"||g6(s))&&n}const LM=new Set(["opacity","clipPath","filter","transform"]),MM=m1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IM(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:a,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return MM()&&s&&LM.has(s)&&(s!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const RM=40;class DM extends k1{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var j,N;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Un.now();const m={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:u,...h},p=(u==null?void 0:u.KeyframeResolver)||_1;this.keyframeResolver=new p(l,(j,N,y)=>this.onKeyframesResolved(j,N,m,!y),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=Un.now(),TM(t,a,o,l)||((fo.instantAnimations||!c)&&(u==null||u(S1(t,n,s))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>RM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},p=!d&&IM(m)?new EM({...m,element:m.motionValue.owner.current}):new C1(m);p.finished.then(()=>this.notifyFinished()).catch(Pi),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),yM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const OM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FM(e){const t=OM.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function y6(e,t,s=1){const[n,i]=FM(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return U3(o)?parseFloat(o):o}return v1(i)?y6(i,t,s+1):i}function A1(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const v6=new Set(["width","height","top","left","right","bottom",...su]),BM={test:e=>e==="auto",parse:e=>e},b6=e=>t=>t.test(e),w6=[tu,kt,Ea,Ho,PL,EL,BM],Ow=e=>w6.find(b6(e));function UM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$3(e):!0}const zM=new Set(["brightness","contrast","saturate","opacity"]);function $M(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(b1)||[];if(!n)return e;const i=s.replace(n,"");let a=zM.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const VM=/\b([a-z-]*)\(.*?\)/gu,my={...vl,getAnimatableNone:e=>{const t=e.match(VM);return t?t.map($M).join(" "):e}},Fw={...tu,transform:Math.round},qM={rotate:Ho,rotateX:Ho,rotateY:Ho,rotateZ:Ho,scale:em,scaleX:em,scaleY:em,scaleZ:em,skew:Ho,skewX:Ho,skewY:Ho,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:Rh,originX:kw,originY:kw,originZ:kt},E1={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt,...qM,zIndex:Fw,fillOpacity:Rh,strokeOpacity:Rh,numOctaves:Fw},HM={...E1,color:xr,backgroundColor:xr,outlineColor:xr,fill:xr,stroke:xr,borderColor:xr,borderTopColor:xr,borderRightColor:xr,borderBottomColor:xr,borderLeftColor:xr,filter:my,WebkitFilter:my},N6=e=>HM[e];function j6(e,t){let s=N6(e);return s!==my&&(s=vl),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const WM=new Set(["auto","none","0"]);function GM(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!WM.has(a)&&Dh(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=j6(s,i)}class KM extends _1{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),v1(d))){const u=y6(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!v6.has(n)||t.length!==2)return;const[i,a]=t,o=Ow(i),l=Ow(a);if(o!==l)if(Mw(o)&&Mw(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else oc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||UM(t[i]))&&n.push(i);n.length&&GM(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=oc[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function YM(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(s==null?void 0:s[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const S6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function k6(e){return z3(e)&&"offsetHeight"in e}const Bw=30,JM=e=>!isNaN(parseFloat(e));class XM{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var o,l;const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new p1);const n=this.events[t].add(s);return t==="change"?()=>{n(),Ls.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Bw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Bw);return V3(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $d(e,t){return new XM(e,t)}const{schedule:P1}=e6(queueMicrotask,!1),Qi={x:!1,y:!1};function C6(){return Qi.x||Qi.y}function QM(e){return e==="x"||e==="y"?Qi[e]?null:(Qi[e]=!0,()=>{Qi[e]=!1}):Qi.x||Qi.y?null:(Qi.x=Qi.y=!0,()=>{Qi.x=Qi.y=!1})}function _6(e,t){const s=YM(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Uw(e){return!(e.pointerType==="touch"||C6())}function ZM(e,t,s={}){const[n,i,a]=_6(e,s),o=l=>{if(!Uw(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{Uw(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const A6=(e,t)=>t?e===t?!0:A6(e,t.parentElement):!1,T1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tI(e){return eI.has(e.tagName)||e.tabIndex!==-1}const Sm=new WeakSet;function zw(e){return t=>{t.key==="Enter"&&e(t)}}function vg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sI=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=zw(()=>{if(Sm.has(s))return;vg(s,"down");const i=zw(()=>{vg(s,"up")}),a=()=>vg(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function $w(e){return T1(e)&&!C6()}function rI(e,t,s={}){const[n,i,a]=_6(e,s),o=l=>{const c=l.currentTarget;if(!$w(l))return;Sm.add(c);const d=t(c,l),u=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Sm.has(c)&&Sm.delete(c),$w(p)&&typeof d=="function"&&d(p,{success:x})},h=p=>{u(p,c===window||c===document||s.useGlobalTarget||A6(c,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),k6(l)&&(l.addEventListener("focus",d=>sI(d,i)),!tI(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function E6(e){return z3(e)&&"ownerSVGElement"in e}function nI(e){return E6(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),iI=[...w6,xr,vl],aI=e=>iI.find(b6(e)),L1=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oI extends E.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,i=k6(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lI({children:e,isPresent:t,anchorX:s,root:n}){const i=E.useId(),a=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(L1);return E.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:h,right:m}=o.current;if(t||!a.current||!c||!d)return;const p=s==="left"?`left: ${h}`:`right: ${m}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const j=n??document.head;return j.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{j.removeChild(x),j.contains(x)&&j.removeChild(x)}},[t]),r.jsx(oI,{isPresent:t,childRef:a,sizeRef:o,children:E.cloneElement(e,{ref:a})})}const cI=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const d=c1(dI),u=E.useId();let h=!0,m=E.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:s,custom:i,onExitComplete:p=>{d.set(p,!0);for(const x of d.values())if(!x)return;n&&n()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[s,d,n]);return a&&h&&(m={...m}),E.useMemo(()=>{d.forEach((p,x)=>d.set(x,!1))},[s]),E.useEffect(()=>{!s&&!d.size&&n&&n()},[s]),o==="popLayout"&&(e=r.jsx(lI,{isPresent:s,anchorX:l,root:c,children:e})),r.jsx(Jp.Provider,{value:m,children:e})};function dI(){return new Map}function P6(e=!0){const t=E.useContext(Jp);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,a=E.useId();E.useEffect(()=>{if(e)return i(a)},[e]);const o=E.useCallback(()=>e&&n&&n(a),[a,n,e]);return!s&&n?[!1,o]:[!0]}const tm=e=>e.key||"";function Vw(e){const t=[];return E.Children.forEach(e,s=>{E.isValidElement(s)&&t.push(s)}),t}const Oh=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=P6(o),h=E.useMemo(()=>Vw(e),[e]),m=o&&!d?[]:h.map(tm),p=E.useRef(!0),x=E.useRef(h),j=c1(()=>new Map),[N,y]=E.useState(h),[v,b]=E.useState(h);B3(()=>{p.current=!1,x.current=h;for(let C=0;C<v.length;C++){const L=tm(v[C]);m.includes(L)?j.delete(L):j.get(L)!==!0&&j.set(L,!1)}},[v,m.length,m.join("-")]);const k=[];if(h!==N){let C=[...h];for(let L=0;L<v.length;L++){const T=v[L],q=tm(T);m.includes(q)||(C.splice(L,0,T),k.push(T))}return a==="wait"&&k.length&&(C=k),b(Vw(C)),y(h),null}const{forceRender:_}=E.useContext(l1);return r.jsx(r.Fragment,{children:v.map(C=>{const L=tm(C),T=o&&!d?!1:h===v||m.includes(L),q=()=>{if(j.has(L))j.set(L,!0);else return;let G=!0;j.forEach(M=>{M||(G=!1)}),G&&(_==null||_(),b(x.current),o&&(u==null||u()),n&&n())};return r.jsx(cI,{isPresent:T,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:T?void 0:q,anchorX:l,children:C},L)})})},T6=E.createContext({strict:!1}),qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vd={};for(const e in qw)Vd[e]={isEnabled:t=>qw[e].some(s=>!!t[s])};function uI(e){for(const t in e)Vd[t]={...Vd[t],...e[t]}}const hI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hI.has(e)}let L6=e=>!gp(e);function fI(e){typeof e=="function"&&(L6=t=>t.startsWith("on")?!gp(t):e(t))}try{fI(require("@emotion/is-prop-valid").default)}catch{}function mI(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(L6(i)||s===!0&&gp(i)||!t&&!gp(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Xp=E.createContext({});function Qp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fh(e){return typeof e=="string"||Array.isArray(e)}const M1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],I1=["initial",...M1];function Zp(e){return Qp(e.animate)||I1.some(t=>Fh(e[t]))}function M6(e){return!!(Zp(e)||e.variants)}function pI(e,t){if(Zp(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Fh(s)?s:void 0,animate:Fh(n)?n:void 0}}return e.inherit!==!1?t:{}}function gI(e){const{initial:t,animate:s}=pI(e,E.useContext(Xp));return E.useMemo(()=>({initial:t,animate:s}),[Hw(t),Hw(s)])}function Hw(e){return Array.isArray(e)?e.join(" "):e}const Bh={};function xI(e){for(const t in e)Bh[t]=e[t],y1(t)&&(Bh[t].isCSSVariable=!0)}function I6(e,{layout:t,layoutId:s}){return ru.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Bh[e]||e==="opacity")}const yI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vI=su.length;function bI(e,t,s){let n="",i=!0;for(let a=0;a<vI;a++){const o=su[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=S6(l,E1[o]);if(!c){i=!1;const u=yI[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function R1(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ru.has(c)){o=!0;continue}else if(y1(c)){i[c]=d;continue}else{const u=S6(d,E1[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=bI(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const D1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R6(e,t,s){for(const n in t)!an(t[n])&&!I6(n,s)&&(e[n]=t[n])}function wI({transformTemplate:e},t){return E.useMemo(()=>{const s=D1();return R1(s,t,e),Object.assign({},s.vars,s.style)},[t])}function NI(e,t){const s=e.style||{},n={};return R6(n,s,e),Object.assign(n,wI(e,t)),n}function jI(e,t){const s={},n=NI(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const SI={offset:"stroke-dashoffset",array:"stroke-dasharray"},kI={offset:"strokeDashoffset",array:"strokeDasharray"};function CI(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?SI:kI;e[a.offset]=kt.transform(-n);const o=kt.transform(t),l=kt.transform(s);e[a.array]=`${o} ${l}`}function D6(e,{attrX:t,attrY:s,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,u){if(R1(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),i!==void 0&&CI(h,i,a,o,!1)}const O6=()=>({...D1(),attrs:{}}),F6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _I(e,t,s,n){const i=E.useMemo(()=>{const a=O6();return D6(a,t,F6(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};R6(a,e.style,e),i.style={...a,...i.style}}return i}const AI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O1(e){return typeof e!="string"||e.includes("-")?!1:!!(AI.indexOf(e)>-1||/[A-Z]/u.test(e))}function EI(e,t,s,{latestValues:n},i,a=!1){const l=(O1(e)?_I:jI)(t,n,i,e),c=mI(t,typeof e=="string",a),d=e!==E.Fragment?{...c,...l,ref:s}:{},{children:u}=t,h=E.useMemo(()=>an(u)?u.get():u,[u]);return E.createElement(e,{...d,children:h})}function Ww(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function F1(e,t,s,n){if(typeof t=="function"){const[i,a]=Ww(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Ww(n);t=t(s!==void 0?s:e.custom,i,a)}return t}function km(e){return an(e)?e.get():e}function PI({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,i){return{latestValues:TI(s,n,i,e),renderState:t()}}function TI(e,t,s,n){const i={},a=n(e,{});for(const m in a)i[m]=km(a[m]);let{initial:o,animate:l}=e;const c=Zp(e),d=M6(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Qp(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const x=F1(e,m[p]);if(x){const{transitionEnd:j,transition:N,...y}=x;for(const v in y){let b=y[v];if(Array.isArray(b)){const k=u?b.length-1:0;b=b[k]}b!==null&&(i[v]=b)}for(const v in j)i[v]=j[v]}}}return i}const B6=e=>(t,s)=>{const n=E.useContext(Xp),i=E.useContext(Jp),a=()=>PI(e,t,n,i);return s?a():c1(a)};function B1(e,t,s){var a;const{style:n}=e,i={};for(const o in n)(an(n[o])||t.style&&an(t.style[o])||I6(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const LI=B6({scrapeMotionValuesFromProps:B1,createRenderState:D1});function U6(e,t,s){const n=B1(e,t,s);for(const i in e)if(an(e[i])||an(t[i])){const a=su.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const MI=B6({scrapeMotionValuesFromProps:U6,createRenderState:O6}),II=Symbol.for("motionComponentSymbol");function ud(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function RI(e,t,s){return E.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):ud(s)&&(s.current=n))},[t])}const U1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DI="framerAppearId",z6="data-"+U1(DI),$6=E.createContext({});function OI(e,t,s,n,i){var j,N;const{visualElement:a}=E.useContext(Xp),o=E.useContext(T6),l=E.useContext(Jp),c=E.useContext(L1).reducedMotion,d=E.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=E.useContext($6);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&FI(d.current,s,i,h);const m=E.useRef(!1);E.useInsertionEffect(()=>{u&&m.current&&u.update(s,l)});const p=s[z6],x=E.useRef(!!p&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,p))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,p)));return B3(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),x.current=!1))}),u}function FI(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:V6(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&ud(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function V6(e){if(e)return e.options.allowProjection!==!1?e.projection:V6(e.parent)}function bg(e,{forwardMotionProps:t=!1}={},s,n){s&&uI(s);const i=O1(e)?MI:LI;function a(l,c){let d;const u={...E.useContext(L1),...l,layoutId:BI(l)},{isStatic:h}=u,m=gI(l),p=i(l,h);if(!h&&d1){UI();const x=zI(u);d=x.MeasureLayout,m.visualElement=OI(e,p,u,n,x.ProjectionNode)}return r.jsxs(Xp.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,EI(e,l,RI(p,m.visualElement,c),p,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=E.forwardRef(a);return o[II]=e,o}function BI({layoutId:e}){const t=E.useContext(l1).id;return t&&e!==void 0?t+"-"+e:e}function UI(e,t){E.useContext(T6).strict}function zI(e){const{drag:t,layout:s}=Vd;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function $I(e,t){if(typeof Proxy>"u")return bg;const s=new Map,n=(a,o)=>bg(a,o,e,t),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(s.has(o)||s.set(o,bg(o,void 0,e,t)),s.get(o))})}function q6({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function VI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qI(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function wg(e){return e===void 0||e===1}function py({scale:e,scaleX:t,scaleY:s}){return!wg(e)||!wg(t)||!wg(s)}function Yl(e){return py(e)||H6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function H6(e){return Gw(e.x)||Gw(e.y)}function Gw(e){return e&&e!=="0%"}function xp(e,t,s){const n=e-s,i=t*n;return s+i}function Kw(e,t,s,n,i){return i!==void 0&&(e=xp(e,i,n)),xp(e,s,n)+t}function gy(e,t=0,s=1,n,i){e.min=Kw(e.min,t,s,n,i),e.max=Kw(e.max,t,s,n,i)}function W6(e,{x:t,y:s}){gy(e.x,t.translate,t.scale,t.originPoint),gy(e.y,s.translate,s.scale,s.originPoint)}const Yw=.999999999999,Jw=1.0000000000001;function HI(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,W6(e,o)),n&&Yl(a.latestValues)&&fd(e,a.latestValues))}t.x<Jw&&t.x>Yw&&(t.x=1),t.y<Jw&&t.y>Yw&&(t.y=1)}function hd(e,t){e.min=e.min+t,e.max=e.max+t}function Xw(e,t,s,n,i=.5){const a=zs(e.min,e.max,i);gy(e,t,s,a,n)}function fd(e,t){Xw(e.x,t.x,t.scaleX,t.scale,t.originX),Xw(e.y,t.y,t.scaleY,t.scale,t.originY)}function G6(e,t){return q6(qI(e.getBoundingClientRect(),t))}function WI(e,t,s){const n=G6(e,s),{scroll:i}=t;return i&&(hd(n.x,i.offset.x),hd(n.y,i.offset.y)),n}const Qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),md=()=>({x:Qw(),y:Qw()}),Zw=()=>({min:0,max:0}),tr=()=>({x:Zw(),y:Zw()}),xy={current:null},K6={current:!1};function GI(){if(K6.current=!0,!!d1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xy.current=e.matches;e.addEventListener("change",t),t()}else xy.current=!1}const KI=new WeakMap;function YI(e,t,s){for(const n in t){const i=t[n],a=s[n];if(an(i))e.addValue(n,i);else if(an(a))e.addValue(n,$d(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,$d(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const e5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JI{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Un.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ls.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Zp(s),this.isVariantNode=M6(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const p=h[m];c[m]!==void 0&&an(p)&&p.set(c[m],!1)}}mount(t){this.current=t,KI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),K6.current||GI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),yl(this.notifyUpdate),yl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ru.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ls.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vd){const s=Vd[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<e5.length;n++){const i=e5[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=YI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=$d(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(U3(n)||$3(n))?n=parseFloat(n):!aI(n)&&vl.test(s)&&(n=j6(t,s)),this.setBaseTarget(t,an(n)?n.get():n)),an(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const o=F1(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[t])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!an(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new p1),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){P1.render(this.render)}}class Y6 extends JI{constructor(){super(...arguments),this.KeyframeResolver=KM}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function J6(e,{style:t,vars:s},n,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,n);for(o in s)a.setProperty(o,s[o])}function XI(e){return window.getComputedStyle(e)}class QI extends Y6{constructor(){super(...arguments),this.type="html",this.renderInstance=J6}readValueFromInstance(t,s){var n;if(ru.has(s))return(n=this.projection)!=null&&n.isProjecting?cy(s):fM(t,s);{const i=XI(t),a=(y1(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return G6(t,s)}build(t,s,n){R1(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return B1(t,s,n)}}const X6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZI(e,t,s,n){J6(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(X6.has(i)?i:U1(i),t.attrs[i])}class eR extends Y6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tr}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ru.has(s)){const n=N6(s);return n&&n.default||0}return s=X6.has(s)?s:U1(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return U6(t,s,n)}build(t,s,n){D6(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,i){ZI(t,s,n,i)}mount(t){this.isSVGTag=F6(t.tagName),super.mount(t)}}const tR=(e,t)=>O1(e)?new eR(t):new QI(t,{allowProjection:e!==E.Fragment});function Uh(e,t,s){const n=e.getProps();return F1(n,t,s!==void 0?s:n.custom,e)}const yy=e=>Array.isArray(e);function sR(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,$d(s))}function rR(e){return yy(e)?e[e.length-1]||0:e}function nR(e,t){const s=Uh(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=rR(a[o]);sR(e,o,l)}}function iR(e){return!!(an(e)&&e.add)}function vy(e,t){const s=e.getValue("willChange");if(iR(s))return s.add(t);if(!s&&fo.WillChange){const n=new fo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Q6(e){return e.props[z6]}const aR=e=>e!==null;function oR(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(aR),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[a]}const lR={type:"spring",stiffness:500,damping:25,restSpeed:10},cR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),dR={type:"keyframes",duration:.8},uR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hR=(e,{keyframes:t})=>t.length>2?dR:ru.has(e)?e.startsWith("scale")?cR(t[1]):lR:uR;function fR({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const z1=(e,t,s,n={},i,a)=>o=>{const l=A1(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-_a(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};fR(l)||Object.assign(u,hR(e,u)),u.duration&&(u.duration=_a(u.duration)),u.repeatDelay&&(u.repeatDelay=_a(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(fo.instantAnimations||fo.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!a&&t.get()!==void 0){const m=oR(u.keyframes,l);if(m!==void 0){Ls.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new C1(u):new DM(u)};function mR({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Z6(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(a=n);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&mR(d,u))continue;const p={delay:s,...A1(a||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===x&&!p.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const y=Q6(e);if(y){const v=window.MotionHandoffAnimation(y,u,Ls);v!==null&&(p.startTime=v,j=!0)}}vy(e,u),h.start(z1(u,h,m,e.shouldReduceMotion&&v6.has(u)?{type:!1}:p,e,j));const N=h.animation;N&&c.push(N)}return o&&Promise.all(c).then(()=>{Ls.update(()=>{o&&nR(e,o)})}),c}function by(e,t,s={}){var c;const n=Uh(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const a=n?()=>Promise.all(Z6(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return pR(e,t,d,u,h,m,s)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,u]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>u())}else return Promise.all([a(),o(s.delay)])}function pR(e,t,s=0,n=0,i=0,a=1,o){const l=[],c=e.variantChildren.size,d=(c-1)*i,u=typeof n=="function",h=u?m=>n(m,c):a===1?(m=0)=>m*i:(m=0)=>d-m*i;return Array.from(e.variantChildren).sort(gR).forEach((m,p)=>{m.notify("AnimationStart",t),l.push(by(m,t,{...o,delay:s+(u?0:n)+h(p)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function gR(e,t){return e.sortNodePosition(t)}function xR(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>by(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=by(e,t,s);else{const i=typeof t=="function"?Uh(e,t,s.custom):t;n=Promise.all(Z6(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}function eS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const yR=I1.length;function tS(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?tS(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<yR;s++){const n=I1[s],i=e.props[n];(Fh(i)||i===!1)&&(t[n]=i)}return t}const vR=[...M1].reverse(),bR=M1.length;function wR(e){return t=>Promise.all(t.map(({animation:s,options:n})=>xR(e,s,n)))}function NR(e){let t=wR(e),s=t5(),n=!0;const i=c=>(d,u)=>{var m;const h=Uh(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:x,...j}=h;d={...d,...j,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=tS(e.parent)||{},h=[],m=new Set;let p={},x=1/0;for(let N=0;N<bR;N++){const y=vR[N],v=s[y],b=d[y]!==void 0?d[y]:u[y],k=Fh(b),_=y===c?v.isActive:null;_===!1&&(x=N);let C=b===u[y]&&b!==d[y]&&k;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...p},!v.isActive&&_===null||!b&&!v.prevProp||Qp(b)||typeof b=="boolean")continue;const L=jR(v.prevProp,b);let T=L||y===c&&v.isActive&&!C&&k||N>x&&k,q=!1;const G=Array.isArray(b)?b:[b];let M=G.reduce(i(y),{});_===!1&&(M={});const{prevResolvedValues:O={}}=v,X={...O,...M},K=ne=>{T=!0,m.has(ne)&&(q=!0,m.delete(ne)),v.needsAnimating[ne]=!0;const z=e.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in X){const z=M[ne],Q=O[ne];if(p.hasOwnProperty(ne))continue;let se=!1;yy(z)&&yy(Q)?se=!eS(z,Q):se=z!==Q,se?z!=null?K(ne):m.add(ne):z!==void 0&&m.has(ne)?K(ne):v.protectedKeys[ne]=!0}v.prevProp=b,v.prevResolvedValues=M,v.isActive&&(p={...p,...M}),n&&e.blockInitialAnimation&&(T=!1),T&&(!(C&&L)||q)&&h.push(...G.map(ne=>({animation:ne,options:{type:y}})))}if(m.size){const N={};if(typeof d.initial!="boolean"){const y=Uh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(N.transition=y.transition)}m.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),N[y]=v??null}),h.push({animation:N})}let j=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(h):Promise.resolve()}function l(c,d){var h;if(s[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(c,d)}),s[c].isActive=d;const u=o(c);for(const m in s)s[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=t5(),n=!0}}}function jR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eS(t,e):!1}function Hl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function t5(){return{animate:Hl(!0),whileInView:Hl(),whileHover:Hl(),whileTap:Hl(),whileDrag:Hl(),whileFocus:Hl(),exit:Hl()}}class _l{constructor(t){this.isMounted=!1,this.node=t}update(){}}class SR extends _l{constructor(t){super(t),t.animationState||(t.animationState=NR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let kR=0;class CR extends _l{constructor(){super(...arguments),this.id=kR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _R={animation:{Feature:SR},exit:{Feature:CR}};function zh(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function sf(e){return{point:{x:e.pageX,y:e.pageY}}}const AR=e=>t=>T1(t)&&e(t,sf(t));function nh(e,t,s,n){return zh(e,t,AR(s),n)}const sS=1e-4,ER=1-sS,PR=1+sS,rS=.01,TR=0-rS,LR=0+rS;function jn(e){return e.max-e.min}function MR(e,t,s){return Math.abs(e-t)<=s}function s5(e,t,s,n=.5){e.origin=n,e.originPoint=zs(t.min,t.max,e.origin),e.scale=jn(s)/jn(t),e.translate=zs(s.min,s.max,e.origin)-e.originPoint,(e.scale>=ER&&e.scale<=PR||isNaN(e.scale))&&(e.scale=1),(e.translate>=TR&&e.translate<=LR||isNaN(e.translate))&&(e.translate=0)}function ih(e,t,s,n){s5(e.x,t.x,s.x,n?n.originX:void 0),s5(e.y,t.y,s.y,n?n.originY:void 0)}function r5(e,t,s){e.min=s.min+t.min,e.max=e.min+jn(t)}function IR(e,t,s){r5(e.x,t.x,s.x),r5(e.y,t.y,s.y)}function n5(e,t,s){e.min=t.min-s.min,e.max=e.min+jn(t)}function ah(e,t,s){n5(e.x,t.x,s.x),n5(e.y,t.y,s.y)}function Si(e){return[e("x"),e("y")]}const nS=({current:e})=>e?e.ownerDocument.defaultView:null,i5=(e,t)=>Math.abs(e-t);function RR(e,t){const s=i5(e.x,t.x),n=i5(e.y,t.y);return Math.sqrt(s**2+n**2)}class iS{constructor(t,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=jg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=RR(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:j}=m,{timestamp:N}=zr;this.history.push({...j,timestamp:N});const{onStart:y,onMove:v}=this.handlers;p||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ng(p,this.transformPagePoint),Ls.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=jg(m.type==="pointercancel"?this.lastMoveEventInfo:Ng(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,y),j&&j(m,y)},!T1(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=sf(t),c=Ng(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=zr;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=s;h&&h(t,jg(c,this.history)),this.removeListeners=Zh(nh(this.contextWindow,"pointermove",this.handlePointerMove),nh(this.contextWindow,"pointerup",this.handlePointerUp),nh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yl(this.updatePoint)}}function Ng(e,t){return t?{point:t(e.point)}:e}function a5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jg({point:e},t){return{point:e,delta:a5(e,aS(t)),offset:a5(e,DR(t)),velocity:OR(t,.1)}}function DR(e){return e[0]}function aS(e){return e[e.length-1]}function OR(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=aS(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>_a(t)));)s--;if(!n)return{x:0,y:0};const a=Aa(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function FR(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?zs(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?zs(s,e,n.max):Math.min(e,s)),e}function o5(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function BR(e,{top:t,left:s,bottom:n,right:i}){return{x:o5(e.x,s,i),y:o5(e.y,t,n)}}function l5(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function UR(e,t){return{x:l5(e.x,t.x),y:l5(e.y,t.y)}}function zR(e,t){let s=.5;const n=jn(e),i=jn(t);return i>n?s=Ih(t.min,t.max-n,e.min):n>i&&(s=Ih(e.min,e.max-i,t.min)),ho(0,1,s)}function $R(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const wy=.35;function VR(e=wy){return e===!1?e=0:e===!0&&(e=wy),{x:c5(e,"left","right"),y:c5(e,"top","bottom")}}function c5(e,t,s){return{min:d5(e,t),max:d5(e,s)}}function d5(e,t){return typeof e=="number"?e:e[t]||0}const qR=new WeakMap;class HR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(sf(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:x,onDragStart:j}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QM(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Ea.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const k=b.layout.layoutBox[y];k&&(v=jn(k)*(parseFloat(v)/100))}}this.originPoint[y]=v}),j&&Ls.postRender(()=>j(h,m)),vy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:j,onDrag:N}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=m;if(x&&this.currentDirection===null){this.currentDirection=WR(y),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),N&&N(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Si(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new iS(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:nS(this.visualElement)})}stop(t,s){const n=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ls.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!sm(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=FR(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&ud(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=BR(n.layoutBox,t):this.constraints=!1,this.elastic=VR(s),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$R(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ud(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=WI(n,i.root,this.visualElement.getTransformPagePoint());let o=UR(i.layout.layoutBox,a);if(s){const l=s(VI(o));this.hasMutatedConstraints=!!l,l&&(o=q6(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Si(u=>{if(!sm(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return vy(this.visualElement,t),n.start(z1(t,n,0,s,this.visualElement,!1))}stopAnimation(){Si(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Si(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Si(s=>{const{drag:n}=this.getProps();if(!sm(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-zs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!ud(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Si(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=zR({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Si(o=>{if(!sm(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(zs(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;qR.set(this.visualElement,this);const t=this.visualElement.current,s=nh(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ud(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ls.read(n);const o=zh(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Si(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=wy,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function sm(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function WR(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class GR extends _l{constructor(t){super(t),this.removeGroupControls=Pi,this.removeListeners=Pi,this.controls=new HR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const u5=e=>(t,s)=>{e&&Ls.postRender(()=>e(t,s))};class KR extends _l{constructor(){super(...arguments),this.removePointerDownListener=Pi}onPointerDown(t){this.session=new iS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:u5(t),onStart:u5(s),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Ls.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=nh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(kt.test(e))e=parseFloat(e);else return e;const s=h5(e,t.target.x),n=h5(e,t.target.y);return`${s}% ${n}%`}},YR={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=vl.parse(e);if(i.length>5)return n;const a=vl.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=zs(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let f5=!1;class JR extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;xI(XR),a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),f5&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,f5=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ls.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),P1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oS(e){const[t,s]=P6(),n=E.useContext(l1);return r.jsx(JR,{...e,layoutGroup:n,switchLayoutGroup:E.useContext($6),isPresent:t,safeToRemove:s})}const XR={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:YR};function QR(e,t,s){const n=an(e)?e:$d(e);return n.start(z1("",n,t,s)),n.animation}const ZR=(e,t)=>e.depth-t.depth;class eD{constructor(){this.children=[],this.isDirty=!1}add(t){u1(this.children,t),this.isDirty=!0}remove(t){h1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ZR),this.isDirty=!1,this.children.forEach(t)}}function tD(e,t){const s=Un.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(yl(n),e(a-t))};return Ls.setup(n,!0),()=>yl(n)}const lS=["TopLeft","TopRight","BottomLeft","BottomRight"],sD=lS.length,m5=e=>typeof e=="string"?parseFloat(e):e,p5=e=>typeof e=="number"||kt.test(e);function rD(e,t,s,n,i,a){i?(e.opacity=zs(0,s.opacity??1,nD(n)),e.opacityExit=zs(t.opacity??1,0,iD(n))):a&&(e.opacity=zs(t.opacity??1,s.opacity??1,n));for(let o=0;o<sD;o++){const l=`border${lS[o]}Radius`;let c=g5(t,l),d=g5(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||p5(c)===p5(d)?(e[l]=Math.max(zs(m5(c),m5(d),n),0),(Ea.test(d)||Ea.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=zs(t.rotate||0,s.rotate||0,n))}function g5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nD=cS(0,.5,J3),iD=cS(.5,.95,Pi);function cS(e,t,s){return n=>n<e?0:n>t?1:s(Ih(e,t,n))}function x5(e,t){e.min=t.min,e.max=t.max}function ji(e,t){x5(e.x,t.x),x5(e.y,t.y)}function y5(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function v5(e,t,s,n,i){return e-=t,e=xp(e,1/s,n),i!==void 0&&(e=xp(e,1/i,n)),e}function aD(e,t=0,s=1,n=.5,i,a=e,o=e){if(Ea.test(t)&&(t=parseFloat(t),t=zs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=zs(a.min,a.max,n);e===a&&(l-=t),e.min=v5(e.min,t,s,l,i),e.max=v5(e.max,t,s,l,i)}function b5(e,t,[s,n,i],a,o){aD(e,t[s],t[n],t[i],t.scale,a,o)}const oD=["x","scaleX","originX"],lD=["y","scaleY","originY"];function w5(e,t,s,n){b5(e.x,t,oD,s?s.x:void 0,n?n.x:void 0),b5(e.y,t,lD,s?s.y:void 0,n?n.y:void 0)}function N5(e){return e.translate===0&&e.scale===1}function dS(e){return N5(e.x)&&N5(e.y)}function j5(e,t){return e.min===t.min&&e.max===t.max}function cD(e,t){return j5(e.x,t.x)&&j5(e.y,t.y)}function S5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uS(e,t){return S5(e.x,t.x)&&S5(e.y,t.y)}function k5(e){return jn(e.x)/jn(e.y)}function C5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class dD{constructor(){this.members=[]}add(t){u1(this.members,t),t.scheduleRender()}remove(t){if(h1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uD(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Sg=["","X","Y","Z"],hD=1e3;let fD=0;function kg(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function hS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Q6(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ls,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&hS(n)}function fS({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=fD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gD),this.nodes.forEach(bD),this.nodes.forEach(wD),this.nodes.forEach(xD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new eD)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new p1),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=E6(o)&&!nI(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;Ls.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=tD(m,250),Cm.hasAnimatedSinceResize&&(Cm.hasAnimatedSinceResize=!1,this.nodes.forEach(E5)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||CD,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=d.getProps(),y=!this.targetLayout||!uS(this.targetLayout,p),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...A1(x,"layout"),onPlay:j,onComplete:N};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else h||E5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ND),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vD),this.nodes.forEach(mD),this.nodes.forEach(pD)):this.nodes.forEach(A5),this.clearAllSnapshots();const l=Un.now();zr.delta=ho(0,1e3/60,l-zr.timestamp),zr.timestamp=l,zr.isProcessing=!0,mg.update.process(zr),mg.preRender.process(zr),mg.render.process(zr),zr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yD),this.sharedNodes.forEach(jD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ls.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ls.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jn(this.snapshot.measuredBox.x)&&!jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!dS(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Yl(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_D(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return tr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(AD))){const{scroll:u}=this.root;u&&(hd(l.x,u.offset.x),hd(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=tr();if(ji(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ji(l,o),hd(l.x,h.offset.x),hd(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=tr();ji(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&fd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Yl(u.latestValues)&&fd(c,u.latestValues)}return Yl(this.latestValues)&&fd(c,this.latestValues),c}removeTransform(o){const l=tr();ji(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Yl(d.latestValues))continue;py(d.latestValues)&&d.updateSnapshot();const u=tr(),h=d.measurePageBox();ji(u,h),w5(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Yl(this.latestValues)&&w5(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=zr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),ah(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),W6(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),ah(this.relativeTargetOrigin,this.target,p.target),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||H6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ji(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;HI(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(y5(this.prevProjectionDelta.x,this.projectionDelta.x),y5(this.prevProjectionDelta.y,this.projectionDelta.y)),ih(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!C5(this.projectionDelta.x,this.prevProjectionDelta.x)||!C5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=md(),this.projectionDelta=md(),this.projectionDeltaWithTransform=md()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=md();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=tr(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,j=p!==x,N=this.getStack(),y=!N||N.members.length<=1,v=!!(j&&!y&&this.options.crossfade===!0&&!this.path.some(kD));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const _=k/1e3;P5(h.x,o.x,_),P5(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ah(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SD(this.relativeTarget,this.relativeTargetOrigin,m,_),b&&cD(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=tr()),ji(b,this.relativeTarget)),j&&(this.animationValues=u,rD(u,d,this.latestValues,_,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(yl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ls.update(()=>{Cm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$d(0)),this.currentAnimation=QR(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&mS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||tr();const h=jn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=jn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ji(l,c),fd(l,u),ih(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dD),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&kg("z",o,d,this.animationValues);for(let u=0;u<Sg.length;u++)kg(`rotate${Sg[u]}`,o,d,this.animationValues),kg(`skew${Sg[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=km(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=km(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Yl(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=uD(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Bh){if(u[x]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:y}=Bh[x],v=h==="none"?u[x]:j(u[x],d);if(N){const b=N.length;for(let k=0;k<b;k++)o[N[k]]=v}else y?this.options.visualElement.renderState.vars[x]=v:o[x]=v}this.options.layoutId&&(o.pointerEvents=d===this?km(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(_5),this.root.sharedNodes.clear()}}}function mD(e){e.updateLayout()}function pD(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Si(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=jn(m);m.min=n[h].min,m.max=m.min+p}):mS(a,t.layoutBox,n)&&Si(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],p=jn(n[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=md();ih(l,n,t.layoutBox);const c=md();o?ih(c,e.applyTransform(i,!0),t.measuredBox):ih(c,n,t.layoutBox);const d=!dS(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const x=tr();ah(x,t.layoutBox,m.layoutBox);const j=tr();ah(j,n,p.layoutBox),uS(x,j)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function gD(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yD(e){e.clearSnapshot()}function _5(e){e.clearMeasurements()}function A5(e){e.isLayoutDirty=!1}function vD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bD(e){e.resolveTargetDelta()}function wD(e){e.calcProjection()}function ND(e){e.resetSkewAndRotation()}function jD(e){e.removeLeadSnapshot()}function P5(e,t,s){e.translate=zs(t.translate,0,s),e.scale=zs(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function T5(e,t,s,n){e.min=zs(t.min,s.min,n),e.max=zs(t.max,s.max,n)}function SD(e,t,s,n){T5(e.x,t.x,s.x,n),T5(e.y,t.y,s.y,n)}function kD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const CD={duration:.45,ease:[.4,0,.1,1]},L5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),M5=L5("applewebkit/")&&!L5("chrome/")?Math.round:Pi;function I5(e){e.min=M5(e.min),e.max=M5(e.max)}function _D(e){I5(e.x),I5(e.y)}function mS(e,t,s){return e==="position"||e==="preserve-aspect"&&!MR(k5(t),k5(s),.2)}function AD(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ED=fS({attachResizeListener:(e,t)=>zh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},pS=fS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cg.current){const e=new ED({});e.mount(window),e.setOptions({layoutScroll:!0}),Cg.current=e}return Cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),PD={pan:{Feature:KR},drag:{Feature:GR,ProjectionNode:pS,MeasureLayout:oS}};function R5(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=n[i];a&&Ls.postRender(()=>a(t,sf(t)))}class TD extends _l{mount(){const{current:t}=this.node;t&&(this.unmount=ZM(t,(s,n)=>(R5(this.node,n,"Start"),i=>R5(this.node,i,"End"))))}unmount(){}}class LD extends _l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zh(zh(this.node.current,"focus",()=>this.onFocus()),zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D5(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=n[i];a&&Ls.postRender(()=>a(t,sf(t)))}class MD extends _l{mount(){const{current:t}=this.node;t&&(this.unmount=rI(t,(s,n)=>(D5(this.node,n,"Start"),(i,{success:a})=>D5(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ny=new WeakMap,_g=new WeakMap,ID=e=>{const t=Ny.get(e.target);t&&t(e)},RD=e=>{e.forEach(ID)};function DD({root:e,...t}){const s=e||document;_g.has(s)||_g.set(s,{});const n=_g.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(RD,{root:e,...t})),n[i]}function OD(e,t,s){const n=DD(t);return Ny.set(e,s),n.observe(e),()=>{Ny.delete(e),n.unobserve(e)}}const FD={some:0,all:1};class BD extends _l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:FD[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return OD(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(UD(t,s))&&this.startObserver()}unmount(){}}function UD({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const zD={inView:{Feature:BD},tap:{Feature:MD},focus:{Feature:LD},hover:{Feature:TD}},$D={layout:{ProjectionNode:pS,MeasureLayout:oS}},VD={..._R,...zD,...PD,...$D},Ds=$I(VD,tR);function qD({isOpen:e,onClose:t,onSelectGift:s,userCoins:n,recipientName:i}){const[a,o]=E.useState("all"),[l,c]=E.useState({}),[d,u]=E.useState([]),[h,m]=E.useState([]);E.useEffect(()=>{(async()=>{if(e)try{const[b,k]=await Promise.all([x7(a==="all"?void 0:a),w3()]);u(b),m(["all",...k])}catch(b){console.error("Error loading gifts:",b)}})()},[e,a]);const p=v=>l[v]||1,x=(v,b)=>{c(k=>({...k,[v]:Math.max(1,b)}))},j={all:{name:"All Gifts",icon:""},flowers:{name:"Flowers",icon:""},perfumes:{name:"Perfumes",icon:""},gift_baskets:{name:"Gift Baskets",icon:""},electronics:{name:"Electronics",icon:""},jewelry:{name:"Jewelry",icon:""},beauty:{name:"Beauty",icon:""},fashion:{name:"Fashion",icon:""},home:{name:"Home",icon:""}},N=v=>{const b=j[v];return b||{name:v.charAt(0).toUpperCase()+v.slice(1).replace(/_/g," "),icon:""}},y=v=>{const b=p(v.id);s(v,"real",b)};return e?r.jsx(Oh,{children:r.jsx(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:r.jsxs(Ds.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 px-4 sm:px-6 py-4 sm:py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:["Send a Gift to ",i]}),r.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Choose the perfect gift to make them smile"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-amber-600 bg-amber-50 px-3 py-2 rounded-lg",children:[r.jsx(qn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),r.jsxs("span",{className:"font-semibold text-sm sm:text-base",children:[n," coins"]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(or,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),r.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-white border-b border-gray-200",children:r.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:h.map(v=>{const{name:b,icon:k}=N(v);return r.jsxs("button",{onClick:()=>o(v),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-xs sm:text-sm font-medium transition-colors flex items-center space-x-1 sm:space-x-2 ${a===v?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx("span",{children:k}),r.jsx("span",{className:"hidden sm:inline",children:b})]},v)})})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:d.length===0?r.jsxs("div",{className:"text-center py-8 sm:py-12",children:[r.jsx("div",{className:"text-4xl sm:text-6xl mb-3 sm:mb-4",children:""}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"No gifts available"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:n===0?"You don't have enough coins. Purchase more coins to send gifts!":"Try selecting a different category."})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:d.map((v,b)=>{const k=p(v.id),_=v.cost*k,C=_<=n;return r.jsxs(Ds.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},className:`bg-white rounded-xl border-2 overflow-hidden transition-all hover:shadow-lg ${C?"border-gray-200 hover:border-emerald-300":"border-gray-100 opacity-60"}`,children:[r.jsx("div",{className:"bg-gray-50",children:r.jsx("img",{src:v.image,alt:v.name,className:"w-full h-32 sm:h-48 object-cover"})}),r.jsxs("div",{className:"p-3 sm:p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-2 line-clamp-2",children:v.name}),v.description&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 line-clamp-2",children:v.description}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:_}),r.jsx("span",{className:"text-sm text-amber-600",children:"coins"})]})}),_!==v.cost&&r.jsxs("div",{className:"text-xs text-gray-500",children:[v.cost," coins each"]})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[r.jsx("button",{onClick:()=>x(v.id,Math.max(1,k-1)),disabled:k<=1,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-50 disabled:opacity-50",children:r.jsx(iE,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),r.jsx("span",{className:"text-lg font-semibold min-w-[2rem] text-center",children:k}),r.jsx("button",{onClick:()=>x(v.id,Math.max(1,k+1)),disabled:!C,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border border-gray-300 flex items-center justify-center text-gray-600 hover:bg-gray-50 disabled:opacity-50",children:r.jsx(Sd,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),r.jsxs("button",{onClick:()=>y(v),disabled:!C,className:`w-full py-2.5 sm:py-3 rounded-lg font-medium text-sm transition-all flex items-center justify-center space-x-2 ${C?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:from-emerald-600 hover:to-teal-600 shadow-md hover:shadow-lg":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[r.jsx(gE,{className:"w-4 h-4"}),r.jsx("span",{children:C?"SEND GIFT":`Need ${_-n} more coins`})]})]})]},v.id)})})}),r.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsx("div",{className:"flex items-center space-x-6",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(B4,{className:"w-4 h-4"}),r.jsx("span",{children:"Virtual purchase with coins"})]})}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{children:["Showing ",d.length," gift",d.length!==1?"s":""]})})]})})]})})}):null}const HD=({delay:e=0})=>{const t=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff"],s=t[Math.floor(Math.random()*t.length)];return r.jsx(Ds.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:s},initial:{x:Math.random()*400-200,y:-20,rotate:0,scale:0},animate:{x:Math.random()*600-300,y:400,rotate:360,scale:[0,1,.8,0]},transition:{duration:3,delay:e,ease:"easeOut"}})},WD=({delay:e=0})=>r.jsx(Ds.div,{className:"absolute text-red-400",initial:{x:Math.random()*300-150,y:100,scale:0,rotate:0},animate:{x:Math.random()*400-200,y:-100,scale:[0,1.2,.8,0],rotate:[0,15,-15,0]},transition:{duration:2.5,delay:e,ease:"easeOut"},children:r.jsx(Us,{className:"w-6 h-6 fill-current"})}),GD=({delay:e=0})=>r.jsx(Ds.div,{className:"absolute text-yellow-400",initial:{x:Math.random()*200-100,y:Math.random()*200-100,scale:0,rotate:0},animate:{scale:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,delay:e,ease:"easeOut"},children:r.jsx(kd,{className:"w-4 h-4 fill-current"})});function KD({isVisible:e,gift:t,recipientName:s,onComplete:n}){const[i,a]=E.useState(!1),[o,l]=E.useState(!1);return E.useEffect(()=>{if(e&&t){const c=setTimeout(()=>{a(!0)},500);l(!0);const d=setTimeout(()=>{n()},2500);return()=>{clearTimeout(c),clearTimeout(d)}}},[e,t,n]),E.useEffect(()=>{if(o&&e){try{const c=new(window.AudioContext||window.webkitAudioContext),d=(h,m,p)=>{const x=c.createOscillator(),j=c.createGain();x.connect(j),j.connect(c.destination),x.frequency.value=h,x.type="sine",j.gain.setValueAtTime(0,m),j.gain.linearRampToValueAtTime(.1,m+.01),j.gain.exponentialRampToValueAtTime(.001,m+p),x.start(m),x.stop(m+p)},u=c.currentTime;d(523,u,.2),d(659,u+.1,.2),d(784,u+.2,.3),d(1047,u+.4,.4)}catch{console.log("Audio not supported")}l(!1)}},[o,e]),!e||!t?null:r.jsx(Oh,{children:r.jsxs(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 pointer-events-none",children:[Array.from({length:15}).map((c,d)=>r.jsx(HD,{delay:d*.1},`confetti-${d}`)),t.category==="romantic"&&Array.from({length:5}).map((c,d)=>r.jsx(WD,{delay:d*.3},`heart-${d}`)),t.category==="luxury"&&Array.from({length:8}).map((c,d)=>r.jsx(GD,{delay:d*.2},`sparkle-${d}`)),r.jsxs(Ds.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,1,.8]},transition:{duration:1,ease:"easeOut",times:[0,.7,1]},className:"text-center relative",children:[r.jsx("div",{className:"text-6xl flex items-center justify-center",children:r.jsx(Ds.div,{animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:2,ease:"easeInOut"},className:"flex items-center justify-center",children:r.jsx("img",{src:t.image,alt:t.name,className:"w-24 h-24 object-cover rounded-lg shadow-lg"})})}),r.jsx(Oh,{children:i&&r.jsx(Ds.div,{initial:{opacity:0,scale:.5,y:50},animate:{opacity:1,scale:1,y:-100},exit:{opacity:0,scale:.5,y:-150},transition:{duration:2,ease:"easeOut"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:r.jsx(Ds.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:.5,repeat:3,ease:"easeInOut"},className:"flex items-center justify-center",children:r.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover rounded-lg shadow-lg"})})})}),r.jsx(Ds.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},children:Array.from({length:2}).map((c,d)=>r.jsx(Ds.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 border border-rose-200 rounded-full",initial:{width:0,height:0,opacity:.8},animate:{width:[0,150,200],height:[0,150,200],opacity:[.8,.3,0]},transition:{duration:1.5,delay:d*.2,ease:"easeOut"}},`circle-${d}`))})]}),r.jsx(Ds.div,{className:"absolute inset-0 bg-gradient-radial from-rose-200/20 via-transparent to-transparent",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1.5},transition:{duration:1.5}})]})})}function YD({isOpen:e,isVideoCall:t,profile:s,onEndCall:n,userName:i}){var de;const[a,o]=E.useState("connecting"),[l,c]=E.useState(0),[d,u]=E.useState(!1),[h,m]=E.useState(!1),[p,x]=E.useState(!1),[j,N]=E.useState(!1),y=E.useRef(null),v=E.useRef(null),b=E.useRef(null),k=E.useRef(null),_=E.useRef(null),C=E.useRef(null),L=E.useRef(null);E.useEffect(()=>(e&&a==="connecting"&&(t&&T(),setTimeout(()=>{o("ringing");const V=new Audio("/sounds/ringtone.mp3");V.loop=!0,V.volume=.5,y.current=V,V.play().catch(ne=>{console.log("Could not play ringtone:",ne),M()}),b.current=setTimeout(()=>{O()},15e3)},2e3)),()=>{q(),G()}),[e,t]);const T=async()=>{try{console.log("Requesting camera access...");const V=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});console.log("Camera stream obtained:",V),L.current=V,N(!0),setTimeout(()=>{C.current&&V&&(C.current.srcObject=V,C.current.play().catch(ne=>console.log("Video play error:",ne)),console.log("Video stream assigned to element"))},100)}catch(V){console.error("Could not access camera:",V)}},q=()=>{if(console.log("Cleaning up audio..."),y.current&&(y.current.pause(),y.current.currentTime=0,y.current.src="",y.current.load(),y.current=null),k.current){try{k.current.close()}catch(V){console.log("Error closing audio context:",V)}k.current=null}_.current&&(clearInterval(_.current),_.current=null),v.current&&(clearInterval(v.current),v.current=null),b.current&&(clearTimeout(b.current),b.current=null)},G=()=>{console.log("Cleaning up video..."),L.current&&(L.current.getTracks().forEach(V=>{V.stop(),console.log("Stopped video track:",V.kind)}),L.current=null),C.current&&(C.current.srcObject=null,C.current.pause()),N(!1)},M=()=>{try{const V=new(window.AudioContext||window.webkitAudioContext);k.current=V;const ne=()=>{if(!k.current||k.current.state==="closed")return;const z=V.createOscillator(),Q=V.createOscillator(),se=V.createGain();z.frequency.setValueAtTime(800,V.currentTime),Q.frequency.setValueAtTime(1e3,V.currentTime),z.connect(se),Q.connect(se),se.connect(V.destination),se.gain.setValueAtTime(.1,V.currentTime),se.gain.exponentialRampToValueAtTime(.01,V.currentTime+.3),z.start(V.currentTime),Q.start(V.currentTime),z.stop(V.currentTime+.3),Q.stop(V.currentTime+.3)};ne(),_.current=setInterval(()=>{ne()},1e3)}catch(V){console.log("Could not create synthetic ringtone:",V)}},O=()=>{console.log("Ending call..."),o("ended"),q(),G(),n()},X=V=>{const ne=Math.floor(V/60),z=V%60;return`${ne.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`},K=()=>{switch(a){case"connecting":return"Connecting...";case"ringing":return"Ringing...";case"ended":return"Call ended";default:return""}};return E.useEffect(()=>{e||(o("connecting"),c(0),u(!1),m(!1),x(!1),N(!1))},[e]),e?r.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:V=>{V.target===V.currentTarget&&(console.log("Backdrop clicked, ending call"),O())},children:r.jsxs("div",{className:"bg-gradient-to-b from-blue-900 via-purple-900 to-pink-900 rounded-2xl shadow-2xl w-full max-w-md h-[650px] flex flex-col relative overflow-hidden",onClick:V=>V.stopPropagation(),children:[r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-white px-6 pt-8 pb-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"relative mb-4",children:r.jsxs("div",{className:`relative inline-block ${a==="ringing"?"animate-pulse":""}`,children:[r.jsx("img",{src:((de=s.photos)==null?void 0:de[0])||"/default-avatar.png",alt:s.firstName,className:"w-24 h-24 md:w-32 md:h-32 rounded-full object-cover border-4 border-white/30 shadow-2xl"}),a==="ringing"&&r.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/50 animate-ping"})]})}),r.jsxs("h2",{className:"text-xl md:text-2xl font-semibold mb-2",children:[s.firstName," ",s.lastName]}),r.jsx("p",{className:"text-base text-white/80 mb-3",children:K()}),l>0&&r.jsx("p",{className:"text-lg font-mono text-green-400",children:X(l)})]}),t&&r.jsxs("div",{className:"relative mb-4",children:[r.jsxs("div",{className:"w-40 h-30 md:w-48 md:h-36 bg-gray-800 rounded-lg overflow-hidden border-2 border-white/30 relative",children:[!h&&r.jsx("video",{ref:C,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),(h||!j)&&r.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ta,{className:"w-8 h-8 mx-auto mb-1 text-white/50"}),r.jsx("p",{className:"text-xs text-white/70",children:h?"Camera Off":i})]})})]}),r.jsx("div",{className:"absolute top-2 right-2 bg-black/50 rounded px-2 py-1",children:r.jsx("span",{className:"text-xs text-white",children:"You"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t?r.jsx(uo,{className:"w-5 h-5 text-white/80"}):r.jsx(la,{className:"w-5 h-5 text-white/80"}),r.jsx("span",{className:"text-sm text-white/80",children:t?"Video Call":"Voice Call"})]})]}),r.jsxs("div",{className:"flex-shrink-0 p-6 bg-black/30 backdrop-blur-sm border-t border-white/10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsx("button",{onClick:()=>u(!d),className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center transition-all duration-200 ${d?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,children:d?r.jsx(nE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(np,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),r.jsx("button",{onClick:V=>{V.preventDefault(),V.stopPropagation(),console.log("End call button clicked"),O()},className:"w-14 h-14 md:w-16 md:h-16 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-all duration-200 transform hover:scale-105",children:r.jsx(lE,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),t?r.jsx("button",{onClick:()=>{m(!h),!h&&j&&C.current?C.current.style.display="none":h&&j&&C.current&&(C.current.style.display="block")},className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center transition-all duration-200 ${h?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30"}`,children:h?r.jsx(bE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(uo,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}):r.jsx("button",{onClick:()=>x(!p),className:`w-12 h-12 md:w-14 md:h-14 rounded-full flex items-center justify-center transition-all duration-200 ${p?"bg-blue-500 hover:bg-blue-600":"bg-white/20 hover:bg-white/30"}`,children:p?r.jsx(U4,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(wE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]}),r.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3",children:[r.jsx("span",{className:"text-xs text-white/60 w-12 md:w-14 text-center",children:d?"Unmute":"Mute"}),r.jsx("span",{className:"text-xs text-white/60 w-14 md:w-16 text-center",children:"End Call"}),r.jsx("span",{className:"text-xs text-white/60 w-12 md:w-14 text-center",children:t?"Camera":"Speaker"})]})]}),r.jsx("div",{className:"absolute inset-0 overflow-hidden -z-20",children:[...Array(20)].map((V,ne)=>r.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},ne))})]})}):null}class rf{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const JD=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},$r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:JD()},$1=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},XD=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=$1(e);$r.publicKey=s.publicKey,$r.blockHeadless=s.blockHeadless,$r.storageProvider=s.storageProvider,$r.blockList=s.blockList,$r.limitRate=s.limitRate,$r.origin=s.origin||t},gS=async(e,t,s={})=>{const n=await fetch($r.origin+e,{method:"POST",headers:s,body:t}),i=await n.text(),a=new rf(n.status,i);if(n.ok)return a;throw a},xS=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},QD=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},yS=e=>e.webdriver||!e.languages||e.languages.length===0,vS=()=>new rf(451,"Unavailable For Headless Browser"),ZD=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},e9=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},t9=(e,t)=>e instanceof FormData?e.get(t):e[t],bS=(e,t)=>{if(e9(e))return!1;ZD(e.list,e.watchVariable);const s=t9(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},wS=()=>new rf(403,"Forbidden"),s9=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},r9=async(e,t,s)=>{const n=Number(await s.get(e)||0);return t-Date.now()+n},NS=async(e,t,s)=>{if(!t.throttle||!s)return!1;s9(t.throttle,t.id);const n=t.id||e;return await r9(n,t.throttle,s)>0?!0:(await s.set(n,Date.now().toString()),!1)},jS=()=>new rf(429,"Too Many Requests"),n9=async(e,t,s,n)=>{const i=$1(n),a=i.publicKey||$r.publicKey,o=i.blockHeadless||$r.blockHeadless,l=i.storageProvider||$r.storageProvider,c={...$r.blockList,...i.blockList},d={...$r.limitRate,...i.limitRate};return o&&yS(navigator)?Promise.reject(vS()):(xS(a,e,t),QD(s),s&&bS(c,s)?Promise.reject(wS()):await NS(location.pathname,d,l)?Promise.reject(jS()):gS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},i9=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},a9=e=>typeof e=="string"?document.querySelector(e):e,o9=async(e,t,s,n)=>{const i=$1(n),a=i.publicKey||$r.publicKey,o=i.blockHeadless||$r.blockHeadless,l=$r.storageProvider||i.storageProvider,c={...$r.blockList,...i.blockList},d={...$r.limitRate,...i.limitRate};if(o&&yS(navigator))return Promise.reject(vS());const u=a9(s);xS(a,e,t),i9(u);const h=new FormData(u);return bS(c,h)?Promise.reject(wS()):await NS(location.pathname,d,l)?Promise.reject(jS()):(h.append("lib_version","4.4.1"),h.append("service_id",e),h.append("template_id",t),h.append("user_id",a),gS("/api/v1.0/email/send-form",h))},l9={init:XD,send:n9,sendForm:o9,EmailJSResponseStatus:rf};function e0({profile:e,isOpen:t,onClose:s,searchFilters:n={}}){var Ae,De;if(!t)return null;const{user:i,updateCoins:a}=dn();if(!i)return r.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm p-4 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 text-center",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(sE,{className:"w-8 h-8 text-rose-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign In Required"}),r.jsxs("p",{className:"text-gray-600",children:["You need to be signed in to start messaging with ",r.jsx("span",{className:"font-semibold text-rose-600",children:e.firstName})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Re,{onClick:()=>window.location.href="/login",className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white py-3 text-lg font-medium",children:"Sign In"}),r.jsx(Re,{variant:"outline",onClick:()=>window.location.href="/signup",className:"w-full border-rose-300 text-rose-600 hover:bg-rose-50 py-3 text-lg font-medium",children:"Create Account"}),r.jsx(Re,{variant:"ghost",onClick:s,className:"w-full text-gray-500 hover:text-gray-700 py-2",children:"Cancel"})]})]})});const{setActiveChat:o}=a1(),l=Qh(),c=I7(),d=O7(),u=oL(),h=dL(),[m,p]=E.useState(e.id),[x,j]=E.useState([]),[N,y]=E.useState(""),[v,b]=E.useState(!1),[k,_]=E.useState(!1),[C,L]=E.useState(!1),[T,q]=E.useState(""),[G,M]=E.useState(!1),[O,X]=E.useState(!1),[K,de]=E.useState(!0),[V,ne]=E.useState(!0),[z,Q]=E.useState({notifications:!0,sounds:!0,readReceipts:!0,onlineStatus:!0,autoArchive:!1,messagePreview:!0}),[se,ue]=E.useState([]),[I,W]=E.useState(!1),[Z,te]=E.useState(!1),[ae,ge]=E.useState(null),[be,oe]=E.useState(!1),[_e,Ee]=E.useState(!1),[ze,Be]=E.useState(!1),[Pe,he]=E.useState("voice"),[Y,Je]=E.useState(null),[We,Ie]=E.useState(null),[Ke,Qe]=E.useState([]),[Ye,st]=E.useState(null),[pt,ht]=E.useState({isRecording:!1,duration:0,mediaRecorder:null}),[ft,at]=E.useState(null),[bt,xt]=E.useState(""),[At,Ze]=E.useState(!1),[As,Ft]=E.useState({}),[Hr,Et]=E.useState(null),Gt=E.useRef(null),Wr=E.useRef(null),zt=E.useRef(null),Es=E.useRef(null),_t=E.useRef(null),cr=E.useRef(null),Ir=E.useRef(!1),cs=E.useRef(0),Nt=B=>{console.log(" [EMAIL] Preparing to send admin email notification...");const xe=Date.now(),je=2*60*1e3,ye=xe-cs.current;if(ye<je){const qe=Math.ceil((je-ye)/1e3);console.log(` [EMAIL] Cooldown active. Next email can be sent in ${qe} seconds`);return}console.log(" [EMAIL] Cooldown passed, proceeding with email notification");const me="FZP5RsHzl0vvkCVIJ",He={chat_id:B.conversation_id||B.conversationId||"N/A",sender_name:(i==null?void 0:i.firstName)||(i==null?void 0:i.email)||"Unknown User",sender_role:"user",message_content:B.content,sent_at:new Date().toLocaleString()};console.log(" [EMAIL] Sending email with data:",He),console.log(" [EMAIL] Using service: service_0qmh0fk, template: template_6pgimka"),l9.send("service_0qmh0fk","template_6pgimka",He,me).then(qe=>{console.log(" [EMAIL] Email notification sent successfully!"),console.log(" [EMAIL] EmailJS response:",qe.text),cs.current=Date.now(),console.log(" [EMAIL] Cooldown timer started - next email can be sent in 2 minutes")},qe=>{console.error(" [EMAIL] Failed to send email notification"),console.error(" [EMAIL] EmailJS error:",qe)})};E.useEffect(()=>{t&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(B=>{console.log("Notification permission:",B)})},[t]),E.useEffect(()=>(t&&(e!=null&&e.id)?o(e.id):o(null),()=>{t&&o(null)}),[t,e==null?void 0:e.id,o]),E.useEffect(()=>{t&&(i!=null&&i.id)&&!be&&(Ee(!0),vt(i.id)&&vt(e.id)?un(i.id):(Ps(),Ee(!1)),oe(!0))},[t,i==null?void 0:i.id,be]),E.useEffect(()=>{if(!t||!(i!=null&&i.id)||!vt(i.id))return;console.log(" [CHAT] Setting up real-time message subscription..."),console.log(" [CHAT] User ID:",i.id);const B=`chat_messages_${i.id}`,xe=Oe.channel(B).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},je=>{var Pt;console.log(" [CHAT] Real-time message received:",je);const ye=je.new;if(!(ye.sender_id===i.id||ye.receiver_id===i.id)){console.log(" [CHAT] Message not relevant to current user, ignoring");return}console.log(" [CHAT] Processing relevant message");const He=ye.sender_id===i.id,qe=ye.content;if(He){const ct=x.find(Ct=>Ct.id===m);if(ct){const Ct=ct.messages.find(Ut=>Ut.isOwn&&Ut.text===qe&&Math.abs(new Date(Ut.timestamp).getTime()-new Date(ye.created_at).getTime())<1e4&&(Ut.id.startsWith("gift-")||Ut.id.startsWith("optimistic-")));if(Ct){console.log(" [CHAT] Replacing optimistic message with real message"),j(Ut=>Ut.map(Yt=>Yt.id===m?{...Yt,messages:Yt.messages.map(Mt=>Mt.id===Ct.id?{...Mt,id:ye.id,status:"delivered"}:Mt)}:Yt));return}}}const et={id:ye.id,text:qe,timestamp:new Date(ye.created_at),isOwn:He,type:ye.type==="image"?"image":ye.type==="emoji"?"emoji":ye.type==="gift"?"gift":ye.type==="voice"?"voice":"text",imageUrl:ye.type==="image"?ye.image_url:void 0,voiceUrl:ye.type==="voice"?ye.voice_url:void 0,duration:ye.duration||void 0,status:"delivered",giftData:ye.type==="gift"&&ye.gift_name?{name:ye.gift_name,cost:ye.gift_cost||0,category:"unknown",giftType:"real",image:"/placeholder-gift.jpg",quantity:1}:void 0};if(console.log(" [CHAT] Processing message:",{isOwn:et.isOwn,content:et.text}),j(ct=>ct.map(Ct=>{if(He&&Ct.id===ye.receiver_id||!He&&Ct.id===ye.sender_id){let Yt=[...Ct.messages],Mt=Ct.unreadCount;if(He){const hr=Yt.findIndex(it=>{var ma;return!(it.id.startsWith("optimistic-")||it.id.startsWith("gift-"))||!it.isOwn?!1:ye.type==="gift"&&it.type==="gift"?ye.gift_name&&((ma=it.giftData)!=null&&ma.name)?ye.gift_name===it.giftData.name:it.text.includes(qe.replace(" ","")):it.text===qe});if(hr!==-1){console.log(" [CHAT] Replacing optimistic message with real message");const it=Yt[hr];Yt[hr]={...et,id:ye.id,giftData:ye.type==="gift"?it.giftData:et.giftData||it.giftData,status:"delivered"}}else console.log(" [CHAT] No optimistic message found, adding real message"),Yt.push(et)}else console.log(" [CHAT] Adding incoming message"),Yt.push(et),m!==Ct.id&&(Mt=Ct.unreadCount+1,console.log(" [CHAT] Incrementing unread count for conversation:",Ct.profile.firstName,"New count:",Mt));let Rr=qe;return ye.type==="image"?Rr=" Photo":ye.type==="gift"?Rr=` ${qe}`:ye.type==="voice"&&(Rr=" Voice message"),{...Ct,messages:Yt,lastMessage:Rr,lastMessageTime:et.timestamp,unreadCount:Mt}}return Ct})),!He&&(console.log(" [CHAT] Playing notification for incoming message"),V&&new Audio("/notification.mp3").play().catch(Ct=>console.log("Sound play failed:",Ct)),K&&document.hidden)){let ct=et.text;ye.type==="image"?ct=" Sent a photo":ye.type==="voice"?ct=" Sent a voice message":ye.type==="gift"&&(ct=` Sent a gift: ${et.text}`),new Notification(`New message from ${e.firstName}`,{body:ct.substring(0,50)+(ct.length>50?"...":""),icon:((Pt=e.photos)==null?void 0:Pt[0])||void 0})}}).subscribe((je,ye)=>{console.log(" [CHAT] Subscription status:",je),ye&&console.error(" [CHAT] Subscription error:",ye),je==="SUBSCRIBED"?console.log(" [CHAT]  Successfully subscribed to real-time messages"):je==="CHANNEL_ERROR"?console.error(" [CHAT]  Channel error in subscription"):je==="TIMED_OUT"?console.error(" [CHAT]  Subscription timed out"):je==="CLOSED"&&console.log(" [CHAT]  Subscription closed")});return()=>{console.log(" [CHAT] Cleaning up message subscription..."),Oe.removeChannel(xe)}},[t,i==null?void 0:i.id,V,K,m]);const vt=B=>/^[0-9a-fA-F-]{36}$/.test(B),un=async B=>{try{console.log(" [CHAT] Fetching all conversations for user:",B);const{data:xe,error:je}=await Oe.from("conversations").select("*").or(`user1_id.eq.${B},user2_id.eq.${B}`).order("last_message_at",{ascending:!1});if(je){console.error("Error fetching conversations from Supabase:",je),qs(B,e.id);return}if(!xe||xe.length===0){console.log(" [CHAT] No conversations found, creating new one with current profile");const ct=Qs(e);j([ct]),p(e.id);return}console.log(" [CHAT] Found conversations:",xe.length);const ye=new Set;xe.forEach(ct=>{ct.user1_id!==B&&ye.add(ct.user1_id),ct.user2_id!==B&&ye.add(ct.user2_id)});const{data:me,error:He}=await Oe.from("profiles").select("id, first_name, last_name, photos, country, city, profession, birth_date, role").in("id",Array.from(ye));if(He){console.error("Error fetching profiles:",He);return}const qe=new Map;me==null||me.forEach(ct=>qe.set(ct.id,ct));const et=[];for(const ct of xe){const Ct=ct.user1_id===B?ct.user2_id:ct.user1_id,Ut=qe.get(Ct);if(!Ut){console.warn("Profile not found for user:",Ct);continue}const{data:Yt}=await Oe.from("messages").select("*").or(`and(sender_id.eq.${B},receiver_id.eq.${Ct}),and(sender_id.eq.${Ct},receiver_id.eq.${B})`).order("created_at",{ascending:!0}),Mt=(Yt||[]).map(Wt=>({id:Wt.id,text:Wt.content,timestamp:new Date(Wt.created_at),isOwn:Wt.sender_id===B,type:Wt.type==="image"?"image":Wt.type==="emoji"?"emoji":Wt.type==="gift"?"gift":Wt.type==="voice"?"voice":"text",imageUrl:Wt.type==="image"?Wt.image_url:void 0,voiceUrl:Wt.type==="voice"?Wt.voice_url:void 0,duration:Wt.duration||void 0,status:"delivered"})),Rr=Ut.birth_date?new Date().getFullYear()-new Date(Ut.birth_date).getFullYear():null,hr={id:Ut.id,userId:Ut.id,firstName:Ut.first_name||"Unknown",lastName:Ut.last_name||"User",gender:"female",birthDate:Ut.birth_date||"1990-01-01",country:Ut.country||"Unknown",city:Ut.city||"Unknown",bio:"",interests:[],profession:Ut.profession||"Unknown",languages:["English"],photos:Ut.photos||[],verified:Ut.role==="model",createdAt:ct.created_at||new Date().toISOString(),height:170,weight:60,eyeColor:"brown",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"no",religion:"other",zodiacSign:"aquarius",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!0,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1},it={id:Ct,profile:hr,lastMessage:Mt.length>0?(()=>{const Wt=Mt[Mt.length-1];return Wt.type==="image"?" Photo":Wt.type==="voice"?" Voice message":Wt.type==="gift"?` ${Wt.text}`:Wt.text})():"",lastMessageTime:Mt.length>0?Mt[Mt.length-1].timestamp:new Date,unreadCount:B===ct.user1_id?ct.user1_unread_count||0:ct.user2_unread_count||0,isOnline:!0,messages:Mt};et.push(it)}if(!et.find(ct=>ct.id===e.id)){const ct=Qs(e);et.unshift(ct)}console.log(" [CHAT] Loaded conversations:",et.map(ct=>ct.profile.firstName)),j(et),p(e.id),Ee(!1)}catch(xe){console.error("Error fetching all conversations from Supabase:",xe),qs(i.id,e.id),Ee(!1)}},qs=async(B,xe)=>{try{const{data:je,error:ye}=await Oe.from("messages").select("*").or(`and(sender_id.eq.${B},receiver_id.eq.${xe}),and(sender_id.eq.${xe},receiver_id.eq.${B})`).order("created_at",{ascending:!0});if(ye){console.error("Error fetching messages from Supabase:",ye),Ps();return}const me=(je||[]).map(qe=>({id:qe.id,text:qe.content,timestamp:new Date(qe.created_at),isOwn:qe.sender_id===B,type:qe.type==="image"?"image":qe.type==="emoji"?"emoji":qe.type==="gift"?"gift":qe.type==="voice"?"voice":"text",imageUrl:qe.type==="image"?qe.image_url:void 0,voiceUrl:qe.type==="voice"?qe.voice_url:void 0,duration:qe.duration||void 0})),He={id:xe,profile:e,lastMessage:me.length>0?(()=>{const qe=me[me.length-1];return qe.type==="image"?" Photo":qe.type==="voice"?" Voice message":qe.type==="gift"?` ${qe.text}`:qe.text})():"",lastMessageTime:me.length>0?me[me.length-1].timestamp:new Date,unreadCount:0,isOnline:!0,messages:me};j([He]),p(xe)}catch(je){console.error("Error fetching conversation from Supabase:",je),Ps()}},Ps=()=>{try{console.log(" [CHAT] Initializing conversations from localStorage for user:",i.id);const B=`conversations_${i.id}`,xe=localStorage.getItem(B);if(xe){const ye=JSON.parse(xe).map(qe=>({...qe,lastMessageTime:new Date(qe.lastMessageTime),messages:qe.messages.map(et=>({...et,timestamp:new Date(et.timestamp)}))}));console.log(" [CHAT] Found stored conversations:",ye.map(qe=>qe.profile.firstName));const me=ye;if(me.find(qe=>qe.id===e.id))me.sort((qe,et)=>et.lastMessageTime.getTime()-qe.lastMessageTime.getTime()),j(me),p(e.id);else{const qe=Qs(e);me.sort((et,Pt)=>Pt.lastMessageTime.getTime()-et.lastMessageTime.getTime()),j([qe,...me]),p(e.id)}}else{console.log(" [CHAT] No stored conversations found, creating new conversation and sample conversations");const je=[],ye=Qs(e);je.push(ye),vt(i.id)||[{id:"sample-1",firstName:"Emma",lastName:"Wilson",photos:["https://images.unsplash.com/photo-1494790108755-2616b612b353?w=400"],country:"USA",city:"New York",verified:!0},{id:"sample-2",firstName:"Sofia",lastName:"Rodriguez",photos:["https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400"],country:"Spain",city:"Madrid",verified:!0},{id:"sample-3",firstName:"Anna",lastName:"Kowalski",photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"],country:"Poland",city:"Warsaw",verified:!1}].forEach((He,qe)=>{const et={id:He.id,userId:He.id,firstName:He.firstName,lastName:He.lastName,gender:"female",birthDate:"1995-01-01",country:He.country,city:He.city,bio:"",interests:[],profession:"Model",languages:["English"],photos:He.photos,verified:He.verified,createdAt:new Date().toISOString(),height:170,weight:60,eyeColor:"brown",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"no",religion:"other",zodiacSign:"aquarius",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!0,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1},Pt=[{id:`sample-msg-${qe}-1`,text:"Hi! I saw your profile and would love to chat! ",timestamp:new Date(Date.now()-(24-qe*6)*60*60*1e3),isOwn:!1,type:"text",status:"delivered"},{id:`sample-msg-${qe}-2`,text:"Hope you're having a wonderful day! ",timestamp:new Date(Date.now()-(12-qe*3)*60*60*1e3),isOwn:!1,type:"text",status:"delivered"}],ct={id:He.id,profile:et,lastMessage:Pt[Pt.length-1].text,lastMessageTime:Pt[Pt.length-1].timestamp,unreadCount:2,isOnline:!0,messages:Pt};je.push(ct)}),j(je),p(e.id)}}catch(B){console.error("Error initializing conversations:",B);const xe=Qs(e);j([xe]),p(e.id)}},Qs=B=>{const xe={...B};return{id:B.id,profile:xe,lastMessage:"",lastMessageTime:new Date,unreadCount:0,isOnline:!0,messages:[]}};E.useEffect(()=>{if(i!=null&&i.id&&x.length>0&&be){const B=`conversations_${i.id}`;localStorage.setItem(B,JSON.stringify(x))}},[x,i==null?void 0:i.id,be]),E.useEffect(()=>{mt()},[x,v]);const mt=()=>{setTimeout(()=>{var B;(B=Gt.current)==null||B.scrollIntoView({behavior:"smooth"})},100)},rs=(B,xe)=>{console.log(" [CHAT] Adding message to conversation:",{conversationId:B,messageId:xe.id,content:xe.text}),j(je=>je.map(me=>{if(me.id===B){if(me.messages.some(et=>et.id===xe.id))return console.log(" [CHAT] Message already exists, skipping:",xe.id),me;console.log(" [CHAT] Adding new message to conversation");let qe=me.unreadCount;return!xe.isOwn&&m!==B&&(qe=me.unreadCount+1,console.log(" [CHAT] Incrementing unread count for localStorage conversation:",me.profile.firstName,"New count:",qe)),{...me,messages:[...me.messages,xe],lastMessage:xe.text,lastMessageTime:xe.timestamp,unreadCount:qe}}return me}))},hn=async()=>{if(!N.trim())return;if(!i||!i.chatSubscription||new Date(i.chatSubscription.expiresAt)<=new Date){window.location.href="/pricing";return}const B=N.trim();if(y(""),Je(null),M(!0),vt(i.id)&&vt(m)){const xe={id:`optimistic-${Date.now()}`,text:B,timestamp:new Date,isOwn:!0,type:"text",status:"sending",replyTo:Y?{id:Y.id,text:Y.text,senderName:Y.isOwn?"You":(ot==null?void 0:ot.firstName)||"User"}:void 0};rs(m,xe);try{const{error:je}=await Oe.from("messages").insert({sender_id:i.id,receiver_id:m,content:B,type:"text"});if(je){console.error(" Failed to send message to database:",je),l.error("Failed to send message. Please try again.","Error"),y(B),j(ye=>ye.map(me=>me.id===m?{...me,messages:me.messages.filter(He=>He.id!==xe.id)}:me));return}else console.log(" Message sent to database successfully"),Nt({conversation_id:m,content:B,sender_id:i.id,created_at:new Date().toISOString()})}catch(je){console.error(" Failed to send message:",je),l.error("Failed to send message. Please try again.","Error"),y(B),j(ye=>ye.map(me=>me.id===m?{...me,messages:me.messages.filter(He=>He.id!==xe.id)}:me));return}}else{const xe={id:`msg-${Date.now()}`,text:B,timestamp:new Date,isOwn:!0,type:"text",status:"sent",replyTo:Y?{id:Y.id,text:Y.text,senderName:Y.isOwn?"You":(ot==null?void 0:ot.firstName)||"User"}:void 0};rs(m,xe),vt(i.id)||setTimeout(()=>{const je=["Thank you for your message! ","That's really interesting!","I'd love to hear more about that.","You seem like such a nice person! ","I'm really enjoying our conversation.","Tell me more about yourself!","That sounds wonderful! ","I hope we can chat more soon.","You made me smile today! ","I feel like we have a great connection!"],ye=je[Math.floor(Math.random()*je.length)],me={id:`ai-${Date.now()}`,text:ye,timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};rs(m,me)},2e3+Math.random()*3e3)}},dr=B=>{j(xe=>xe.map(je=>je.id===B?{...je,unreadCount:0}:je)),p(B),X(!1)},ps=()=>x.find(B=>B.id===m),ns=ps(),ot=ns==null?void 0:ns.profile,ha=(ns==null?void 0:ns.messages)||[],Wn=ot!=null&&ot.birthDate?new Date().getFullYear()-new Date(ot.birthDate).getFullYear():0,fn=["","","","","","","","","","","",""],Gr=x.filter(B=>B.profile.firstName.toLowerCase().includes(T.toLowerCase())||B.lastMessage.toLowerCase().includes(T.toLowerCase())),mn=B=>{y(xe=>xe+B),_(!1)},_n=()=>{var B;(B=Wr.current)==null||B.click()},ur=async B=>{var je;const xe=(je=B.target.files)==null?void 0:je[0];if(xe&&xe.type.startsWith("image/"))try{const ye=await An(xe,800,.7);if(i&&vt(i.id)&&vt(m)){const me=`img-${Date.now()}`;await Di(ye,me)}else{const me={id:`img-${Date.now()}`,text:"",timestamp:new Date,isOwn:!0,type:"image",imageUrl:URL.createObjectURL(ye),status:"sent"};rs(m,me)}}catch(ye){console.error("Error processing image:",ye),l.error("Failed to send image")}},An=(B,xe,je)=>new Promise(ye=>{const me=document.createElement("canvas"),He=me.getContext("2d"),qe=document.createElement("img");qe.onload=()=>{let{width:et,height:Pt}=qe;et>xe&&(Pt=Pt*xe/et,et=xe),me.width=et,me.height=Pt,He.drawImage(qe,0,0,et,Pt),me.toBlob(ct=>{if(ct){const Ct=new File([ct],B.name,{type:"image/jpeg",lastModified:Date.now()});ye(Ct)}else ye(B)},"image/jpeg",je)},qe.src=URL.createObjectURL(B)}),Di=async(B,xe)=>{try{console.log(" [CHAT] Starting image upload process:",{fileName:B.name,fileType:B.type,fileSize:B.size,messageId:xe,userId:i.id,activeConversation:m});const je=`${i.id}/${xe}-${Date.now()}.jpg`,{data:ye,error:me}=await Oe.storage.from("chat-images").upload(je,B);if(me){console.error(" [CHAT] Error uploading image to storage:",me);return}console.log(" [CHAT] Image uploaded to storage successfully:",ye);const{data:{publicUrl:He}}=Oe.storage.from("chat-images").getPublicUrl(je);console.log(" [CHAT] Generated public URL:",He);const qe={sender_id:i.id,receiver_id:m,content:"",type:"image",image_url:He};console.log(" [CHAT] Inserting message into database:",qe);const{data:et,error:Pt}=await Oe.from("messages").insert(qe);if(Pt)throw console.error(" [CHAT] Error inserting message into database:",Pt),Pt;console.log(" [CHAT] Message inserted into database successfully:",et),console.log(" [CHAT] Image upload process completed successfully")}catch(je){console.error(" [CHAT] Error in uploadImageToSupabase:",je)}},Oi=async()=>{if(!i||i.coins<Ad.videoCall){window.location.href="/lcn/pricing";return}const{error:B}=await a(-1e3);if(B){l.error("Unable to connect. Please try again.","Connection Error");return}he("video"),Be(!0);const xe={id:`vcall-${Date.now()}`,text:" Video call initiated",timestamp:new Date,isOwn:!0,type:"text",status:"sending"};rs(m,xe)},En=async()=>{if(!i||i.coins<Ad.voiceCall){window.location.href="/lcn/pricing";return}const{error:B}=await a(-400);if(B){l.error("Unable to connect. Please try again.","Connection Error");return}he("voice"),Be(!0);const xe={id:`acall-${Date.now()}`,text:" Voice call initiated",timestamp:new Date,isOwn:!0,type:"text",status:"sending"};rs(m,xe)},Fi=()=>{if(!i||i.coins<5){window.location.href="/lcn/pricing";return}W(!0)},di=async(B,xe,je=1)=>{var ct;W(!1);const ye=B.cost*je;if(!i||i.coins<ye){window.location.href="/lcn/pricing";return}const me=(ct=ps())==null?void 0:ct.profile,{error:He}=await a(-ye);if(He){l.error("Failed to send gift. Please try again.","Error");return}const qe=je>1?`${je}x ${B.name}`:B.name,et={id:`gift-${Date.now()}`,text:qe,timestamp:new Date,isOwn:!0,type:"gift",status:"sending",giftData:{name:B.name,cost:B.cost,category:B.category,giftType:"real",image:B.image,quantity:je}};rs(m,et);let Pt=!0;if(i&&vt(i.id)&&vt(m))try{await Ia(et.id,{...B,giftType:"real",quantity:je})}catch(Ct){Pt=!1,console.error("Gift failed to send:",Ct),j(Ut=>Ut.map(Yt=>Yt.id===m?{...Yt,messages:Yt.messages.filter(Mt=>Mt.id!==et.id)}:Yt));return}if(Pt){setTimeout(()=>{j(Ut=>Ut.map(Yt=>Yt.id===m?{...Yt,messages:Yt.messages.map(Mt=>Mt.id===et.id?{...Mt,status:"sent"}:Mt)}:Yt))},1e3),ge({...B,giftType:"real"}),te(!0);const Ct=je>1?` (${je} items)`:"";l.success(`Gift sent! ${B.name}${Ct} purchased for ${me==null?void 0:me.firstName}.`,"Gift Sent!")}},pn=async()=>{if(!i||i.coins<Ad.contactInfo){window.location.href="/lcn/pricing";return}const{error:B}=await a(-700);if(B){l.error("Failed to send request. Please try again.","Error");return}const xe={id:`whatsapp-${Date.now()}`,text:" WhatsApp contact request sent",timestamp:new Date,isOwn:!0,type:"text",status:"sending"};rs(m,xe),setTimeout(()=>{j(ye=>ye.map(me=>me.id===m?{...me,messages:me.messages.map(He=>He.id===xe.id?{...He,text:" WhatsApp contact request delivered",status:"sent"}:He)}:me));const je=Math.random()*15e3+3e4;setTimeout(()=>{if(j(me=>me.map(He=>He.id===m?{...He,messages:He.messages.map(qe=>qe.id===xe.id?{...qe,text:" WhatsApp contact request",status:"delivered"}:qe)}:He)),Math.random()>.8){const me={id:`system-${Date.now()}`,text:"Hi! I received your WhatsApp request. I'm a bit cautious about sharing my contact outside the platform. Let's chat here a bit more first! ",timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};rs(m,me)}else{const me={id:`system-${Date.now()}`,text:"Thank you for your interest! I prefer to keep our conversations on this platform for now. I hope you understand! ",timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};rs(m,me)}},je)},3e3)},yo=()=>{c.confirm("Block User",`Are you sure you want to block ${ot==null?void 0:ot.firstName}?

This will prevent them from contacting you and remove this conversation.`,()=>{j(B=>B.filter(xe=>xe.id!==m)),p(""),l.success(`${ot==null?void 0:ot.firstName} has been blocked.`,"User Blocked")},()=>{},{type:"danger",confirmText:"Block User",cancelText:"Cancel"})},Pl=()=>{d.prompt("Report User",`Report ${ot==null?void 0:ot.firstName} for inappropriate behavior?

Please provide details about the issue:`,B=>{B.trim()&&l.success(`Thank you for your report. We will review ${ot==null?void 0:ot.firstName}'s account.`,"Report Submitted")},()=>{})},Gn=()=>{window.open(`/lcn/profile/${ot==null?void 0:ot.id}`,"_blank")},Bi=()=>{u.openSettings("Chat Settings",z,B=>{Q(B),de(B.notifications),ne(B.sounds),l.success("Chat settings updated successfully.","Settings Saved")})};E.useEffect(()=>{const B=xe=>{if(Ir.current){console.log("Menu just opened, ignoring outside click");return}zt.current&&!zt.current.contains(xe.target)&&(console.log("Clicking outside more menu, closing..."),X(!1)),Es.current&&!Es.current.contains(xe.target)&&st(null)};if(O||Ye)return document.addEventListener("mousedown",B),document.addEventListener("touchstart",B),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("touchstart",B)}},[O,Ye]),E.useEffect(()=>{if(t&&se.length===0){const B=[{id:"archived-1",profile:{id:"archived-1",userId:"archived-1",firstName:"Sofia",lastName:"P.",gender:"female",birthDate:"1995-03-15",country:"Bulgaria",city:"Sofia",bio:"Marketing manager who loves travel",interests:["Travel","Photography","Yoga"],profession:"Marketing Manager",languages:["Bulgarian","English"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"],verified:!0,createdAt:"2025-05-15",height:165,weight:55,eyeColor:"brown",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"no",religion:"orthodox",zodiacSign:"pisces",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!1,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1},lastMessage:"Thanks for the lovely evening! ",lastMessageTime:new Date(Date.now()-6048e5),archivedAt:new Date(Date.now()-2592e5),messageCount:47}];ue(B)}},[t,se.length]),E.useEffect(()=>{if(!t||!(i!=null&&i.id)||vt(i.id))return;const B=()=>{var et;const je=x.filter(Pt=>Pt.id!==m&&Pt.messages.length>0);if(je.length===0)return;const ye=je[Math.floor(Math.random()*je.length)],me=["Hey! How are you doing? ","I was thinking about our last conversation...","Would you like to chat sometime? ","Hope you're having a great day! ","Just wanted to say hi! ","What are your plans for the weekend?","I saw something that reminded me of you ","Good morning! ","How was your day today?","I'd love to get to know you better "],He=me[Math.floor(Math.random()*me.length)],qe={id:`incoming-${Date.now()}`,text:He,timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};console.log(" [DEMO] Simulating incoming message from:",ye.profile.firstName),rs(ye.id,qe),V&&new Audio("/notification.mp3").play().catch(ct=>console.log("Sound play failed:",ct)),K&&document.hidden&&new Notification(`New message from ${ye.profile.firstName}`,{body:He.substring(0,50)+(He.length>50?"...":""),icon:((et=ye.profile.photos)==null?void 0:et[0])||void 0})},xe=setInterval(()=>{Math.random()>.7&&B()},45e3);return()=>clearInterval(xe)},[t,i==null?void 0:i.id,x,m,V,K]);const Tl=B=>B.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Ui=B=>{const je=new Date().getTime()-B.getTime(),ye=Math.floor(je/(1e3*60*60)),me=Math.floor(ye/24);return me>0?`${me}d`:ye>0?`${ye}h`:"now"},Ll=B=>{Je(B),st(null)},vo=B=>{B.isOwn&&(Ie(B),y(B.text),st(null))},Ml=async B=>{try{j(xe=>xe.map(je=>je.id===m?{...je,messages:je.messages.filter(ye=>ye.id!==B)}:je)),i&&vt(i.id)&&await Oe.from("messages").delete().eq("id",B),st(null),l.success("Message deleted")}catch(xe){console.error("Error deleting message:",xe),l.error("Failed to delete message")}},zi=B=>{navigator.clipboard.writeText(B.text),l.success("Message copied to clipboard"),st(null)},Il=B=>{navigator.clipboard.writeText(B.text),l.success("Message copied to clipboard"),st(null)},gs=(B,xe)=>{const je=(i==null?void 0:i.firstName)||"You";j(ye=>ye.map(me=>me.id===m?{...me,messages:me.messages.map(He=>He.id===B?{...He,reactions:He.reactions?He.reactions.map(qe=>qe.emoji===xe?{...qe,users:[...qe.users,je]}:qe).concat(He.reactions.find(qe=>qe.emoji===xe)?[]:[{emoji:xe,users:[je]}]):[{emoji:xe,users:[je]}]}:He)}:me)),st(null)},$i=async()=>{if(pt.isRecording)_t.current&&_t.current.state==="recording"&&_t.current.stop();else try{const B=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}}),xe=new MediaRecorder(B,{mimeType:"audio/webm;codecs=opus"}),je=[];let ye;xe.ondataavailable=me=>{me.data.size>0&&je.push(me.data)},xe.onstop=async()=>{clearInterval(ye);const me=new Blob(je,{type:"audio/webm"}),He=URL.createObjectURL(me),qe=pt.duration,et={id:`voice-${Date.now()}`,text:"",timestamp:new Date,isOwn:!0,type:"voice",voiceUrl:He,duration:qe,status:"sending"};rs(m,et),i&&vt(i.id)&&vt(m)&&await bo(me,et.id,qe),setTimeout(()=>{j(Pt=>Pt.map(ct=>ct.id===m?{...ct,messages:ct.messages.map(Ct=>Ct.id===et.id?{...Ct,status:"sent"}:Ct)}:ct))},1e3),B.getTracks().forEach(Pt=>Pt.stop()),ht({isRecording:!1,duration:0,mediaRecorder:null})},xe.onerror=me=>{console.error("MediaRecorder error:",me),l.error("Recording failed. Please try again."),clearInterval(ye),B.getTracks().forEach(He=>He.stop()),ht({isRecording:!1,duration:0,mediaRecorder:null})},xe.start(100),_t.current=xe,ht({isRecording:!0,duration:0,mediaRecorder:xe}),ye=setInterval(()=>{ht(me=>({...me,duration:me.duration+1}))},1e3),setTimeout(()=>{var me;((me=_t.current)==null?void 0:me.state)==="recording"&&_t.current.stop()},3e5)}catch(B){console.error("Error accessing microphone:",B),B instanceof Error?B.name==="NotAllowedError"?l.error("Microphone access denied. Please allow microphone access and try again."):B.name==="NotFoundError"?l.error("No microphone found. Please connect a microphone and try again."):l.error("Could not access microphone. Please check your browser settings."):l.error("Could not access microphone")}},bo=async(B,xe,je)=>{try{const ye=`${i.id}/${xe}-${Date.now()}.webm`,{data:me,error:He}=await Oe.storage.from("chat-voice").upload(ye,B);if(He){console.error("Error uploading voice:",He);return}const{data:{publicUrl:qe}}=Oe.storage.from("chat-voice").getPublicUrl(ye);await Oe.from("messages").insert({sender_id:i.id,receiver_id:m,content:"",type:"voice",voice_url:qe,duration:je}),console.log("Voice message uploaded successfully:",qe)}catch(ye){console.error("Error uploading voice to Supabase:",ye)}},Ia=async(B,xe)=>{try{console.log(" Saving gift to Supabase:",{messageId:B,sender_id:i.id,receiver_id:m,content:xe.quantity>1?`${xe.quantity}x ${xe.name}`:xe.name,type:"gift",gift_name:xe.name,gift_cost:xe.cost,senderIdValid:vt(i.id),receiverIdValid:vt(m)});const je={sender_id:i.id,receiver_id:m,content:xe.quantity>1?`${xe.quantity}x ${xe.name}`:xe.name,type:"gift"};xe.name&&(je.gift_name=xe.name),xe.cost&&(je.gift_cost=xe.cost);const{data:ye,error:me}=await Oe.from("messages").insert(je);if(me)throw console.error(" Supabase error saving gift:",me),console.error(" Error details:",JSON.stringify(me,null,2)),console.error(" Insert data was:",JSON.stringify(je,null,2)),me;console.log(" Gift message saved successfully:",ye)}catch(je){console.error(" Error saving gift to Supabase:",je),l.error("Failed to send gift. Please try again.","Error"),i&&await a(xe.cost)}},fa=(B,xe)=>{if(ft===B)cr.current&&(cr.current.pause(),at(null));else{cr.current&&cr.current.pause();const je=new Audio(xe);cr.current=je,je.onended=()=>{at(null)},je.play(),at(B)}},Ra=B=>{const xe=Math.floor(B/60),je=B%60;return`${xe}:${je.toString().padStart(2,"0")}`},Kr=B=>{switch(B){case"sending":return r.jsx(pc,{className:"w-3 h-3 text-gray-400"});case"sent":return r.jsx(bs,{className:"w-3 h-3 text-gray-400"});case"delivered":return r.jsx(Gb,{className:"w-3 h-3 text-gray-400"});case"read":return r.jsx(Gb,{className:"w-3 h-3 text-blue-500"});default:return null}},P=B=>{if(!B.trim())return[];const xe=x.find(je=>je.id===m);return xe?xe.messages.filter(je=>je.text.toLowerCase().includes(B.toLowerCase())):[]};E.useEffect(()=>{N&&m&&Ft(B=>({...B,[m]:N}))},[N,m]),E.useEffect(()=>{m&&As[m]&&!We&&y(As[m])},[m,As,We]);const re=()=>{Be(!1);const B=Pe==="video"?" Video":" Voice";j(xe=>xe.map(je=>je.id===m?{...je,messages:je.messages.map((ye,me,He)=>me===He.length-1&&ye.text.includes("call initiated")?{...ye,text:`${B} call - No answer`,status:"delivered"}:ye)}:je)),setTimeout(()=>{const xe={id:`system-${Date.now()}`,text:`${ot==null?void 0:ot.firstName} ${Pe==="video"?"missed your video call":"is not available right now"}. ${Pe==="voice"?"Your call went to voicemail.":"You can try again later or send a message instead."}`,timestamp:new Date,isOwn:!1,type:"text",status:"delivered"};rs(m,xe)},1e3),l.warning(`${ot==null?void 0:ot.firstName} ${Pe==="video"?"is currently unavailable. Your call couldn't be completed.":"didn't answer your call. Try sending a message instead."}`,"Call Not Answered")};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-0 sm:p-4",children:[r.jsxs("div",{className:"bg-white rounded-none sm:rounded-2xl shadow-2xl w-full h-full sm:max-w-6xl sm:h-[700px] flex animate-scale-in overflow-hidden",children:[r.jsxs("div",{className:`${m?"hidden md:flex":"flex"} w-full md:w-80 border-r border-slate-200 flex-col bg-gradient-to-b from-slate-50 to-white sm:rounded-l-2xl h-full`,children:[r.jsxs("div",{className:"flex-shrink-0 p-3 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h2",{className:"text-base font-medium text-slate-800",children:"Messages"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-slate-100 md:hidden touch-manipulation",onClick:s,title:"Close",children:r.jsx(or,{className:"h-4 w-4 text-slate-600"})}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-slate-100 touch-manipulation",onClick:Bi,title:"Settings",children:r.jsx(na,{className:"h-4 w-4 text-slate-600"})})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx(Fs,{placeholder:"Search...",value:T,onChange:B=>q(B.target.value),className:"pl-10 bg-slate-50 border-slate-200 focus:border-rose-400 focus:ring-rose-400 text-sm h-9 rounded-lg"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:_e?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):Gr.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Ns,{className:"mx-auto h-8 w-8 text-gray-400 mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No conversations found"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start chatting to see your conversations here"})]}):r.jsx(r.Fragment,{children:Gr.map(B=>r.jsx("div",{onClick:()=>dr(B.id),className:`p-3 cursor-pointer transition-all duration-200 hover:bg-slate-50 ${m===B.id?"bg-rose-50 border-l-2 border-l-rose-500":""}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[B.profile.photos&&B.profile.photos.length>0&&B.profile.photos[0]?r.jsx("img",{src:B.profile.photos[0],alt:B.profile.firstName,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),B.isOnline&&r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border border-white rounded-full"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"text-sm font-medium text-slate-900 truncate",children:B.profile.firstName}),B.profile.verified&&r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-slate-400",children:B.lastMessage?Ui(B.lastMessageTime):"now"}),B.unreadCount>0&&r.jsx("div",{className:"bg-red-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:B.unreadCount>99?"99+":B.unreadCount})]})]}),r.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:B.lastMessage||"No messages yet"})]})]})},B.id))})})]}),r.jsx("div",{className:`${m?"flex":"hidden md:flex"} flex-1 flex-col`,children:ot&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border-b border-slate-200 bg-gradient-to-r from-rose-50 to-pink-50",children:[r.jsxs("div",{className:"flex items-center justify-between p-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 md:hidden touch-manipulation flex-shrink-0",onClick:()=>p(""),title:"Back to conversations",children:r.jsx(Ah,{className:"h-5 w-5 text-slate-600"})}),r.jsxs("div",{className:"relative flex-shrink-0",children:[ot.photos&&ot.photos.length>0&&ot.photos[0]?r.jsx("img",{src:ot.photos[0],alt:ot.firstName,className:"w-9 h-9 rounded-full object-cover border-2 border-white shadow-sm"}):r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-200 flex items-center justify-center border-2 border-white shadow-sm",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:[ot.firstName,", ",Wn]}),r.jsxs("p",{className:"text-xs text-slate-600 truncate",children:[ot.city,", ",ot.country]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 md:hidden",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 border border-amber-200 rounded-full px-2 py-1 shadow-sm",children:[r.jsx(qn,{className:"w-3 h-3 text-amber-600"}),r.jsx("span",{className:"text-xs font-semibold text-amber-800",children:(i==null?void 0:i.coins)||0})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 hover:bg-white/60 touch-manipulation",onClick:En,title:"Voice call",children:r.jsx(la,{className:"h-5 w-5 text-slate-600"})}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 hover:bg-white/60 touch-manipulation",onClick:Oi,title:"Video call",children:r.jsx(uo,{className:"h-5 w-5 text-slate-600"})}),r.jsx("div",{className:"relative",ref:zt,children:r.jsx(Re,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 hover:bg-white/60 touch-manipulation",onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("Mobile more menu clicked, current state:",O),O?X(!1):(Ir.current=!0,X(!0),setTimeout(()=>{Ir.current=!1},200))},title:"More options",children:r.jsx(Jb,{className:"h-5 w-5 text-slate-600"})})})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-1 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 border border-amber-200 rounded-full px-2 py-1 shadow-sm",children:[r.jsx(qn,{className:"w-3 h-3 text-amber-600"}),r.jsx("span",{className:"text-xs font-semibold text-amber-800",children:(i==null?void 0:i.coins)||0})]}),r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-gradient-to-r hover:from-purple-100 hover:to-pink-100 relative group transition-all duration-300 touch-manipulation",onClick:Fi,title:"Send a special gift ",children:[r.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r.jsx("div",{className:"absolute top-0 left-1 w-1 h-1 bg-yellow-400 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-1 right-0 w-1 h-1 bg-pink-400 rounded-full animate-ping delay-150"})]}),r.jsx(Ri,{className:"h-4 w-4 text-purple-600 group-hover:text-pink-600 transition-colors duration-300 animate-pulse"})]}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-green-100 hover:text-green-600 touch-manipulation",onClick:pn,title:"Request Contact",children:r.jsx(Ns,{className:"h-4 w-4 text-green-600"})}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:()=>Ze(!At),title:"Search messages",children:r.jsx(Nn,{className:"h-4 w-4 text-slate-600"})}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:En,children:r.jsx(la,{className:"h-4 w-4 text-slate-600"})}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:Oi,children:r.jsx(uo,{className:"h-4 w-4 text-slate-600"})}),r.jsx("div",{className:"relative",ref:zt,children:r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:()=>X(!O),children:r.jsx(Jb,{className:"h-4 w-4 text-slate-600"})})}),r.jsx(Re,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-white/60 touch-manipulation",onClick:s,title:"Close",children:r.jsx(or,{className:"h-4 w-4 text-slate-600"})})]})]}),O&&r.jsxs("div",{className:"absolute top-16 right-3 md:right-4 z-[60] bg-white rounded-lg shadow-xl border border-slate-200 py-2 min-w-48 max-w-xs animate-in slide-in-from-top-2 duration-200",children:[r.jsxs("div",{className:"md:hidden",children:[r.jsxs("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("Mobile Search Messages clicked"),X(!1),Ze(!At)},className:"w-full px-4 py-3 text-left hover:bg-slate-50 active:bg-slate-100 flex items-center gap-3 touch-manipulation transition-colors",children:[r.jsx(Nn,{className:"h-5 w-5 text-slate-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Search Messages"})]}),r.jsx("hr",{className:"my-2 border-slate-200"})]}),r.jsxs("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("View Profile clicked"),X(!1),Gn()},className:"w-full px-4 py-3 text-left hover:bg-slate-50 active:bg-slate-100 flex items-center gap-3 touch-manipulation transition-colors",children:[r.jsx(Ta,{className:"h-5 w-5 text-slate-600"}),r.jsx("span",{className:"text-sm font-medium",children:"View Profile"})]}),r.jsxs("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("Chat Settings clicked"),X(!1),Bi()},className:"w-full px-4 py-3 text-left hover:bg-slate-50 active:bg-slate-100 flex items-center gap-3 touch-manipulation transition-colors",children:[r.jsx(na,{className:"h-5 w-5 text-slate-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Chat Settings"})]}),r.jsx("hr",{className:"my-2 border-slate-200"}),r.jsxs("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("Block User clicked"),X(!1),yo()},className:"w-full px-4 py-3 text-left hover:bg-red-50 active:bg-red-100 flex items-center gap-3 text-red-600 touch-manipulation transition-colors",children:[r.jsx(vE,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Block User"})]}),r.jsxs("button",{onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("Report User clicked"),X(!1),Pl()},className:"w-full px-4 py-3 text-left hover:bg-red-50 active:bg-red-100 flex items-center gap-3 text-red-600 touch-manipulation transition-colors",children:[r.jsx(QA,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Report User"})]})]})]}),At&&r.jsxs("div",{className:"border-b border-slate-200 p-3 bg-white",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),r.jsx(Fs,{placeholder:"Search messages...",value:bt,onChange:B=>xt(B.target.value),className:"pl-10 bg-slate-50 border-slate-300 focus:border-rose-400 focus:ring-rose-400 text-sm"})]}),bt&&r.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[P(bt).length," message(s) found"]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50/30 to-white",children:[ha.map(B=>{var xe,je;return r.jsxs("div",{className:`flex ${B.isOwn?"justify-end":"justify-start"} group`,children:[r.jsxs("div",{className:`max-w-[85%] md:max-w-[80%] ${B.isOwn,"order-2"} relative`,children:[B.replyTo&&r.jsxs("div",{className:`mb-2 px-3 py-2 rounded-lg bg-slate-100 border-l-4 border-rose-400 text-sm ${B.isOwn?"ml-auto":"mr-auto"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ng,{className:"w-3 h-3 text-slate-500"}),r.jsx("span",{className:"text-xs font-medium text-slate-600",children:B.replyTo.senderName})]}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:B.replyTo.text})]}),B.isForwarded&&r.jsxs("div",{className:`mb-1 flex items-center gap-1 text-xs text-slate-500 ${B.isOwn?"justify-end":"justify-start"}`,children:[r.jsx(Kb,{className:"w-3 h-3"}),r.jsx("span",{children:"Forwarded"})]}),r.jsxs("div",{className:`px-4 py-3 rounded-2xl shadow-sm relative ${B.type==="gift"?B.isOwn?"bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white rounded-br-md border-2 border-yellow-300 shadow-lg":"bg-gradient-to-r from-pink-50 to-rose-50 text-slate-800 rounded-bl-md border-2 border-rose-200 shadow-lg":B.isOwn?"bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-br-md":"bg-white text-slate-800 rounded-bl-md border border-slate-200"}`,onContextMenu:ye=>{ye.preventDefault(),st(Ye===B.id?null:B.id)},children:[B.type==="image"&&B.imageUrl?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:B.imageUrl,alt:"Shared image",className:"rounded-lg max-w-48 h-auto cursor-pointer hover:opacity-90 transition-opacity",style:{maxHeight:"200px",objectFit:"cover"},onClick:()=>window.open(B.imageUrl,"_blank"),loading:"lazy"}),B.text&&r.jsx("p",{className:"text-sm",children:B.text})]}):B.type==="voice"&&B.voiceUrl?r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>fa(B.id,B.voiceUrl),className:"flex-shrink-0 w-8 h-8 rounded-full bg-white/20 flex items-center justify-center hover:bg-white/30 transition-colors",children:ft===B.id?r.jsx(aE,{className:"w-4 h-4"}):r.jsx(dE,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-1 bg-white/20 rounded-full",children:r.jsx("div",{className:"h-full bg-white rounded-full",style:{width:"60%"}})}),r.jsx("span",{className:"text-xs opacity-75",children:Ra(B.duration||0)})]})}),r.jsx(np,{className:"w-4 h-4 opacity-75"})]}):B.type==="gift"?r.jsx("div",{className:"space-y-2",children:((xe=B.giftData)==null?void 0:xe.giftType)==="real"&&B.giftData.image?r.jsxs("div",{className:"space-y-3",children:[r.jsx("img",{src:B.giftData.image,alt:B.giftData.name,className:"w-40 h-32 object-cover rounded-lg mx-auto"}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium",children:B.isOwn?"Gift Sent!":"Gift Received!"}),r.jsx("p",{className:"text-xs opacity-90 mt-1",children:B.giftData.quantity&&B.giftData.quantity>1?`${B.giftData.quantity}x ${B.giftData.name}`:B.giftData.name})]})]}):r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("div",{className:"text-2xl animate-bounce",children:""}),r.jsx("p",{className:"text-sm font-medium",children:B.isOwn?"Gift Sent!":"Gift Received!"}),r.jsx("p",{className:"text-xs opacity-90",children:((je=B.giftData)==null?void 0:je.name)||B.text.replace(/^[^\s]+\s/,"")})]})}):r.jsxs("div",{children:[r.jsx("p",{className:"text-base leading-relaxed break-words",children:B.text}),B.isEdited&&r.jsx("span",{className:"text-xs opacity-60 italic",children:"edited"})]}),r.jsxs("div",{className:`flex items-center gap-1 mt-1 ${B.isOwn?"justify-end":"justify-start"}`,children:[r.jsx("span",{className:"text-xs opacity-60",children:Tl(B.timestamp)}),B.isOwn&&Kr(B.status)]})]}),B.reactions&&B.reactions.length>0&&r.jsx("div",{className:`flex flex-wrap gap-1 mt-1 ${B.isOwn?"justify-end":"justify-start"}`,children:B.reactions.map((ye,me)=>r.jsxs("button",{className:"bg-white border border-slate-200 rounded-full px-2 py-1 text-xs flex items-center gap-1 hover:bg-slate-50 transition-colors",onClick:()=>gs(B.id,ye.emoji),children:[r.jsx("span",{children:ye.emoji}),r.jsx("span",{className:"text-slate-600",children:ye.users.length})]},me))}),Ye===B.id&&r.jsxs("div",{ref:Es,className:`absolute z-50 bg-white rounded-lg shadow-lg border border-slate-200 py-2 min-w-48 ${B.isOwn?"right-0":"left-0"}`,style:{top:"100%",marginTop:"4px"},children:[r.jsxs("button",{onClick:()=>Ll(B),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(ng,{className:"w-4 h-4 text-slate-600"}),"Reply"]}),r.jsxs("button",{onClick:()=>Il(B),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(zx,{className:"w-4 h-4 text-slate-600"}),"Copy"]}),r.jsxs("button",{onClick:()=>zi(B),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(Kb,{className:"w-4 h-4 text-slate-600"}),"Forward"]}),B.isOwn&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>vo(B),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[r.jsx(oE,{className:"w-4 h-4 text-slate-600"}),"Edit"]}),r.jsx("hr",{className:"my-1 border-slate-200"}),r.jsxs("button",{onClick:()=>Ml(B.id),className:"w-full px-4 py-2 text-left hover:bg-red-50 flex items-center gap-3 text-sm text-red-600",children:[r.jsx(Cd,{className:"w-4 h-4"}),"Delete"]})]}),r.jsx("hr",{className:"my-1 border-slate-200"}),r.jsxs("div",{className:"px-4 py-2",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Quick reactions:"}),r.jsx("div",{className:"flex gap-2",children:["","","","","",""].map(ye=>r.jsx("button",{onClick:()=>gs(B.id,ye),className:"text-lg hover:bg-slate-100 rounded p-1 transition-colors",children:ye},ye))})]})]})]}),!B.isOwn&&r.jsx("div",{className:"order-1 mr-3",children:r.jsx("img",{src:ot.photos[0],alt:ot.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm"})})]},B.id)}),v&&r.jsx("div",{className:"flex justify-start",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:ot.photos[0],alt:ot.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm"}),r.jsx("div",{className:"bg-white text-slate-800 rounded-2xl rounded-bl-md border border-slate-200 px-3 py-2 sm:px-4 sm:py-2 shadow-sm",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),r.jsx("div",{ref:Gt})]}),k&&r.jsx("div",{className:"border-t border-slate-200 p-4 bg-white",children:r.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2",children:fn.map(B=>r.jsx("button",{onClick:()=>mn(B),className:"p-3 hover:bg-slate-100 active:bg-slate-200 rounded-lg text-lg transition-colors touch-manipulation",children:B},B))})}),Y&&r.jsx("div",{className:"border-t border-slate-200 p-3 bg-slate-50",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ng,{className:"w-4 h-4 text-slate-500"}),r.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Replying to ",Y.isOwn?"yourself":ot.firstName]})]}),r.jsx("p",{className:"text-sm text-slate-600 truncate",children:Y.text})]}),r.jsx("button",{onClick:()=>Je(null),className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:r.jsx(or,{className:"w-4 h-4 text-slate-500"})})]})}),pt.isRecording&&r.jsx("div",{className:"border-t border-slate-200 p-3 bg-red-50",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm font-medium text-red-700",children:"Recording..."})]}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"text-sm text-red-600",children:Ra(pt.duration)})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:$i,className:"px-3 py-1 bg-red-500 text-white rounded-full text-sm hover:bg-red-600 transition-colors",children:"Stop"}),r.jsx("button",{onClick:()=>{_t.current&&(_t.current.stop(),ht({isRecording:!1,duration:0,mediaRecorder:null}))},className:"px-3 py-1 bg-slate-500 text-white rounded-full text-sm hover:bg-slate-600 transition-colors",children:"Cancel"})]})]})}),r.jsx("div",{className:"p-4 border-t border-slate-200 bg-white sm:rounded-br-2xl",children:!i||i.coins<1?r.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 border-2 border-rose-200 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-rose-600 mb-2",children:r.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"font-medium text-rose-800 mb-2",children:"Upgrade Your Account"}),r.jsx("p",{className:"text-base text-rose-600 mb-4",children:"Unlock unlimited messaging and premium features with our membership plans."}),r.jsx("button",{onClick:()=>window.location.href="/lcn/pricing",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-6 py-3 rounded-lg text-base font-medium hover:from-rose-600 hover:to-pink-600 transition-all duration-200 touch-manipulation",children:"View Plans"})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:_n,children:[r.jsx(O4,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Photo"})]}),r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:()=>_(!k),children:[r.jsx(ip,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Emoji"})]}),r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-gradient-to-r hover:from-purple-100 hover:to-pink-100 active:bg-purple-200 touch-manipulation flex-shrink-0 relative group",onClick:Fi,children:[r.jsx(Ri,{className:"h-4 w-4 mr-1 text-purple-600 group-hover:text-pink-600 transition-colors"}),r.jsx("span",{className:"text-xs",children:"Gift"})]}),r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-green-100 active:bg-green-200 touch-manipulation flex-shrink-0",onClick:pn,children:[r.jsx(Ns,{className:"h-4 w-4 mr-1 text-green-600"}),r.jsx("span",{className:"text-xs",children:"Contact"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fs,{value:N,onChange:B=>y(B.target.value),onKeyPress:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),We?(j(xe=>xe.map(je=>je.id===m?{...je,messages:je.messages.map(ye=>ye.id===We.id?{...ye,text:N,isEdited:!0,editedAt:new Date}:ye)}:je)),Ie(null),y("")):hn())},placeholder:We?"Edit message...":Y?`Reply to ${Y.isOwn?"yourself":ot.firstName}...`:`Message ${ot.firstName}...`,className:"rounded-full border-slate-300 focus:border-rose-400 focus:ring-rose-400 text-base h-12 pr-12"}),r.jsx("button",{onClick:()=>_(!k),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition-colors",children:r.jsx(ip,{className:"h-5 w-5 text-slate-400"})})]}),!N.trim()&&!We&&r.jsx(Re,{variant:"ghost",size:"sm",className:`h-12 w-12 p-0 touch-manipulation transition-colors ${pt.isRecording?"bg-red-100 hover:bg-red-200 text-red-600":"hover:bg-slate-100 active:bg-slate-200 text-slate-600"}`,onClick:$i,title:pt.isRecording?"Stop recording":"Start voice recording",children:pt.isRecording?r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"})}):r.jsx(np,{className:"h-5 w-5"})}),(N.trim()||We)&&r.jsx(Re,{onClick:()=>{We?(j(B=>B.map(xe=>xe.id===m?{...xe,messages:xe.messages.map(je=>je.id===We.id?{...je,text:N,isEdited:!0,editedAt:new Date}:je)}:xe)),Ie(null),y("")):hn()},className:"h-12 w-12 p-0 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 touch-manipulation",children:We?r.jsx(bs,{className:"h-4 w-4"}):r.jsx(Kv,{className:"h-4 w-4"})}),We&&r.jsx(Re,{variant:"ghost",size:"sm",className:"h-12 w-12 p-0 hover:bg-slate-100 active:bg-slate-200 touch-manipulation",onClick:()=>{Ie(null),y("")},children:r.jsx(or,{className:"h-4 w-4 text-slate-600"})})]})]})})]})})]}),r.jsx("input",{type:"file",ref:Wr,onChange:ur,accept:"image/*",className:"hidden"}),r.jsx(i1,{toasts:l.toasts,onClose:l.removeToast}),r.jsx(M7,{dialogs:c.dialogs,onClose:c.closeDialog}),r.jsx(D7,{dialogs:d.dialogs,onClose:d.closeDialog}),r.jsx(aL,{dialogs:u.dialogs,onClose:u.closeDialog}),r.jsx(cL,{dialogs:h.dialogs,onClose:h.closeDialog}),r.jsx(qD,{isOpen:I,onClose:()=>W(!1),onSelectGift:di,userCoins:(i==null?void 0:i.coins)||0,recipientName:((Ae=ps())==null?void 0:Ae.profile.firstName)||"someone"}),r.jsx(KD,{isVisible:Z,gift:ae,recipientName:((De=ps())==null?void 0:De.profile.firstName)||"someone",onComplete:()=>{te(!1),ge(null)}}),ot&&r.jsx(YD,{isOpen:ze,isVideoCall:Pe==="video",profile:ot,userName:(i==null?void 0:i.firstName)||"You",onEndCall:re})]})}function c9({profile:e,message:t,duration:s=8e3,onClose:n,onReply:i,onViewProfile:a}){const[o,l]=E.useState(!1),[c,d]=E.useState(!1);E.useEffect(()=>{const p=setTimeout(()=>l(!0),100),x=setTimeout(()=>{u()},s);return()=>{clearTimeout(p),clearTimeout(x)}},[s]);const u=()=>{d(!0),setTimeout(()=>{l(!1),n==null||n()},300)},h=()=>{i==null||i(),u()},m=()=>{a==null||a(),u()};return!o&&!c?null:r.jsxs("div",{className:`fixed bottom-4 right-4 z-50 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden transition-all duration-300 ease-out ${o&&!c?"translate-y-0 opacity-100 scale-100":"translate-y-4 opacity-0 scale-95"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-rose-50 to-pink-50 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"h-4 w-4 text-rose-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New Message"})]}),r.jsx("button",{onClick:u,className:"p-1 rounded-full hover:bg-white/60 transition-colors",children:r.jsx(or,{className:"h-4 w-4 text-gray-500"})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e.photo,alt:`${e.firstName}'s profile`,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm"}),e.verified&&r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1",children:r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:[e.firstName,", ",e.age]}),e.verified&&r.jsx(Os,{variant:"verified",className:"text-xs",children:"Verified"})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[e.city,", ",e.country]})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Ta,{className:"h-4 w-4"}),"View Profile"]}),r.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-rose-500 hover:bg-rose-600 text-white rounded-lg transition-colors text-sm font-medium",children:[r.jsx(Ns,{className:"h-4 w-4"}),"Reply"]})]})]}),r.jsx("div",{className:"h-1 bg-gray-100",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-rose-400 to-pink-400",style:{width:"100%",animation:`progressShrink ${s}ms linear forwards`}})}),r.jsx("style",{children:`
          @keyframes progressShrink {
            from { width: 100%; }
            to { width: 0%; }
          }
        `})]})}const Ag=[{id:"n1",firstName:"Elena",age:24,city:"Kyiv",country:"Ukraine",photo:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",verified:!0},{id:"n2",firstName:"Anastasia",age:26,city:"Moscow",country:"Russia",photo:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80",verified:!0},{id:"n3",firstName:"Sofia",age:22,city:"Minsk",country:"Belarus",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!1},{id:"n4",firstName:"Katarina",age:28,city:"Prague",country:"Czech Republic",photo:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!0},{id:"n5",firstName:"Alina",age:25,city:"Warsaw",country:"Poland",photo:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!0},{id:"n6",firstName:"Arina",age:23,city:"Almaty",country:"Kazakhstan",photo:"https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",verified:!1}],O5=["Hi! Your profile really caught my attention. Would you like to chat? ","I think we might have a lot in common! Are you interested in talking?","Your photos are lovely! I'd love to get to know you better ","Hello! I'm looking for someone genuine to connect with. Interested?","You seem like exactly what I've been looking for! Want to chat?","Hi there! I really like your profile. Are you free to talk?","Your smile made my day! Would you like to start a conversation? ","I'm interested in getting to know you better. Care to chat?","Hello! I think you seem really interesting. Want to talk?","Hi! I'd love to chat with you and see if we connect ","Your profile is amazing! I'd like to know more about you.","I'm hoping we could start a conversation. What do you think?","You look like someone I'd really enjoy talking to! Interested?","Hi! I think we could be a great match. Want to find out?","I'd love to chat with you if you're interested "];function d9({isActive:e=!0,onReply:t,onViewProfile:s}){const[n,i]=E.useState([]),[a,o]=E.useState(new Set),l=E.useRef(null),c=E.useRef(null),d=()=>O5[Math.floor(Math.random()*O5.length)],u=E.useCallback(()=>{const y=Ag.filter(v=>!a.has(v.id));return y.length===0?(o(new Set),Ag[Math.floor(Math.random()*Ag.length)]):y[Math.floor(Math.random()*y.length)]},[a]),h=E.useCallback(()=>{if(!e)return;const y=u();if(!y)return;const v={id:`notification-${Date.now()}-${Math.random()}`,profile:y,message:d(),timestamp:Date.now()};i([v]),o(b=>new Set([...b,y.id]))},[e,u]),m=E.useCallback(()=>{if(!e)return;const y=Math.random()*18e4+12e4;c.current=setTimeout(()=>{h(),m();try{console.log(" New message notification sound would play here")}catch{}},y)},[e,h]),p=y=>{i(v=>v.filter(b=>b.id!==y))},x=y=>{const v=n.find(b=>b.id===y);v&&t&&t(v.profile.id),p(y)},j=y=>{const v=n.find(b=>b.id===y);v&&s&&s(v.profile.id),p(y)};if(E.useEffect(()=>{if(!e){l.current&&(clearInterval(l.current),l.current=null),c.current&&(clearTimeout(c.current),c.current=null),i([]);return}const y=Math.random()*6e4+3e4;return c.current=setTimeout(()=>{h(),m()},y),()=>{l.current&&clearInterval(l.current),c.current&&clearTimeout(c.current)}},[e,h,m]),E.useEffect(()=>()=>{l.current&&clearInterval(l.current),c.current&&clearTimeout(c.current)},[]),n.length===0)return null;const N=n[0];return r.jsx(c9,{profile:N.profile,message:N.message,duration:8e3,onClose:()=>p(N.id),onReply:()=>x(N.id),onViewProfile:()=>j(N.id)})}const u9=[{id:"1",name:"Michael & Tetyana",location:"USA & Ukraine",text:"We met on PureLove two years ago. Despite the distance, we connected instantly. After six months of online dating and two visits, I proposed during my trip to Kyiv. We're now happily married and living in Chicago.",image:"https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1771&q=80"},{id:"2",name:"David & Anastasia",location:"Canada & Russia",text:"I was skeptical about international dating until I met Anastasia. The translation feature helped us overcome the language barrier initially. After a year of dating online and meeting twice in person, she moved to Toronto. We're getting married next month!",image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1769&q=80"}];function h9(){const[e,t]=E.useState([]),[s,n]=E.useState(!0),[i,a]=E.useState(null),[o,l]=E.useState(0),[c,d]=E.useState(!0),[u,h]=E.useState(!1),[m,p]=E.useState("18-24"),[x,j]=E.useState(""),[N,y]=E.useState(""),[v,b]=E.useState(!1),[k,_]=E.useState(null),[C,L]=E.useState({}),[T,q]=E.useState(!1),G=cn();E.useEffect(()=>{async function ue(){n(!0),a(null);const{data:I,error:W}=await Oe.from("profiles").select("*").eq("role","model").order("created_at",{ascending:!1});if(W)a("Failed to load models."),t([]);else{const Z=(I||[]).map(te=>({id:te.id,userId:te.id,firstName:te.first_name,lastName:te.last_name,gender:te.gender,birthDate:te.birth_date,country:te.country,city:te.city,bio:te.bio,interests:te.interests||[],profession:te.profession,languages:te.languages||[],photos:te.photos||[],verified:te.verified,createdAt:te.created_at,height:te.height,weight:te.weight,eyeColor:te.eye_color,hairColor:te.hair_color,appearanceType:te.appearance_type,alcohol:te.alcohol,smoking:te.smoking,children:te.children,religion:te.religion,zodiacSign:te.zodiac_sign,englishLevel:te.english_level,hasIntroVideo:te.has_intro_video,isOnline:te.is_online,hasVideo:te.has_video,hasCameraOn:te.has_camera_on,birthdaySoon:te.birthday_soon,newProfile:te.new_profile,top1000:te.top_1000}));t(Z)}n(!1)}ue()},[]);const M=e.slice(0,5),O=e.slice(5,11);E.useEffect(()=>{M.length>0&&o<M.length&&K(cp(M[o].id))},[o,M]),E.useEffect(()=>{const ue=setTimeout(()=>{q(!0)},600);return()=>clearTimeout(ue)},[]),E.useEffect(()=>{if(!c||u||M.length===0)return;const ue=setInterval(()=>{l(I=>(I+1)%M.length)},4e3);return()=>clearInterval(ue)},[c,u,M.length]);const[X,K]=E.useState(!1),de=ue=>{const I=[...M,...O].find(W=>W.id===ue);I&&(cp(ue)?(S3(ue),K(!1)):(j3(I),K(!0)))},V=ue=>{_(ue),b(!0)},ne=ue=>{ue===o||u||(h(!0),d(!1),l(ue),setTimeout(()=>{h(!1)},700),setTimeout(()=>{d(!0)},5e3))},z=ue=>{ue.preventDefault();const I=new URLSearchParams;m&&I.append("ageRange",m),x&&I.append("country",x),N&&I.append("interest",N);const W=I.toString(),Z=W?`/browse?${W}`:"/browse";G&&G(Z)},Q=ue=>{console.log("Reply to notification from profile:",ue);const I={n1:{id:"n1",userId:"n1",firstName:"Elena",lastName:"K.",gender:"female",birthDate:"1999-05-15",country:"Ukraine",city:"Kyiv",bio:"Sweet and romantic girl looking for true love ",interests:["Romance","Travel","Music"],profession:"Model",languages:["Ukrainian","English"],photos:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-01-15",height:165,weight:55,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"want",religion:"christian",zodiacSign:"taurus",englishLevel:"advanced",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},n2:{id:"cd8983ed-6a0a-4034-ac27-60b4a345419d",userId:"cd8983ed-6a0a-4034-ac27-60b4a345419d",firstName:"Anastasia",lastName:"M.",gender:"female",birthDate:"1997-08-23",country:"Russia",city:"Moscow",bio:"Passionate and caring, ready for serious relationship ",interests:["Romance","Art","Philosophy"],profession:"Psychologist",languages:["Russian","English"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-02-10",height:170,weight:58,eyeColor:"brown",hairColor:"brunette",appearanceType:"athletic",alcohol:"socially",smoking:"never",children:"want",religion:"orthodox",zodiacSign:"virgo",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!1},n3:{id:"bb77508f-6c74-44e2-a2a3-e3ab4cb764b0",userId:"bb77508f-6c74-44e2-a2a3-e3ab4cb764b0",firstName:"Sofia",lastName:"D.",gender:"female",birthDate:"2001-03-18",country:"Belarus",city:"Minsk",bio:"Young and optimistic, love dancing and meeting new people ",interests:["Dancing","Music","Fashion"],profession:"Student",languages:["Belarusian","Russian","English"],photos:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!1,createdAt:"2023-03-18",height:162,weight:50,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"rarely",smoking:"never",children:"maybe",religion:"christian",zodiacSign:"pisces",englishLevel:"intermediate",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},n4:{id:"n4",userId:"n4",firstName:"Katarina",lastName:"N.",gender:"female",birthDate:"1995-07-12",country:"Czech Republic",city:"Prague",bio:"Love exploring old cities and cozy cafes. Looking for meaningful conversations ",interests:["History","Coffee","Architecture"],profession:"Tour Guide",languages:["Czech","English","German"],photos:["https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-04-05",height:168,weight:56,eyeColor:"green",hairColor:"brown",appearanceType:"athletic",alcohol:"socially",smoking:"never",children:"want",religion:"catholic",zodiacSign:"cancer",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!1},n5:{id:"n5",userId:"n5",firstName:"Alina",lastName:"W.",gender:"female",birthDate:"1998-11-25",country:"Poland",city:"Warsaw",bio:"Creative soul who loves art and good food. Ready for new adventures ",interests:["Art","Cooking","Travel"],profession:"Graphic Designer",languages:["Polish","English","Spanish"],photos:["https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-05-22",height:165,weight:54,eyeColor:"hazel",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"rarely",children:"want",religion:"catholic",zodiacSign:"sagittarius",englishLevel:"advanced",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},n6:{id:"n6",userId:"n6",firstName:"Arina",lastName:"B.",gender:"female",birthDate:"2000-09-08",country:"Kazakhstan",city:"Almaty",bio:"Love nature and outdoor activities. Looking for someone to share life adventures ",interests:["Hiking","Photography","Nature"],profession:"Environmental Science Student",languages:["Kazakh","Russian","English"],photos:["https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!1,createdAt:"2023-06-14",height:163,weight:52,eyeColor:"brown",hairColor:"black",appearanceType:"athletic",alcohol:"never",smoking:"never",children:"maybe",religion:"muslim",zodiacSign:"virgo",englishLevel:"intermediate",hasIntroVideo:!1,isOnline:!0,hasVideo:!1}},W=I[ue]||I.n1;_(W),L({fromNotification:!0,profileId:ue}),b(!0),console.log(` Opening chat with ${W.firstName} from ${W.country}`)},se=ue=>{console.log("View profile from notification:",ue);const W={n1:"Elena from Ukraine",n2:"Anastasia from Russia",n3:"Sofia from Belarus",n4:"Katarina from Czech Republic",n5:"Alina from Poland",n6:"Arina from Kazakhstan"}[ue]||"Unknown";console.log(` Viewing profile: ${W}`),G(`/profile/${ue}`)};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Xs,{}),r.jsxs("section",{className:"relative min-h-[70vh] flex items-center overflow-hidden bg-gradient-to-br from-slate-900 via-rose-900 to-slate-900",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/70 z-10"}),r.jsx("img",{src:"https://images.unsplash.com/photo-1516195851888-6f1a981a862e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Romantic couple",className:"w-full h-full object-cover opacity-30 hover:scale-105 transition-transform duration-[20s]"})]}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-10",children:[r.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-rose-500/20 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"absolute top-40 right-20 w-32 h-32 bg-pink-500/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-20 left-20 w-24 h-24 bg-red-500/20 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx("div",{className:"container mx-auto px-4 relative z-20 py-20",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[600px]",children:[r.jsxs("div",{className:"text-white",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-rose-500/20 backdrop-blur-sm border border-rose-300/30 rounded-full px-4 py-2 mb-6 animate-fade-in",children:[r.jsx(Us,{className:"h-4 w-4 text-rose-300 fill-current animate-pulse"}),r.jsx("span",{className:"text-sm text-rose-100",children:"Trusted by 50,000+ singles worldwide"})]}),r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight animate-slide-in-left",style:{animationDelay:"0.1s"},children:["Find Your Perfect Match",r.jsx("span",{className:"block bg-gradient-to-r from-rose-300 via-pink-300 to-red-300 bg-clip-text text-transparent",children:"Online Today"})]}),r.jsxs("p",{className:"text-lg md:text-xl text-gray-300 mb-8 leading-relaxed max-w-2xl animate-fade-in-up",style:{animationDelay:"0.2s"},children:["The leading international dating site with over ",r.jsx("span",{className:"text-rose-300 font-semibold",children:"50,000+ verified profiles"})]}),r.jsx("div",{className:`bg-white/10 backdrop-blur-md rounded-xl p-6 mb-6 max-w-2xl w-full transition-all duration-700 ease-out ${T?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:r.jsxs("form",{onSubmit:z,children:[r.jsx("h3",{className:"text-white/90 text-lg font-semibold mb-4",children:"Find Your Perfect Match"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm font-medium mb-2",children:"Age Range"}),r.jsxs("select",{className:"w-full px-4 py-2 rounded-lg bg-white/0 border border-white/10 text-sm text-white focus:border-rose-300/50 focus:outline-none",value:m,onChange:ue=>p(ue.target.value),children:[r.jsx("option",{value:"18-24",children:"18-24"}),r.jsx("option",{value:"25-34",children:"25-34"}),r.jsx("option",{value:"35-44",children:"35-44"}),r.jsx("option",{value:"45+",children:"45+"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm font-medium mb-2",children:"Country"}),r.jsxs("select",{className:"w-full px-4 py-2 rounded-lg bg-white/0 border border-white/10 text-sm text-white focus:border-rose-300/50 focus:outline-none",value:x,onChange:ue=>j(ue.target.value),children:[r.jsx("option",{value:"",children:"Any Country"}),r.jsx("option",{value:"ukraine",children:"Ukraine"}),r.jsx("option",{value:"russia",children:"Russia"}),r.jsx("option",{value:"kazakhstan",children:"Kazakhstan"}),r.jsx("option",{value:"belarus",children:"Belarus"}),r.jsx("option",{value:"georgia",children:"Georgia"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white/90 text-sm font-medium mb-2",children:"Interests"}),r.jsxs("select",{className:"w-full px-4 py-2 rounded-lg bg-white/0 border border-white/10 text-sm text-white focus:border-rose-300/50 focus:outline-none",value:N,onChange:ue=>y(ue.target.value),children:[r.jsx("option",{value:"",children:"Any Interest"}),r.jsx("option",{value:"travel",children:"Travel"}),r.jsx("option",{value:"music",children:"Music"}),r.jsx("option",{value:"art",children:"Art"}),r.jsx("option",{value:"sports",children:"Sports"}),r.jsx("option",{value:"cooking",children:"Cooking"})]})]})]}),r.jsxs("button",{type:"submit",className:"w-full bg-rose-500 hover:bg-rose-600 text-white rounded-lg py-3 text-sm font-semibold shadow-none flex items-center justify-center gap-2 mt-4",children:[r.jsx(Us,{className:"h-4 w-4 mr-2"}),"View Singles Now"]})]})})]}),r.jsx("div",{className:"h-full flex items-center",children:s?r.jsxs("div",{className:"w-full max-w-lg mx-auto text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{className:"text-white/80",children:"Loading profiles..."})]}):i?r.jsx("div",{className:"w-full max-w-lg mx-auto text-center",children:r.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-xl p-6 border border-red-300/30",children:[r.jsx("p",{className:"text-red-200 mb-2",children:"Failed to load profiles"}),r.jsx("p",{className:"text-red-100 text-sm",children:i})]})}):M.length===0?r.jsx("div",{className:"w-full max-w-lg mx-auto text-center",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[r.jsx("p",{className:"text-white/80 mb-2",children:"No profiles available"}),r.jsx("p",{className:"text-white/60 text-sm",children:"Check back later for new profiles"})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"hidden lg:block relative w-full max-w-lg mx-auto",children:[r.jsx("div",{className:"relative h-[550px]",children:r.jsx("div",{className:"relative w-full h-full",children:M.map((ue,I)=>{let W=I-o;const Z=M.length;W>Z/2?W-=Z:W<-Z/2&&(W+=Z);const te=I===o,ae=Math.abs(W),ge=ae<=2;return r.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-out cursor-pointer ${ge?"":"pointer-events-none"}`,style:{transform:`
                                  translateX(${W*30}px) 
                                  translateY(${ae*15}px) 
                                  scale(${Math.max(.8,1-ae*.05)})
                                `,opacity:ge?Math.max(.3,1-ae*.3):0,zIndex:ge?10-ae:0,transition:"all 0.7s ease-out"},onClick:()=>ne(I),children:r.jsx("div",{className:`
                                w-full h-full rounded-2xl overflow-hidden transition-all duration-500
                                ${te?"shadow-xl border border-white/30":"shadow-lg border border-white/10 hover:border-white/20"}
                              `,children:r.jsxs("div",{className:"relative w-full h-full",children:[ue.photos&&ue.photos.length>0&&ue.photos[0]?r.jsx("img",{src:ue.photos[0],alt:`${ue.firstName}'s profile`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("p",{className:"text-lg font-medium",children:"No Photo"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Photo not available"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),ue.verified&&te&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-3 py-1 text-white text-xs font-medium",children:" Verified"})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[r.jsxs("h3",{className:"text-2xl font-semibold mb-1",children:[ue.firstName,", ",new Date().getFullYear()-new Date(ue.birthDate).getFullYear()]}),r.jsxs("p",{className:"text-white/80 text-sm mb-3",children:[ue.city,", ",ue.country]}),te&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2 leading-relaxed",children:ue.bio}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Re,{size:"sm",className:`flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm ${X?"bg-rose-500/50 hover:bg-rose-500/60":""}`,onClick:be=>{be.stopPropagation(),de(ue.id)},children:[r.jsx(Us,{className:`h-4 w-4 mr-1 ${X?"fill-current":""}`}),X?"Liked":"Like"]}),r.jsxs(Re,{size:"sm",className:"flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm",onClick:be=>{be.stopPropagation(),V(ue)},children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Message"]})]})]})]})]})})},ue.id)})})}),r.jsx("div",{className:"flex justify-center gap-2 mt-6",children:M.map((ue,I)=>r.jsx("button",{className:`transition-all duration-300 rounded-full ${I===o?"w-8 h-2 bg-white":"w-2 h-2 bg-white/40 hover:bg-white/60"}`,onClick:()=>ne(I)},I))})]}),r.jsxs("div",{className:"lg:hidden block relative w-full max-w-sm mx-auto animate-fade-in",style:{animationDelay:"0.5s"},children:[r.jsx("div",{className:"relative h-[450px] overflow-hidden rounded-2xl",children:r.jsx("div",{className:"flex transition-transform duration-700 ease-out h-full",style:{transform:`translateX(-${o*100}%)`},children:M.map(ue=>r.jsx("div",{className:"w-full flex-shrink-0 h-full relative",children:r.jsxs("div",{className:"relative w-full h-full rounded-2xl overflow-hidden shadow-lg border border-white/10",children:[ue.photos&&ue.photos.length>0&&ue.photos[0]?r.jsx("img",{src:ue.photos[0],alt:`${ue.firstName}'s profile`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("p",{className:"text-lg font-medium",children:"No Photo"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Photo not available"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),ue.verified&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-1 text-white text-xs",children:" Verified"})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 text-white",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-1",children:[ue.firstName,", ",new Date().getFullYear()-new Date(ue.birthDate).getFullYear()]}),r.jsxs("p",{className:"text-white/80 text-sm mb-3",children:[ue.city,", ",ue.country]}),r.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:ue.bio}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(Re,{size:"sm",className:`flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm ${X?"bg-rose-500/50 hover:bg-rose-500/60":""}`,onClick:I=>{I.stopPropagation(),de(ue.id)},children:[r.jsx(Us,{className:`h-4 w-4 mr-1 ${X?"fill-current":""}`}),X?"Liked":"Like"]}),r.jsxs(Re,{size:"sm",className:"flex-1 bg-white/20 hover:bg-white/30 text-white border-0 backdrop-blur-sm",onClick:I=>{I.stopPropagation(),V(ue)},children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Message"]})]})]})]})},ue.id))})}),r.jsx("div",{className:"flex justify-center gap-2 mt-4",children:M.map((ue,I)=>r.jsx("button",{className:`transition-all duration-300 rounded-full ${I===o?"w-6 h-2 bg-white":"w-2 h-2 bg-white/40"}`,onClick:()=>ne(I)},I))})]})]})})]})})]}),r.jsxs("section",{className:"py-20 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-32 left-16 w-24 h-24 bg-rose-500/10 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-32 h-32 bg-pink-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}})]}),r.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:["Featured Profiles",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent",children:"From Around the World"})]}),r.jsx("p",{className:"text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Discover verified profiles from around the world and start meaningful conversations today"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 stagger-animation",children:O.map(ue=>r.jsx(C3,{profile:ue,onMessage:V},ue.id))}),r.jsx("div",{className:"text-center mt-12 animate-fade-in",children:r.jsx(ut,{to:"/browse",children:r.jsxs(Re,{className:"bg-rose-500 hover:bg-rose-600 text-white border-0 hover:scale-105 transition-all duration-300 px-8 py-3",children:[r.jsx("span",{children:"View All Profiles"}),r.jsx(sp,{className:"h-4 w-4 ml-2"})]})})})]})]}),r.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 via-slate-100 to-gray-50 relative",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:["Why Choose Us?",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent",children:"Premium Features"})]}),r.jsx("p",{className:"text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Experience premium features designed to help you find genuine connections safely and effectively"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 stagger-animation",children:[r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(ms,{className:"h-8 w-8 text-rose-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Verified Profiles"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"All profiles undergo strict verification to ensure authenticity and prevent scams."})]})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(Ns,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Smart Messaging"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"AI-powered translation and conversation starters to break down barriers."})]})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-pink-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(Ri,{className:"h-8 w-8 text-pink-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Virtual Gifts"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Send thoughtful virtual gifts to show your interest and make memorable impressions."})]})}),r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-xl p-8 hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:r.jsx(xo,{className:"h-8 w-8 text-green-600"})}),r.jsx("h3",{className:"font-semibold text-xl mb-4 text-slate-800",children:"Global Reach"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Connect with people from different cultures and backgrounds worldwide."})]})})]})]})}),r.jsxs("section",{className:"py-20 bg-gradient-to-b from-white via-slate-50 to-white relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 right-10 w-20 h-20 bg-rose-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}}),r.jsx("div",{className:"absolute bottom-32 left-16 w-28 h-28 bg-pink-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"3s"}})]}),r.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-slate-800",children:["Success Stories",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent",children:"Real Love Found"})]}),r.jsx("p",{className:"text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed",children:"Real couples who found love and built meaningful relationships through our platform"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:u9.map(ue=>r.jsx("div",{className:"bg-white/80 backdrop-blur-lg border border-slate-200/60 rounded-2xl overflow-hidden hover:bg-white/95 hover:border-slate-300/80 transition-all duration-500 group shadow-lg hover:shadow-xl",children:r.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[r.jsxs("div",{className:"md:w-1/3 relative",children:[r.jsx("img",{src:ue.image,alt:ue.name,className:"w-full h-48 md:h-full object-cover group-hover:scale-105 transition-transform duration-500"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-slate-900/20"})]}),r.jsxs("div",{className:"md:w-2/3 p-8 flex flex-col justify-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-bold text-2xl mb-1 text-slate-800",children:ue.name}),r.jsxs("div",{className:"flex items-center gap-2 text-rose-600 font-medium",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-sm",children:ue.location})]})]}),r.jsxs("blockquote",{className:"text-slate-700 leading-relaxed italic text-lg",children:['"',ue.text,'"']})]})]})},ue.id))}),r.jsx("div",{className:"text-center mt-12 animate-fade-in",children:r.jsx(ut,{to:"/success-stories",children:r.jsxs(Re,{className:"bg-rose-500 hover:bg-rose-600 text-white border-0 hover:scale-105 transition-all duration-300 px-8 py-3",children:[r.jsx("span",{children:"Read More Stories"}),r.jsx(sp,{className:"h-4 w-4 ml-2"})]})})})]})]}),r.jsxs("section",{className:"py-20 bg-gradient-to-br from-rose-100 via-pink-50 to-rose-100 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-rose-500/10 rounded-full blur-xl animate-pulse"}),r.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-pink-500/10 rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-rose-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),r.jsx("div",{className:"container mx-auto px-4 text-center relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto ",children:[r.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-slate-800 animate-fade-in",children:["Ready to Find Your Match?",r.jsx("span",{className:"block bg-gradient-to-r from-rose-500 via-pink-500 to-red-500 bg-clip-text text-transparent h-[80px]",children:"Start Your Journey Today"})]}),r.jsx("p",{className:"text-xl md:text-2xl mb-12 text-slate-600 leading-relaxed animate-fade-in-up",children:"Join thousands of singles who have found meaningful connections. Your perfect match is waiting."}),r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:r.jsx(ut,{to:"/signup",children:r.jsxs(Re,{size:"lg",className:"bg-rose-600 text-white hover:bg-rose-700 hover:scale-105 transition-all duration-300 px-12 py-4 text-lg font-semibold shadow-2xl",children:[r.jsx(Us,{className:"h-6 w-6 mr-3"}),r.jsx("span",{children:"Start Your Journey"})]})})})]})})]}),r.jsx(kr,{}),k&&r.jsx(e0,{profile:k,isOpen:v,onClose:()=>b(!1),searchFilters:C}),r.jsx(d9,{isActive:!0,onReply:Q,onViewProfile:se})]})}const ts=E.forwardRef(({className:e,children:t,...s},n)=>r.jsxs("div",{className:"relative",children:[r.jsx("select",{className:ln("flex h-10 w-full appearance-none rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s,children:t}),r.jsx(Ud,{className:"absolute right-3 top-3 h-4 w-4 opacity-50"})]}));ts.displayName="Select";function f9(){const{pathname:e}=ca();return E.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0},[e]),null}const SS=(e="smooth")=>{window.scrollTo({top:0,left:0,behavior:e}),e==="instant"&&(document.documentElement.scrollTop=0,document.body.scrollTop=0)};function m9({onFiltersChange:e,initialFilters:t={}}){const[,s]=I4(),[n,i]=E.useState({ageMin:(t==null?void 0:t.ageMin)||18,ageMax:(t==null?void 0:t.ageMax)||99,country:(t==null?void 0:t.country)||"",city:(t==null?void 0:t.city)||"",eyeColor:(t==null?void 0:t.eyeColor)||"",hairColor:(t==null?void 0:t.hairColor)||"",appearanceType:(t==null?void 0:t.appearanceType)||"",alcohol:(t==null?void 0:t.alcohol)||"",smoking:(t==null?void 0:t.smoking)||"",children:(t==null?void 0:t.children)||"",religion:(t==null?void 0:t.religion)||"",zodiacSign:(t==null?void 0:t.zodiacSign)||"",englishLevel:(t==null?void 0:t.englishLevel)||"",interests:(t==null?void 0:t.interests)||[],languages:(t==null?void 0:t.languages)||[],hasIntroVideo:(t==null?void 0:t.hasIntroVideo)||!1,isOnline:(t==null?void 0:t.isOnline)||!1,hasVideo:(t==null?void 0:t.hasVideo)||!1,hasCameraOn:(t==null?void 0:t.hasCameraOn)||!1,birthdaySoon:(t==null?void 0:t.birthdaySoon)||!1,newProfile:(t==null?void 0:t.newProfile)||!1,top1000:(t==null?void 0:t.top1000)||!1,verified:(t==null?void 0:t.verified)||!1}),[a,o]=E.useState([]);E.useEffect(()=>{t&&Object.keys(t).length>0&&i(b=>({...b,...t,interests:t.interests||[],languages:t.languages||[]}))},[t]),E.useEffect(()=>{const b=setTimeout(()=>{const k=Object.keys(n).some(_=>{const C=n[_],L=t==null?void 0:t[_];return Array.isArray(C)&&Array.isArray(L)?C.length!==L.length||!C.every((T,q)=>T===L[q]):C!==L});console.log(" [SEARCH_FILTERS] Checking if filters changed:",k),console.log(" [SEARCH_FILTERS] Current filters:",n),console.log(" [SEARCH_FILTERS] Initial filters:",t),k?(console.log(" [SEARCH_FILTERS] Triggering search due to filter changes"),x()):console.log(" [SEARCH_FILTERS] No changes detected, skipping search")},300);return()=>clearTimeout(b)},[n,t]);const[l,c]=E.useState(!1);E.useEffect(()=>{if(!l){c(!0);return}const b=setTimeout(()=>{console.log(" [SEARCH_FILTERS] Initial mount - not triggering search")},100);return()=>clearTimeout(b)},[l]);const d=b=>{const{name:k,value:_}=b.target;console.log(" [SEARCH_FILTERS] handleInputChange:",k,"=",_),i(C=>({...C,[k]:_}))},u=(b,k)=>{console.log(" [SEARCH_FILTERS] handleSliderChange:",b,"=",k),i(_=>({..._,[b]:k}))},h=b=>{const{name:k,checked:_}=b.target;console.log(" [SEARCH_FILTERS] handleCheckboxChange:",k,"=",_),i(C=>({...C,[k]:_}))},m=b=>{console.log(" [SEARCH_FILTERS] handleInterestChange:",b),i(k=>{const _=k.interests.includes(b)?k.interests.filter(C=>C!==b):[...k.interests,b];return console.log(" [SEARCH_FILTERS] New interests:",_),{...k,interests:_}})},p=b=>{console.log(" [SEARCH_FILTERS] handleLanguageChange:",b),i(k=>{const _=k.languages.includes(b)?k.languages.filter(C=>C!==b):[...k.languages,b];return console.log(" [SEARCH_FILTERS] New languages:",_),{...k,languages:_}})},x=()=>{console.log(" [SEARCH_FILTERS] handleSearch called with filters:",n);const b=[];(n.ageMin!==18||n.ageMax!==99)&&b.push(`Age: ${n.ageMin}-${n.ageMax}`),n.country&&b.push(`Country: ${n.country}`),n.city&&b.push(`City: ${n.city}`),n.eyeColor&&b.push(`Eyes: ${n.eyeColor}`),n.hairColor&&b.push(`Hair: ${n.hairColor}`),n.appearanceType&&b.push(`Type: ${n.appearanceType}`),n.alcohol&&b.push(`Alcohol: ${n.alcohol}`),n.smoking&&b.push(`Smoking: ${n.smoking}`),n.children&&b.push(`Children: ${n.children}`),n.religion&&b.push(`Religion: ${n.religion}`),n.zodiacSign&&b.push(`Zodiac: ${n.zodiacSign}`),n.englishLevel&&b.push(`English: ${n.englishLevel}`),n.interests.forEach(k=>{b.push(`${k}`)}),n.languages.forEach(k=>{b.push(`${k}`)}),n.hasIntroVideo&&b.push("Has Intro Video"),n.isOnline&&b.push("Online"),n.hasVideo&&b.push("Has Video"),n.hasCameraOn&&b.push("Camera On"),n.birthdaySoon&&b.push("Birthday Soon"),n.newProfile&&b.push("New Profile"),n.top1000&&b.push("Top 1000"),n.verified&&b.push("Verified"),console.log(" [SEARCH_FILTERS] Active filters:",b),console.log(" [SEARCH_FILTERS] Calling onFiltersChange with:",n),o(b),e(n)},j=()=>{console.log(" [SEARCH_FILTERS] clearFilters called");const b={ageMin:18,ageMax:99,country:"",city:"",eyeColor:"",hairColor:"",appearanceType:"",alcohol:"",smoking:"",children:"",religion:"",zodiacSign:"",englishLevel:"",interests:[],languages:[],hasIntroVideo:!1,isOnline:!1,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1,verified:!1};console.log(" [SEARCH_FILTERS] Setting cleared filters:",b),i(b),o([]),s({}),console.log(" [SEARCH_FILTERS] Calling onFiltersChange with cleared filters"),e(b),SS()},N=b=>{console.log(" [SEARCH_FILTERS] removeFilter called with:",b),b.startsWith("Age:")?(console.log(" [SEARCH_FILTERS] Removing age filter"),i(k=>({...k,ageMin:18,ageMax:99}))):b.startsWith("Country:")?(console.log(" [SEARCH_FILTERS] Removing country filter"),i(k=>({...k,country:""}))):b.startsWith("City:")?(console.log(" [SEARCH_FILTERS] Removing city filter"),i(k=>({...k,city:""}))):b.startsWith("Eyes:")?(console.log(" [SEARCH_FILTERS] Removing eye color filter"),i(k=>({...k,eyeColor:""}))):b.startsWith("Hair:")?(console.log(" [SEARCH_FILTERS] Removing hair color filter"),i(k=>({...k,hairColor:""}))):b.startsWith("Type:")?(console.log(" [SEARCH_FILTERS] Removing appearance type filter"),i(k=>({...k,appearanceType:""}))):b.startsWith("Alcohol:")?(console.log(" [SEARCH_FILTERS] Removing alcohol filter"),i(k=>({...k,alcohol:""}))):b.startsWith("Smoking:")?(console.log(" [SEARCH_FILTERS] Removing smoking filter"),i(k=>({...k,smoking:""}))):b.startsWith("Children:")?(console.log(" [SEARCH_FILTERS] Removing children filter"),i(k=>({...k,children:""}))):b.startsWith("Religion:")?(console.log(" [SEARCH_FILTERS] Removing religion filter"),i(k=>({...k,religion:""}))):b.startsWith("Zodiac:")?(console.log(" [SEARCH_FILTERS] Removing zodiac filter"),i(k=>({...k,zodiacSign:""}))):b.startsWith("English:")?(console.log(" [SEARCH_FILTERS] Removing english level filter"),i(k=>({...k,englishLevel:""}))):Zx.includes(b)?(console.log(" [SEARCH_FILTERS] Removing interest filter:",b),i(k=>({...k,interests:k.interests.filter(_=>_!==b)}))):["English","Russian","Ukrainian","Kazakh","Belarusian","Polish","Czech","Romanian","Bulgarian","Serbian","Croatian","Latvian","Lithuanian","Estonian","Hungarian","Slovak","Slovenian","German","French","Italian","Spanish","Portuguese"].includes(b)?(console.log(" [SEARCH_FILTERS] Removing language filter:",b),i(k=>({...k,languages:k.languages.filter(_=>_!==b)}))):b==="Has Intro Video"?(console.log(" [SEARCH_FILTERS] Removing has intro video filter"),i(k=>({...k,hasIntroVideo:!1}))):b==="Online"?(console.log(" [SEARCH_FILTERS] Removing online filter"),i(k=>({...k,isOnline:!1}))):b==="Has Video"?(console.log(" [SEARCH_FILTERS] Removing has video filter"),i(k=>({...k,hasVideo:!1}))):b==="Camera On"?(console.log(" [SEARCH_FILTERS] Removing camera on filter"),i(k=>({...k,hasCameraOn:!1}))):b==="Birthday Soon"?(console.log(" [SEARCH_FILTERS] Removing birthday soon filter"),i(k=>({...k,birthdaySoon:!1}))):b==="New Profile"?(console.log(" [SEARCH_FILTERS] Removing new profile filter"),i(k=>({...k,newProfile:!1}))):b==="Top 1000"?(console.log(" [SEARCH_FILTERS] Removing top 1000 filter"),i(k=>({...k,top1000:!1}))):b==="Verified"&&(console.log(" [SEARCH_FILTERS] Removing verified filter"),i(k=>({...k,verified:!1})))},y=({name:b,label:k,icon:_,checked:C,onChange:L})=>r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[r.jsxs("div",{className:"relative flex items-center justify-center",children:[r.jsx("input",{type:"checkbox",name:b,checked:C,onChange:L,className:"sr-only"}),r.jsx("div",{className:`w-5 h-5 rounded border-2 transition-all duration-200 flex items-center justify-center ${C?"bg-rose-500 border-rose-500":"border-slate-300 group-hover:border-rose-300"}`,children:C&&r.jsx(bs,{className:"w-3.5 h-3.5 text-white"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{className:"text-slate-600 group-hover:text-slate-700 transition-colors text-sm",children:k})]})]}),v=({label:b,min:k,max:_,minValue:C,maxValue:L,onMinChange:T,onMaxChange:q,unit:G=""})=>{const[M,O]=E.useState(null),X=ne=>(ne-k)/(_-k)*100,K=ne=>{const z=ne.currentTarget.getBoundingClientRect(),Q=(ne.clientX-z.left)/z.width,se=Math.round(k+Q*(_-k)),ue=Math.abs(se-C),I=Math.abs(se-L);ue<I?T(Math.min(se,L)):q(Math.max(se,C))},de=ne=>{if(!M)return;const z=document.getElementById(`track-${b.replace(/\s+/g,"-")}`);if(!z)return;const Q=z.getBoundingClientRect(),se=Math.max(0,Math.min(1,(ne.clientX-Q.left)/Q.width)),ue=Math.round(k+se*(_-k));M==="min"?T(Math.min(ue,L)):q(Math.max(ue,C))},V=()=>{O(null)};return E.useEffect(()=>{if(M)return document.addEventListener("mousemove",de),document.addEventListener("mouseup",V),()=>{document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",V)}},[M,C,L]),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-slate-600",children:b}),r.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[C,G," - ",L,G]})]}),r.jsxs("div",{className:"relative h-6 px-3",children:[r.jsx("div",{id:`track-${b.replace(/\s+/g,"-")}`,className:"absolute top-2 left-3 right-3 h-2 bg-slate-200 rounded-lg cursor-pointer",onClick:K}),r.jsx("div",{className:"absolute top-2 h-2 bg-rose-500 rounded-lg pointer-events-none",style:{left:`${3+X(C)*.85}%`,width:`${(X(L)-X(C))*.85}%`}}),r.jsx("div",{className:"absolute top-1 w-4 h-4 bg-rose-500 border-2 border-white rounded-full shadow-md cursor-pointer hover:scale-110 transition-transform",style:{left:`${1+X(C)*.85}%`},onMouseDown:()=>O("min")}),r.jsx("div",{className:"absolute top-1 w-4 h-4 bg-rose-600 border-2 border-white rounded-full shadow-md cursor-pointer hover:scale-110 transition-transform",style:{left:`${1+X(L)*.85}%`},onMouseDown:()=>O("max")})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-slate-500",children:"Min:"}),r.jsx("input",{type:"number",min:k,max:L,value:C,onChange:ne=>T(Math.min(Number(ne.target.value),L)),className:"w-16 px-2 py-1 border border-slate-200 rounded text-center focus:border-rose-300 focus:outline-none"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-slate-500",children:"Max:"}),r.jsx("input",{type:"number",min:C,max:_,value:L,onChange:ne=>q(Math.max(Number(ne.target.value),C)),className:"w-16 px-2 py-1 border border-slate-200 rounded text-center focus:border-rose-300 focus:outline-none"})]})]})]})};return r.jsxs("div",{className:"space-y-6",children:[a.length>0&&r.jsxs("div",{className:"space-y-4 pb-4 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-slate-700 font-medium text-sm",children:["Active Filters (",a.length,")"]}),r.jsx(Re,{variant:"ghost",size:"sm",onClick:j,className:"text-slate-500 hover:text-slate-700 text-xs h-7 px-2",children:"Clear All"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((b,k)=>r.jsxs("div",{className:"flex items-center gap-1 bg-rose-50 text-rose-700 px-2 py-1 rounded-full text-xs border border-rose-200",children:[r.jsx("span",{children:b}),r.jsx("button",{onClick:()=>N(b),className:"hover:bg-rose-200 rounded-full p-0.5 transition-colors",children:r.jsx(or,{className:"h-2.5 w-2.5"})})]},k))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(co,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Age"}),r.jsx("span",{className:"text-xs text-slate-500",children:"18 - 99 years"})]}),r.jsx(v,{label:"Age Range",min:18,max:99,minValue:n.ageMin,maxValue:n.ageMax,onMinChange:b=>u("ageMin",b),onMaxChange:b=>u("ageMax",b)})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(kd,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Special Features"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(y,{name:"hasIntroVideo",label:"Has Intro video",icon:uo,checked:n.hasIntroVideo,onChange:h}),r.jsx(y,{name:"isOnline",label:"Lady is online",icon:Ns,checked:n.isOnline,onChange:h}),r.jsx(y,{name:"hasVideo",label:"Has video",icon:uo,checked:n.hasVideo,onChange:h}),r.jsx(y,{name:"hasCameraOn",label:"Has camera On",icon:R4,checked:n.hasCameraOn,onChange:h}),r.jsx(y,{name:"birthdaySoon",label:"Birthday soon",icon:Ri,checked:n.birthdaySoon,onChange:h}),r.jsx(y,{name:"newProfile",label:"New profile",icon:kd,checked:n.newProfile,onChange:h}),r.jsx(y,{name:"top1000",label:"Top 1000",icon:jd,checked:n.top1000,onChange:h}),r.jsx(y,{name:"verified",label:"Verified Profile",icon:bs,checked:n.verified,onChange:h})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(gl,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Location"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ts,{name:"country",value:n.country,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Country"}),t1.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))]}),r.jsx(Fs,{name:"city",value:n.city,onChange:d,placeholder:"City",className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Ii,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Appearance"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ts,{name:"eyeColor",value:n.eyeColor,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Eyes color"}),r.jsx("option",{value:"blue",children:"Blue"}),r.jsx("option",{value:"brown",children:"Brown"}),r.jsx("option",{value:"green",children:"Green"}),r.jsx("option",{value:"hazel",children:"Hazel"}),r.jsx("option",{value:"gray",children:"Gray"}),r.jsx("option",{value:"amber",children:"Amber"})]}),r.jsxs(ts,{name:"hairColor",value:n.hairColor,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Hair color"}),r.jsx("option",{value:"blonde",children:"Blonde"}),r.jsx("option",{value:"brunette",children:"Brunette"}),r.jsx("option",{value:"black",children:"Black"}),r.jsx("option",{value:"red",children:"Red"}),r.jsx("option",{value:"auburn",children:"Auburn"}),r.jsx("option",{value:"gray",children:"Gray"})]}),r.jsxs(ts,{name:"appearanceType",value:n.appearanceType,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Appearance type"}),r.jsx("option",{value:"slim",children:"Slim"}),r.jsx("option",{value:"athletic",children:"Athletic"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"curvy",children:"Curvy"}),r.jsx("option",{value:"full",children:"Full"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(jE,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Lifestyle"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ts,{name:"alcohol",value:n.alcohol,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Alcohol"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"socially",children:"Socially"}),r.jsx("option",{value:"regularly",children:"Regularly"})]}),r.jsxs(ts,{name:"smoking",value:n.smoking,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Smoking"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"socially",children:"Socially"}),r.jsx("option",{value:"regularly",children:"Regularly"})]}),r.jsxs(ts,{name:"children",value:n.children,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Children"}),r.jsx("option",{value:"none",children:"No children"}),r.jsx("option",{value:"have",children:"Have children"}),r.jsx("option",{value:"want",children:"Want children"}),r.jsx("option",{value:"no-want",children:"Don't want children"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(YA,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Personal"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(ts,{name:"religion",value:n.religion,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Religion"}),r.jsx("option",{value:"christian",children:"Christian"}),r.jsx("option",{value:"orthodox",children:"Orthodox"}),r.jsx("option",{value:"catholic",children:"Catholic"}),r.jsx("option",{value:"muslim",children:"Muslim"}),r.jsx("option",{value:"jewish",children:"Jewish"}),r.jsx("option",{value:"buddhist",children:"Buddhist"}),r.jsx("option",{value:"hindu",children:"Hindu"}),r.jsx("option",{value:"other",children:"Other"}),r.jsx("option",{value:"none",children:"None"})]}),r.jsxs(ts,{name:"zodiacSign",value:n.zodiacSign,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"Zodiac sign"}),r.jsx("option",{value:"aries",children:"Aries"}),r.jsx("option",{value:"taurus",children:"Taurus"}),r.jsx("option",{value:"gemini",children:"Gemini"}),r.jsx("option",{value:"cancer",children:"Cancer"}),r.jsx("option",{value:"leo",children:"Leo"}),r.jsx("option",{value:"virgo",children:"Virgo"}),r.jsx("option",{value:"libra",children:"Libra"}),r.jsx("option",{value:"scorpio",children:"Scorpio"}),r.jsx("option",{value:"sagittarius",children:"Sagittarius"}),r.jsx("option",{value:"capricorn",children:"Capricorn"}),r.jsx("option",{value:"aquarius",children:"Aquarius"}),r.jsx("option",{value:"pisces",children:"Pisces"})]}),r.jsxs(ts,{name:"englishLevel",value:n.englishLevel,onChange:d,className:"border-slate-200 focus:border-rose-300 focus:ring-rose-200",children:[r.jsx("option",{value:"",children:"English speaking skills"}),r.jsx("option",{value:"beginner",children:"Beginner"}),r.jsx("option",{value:"elementary",children:"Elementary"}),r.jsx("option",{value:"intermediate",children:"Intermediate"}),r.jsx("option",{value:"upper-intermediate",children:"Upper Intermediate"}),r.jsx("option",{value:"advanced",children:"Advanced"}),r.jsx("option",{value:"fluent",children:"Fluent"}),r.jsx("option",{value:"native",children:"Native"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(Us,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Interests"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Zx.slice(0,12).map(b=>r.jsx("button",{onClick:()=>m(b),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${n.interests.includes(b)?"bg-rose-500 text-white shadow-md hover:bg-rose-600":"bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-200"}`,children:b},b))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-medium",children:[r.jsx(xo,{className:"w-4 h-4 text-rose-500"}),r.jsx("span",{children:"Languages"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["English","Russian","Ukrainian","Kazakh","Belarusian","Polish","Czech","Romanian","Bulgarian","Serbian","Croatian","Latvian","Lithuanian","Estonian","Hungarian","Slovak","Slovenian","German","French","Italian","Spanish","Portuguese"].map(b=>r.jsx("button",{onClick:()=>p(b),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-200 ${n.languages.includes(b)?"bg-rose-500 text-white shadow-md hover:bg-rose-600":"bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-200"}`,children:b},b))})]})]})}function p9(){const[e,t]=I4(),[s,n]=E.useState([]),[i,a]=E.useState([]),[o,l]=E.useState(1),[c]=E.useState(18),[d,u]=E.useState("all"),[h,m]=E.useState(null),[p,x]=E.useState(!1),[j,N]=E.useState({}),[y,v]=E.useState(!1),[b,k]=E.useState(0),[_,C]=E.useState(!0),[L,T]=E.useState(null),[q,G]=E.useState(!1);E.useEffect(()=>{async function V(){C(!0),T(null);const{data:ne,error:z}=await Oe.from("profiles").select("*").eq("role","model").order("created_at",{ascending:!1});if(z)T("Failed to load models."),n([]),a([]);else{const Q=(ne||[]).map(se=>({id:se.id,userId:se.id,firstName:se.first_name,lastName:se.last_name,gender:se.gender,birthDate:se.birth_date,country:se.country,city:se.city,bio:se.bio,interests:se.interests||[],profession:se.profession,languages:se.languages||[],photos:se.photos||[],verified:se.verified,createdAt:se.created_at,height:se.height,weight:se.weight,eyeColor:se.eye_color,hairColor:se.hair_color,appearanceType:se.appearance_type,alcohol:se.alcohol,smoking:se.smoking,children:se.children,religion:se.religion,zodiacSign:se.zodiac_sign,englishLevel:se.english_level,hasIntroVideo:se.has_intro_video,isOnline:se.is_online,hasVideo:se.has_video,hasCameraOn:se.has_camera_on,birthdaySoon:se.birthday_soon,newProfile:se.new_profile,top1000:se.top_1000}));n(Q),a(Q)}C(!1)}V()},[]),E.useEffect(()=>{const V=e.get("openChat");if(V){const ne=s.find(z=>z.id===V||z.userId===V);if(ne){m(ne),x(!0);const z=new URLSearchParams(e);z.delete("openChat"),t(z,{replace:!0})}}},[e,s,t]);const M=o*c,O=M-c,X=i.slice(O,M),K=E.useCallback(V=>{if(console.log(" [BROWSE] Filter change triggered with:",V),!q){console.log(" [BROWSE] Skipping initial filter application"),G(!0),N(V);return}N(V),l(1);const ne=V.ageMin!==18||V.ageMax!==99||V.country&&V.country.trim()!==""||V.city&&V.city.trim()!==""||V.eyeColor&&V.eyeColor.trim()!==""||V.hairColor&&V.hairColor.trim()!==""||V.appearanceType&&V.appearanceType.trim()!==""||V.alcohol&&V.alcohol.trim()!==""||V.smoking&&V.smoking.trim()!==""||V.children&&V.children.trim()!==""||V.religion&&V.religion.trim()!==""||V.zodiacSign&&V.zodiacSign.trim()!==""||V.englishLevel&&V.englishLevel.trim()!==""||V.interests&&V.interests.length>0||V.languages&&V.languages.length>0||V.hasIntroVideo===!0||V.isOnline===!0||V.hasVideo===!0||V.hasCameraOn===!0||V.birthdaySoon===!0||V.newProfile===!0||V.top1000===!0||V.verified===!0;if(console.log(" [BROWSE] Has active filters:",ne),console.log(" [BROWSE] Total profiles before filtering:",s.length),!ne){console.log(" [BROWSE] No active filters, showing all profiles"),a([...s]);return}let z=[...s];(V.ageMin!==18||V.ageMax!==99)&&(z=z.filter(Q=>{if(!Q.birthDate)return!0;const se=new Date().getFullYear()-new Date(Q.birthDate).getFullYear();return se>=V.ageMin&&se<=V.ageMax}),console.log(" [BROWSE] After age filter:",z.length)),V.country&&V.country.trim()!==""&&(z=z.filter(Q=>Q.country&&Q.country.toLowerCase()===V.country.toLowerCase()),console.log(" [BROWSE] After country filter:",z.length)),V.city&&V.city.trim()!==""&&(z=z.filter(Q=>Q.city&&Q.city.toLowerCase().includes(V.city.toLowerCase())),console.log(" [BROWSE] After city filter:",z.length)),V.eyeColor&&V.eyeColor.trim()!==""&&(z=z.filter(Q=>Q.eyeColor===V.eyeColor),console.log(" [BROWSE] After eye color filter:",z.length)),V.hairColor&&V.hairColor.trim()!==""&&(z=z.filter(Q=>Q.hairColor===V.hairColor),console.log(" [BROWSE] After hair color filter:",z.length)),V.appearanceType&&V.appearanceType.trim()!==""&&(z=z.filter(Q=>Q.appearanceType===V.appearanceType),console.log(" [BROWSE] After appearance type filter:",z.length)),V.alcohol&&V.alcohol.trim()!==""&&(z=z.filter(Q=>Q.alcohol===V.alcohol),console.log(" [BROWSE] After alcohol filter:",z.length)),V.smoking&&V.smoking.trim()!==""&&(z=z.filter(Q=>Q.smoking===V.smoking),console.log(" [BROWSE] After smoking filter:",z.length)),V.children&&V.children.trim()!==""&&(z=z.filter(Q=>Q.children===V.children),console.log(" [BROWSE] After children filter:",z.length)),V.religion&&V.religion.trim()!==""&&(z=z.filter(Q=>Q.religion===V.religion),console.log(" [BROWSE] After religion filter:",z.length)),V.zodiacSign&&V.zodiacSign.trim()!==""&&(z=z.filter(Q=>Q.zodiacSign===V.zodiacSign),console.log(" [BROWSE] After zodiac filter:",z.length)),V.englishLevel&&V.englishLevel.trim()!==""&&(z=z.filter(Q=>Q.englishLevel===V.englishLevel),console.log(" [BROWSE] After english level filter:",z.length)),V.interests&&V.interests.length>0&&(z=z.filter(Q=>Q.interests&&Q.interests.length>0&&Q.interests.some(se=>V.interests.includes(se))),console.log(" [BROWSE] After interests filter:",z.length)),V.languages&&V.languages.length>0&&(z=z.filter(Q=>Q.languages&&Q.languages.length>0&&Q.languages.some(se=>V.languages.includes(se))),console.log(" [BROWSE] After languages filter:",z.length)),V.hasIntroVideo===!0&&(z=z.filter(Q=>Q.hasIntroVideo===!0),console.log(" [BROWSE] After intro video filter:",z.length)),V.isOnline===!0&&(z=z.filter(Q=>Q.isOnline===!0),console.log(" [BROWSE] After online filter:",z.length)),V.hasVideo===!0&&(z=z.filter(Q=>Q.hasVideo===!0),console.log(" [BROWSE] After video filter:",z.length)),V.hasCameraOn===!0&&(z=z.filter(Q=>Q.hasCameraOn===!0),console.log(" [BROWSE] After camera on filter:",z.length)),V.birthdaySoon===!0&&(z=z.filter(Q=>Q.birthdaySoon===!0),console.log(" [BROWSE] After birthday soon filter:",z.length)),V.newProfile===!0&&(z=z.filter(Q=>Q.newProfile===!0),console.log(" [BROWSE] After new profile filter:",z.length)),V.top1000===!0&&(z=z.filter(Q=>Q.top1000===!0),console.log(" [BROWSE] After top1000 filter:",z.length)),V.verified===!0&&(z=z.filter(Q=>Q.verified===!0),console.log(" [BROWSE] After verified filter:",z.length)),console.log(" [BROWSE] Final filtered profiles:",z.length),a(z)},[s,q]),de=V=>{m(V),x(!0)};return r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx(Xs,{}),r.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"lg:hidden mb-4",children:r.jsxs(Re,{onClick:()=>v(!y),className:"w-full bg-rose-500 hover:bg-rose-600 text-white flex items-center justify-center gap-2 py-3 touch-none active:scale-[0.98] transition-transform",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.707A1 1 0 013 7V4z"})}),y?"Hide Filters":"Show Filters"]})}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("aside",{className:`${y?"block":"hidden"} lg:block w-full lg:w-80 flex-shrink-0 transition-all duration-300 ease-in-out z-20`,children:r.jsx("div",{className:"lg:sticky lg:top-24 space-y-4 lg:space-y-6 bg-white/95 backdrop-blur-lg rounded-xl shadow-lg p-4 lg:p-0 lg:shadow-none lg:rounded-none lg:bg-transparent",children:r.jsx(m9,{onFiltersChange:K,initialFilters:j},b)})}),r.jsx("div",{className:"flex-1",children:_?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading profiles..."})]}):L?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-600 mb-4",children:L}),r.jsx(Re,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]}):i.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-xl font-medium mb-2",children:"No profiles found"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Try adjusting your filters or check back later"}),r.jsx(Re,{onClick:()=>N({}),variant:"outline",children:"Clear Filters"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:X.map(V=>r.jsx(C3,{profile:V,onMessage:de},V.id))}),i.length>c&&r.jsx("div",{className:"mt-8 flex justify-center gap-2",children:Array.from({length:Math.ceil(i.length/c)}).map((V,ne)=>r.jsx(Re,{variant:o===ne+1?"default":"outline",size:"sm",onClick:()=>{l(ne+1),SS()},children:ne+1},ne))})]})})]})]}),r.jsx(kr,{}),h&&r.jsx(e0,{profile:h,isOpen:p,onClose:()=>x(!1),searchFilters:j})]})}const F5=[{id:"c0a6fef9-7cb5-4f69-8c77-a4754e283e77",userId:"c0a6fef9-7cb5-4f69-8c77-a4754e283e77",firstName:"Olena",lastName:"Kovalenko",gender:"female",birthDate:"1995-05-15",country:"Ukraine",city:"Kyiv",bio:"I feel music in every cell of my body. Looking for someone who shares my passion for arts and travel. I enjoy exploring new places, trying different cuisines, and attending cultural events. In my free time, I like to paint and play the piano. I'm looking for a genuine connection with someone who appreciates art and has a sense of adventure.",interests:["Music","Travel","Art","Cooking","Photography","Dancing"],profession:"Graphic Designer",languages:["Ukrainian","English","Russian"],photos:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-01-15"},{id:"n1",userId:"n1",firstName:"Elena",lastName:"K.",gender:"female",birthDate:"1999-05-15",country:"Ukraine",city:"Kyiv",bio:"Sweet and romantic girl looking for true love  I enjoy dancing, music, and spending time with friends. I believe in fairy tale love stories and hope to find my prince charming. In my free time, I like to read romance novels and watch romantic movies.",interests:["Romance","Travel","Music","Dancing","Photography"],profession:"Model",languages:["Ukrainian","English"],photos:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80","https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-01-15",height:165,weight:55,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"want",religion:"christian",zodiacSign:"taurus",englishLevel:"advanced",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},{id:"n2",userId:"n2",firstName:"Anastasia",lastName:"M.",gender:"female",birthDate:"1997-08-23",country:"Russia",city:"Moscow",bio:"Passionate and caring, ready for serious relationship  I work as a psychologist and love helping people. I enjoy deep conversations about life, philosophy, and human nature. Looking for someone who values emotional connection.",interests:["Romance","Art","Philosophy","Psychology","Literature"],profession:"Psychologist",languages:["Russian","English"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-02-10",height:170,weight:58,eyeColor:"brown",hairColor:"brunette",appearanceType:"athletic",alcohol:"socially",smoking:"never",children:"want",religion:"orthodox",zodiacSign:"virgo",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!1},{id:"n3",userId:"n3",firstName:"Sofia",lastName:"D.",gender:"female",birthDate:"2001-03-18",country:"Belarus",city:"Minsk",bio:"Young and optimistic, love dancing and meeting new people  I'm a student studying international relations. I enjoy exploring different cultures and learning languages. Always ready for new adventures and experiences.",interests:["Dancing","Music","Fashion","Travel","Languages"],profession:"Student",languages:["Belarusian","Russian","English"],photos:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!1,createdAt:"2023-03-18",height:162,weight:50,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"rarely",smoking:"never",children:"maybe",religion:"christian",zodiacSign:"pisces",englishLevel:"intermediate",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},{id:"n4",userId:"n4",firstName:"Katarina",lastName:"N.",gender:"female",birthDate:"1995-07-12",country:"Czech Republic",city:"Prague",bio:"Love exploring old cities and cozy cafes. Looking for meaningful conversations  I work as a tour guide and love sharing the beauty of Prague with visitors. I enjoy history, architecture, and good coffee.",interests:["History","Coffee","Architecture","Books","Travel"],profession:"Tour Guide",languages:["Czech","English","German"],photos:["https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-04-05",height:168,weight:56,eyeColor:"green",hairColor:"brown",appearanceType:"athletic",alcohol:"socially",smoking:"never",children:"want",religion:"catholic",zodiacSign:"cancer",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!1},{id:"n5",userId:"n5",firstName:"Alina",lastName:"W.",gender:"female",birthDate:"1998-11-25",country:"Poland",city:"Warsaw",bio:"Creative soul who loves art and good food. Ready for new adventures  I work as a graphic designer and love creating beautiful things. I enjoy painting, cooking new recipes, and traveling to inspiring places.",interests:["Art","Cooking","Travel","Design","Photography"],profession:"Graphic Designer",languages:["Polish","English","Spanish"],photos:["https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-05-22",height:165,weight:54,eyeColor:"hazel",hairColor:"brown",appearanceType:"slim",alcohol:"socially",smoking:"rarely",children:"want",religion:"catholic",zodiacSign:"sagittarius",englishLevel:"advanced",hasIntroVideo:!0,isOnline:!0,hasVideo:!0},{id:"n6",userId:"n6",firstName:"Arina",lastName:"B.",gender:"female",birthDate:"2000-09-08",country:"Kazakhstan",city:"Almaty",bio:"Love nature and outdoor activities. Looking for someone to share life adventures  I'm studying environmental science and passionate about protecting our planet. I enjoy hiking, camping, and photography in beautiful natural settings.",interests:["Hiking","Photography","Nature","Environmental Science","Adventure"],profession:"Environmental Science Student",languages:["Kazakh","Russian","English"],photos:["https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"],verified:!1,createdAt:"2023-06-14",height:163,weight:52,eyeColor:"brown",hairColor:"black",appearanceType:"athletic",alcohol:"never",smoking:"never",children:"maybe",religion:"muslim",zodiacSign:"virgo",englishLevel:"intermediate",hasIntroVideo:!1,isOnline:!0,hasVideo:!1}];function g9(){const{id:e}=fA(),[t,s]=E.useState(null),[n,i]=E.useState(0),[a,o]=E.useState(!1),[l,c]=E.useState(!1),[d,u]=E.useState(()=>{const b=localStorage.getItem("likedProfiles");return b?JSON.parse(b):[]}),h=F5.find(b=>b.id===e)||F5[0],m=h.birthDate?new Date().getFullYear()-new Date(h.birthDate).getFullYear():0;E.useEffect(()=>{localStorage.setItem("likedProfiles",JSON.stringify(d))},[d]);const p=()=>{h&&u(b=>b.includes(h.id)?b.filter(k=>k!==h.id):[...b,h.id])},x=()=>{i(b=>b===0?h.photos.length-1:b-1)},j=()=>{i(b=>b===h.photos.length-1?0:b+1)},N=b=>{i(b),o(!0)},y=()=>{o(!1)},v=()=>{c(!0)};return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Xs,{}),r.jsx("main",{className:"flex-1 py-8",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx("img",{src:h.photos[n],alt:`${h.firstName}'s photo`,className:"w-full h-[500px] object-cover rounded-lg cursor-pointer",onClick:()=>N(n)}),h.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full p-1 hover:bg-white",onClick:x,children:r.jsx(Ah,{className:"h-6 w-6"})}),r.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 rounded-full p-1 hover:bg-white",onClick:j,children:r.jsx(Eh,{className:"h-6 w-6"})})]}),h.verified&&r.jsx("div",{className:"absolute top-2 right-2",children:r.jsxs(Os,{variant:"verified",className:"flex items-center gap-1",children:[r.jsx(ms,{className:"h-3 w-3"}),r.jsx("span",{children:"Verified"})]})})]}),h.photos.length>1&&r.jsx("div",{className:"flex gap-2 mb-6",children:h.photos.map((b,k)=>r.jsx("img",{src:b,alt:`${h.firstName}'s photo ${k+1}`,className:`h-20 w-20 object-cover rounded cursor-pointer ${k===n?"ring-2 ring-rose-600":""}`,onClick:()=>i(k)},k))}),r.jsxs("div",{className:"flex gap-2 mb-6",children:[r.jsxs(Re,{className:"flex-1 gap-2",onClick:v,children:[r.jsx(Ns,{className:"h-4 w-4"}),r.jsx("span",{children:"Message"})]}),r.jsxs(Re,{variant:d.includes((h==null?void 0:h.id)||"")?"default":"outline",className:`flex-1 gap-2 ${d.includes((h==null?void 0:h.id)||"")?"bg-rose-500 text-white hover:bg-rose-600":""}`,onClick:p,children:[r.jsx(Us,{className:`h-4 w-4 ${d.includes((h==null?void 0:h.id)||"")?"fill-current":""}`}),r.jsx("span",{children:d.includes((h==null?void 0:h.id)||"")?"Liked":"Like"})]}),r.jsxs(Re,{variant:"outline",className:"gap-2",children:[r.jsx(Ri,{className:"h-4 w-4"}),r.jsx("span",{children:"Gift"})]})]}),r.jsx(fs,{className:"mb-6",children:r.jsxs(ks,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Age"}),r.jsxs("p",{children:[m," years"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gl,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Location"}),r.jsxs("p",{children:[h.city,", ",h.country]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(GA,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Profession"}),r.jsx("p",{children:h.profession})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tE,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Languages"}),r.jsx("p",{children:h.languages.join(", ")})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xo,{className:"h-5 w-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Member Since"}),r.jsx("p",{children:new Date(h.createdAt).toLocaleDateString()})]})]})]})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Verification Status"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-5 w-5 rounded-full flex items-center justify-center ${h.verified?"bg-green-100":"bg-slate-100"}`,children:h.verified?r.jsx(bs,{className:"h-3 w-3 text-green-600"}):r.jsx(or,{className:"h-3 w-3 text-slate-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{children:"Identity Verified"}),r.jsx("p",{className:"text-sm text-slate-500",children:h.verified?"ID and personal information verified":"Verification pending"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-5 w-5 rounded-full flex items-center justify-center ${h.verified?"bg-green-100":"bg-slate-100"}`,children:h.verified?r.jsx(bs,{className:"h-3 w-3 text-green-600"}):r.jsx(or,{className:"h-3 w-3 text-slate-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{children:"Photo Verification"}),r.jsx("p",{className:"text-sm text-slate-500",children:h.verified?"Photos match identity documents":"Verification pending"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-5 w-5 rounded-full flex items-center justify-center ${h.verified?"bg-green-100":"bg-slate-100"}`,children:h.verified?r.jsx(bs,{className:"h-3 w-3 text-green-600"}):r.jsx(or,{className:"h-3 w-3 text-slate-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{children:"Background Check"}),r.jsx("p",{className:"text-sm text-slate-500",children:h.verified?"Background check completed":"Verification pending"})]})]})]})]})})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("h1",{className:"text-3xl font-bold",children:[h.firstName," ",h.lastName]}),h.verified&&r.jsx(Os,{variant:"verified",className:"flex items-center gap-1",children:r.jsx(bs,{className:"h-3 w-3"})})]}),r.jsxs("p",{className:"text-slate-600",children:[h.city,", ",h.country,"  ",m," years old"]})]}),r.jsx(fs,{className:"mb-6",children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About Me"}),r.jsx("p",{className:"text-slate-700 whitespace-pre-line",children:h.bio})]})}),r.jsx(fs,{className:"mb-6",children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:h.interests.map((b,k)=>r.jsx(Os,{variant:"secondary",children:b},k))})]})}),r.jsx(fs,{className:"mb-6",children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What I'm Looking For"}),r.jsx("p",{className:"text-slate-700",children:"I'm looking for a genuine connection with someone who shares my interests in art and travel. I value honesty, kindness, and a good sense of humor. I hope to find a partner who is supportive, communicative, and open-minded about different cultures."})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cultural Background"}),r.jsx("p",{className:"text-slate-700 mb-4",children:"I was born and raised in Kyiv, Ukraine. I'm proud of my Ukrainian heritage and enjoy sharing our traditions, cuisine, and culture. I speak Ukrainian as my native language, along with Russian and English."}),r.jsx("p",{className:"text-slate-700",children:"I enjoy cooking traditional Ukrainian dishes like borscht and varenyky. During holidays, I like to celebrate with traditional customs. I'm open to learning about other cultures and would love to share mine with someone special."})]})})]})]})})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"relative max-w-4xl w-full",children:[r.jsx("button",{className:"absolute top-4 right-4 bg-white/20 rounded-full p-2 hover:bg-white/40",onClick:y,children:r.jsx(or,{className:"h-6 w-6 text-white"})}),r.jsx("img",{src:h.photos[n],alt:`${h.firstName}'s photo`,className:"w-full max-h-[80vh] object-contain"}),r.jsx("div",{className:"absolute left-0 right-0 bottom-4 flex justify-center gap-2",children:h.photos.map((b,k)=>r.jsx("button",{className:`h-2 w-2 rounded-full ${k===n?"bg-white":"bg-white/50"}`,onClick:()=>i(k)},k))}),h.photos.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 rounded-full p-2 hover:bg-white/40",onClick:x,children:r.jsx(Ah,{className:"h-6 w-6 text-white"})}),r.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 rounded-full p-2 hover:bg-white/40",onClick:j,children:r.jsx(Eh,{className:"h-6 w-6 text-white"})})]})]})}),r.jsx(kr,{}),r.jsx(e0,{profile:h,isOpen:l,onClose:()=>c(!1),searchFilters:{}})]})}function x9(){const{user:e,updateProfile:t,uploadProfilePhoto:s}=dn(),n=cn(),i=E.useRef(null),[a,o]=E.useState(!1),[l,c]=E.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",gender:(e==null?void 0:e.gender)||"male",birthDate:(e==null?void 0:e.birthDate)||"",country:(e==null?void 0:e.country)||"",city:(e==null?void 0:e.city)||"",bio:(e==null?void 0:e.bio)||"",profession:(e==null?void 0:e.profession)||"",interests:(e==null?void 0:e.interests)||[],languages:(e==null?void 0:e.languages)||[]}),[d,u]=E.useState((e==null?void 0:e.photos)||[]),[h,m]=E.useState(!1),[p,x]=E.useState({}),j=C=>{const{name:L,value:T}=C.target;c(q=>({...q,[L]:T})),p[L]&&x(q=>{const G={...q};return delete G[L],G})},N=C=>{c(L=>{const T=L.interests.includes(C)?L.interests.filter(q=>q!==C):[...L.interests,C];return{...L,interests:T}})},y=C=>{c(L=>{const T=L.languages.includes(C)?L.languages.filter(q=>q!==C):[...L.languages,C];return{...L,languages:T}})},v=async C=>{const L=C.target.files;if(!L||L.length===0)return;const T=L[0];if(!T.type.startsWith("image/")){x(q=>({...q,photo:"Please upload an image file"}));return}if(T.size>5*1024*1024){x(q=>({...q,photo:"Image size should be less than 5MB"}));return}try{o(!0);const{url:q,error:G}=await s(T);if(G)throw G;q&&u(M=>[...M,q])}catch(q){console.error("Error uploading photo:",q),x(G=>({...G,photo:"Failed to upload photo. Please try again."}))}finally{o(!1),i.current&&(i.current.value="")}},b=C=>{u(L=>L.filter(T=>T!==C))},k=()=>{const C={};if(l.firstName.trim()||(C.firstName="First name is required"),l.lastName.trim()||(C.lastName="Last name is required"),!l.birthDate)C.birthDate="Birth date is required";else{const L=new Date(l.birthDate).getFullYear();new Date().getFullYear()-L<18&&(C.birthDate="You must be at least 18 years old")}return l.country||(C.country="Country is required"),l.city.trim()||(C.city="City is required"),x(C),Object.keys(C).length===0},_=async C=>{if(C.preventDefault(),!!k())try{m(!0);const L={...l,photos:d},{error:T}=await t(L);if(T)throw T;n("/dashboard")}catch(L){console.error("Error updating profile:",L),x(T=>({...T,form:"Failed to update profile. Please try again."}))}finally{m(!1)}};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[r.jsx(Xs,{}),r.jsx("main",{className:"flex-1 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>n(-1),children:r.jsx(Hv,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:"Edit Profile"})]}),r.jsx("form",{onSubmit:_,children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsx(fs,{className:"mb-6",children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Profile Photos"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.map((C,L)=>r.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden",children:[r.jsx("img",{src:C,alt:`Profile photo ${L+1}`,className:"w-full h-full object-cover"}),r.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-white/80 rounded-full p-1 hover:bg-white",onClick:()=>b(C),children:r.jsx(or,{className:"h-4 w-4 text-red-500"})}),L===0&&r.jsx(Os,{variant:"default",className:"absolute bottom-2 left-2",children:"Main Photo"})]},L)),d.length<6&&r.jsxs("div",{className:"aspect-square rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer hover:border-primary-500 transition-colors",onClick:()=>{var C;return(C=i.current)==null?void 0:C.click()},children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Sd,{className:"h-8 w-8 mx-auto text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Add Photo"})]}),r.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:v,disabled:a})]})]}),p.photo&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.photo}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{children:" Upload up to 6 photos"}),r.jsx("p",{children:" First photo will be your main profile picture"}),r.jsx("p",{children:" Photos should clearly show your face"}),r.jsx("p",{children:" Maximum file size: 5MB"})]})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Verification"}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(R4,{className:"h-5 w-5 text-primary-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Verify your profile"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Get a verified badge to increase trust"})]})]}),r.jsx(Re,{variant:"outline",className:"w-full",children:"Start Verification"})]})})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),p.form&&r.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4",children:p.form}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-1",children:"First Name"}),r.jsx(Fs,{id:"firstName",name:"firstName",value:l.firstName,onChange:j,className:p.firstName?"border-red-500":""}),p.firstName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.firstName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-1",children:"Last Name"}),r.jsx(Fs,{id:"lastName",name:"lastName",value:l.lastName,onChange:j,className:p.lastName?"border-red-500":""}),p.lastName&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.lastName})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium mb-1",children:"Gender"}),r.jsxs(ts,{id:"gender",name:"gender",value:l.gender,onChange:j,children:[r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium mb-1",children:"Birth Date"}),r.jsx(Fs,{id:"birthDate",name:"birthDate",type:"date",value:l.birthDate,onChange:j,className:p.birthDate?"border-red-500":""}),p.birthDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.birthDate})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:"Country"}),r.jsxs(ts,{id:"country",name:"country",value:l.country,onChange:j,className:p.country?"border-red-500":"",children:[r.jsx("option",{value:"",children:"Select country"}),t1.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))]}),p.country&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.country})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:"City"}),r.jsx(Fs,{id:"city",name:"city",value:l.city,onChange:j,className:p.city?"border-red-500":""}),p.city&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.city})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{htmlFor:"profession",className:"block text-sm font-medium mb-1",children:"Profession"}),r.jsx(Fs,{id:"profession",name:"profession",value:l.profession,onChange:j,placeholder:"e.g. Software Engineer, Teacher, Artist"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium mb-1",children:"About Me"}),r.jsx(o1,{id:"bio",name:"bio",value:l.bio,onChange:j,placeholder:"Tell others about yourself, your interests, and what you're looking for...",className:"min-h-[120px]"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.bio.length,"/500 characters"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Zx.map(C=>r.jsx(Os,{variant:l.interests.includes(C)?"default":"outline",className:"cursor-pointer px-3 py-1",onClick:()=>N(C),children:C},C))}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select up to 10 interests that describe you"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["English","Russian","Ukrainian","Kazakh","French","German","Spanish","Italian","Chinese","Japanese"].map(C=>r.jsx(Os,{variant:l.languages.includes(C)?"default":"outline",className:"cursor-pointer px-3 py-1",onClick:()=>y(C),children:C},C))})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(Re,{type:"button",variant:"outline",onClick:()=>n(-1),children:"Cancel"}),r.jsxs(Re,{type:"submit",disabled:h,className:"gap-2",children:[h?"Saving...":"Save Changes",!h&&r.jsx(fE,{className:"h-4 w-4"})]})]})]})})})]})})]})}),r.jsx(kr,{})]})}function y9({id:e,amount:t,price:s,bonus:n=0,popular:i,selected:a,onSelect:o}){const l=t+n;return r.jsxs(fs,{className:`relative hover-lift group animate-fade-in ${i?"border-amber-500 shadow-lg hover-glow ring-2 ring-amber-200":a?"border-rose-500 shadow-lg ring-2 ring-rose-200":"hover:border-primary-300"} transition-all duration-300`,children:[i&&r.jsx(Os,{variant:"premium",className:"absolute -top-3 left-1/2 transform -translate-x-1/2 animate-bounce-subtle shadow-lg",children:"Most Popular"}),r.jsxs(r1,{className:"text-center pb-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(qn,{className:"h-6 w-6 text-amber-500"}),r.jsxs(n1,{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors duration-200",children:[l," Coins"]})]}),n>0&&r.jsxs("div",{className:"text-sm text-green-600 font-medium mb-2",children:[t," + ",n," bonus coins"]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-3xl font-bold text-primary-600 group-hover:scale-105 transition-transform duration-200",children:["",s.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["",(s/l).toFixed(3)," per coin"]})]})]}),r.jsx(ks,{className:"pb-6",children:r.jsxs("ul",{className:"space-y-3 stagger-animation",children:[r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:["Send ",l," messages"]})]}),r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:["Send ",Math.floor(l/5),"-",Math.floor(l/50)," virtual gifts"]})]}),r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:[Math.floor(l/10)," minutes of video calls"]})]}),r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:[Math.floor(l/400)," minutes of voice calls"]})]}),l>=50&&r.jsxs("li",{className:"flex items-start gap-3 opacity-0",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsxs("span",{className:"text-sm leading-relaxed",children:["View contact info ",Math.floor(l/50)," time",Math.floor(l/50)>1?"s":""]})]})]})}),r.jsx(Xh,{className:"pt-0",children:r.jsx(Re,{className:`w-full transition-all duration-200 hover:shadow-lg hover:scale-[1.02] ${i?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600":a?"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600":""}`,variant:i?"premium":"default",onClick:()=>o(e),children:a?"Selected - Click to Proceed":"Buy Now"})})]})}function v9({id:e,name:t,duration:s,durationUnit:n,price:i,features:a,popular:o,selected:l,onSelect:c}){const d=cn(),u=()=>{c(e),d(`/checkout?subscription=${e}`)};return r.jsxs("div",{className:"relative h-full",children:[o&&r.jsx(Os,{variant:"premium",className:"absolute -top-3 left-1/2 transform -translate-x-1/2 animate-bounce-subtle shadow-lg z-10",children:"Most Popular"}),r.jsxs(fs,{className:`h-full flex flex-col ${o?"border-amber-500 shadow-lg hover-glow ring-2 ring-amber-200":l?"border-rose-500 shadow-lg ring-2 ring-rose-200":"border-gray-200 hover:border-primary-300"} transition-all duration-300 hover-lift group animate-fade-in`,children:[r.jsxs(r1,{className:"text-center pb-4 flex-shrink-0 pt-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(jd,{className:"h-6 w-6 text-amber-500"}),r.jsx(n1,{className:"text-2xl font-bold group-hover:text-primary-600 transition-colors duration-200",children:t})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-600 mb-2",children:[r.jsx(Sr,{className:"h-4 w-4"}),r.jsxs("span",{children:[s," ",n,s>1?"s":""]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-3xl font-bold text-primary-600 group-hover:scale-105 transition-transform duration-200",children:["",i.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["",(i/s).toFixed(2)," per ",n.slice(0,-1)]})]})]}),r.jsx(ks,{className:"flex-grow pb-6",children:r.jsx("ul",{className:"space-y-3",children:a.map((h,m)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm leading-relaxed",children:h})]},m))})}),r.jsx(Xh,{className:"pt-0 flex-shrink-0",children:r.jsx(Re,{className:`w-full transition-all duration-200 hover:shadow-lg hover:scale-[1.02] ${o?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600":l?"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600":""}`,variant:o?"premium":"default",onClick:u,children:l?"Selected - Click to Proceed":"Subscribe Now"})})]})]})}const b9=[{id:1,question:"How do coins work?",answer:"Coins are our virtual currency that you can use to access premium features like messaging, video calls, and sending gifts. Each action costs a specific number of coins - you only pay for what you use!"},{id:2,question:"Do coins expire?",answer:"No, your coins never expire. Once purchased, they remain in your account until you use them."},{id:3,question:"How much do different actions cost?",answer:"Messages require a subscription, virtual gifts range from 5-50 coins depending on the gift, video calls cost 1000 coins per minute, voice calls cost 400 coins per minute, and viewing contact info costs 700 coins."},{id:4,question:"Can I get a refund for unused coins?",answer:"We do not offer refunds for purchased coins. However, you can use them at any time as they never expire."},{id:5,question:"What payment methods do you accept?",answer:"We accept cryptocurrency payments including Bitcoin, Ethereum, USDT, and other major cryptocurrencies for secure and private transactions."},{id:6,question:"Is my payment information secure?",answer:"Yes, all cryptocurrency payments are processed securely through blockchain technology. We never store your private keys or wallet information."},{id:7,question:"Do I get bonus coins with larger packages?",answer:"Yes! Larger coin packages include bonus coins. The 500-coin package includes 50 bonus coins, 1000-coin package includes 150 bonus coins, and 2000-coin package includes 400 bonus coins."},{id:8,question:"How do I contact customer support?",answer:"You can reach our 24/7 customer support team through the help section in your account, or email us at support@purelove.com. We typically respond within 2 hours."}],w9=[{id:1,name:"Michael R.",age:32,text:"I love the coin system! I only pay for what I use and never waste money on unused features.",rating:5,location:"New York, USA"},{id:2,name:"David L.",age:28,text:"The pay-per-use model is perfect for me. I can control my spending and use coins when I really want to connect with someone special.",rating:5,location:"London, UK"},{id:3,name:"James K.",age:35,text:"Found my soulmate here! The video calls feature helped us connect on a deeper level. Worth every coin!",rating:5,location:"Toronto, Canada"}];function N9(){const[e,t]=E.useState("subscription"),[s,n]=E.useState(null),[i,a]=E.useState(null),[o,l]=E.useState(null),{user:c}=dn(),d=Qh(),u=cn(),h=x=>{n(x),a(null),console.log("Selected coin package:",x),u(`/checkout?package=${x}`)},m=x=>{a(x),n(null),console.log("Selected subscription package:",x),u(`/checkout?subscription=${x}`)},p=x=>{l(o===x?null:x)};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-purple-600 text-white py-16 sm:py-24",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:"Pay Only for What You Use"}),r.jsx("p",{className:"text-xl sm:text-2xl opacity-90 mb-8 leading-relaxed",children:"Buy coins and spend them on messages, calls, gifts, and premium features. No subscriptions, no waste!"}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[r.jsx(ms,{className:"h-5 w-5"}),r.jsx("span",{children:"Secure Crypto Payments"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[r.jsx(co,{className:"h-5 w-5"}),r.jsx("span",{children:"50,000+ Members"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[r.jsx(Us,{className:"h-5 w-5"}),r.jsx("span",{children:"1,000+ Success Stories"})]})]})]})})}),r.jsx("main",{className:"flex-1 py-8 sm:py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[c&&r.jsx("div",{className:"mb-12 sm:mb-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-200 rounded-2xl p-6 sm:p-8 text-center shadow-lg",children:[r.jsx("div",{className:"bg-amber-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(qn,{className:"h-8 w-8 text-amber-600"})}),r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-amber-800 mb-2",children:"Your Current Balance"}),r.jsxs("p",{className:"text-amber-700 mb-4 text-3xl font-bold",children:[c.coins||0," Coins"]}),r.jsx("div",{className:"text-sm text-amber-600",children:" Use your coins for messages, calls, gifts, and more!"})]})}),r.jsxs("div",{className:"mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-8 text-center bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"What Can You Do With Coins?"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-blue-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ns,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Send Messages"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Connect with amazing women"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"Subscription"}),r.jsx("p",{className:"text-sm text-gray-500",children:"required"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-purple-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ri,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Virtual Gifts"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Show your appreciation"}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"5-50 coins"}),r.jsx("p",{className:"text-sm text-gray-500",children:"per gift"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-orange-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(la,{className:"h-6 w-6 text-orange-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Voice Calls"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"High-quality voice chat"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Ad.voiceCall," coins"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"per minute"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-green-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(uo,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Calls"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Face-to-face conversations"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Ad.videoCall," coins"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"per minute"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mb-4",children:r.jsx(la,{className:"h-6 w-6 text-rose-600"})}),r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Contact Info"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"WhatsApp, Email addresses"}),r.jsxs("div",{className:"text-2xl font-bold text-rose-600",children:[Ad.contactInfo," coins"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"one-time access"})]})]})]}),r.jsxs("div",{className:"mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-8 text-center bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"Choose Your Pricing Plan"}),r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"bg-gray-100 rounded-lg p-1 inline-flex",children:[r.jsx("button",{onClick:()=>t("payPerUse"),className:`px-6 py-3 rounded-md font-medium transition-all duration-200 ${e==="payPerUse"?"bg-white text-rose-600 shadow-md":"text-gray-600 hover:text-rose-600"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qn,{className:"h-4 w-4"}),"Pay Per Use"]})}),r.jsx("button",{onClick:()=>t("subscription"),className:`px-6 py-3 rounded-md font-medium transition-all duration-200 ${e==="subscription"?"bg-white text-rose-600 shadow-md":"text-gray-600 hover:text-rose-600"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-4 w-4"}),"Subscription Plans"]})})]})}),e==="payPerUse"&&r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Pay Per Use - Coin Packages"}),r.jsx("p",{className:"text-gray-600",children:"Buy coins and use them for messages, calls, gifts, and more. No monthly fees!"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:ey.map(x=>r.jsx(y9,{id:x.id,amount:x.amount,price:x.price,bonus:x.bonus,popular:x.popular,selected:s===x.id,onSelect:h},x.id))}),s&&r.jsx("div",{className:"text-center mt-8",children:r.jsx(Re,{onClick:()=>u(`/checkout?package=${s}`),className:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Proceed to Checkout"})})]}),e==="subscription"&&r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Subscription Plans"}),r.jsx("p",{className:"text-gray-600",children:"Get unlimited access to premium features with our monthly subscription plans."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:ty.map(x=>r.jsx(v9,{id:x.id,name:x.name,duration:x.duration,durationUnit:x.durationUnit,price:x.price,features:x.features,popular:x.popular,selected:i===x.id,onSelect:m},x.id))}),i&&r.jsx("div",{className:"text-center mt-8",children:r.jsx(Re,{onClick:()=>u(`/checkout?subscription=${i}`),className:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white px-8 py-3 text-lg font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Proceed to Checkout"})})]})]}),r.jsxs("div",{className:"mb-16 sm:mb-20",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"What Our Members Say"}),r.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto mb-6",children:"Join thousands of happy couples who found love through our platform"}),r.jsxs("div",{className:"inline-flex flex-col items-center gap-3 bg-white rounded-lg shadow-md px-6 py-3 border",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("img",{src:"/lcn/trustpilot-logo.png",alt:"Trustpilot",width:150,height:150})}),r.jsxs("div",{className:"text-sm text-slate-600",children:[r.jsx("span",{className:"font-semibold",children:"4.8/5"})," based on 2,847 reviews"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w9.map(x=>r.jsx(fs,{className:"hover:shadow-lg transition-all duration-300 relative",children:r.jsxs(ks,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(x.rating)].map((j,N)=>r.jsx(Lh,{className:"h-4 w-4 text-green-500 fill-current"},N))}),r.jsx("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:r.jsx("img",{src:"/lcn/trustpilot-logo2.png",alt:"Trustpilot",width:80,height:80})})]}),r.jsxs("p",{className:"text-slate-600 mb-4 italic",children:['"',x.text,'"']}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-rose-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:x.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:[x.name,", ",x.age]}),r.jsx("div",{className:"text-sm text-slate-500",children:x.location}),r.jsx("div",{className:"text-xs text-slate-400",children:"Verified Customer"})]})]})]})},x.id))})]}),r.jsxs("div",{className:"mb-16 sm:mb-20",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Everything you need to know about our pricing and features"})]}),r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsx("div",{className:"space-y-4",children:b9.map(x=>r.jsx(fs,{className:"overflow-hidden",children:r.jsxs(ks,{className:"p-0",children:[r.jsxs("button",{onClick:()=>p(x.id),className:"w-full p-6 text-left hover:bg-slate-50 transition-colors duration-200 flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold text-lg pr-4",children:x.question}),o===x.id?r.jsx(KA,{className:"h-5 w-5 text-slate-400 flex-shrink-0"}):r.jsx(Ud,{className:"h-5 w-5 text-slate-400 flex-shrink-0"})]}),o===x.id&&r.jsx("div",{className:"px-6 pb-6",children:r.jsx("p",{className:"text-slate-600 leading-relaxed",children:x.answer})})]})},x.id))})})]}),r.jsx("div",{className:"mb-16",children:r.jsx(fs,{className:"bg-gradient-to-r from-slate-50 to-slate-100 border-0",children:r.jsx(ks,{className:"p-8 sm:p-12 text-center",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx(ms,{className:"h-16 w-16 text-slate-600 mx-auto mb-6"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Your Security is Our Priority"}),r.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"All cryptocurrency payments are processed securely through blockchain technology. Your personal and financial information is always protected."}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-slate-500",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Blockchain Security"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"24/7 Support"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{children:"Money Back Guarantee"})]})]})]})})})})]})}),r.jsx(kr,{}),r.jsx(i1,{toasts:d.toasts,onClose:d.removeToast})]})}var j9=Object.defineProperty,yp=Object.getOwnPropertySymbols,kS=Object.prototype.hasOwnProperty,CS=Object.prototype.propertyIsEnumerable,B5=(e,t,s)=>t in e?j9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,jy=(e,t)=>{for(var s in t||(t={}))kS.call(t,s)&&B5(e,s,t[s]);if(yp)for(var s of yp(t))CS.call(t,s)&&B5(e,s,t[s]);return e},Sy=(e,t)=>{var s={};for(var n in e)kS.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&yp)for(var n of yp(e))t.indexOf(n)<0&&CS.call(e,n)&&(s[n]=e[n]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var xc;(e=>{const t=class $t{constructor(c,d,u,h){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<$t.MIN_VERSION||c>$t.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let x=0;x<this.size;x++)m.push(!1);for(let x=0;x<this.size;x++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),h==-1){let x=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const N=this.getPenaltyScore();N<x&&(h=j,x=N),this.applyMask(j)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return $t.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return $t.encodeSegments([u],d)}static encodeSegments(c,d,u=1,h=40,m=-1,p=!0){if(!($t.MIN_VERSION<=u&&u<=h&&h<=$t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let x,j;for(x=u;;x++){const b=$t.getNumDataCodewords(x,d)*8,k=o.getTotalBits(c,x);if(k<=b){j=k;break}if(x>=h)throw new RangeError("Data too long")}for(const b of[$t.Ecc.MEDIUM,$t.Ecc.QUARTILE,$t.Ecc.HIGH])p&&j<=$t.getNumDataCodewords(x,b)*8&&(d=b);let N=[];for(const b of c){s(b.mode.modeBits,4,N),s(b.numChars,b.mode.numCharCountBits(x),N);for(const k of b.getData())N.push(k)}i(N.length==j);const y=$t.getNumDataCodewords(x,d)*8;i(N.length<=y),s(0,Math.min(4,y-N.length),N),s(0,(8-N.length%8)%8,N),i(N.length%8==0);for(let b=236;N.length<y;b^=253)s(b,8,N);let v=[];for(;v.length*8<N.length;)v.push(0);return N.forEach((b,k)=>v[k>>>3]|=b<<7-(k&7)),new $t(x,d,v,m)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let h=0;h<d;h++)u==0&&h==0||u==0&&h==d-1||u==d-1&&h==0||this.drawAlignmentPattern(c[u],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const h=(d<<10|u)^21522;i(h>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,n(h,m));this.setFunctionModule(8,7,n(h,6)),this.setFunctionModule(8,8,n(h,7)),this.setFunctionModule(7,8,n(h,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,n(h,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,n(h,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,n(h,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let u=0;u<18;u++){const h=n(d,u),m=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(m,p,h),this.setFunctionModule(p,m,h)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const m=Math.max(Math.abs(h),Math.abs(u)),p=c+h,x=d+u;0<=p&&p<this.size&&0<=x&&x<this.size&&this.setFunctionModule(p,x,m!=2&&m!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,d+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=$t.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const h=$t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=$t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],p=Math.floor($t.getNumRawDataModules(d)/8),x=h-p%h,j=Math.floor(p/h);let N=[];const y=$t.reedSolomonComputeDivisor(m);for(let b=0,k=0;b<h;b++){let _=c.slice(k,k+j-m+(b<x?0:1));k+=_.length;const C=$t.reedSolomonComputeRemainder(_,y);b<x&&_.push(0),N.push(_.concat(C))}let v=[];for(let b=0;b<N[0].length;b++)N.forEach((k,_)=>{(b!=j-m||_>=x)&&v.push(k[b])});return i(v.length==p),v}drawCodewords(c){if(c.length!=Math.floor($t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let m=0;m<2;m++){const p=u-m,j=(u+1&2)==0?this.size-1-h:h;!this.isFunction[j][p]&&d<c.length*8&&(this.modules[j][p]=n(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let h;switch(c){case 0:h=(u+d)%2==0;break;case 1:h=d%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+d)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:h=u*d%2+u*d%3==0;break;case 6:h=(u*d%2+u*d%3)%2==0;break;case 7:h=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&h&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let p=!1,x=0,j=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[m][N]==p?(x++,x==5?c+=$t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,j),p||(c+=this.finderPenaltyCountPatterns(j)*$t.PENALTY_N3),p=this.modules[m][N],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,j)*$t.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,x=0,j=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][m]==p?(x++,x==5?c+=$t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,j),p||(c+=this.finderPenaltyCountPatterns(j)*$t.PENALTY_N3),p=this.modules[N][m],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,j)*$t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const x=this.modules[m][p];x==this.modules[m][p+1]&&x==this.modules[m+1][p]&&x==this.modules[m+1][p+1]&&(c+=$t.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((p,x)=>p+(x?1:0),d);const u=this.size*this.size,h=Math.ceil(Math.abs(d*20-u*10)/u)-1;return i(0<=h&&h<=9),c+=h*$t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let h=this.size-7;u.length<c;h-=d)u.splice(1,0,h);return u}}static getNumRawDataModules(c){if(c<$t.MIN_VERSION||c>$t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor($t.getNumRawDataModules(c)/8)-$t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*$t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let h=0;h<c-1;h++)d.push(0);d.push(1);let u=1;for(let h=0;h<c;h++){for(let m=0;m<d.length;m++)d[m]=$t.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=$t.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(h=>0);for(const h of c){const m=h^u.shift();u.push(0),d.forEach((p,x)=>u[x]^=$t.reedSolomonMultiply(p,m))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(d>>>h&1)*c;return i(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function s(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function n(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class Gs{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)s(u,8,d);return new Gs(Gs.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Gs.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const h=Math.min(c.length-u,3);s(parseInt(c.substring(u,u+h),10),h*3+1,d),u+=h}return new Gs(Gs.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Gs.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let h=Gs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;h+=Gs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),s(h,11,d)}return u<c.length&&s(Gs.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new Gs(Gs.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Gs.isNumeric(c)?[Gs.makeNumeric(c)]:Gs.isAlphanumeric(c)?[Gs.makeAlphanumeric(c)]:[Gs.makeBytes(Gs.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)s(c,8,d);else if(c<16384)s(2,2,d),s(c,14,d);else if(c<1e6)s(6,3,d),s(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Gs(Gs.Mode.ECI,0,d)}static isNumeric(c){return Gs.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Gs.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const h of c){const m=h.mode.numCharCountBits(d);if(h.numChars>=1<<m)return 1/0;u+=4+m+h.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(xc||(xc={}));(e=>{(t=>{const s=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),t.Ecc=s})(e.QrCode||(e.QrCode={}))})(xc||(xc={}));(e=>{(t=>{const s=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),t.Mode=s})(e.QrSegment||(e.QrSegment={}))})(xc||(xc={}));var pd=xc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var S9={L:pd.QrCode.Ecc.LOW,M:pd.QrCode.Ecc.MEDIUM,Q:pd.QrCode.Ecc.QUARTILE,H:pd.QrCode.Ecc.HIGH},_S=128,AS="L",ES="#FFFFFF",PS="#000000",TS=!1,LS=1,k9=4,C9=0,_9=.1;function MS(e,t=0){const s=[];return e.forEach(function(n,i){let a=null;n.forEach(function(o,l){if(!o&&a!==null){s.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===n.length-1){if(!o)return;a===null?s.push(`M${l+t},${i+t} h1v1H${l+t}z`):s.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),s.join("")}function IS(e,t){return e.slice().map((s,n)=>n<t.y||n>=t.y+t.h?s:s.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function A9(e,t,s,n){if(n==null)return null;const i=e.length+s*2,a=Math.floor(t*_9),o=i/t,l=(n.width||a)*o,c=(n.height||a)*o,d=n.x==null?e.length/2-l/2:n.x*o,u=n.y==null?e.length/2-c/2:n.y*o,h=n.opacity==null?1:n.opacity;let m=null;if(n.excavate){let x=Math.floor(d),j=Math.floor(u),N=Math.ceil(l+d-x),y=Math.ceil(c+u-j);m={x,y:j,w:N,h:y}}const p=n.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:m,opacity:h,crossOrigin:p}}function E9(e,t){return t!=null?Math.max(Math.floor(t),0):e?k9:C9}function RS({value:e,level:t,minVersion:s,includeMargin:n,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let c=sr.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((j,N)=>(j.push(...pd.QrSegment.makeSegments(N)),j),[]);return pd.QrCode.encodeSegments(x,S9[t],s,void 0,void 0,l)},[e,t,s,l]);const{cells:d,margin:u,numCells:h,calculatedImageSettings:m}=sr.useMemo(()=>{let p=c.getModules();const x=E9(n,i),j=p.length+x*2,N=A9(p,o,x,a);return{cells:p,margin:x,numCells:j,calculatedImageSettings:N}},[c,o,a,n,i]);return{qrcode:c,margin:u,cells:d,numCells:h,calculatedImageSettings:m}}var P9=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),T9=sr.forwardRef(function(t,s){const n=t,{value:i,size:a=_S,level:o=AS,bgColor:l=ES,fgColor:c=PS,includeMargin:d=TS,minVersion:u=LS,boostLevel:h,marginSize:m,imageSettings:p}=n,j=Sy(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=j,y=Sy(j,["style"]),v=p==null?void 0:p.src,b=sr.useRef(null),k=sr.useRef(null),_=sr.useCallback(K=>{b.current=K,typeof s=="function"?s(K):s&&(s.current=K)},[s]),[C,L]=sr.useState(!1),{margin:T,cells:q,numCells:G,calculatedImageSettings:M}=RS({value:i,level:o,minVersion:u,boostLevel:h,includeMargin:d,marginSize:m,imageSettings:p,size:a});sr.useEffect(()=>{if(b.current!=null){const K=b.current,de=K.getContext("2d");if(!de)return;let V=q;const ne=k.current,z=M!=null&&ne!==null&&ne.complete&&ne.naturalHeight!==0&&ne.naturalWidth!==0;z&&M.excavation!=null&&(V=IS(q,M.excavation));const Q=window.devicePixelRatio||1;K.height=K.width=a*Q;const se=a/G*Q;de.scale(se,se),de.fillStyle=l,de.fillRect(0,0,G,G),de.fillStyle=c,P9?de.fill(new Path2D(MS(V,T))):q.forEach(function(ue,I){ue.forEach(function(W,Z){W&&de.fillRect(Z+T,I+T,1,1)})}),M&&(de.globalAlpha=M.opacity),z&&de.drawImage(ne,M.x+T,M.y+T,M.w,M.h)}}),sr.useEffect(()=>{L(!1)},[v]);const O=jy({height:a,width:a},N);let X=null;return v!=null&&(X=sr.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{L(!0)},ref:k,crossOrigin:M==null?void 0:M.crossOrigin})),sr.createElement(sr.Fragment,null,sr.createElement("canvas",jy({style:O,height:a,width:a,ref:_,role:"img"},y)),X)});T9.displayName="QRCodeCanvas";var DS=sr.forwardRef(function(t,s){const n=t,{value:i,size:a=_S,level:o=AS,bgColor:l=ES,fgColor:c=PS,includeMargin:d=TS,minVersion:u=LS,boostLevel:h,title:m,marginSize:p,imageSettings:x}=n,j=Sy(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:y,numCells:v,calculatedImageSettings:b}=RS({value:i,level:o,minVersion:u,boostLevel:h,includeMargin:d,marginSize:p,imageSettings:x,size:a});let k=y,_=null;x!=null&&b!=null&&(b.excavation!=null&&(k=IS(y,b.excavation)),_=sr.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+N,y:b.y+N,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const C=MS(k,N);return sr.createElement("svg",jy({height:a,width:a,viewBox:`0 0 ${v} ${v}`,ref:s,role:"img"},j),!!m&&sr.createElement("title",null,m),sr.createElement("path",{fill:l,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),sr.createElement("path",{fill:c,d:C,shapeRendering:"crispEdges"}),_)});DS.displayName="QRCodeSVG";let L9={data:""},M9=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||L9,I9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,R9=/\/\*[^]*?\*\/|  +/g,U5=/\n+/g,Qo=(e,t)=>{let s="",n="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":n+=a[1]=="f"?Qo(o,a):a+"{"+Qo(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=Qo(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Qo.p?Qo.p(a,o):a+":"+o+";")}return s+(t&&i?t+"{"+i+"}":i)+n},Ga={},OS=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+OS(e[s]);return t}return e},D9=(e,t,s,n,i)=>{let a=OS(e),o=Ga[a]||(Ga[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Ga[o]){let c=a!==e?e:(d=>{let u,h,m=[{}];for(;u=I9.exec(d.replace(R9,""));)u[4]?m.shift():u[3]?(h=u[3].replace(U5," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(U5," ").trim();return m[0]})(e);Ga[o]=Qo(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Ga.g?Ga.g:null;return s&&(Ga.g=Ga[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ga[o],t,n,l),o},O9=(e,t,s)=>e.reduce((n,i,a)=>{let o=t[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Qo(l,""):l===!1?"":l}return n+i+(o??"")},"");function t0(e){let t=this||{},s=e.call?e(t.p):e;return D9(s.unshift?s.raw?O9(s,[].slice.call(arguments,1),t.p):s.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):s,M9(t.target),t.g,t.o,t.k)}let FS,ky,Cy;t0.bind({g:1});let mo=t0.bind({k:1});function F9(e,t,s,n){Qo.p=t,FS=e,ky=s,Cy=n}function Al(e,t){let s=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:ky&&ky()},l),s.o=/ *go\d+/.test(c),l.className=t0.apply(s,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Cy&&d[0]&&Cy(l),FS(d,l)}return i}}var B9=e=>typeof e=="function",_y=(e,t)=>B9(e)?e(t):e,U9=(()=>{let e=0;return()=>(++e).toString()})(),z9=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),$9=20,BS=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,$9)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return BS(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},V9=[],Eg={toasts:[],pausedAt:void 0},V1=e=>{Eg=BS(Eg,e),V9.forEach(t=>{t(Eg)})},q9=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||U9()}),nf=e=>(t,s)=>{let n=q9(t,e,s);return V1({type:2,toast:n}),n.id},yr=(e,t)=>nf("blank")(e,t);yr.error=nf("error");yr.success=nf("success");yr.loading=nf("loading");yr.custom=nf("custom");yr.dismiss=e=>{V1({type:3,toastId:e})};yr.remove=e=>V1({type:4,toastId:e});yr.promise=(e,t,s)=>{let n=yr.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?_y(t.success,i):void 0;return a?yr.success(a,{id:n,...s,...s==null?void 0:s.success}):yr.dismiss(n),i}).catch(i=>{let a=t.error?_y(t.error,i):void 0;a?yr.error(a,{id:n,...s,...s==null?void 0:s.error}):yr.dismiss(n)}),e};var H9=mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,W9=mo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G9=mo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,K9=Al("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${W9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${G9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Y9=mo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,J9=Al("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Y9} 1s linear infinite;
`,X9=mo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Q9=mo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Z9=Al("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Q9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eO=Al("div")`
  position: absolute;
`,tO=Al("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sO=mo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rO=Al("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,nO=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?E.createElement(rO,null,t):t:s==="blank"?null:E.createElement(tO,null,E.createElement(J9,{...n}),s!=="loading"&&E.createElement(eO,null,s==="error"?E.createElement(K9,{...n}):E.createElement(Z9,{...n})))},iO=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aO=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,oO="0%{opacity:0;} 100%{opacity:1;}",lO="0%{opacity:1;} 100%{opacity:0;}",cO=Al("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dO=Al("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uO=(e,t)=>{let s=e.includes("top")?1:-1,[n,i]=z9()?[oO,lO]:[iO(s),aO(s)];return{animation:t?`${mo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};E.memo(({toast:e,position:t,style:s,children:n})=>{let i=e.height?uO(e.position||t||"top-center",e.visible):{opacity:0},a=E.createElement(nO,{toast:e}),o=E.createElement(dO,{...e.ariaProps},_y(e.message,e));return E.createElement(cO,{className:e.className,style:{...i,...s,...e.style}},typeof n=="function"?n({icon:a,message:o}):E.createElement(E.Fragment,null,a,o))});F9(E.createElement);t0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var _i=yr;const Ay=[{id:"btc",name:"Bitcoin",symbol:"BTC",color:"from-orange-400 to-orange-600",icon:"https://icones.pro/wp-content/uploads/2024/03/icone-bitcoin-official.png"},{id:"eth",name:"Ethereum",symbol:"ETH",color:"from-blue-400 to-blue-600",icon:"https://icones.pro/wp-content/uploads/2024/03/blue-ethereum-icon-logo-symbol-original-official.png"},{id:"usdttrc20",name:"USDT (TRC-20)",symbol:"USDT",color:"from-green-400 to-green-600",icon:"https://www.iconarchive.com/download/i109679/cjdowner/cryptocurrency-flat/Tether-USDT.1024.png"},{id:"usdterc20",name:"USDT (ERC-20)",symbol:"USDT",color:"from-green-400 to-green-600",icon:"https://www.iconarchive.com/download/i109679/cjdowner/cryptocurrency-flat/Tether-USDT.1024.png"},{id:"usdc",name:"USD Coin",symbol:"USDC",color:"from-blue-400 to-blue-600",icon:"https://icones.pro/wp-content/uploads/2024/04/blue-usdc-icon-symbol-logo.png"},{id:"ltc",name:"Litecoin",symbol:"LTC",color:"from-gray-400 to-gray-600",icon:"https://upload.wikimedia.org/wikipedia/commons/f/f8/LTC-400.png"},{id:"sol",name:"Solana",symbol:"SOL",color:"from-purple-400 to-purple-600",icon:"https://icones.pro/wp-content/uploads/2024/04/icone-officielle-de-solana-logo-du-symbole-png-1536x1536.png"}],Ey=({asset:e,size:t="w-8 h-8"})=>r.jsx("img",{src:e.icon,alt:`${e.symbol} icon`,className:`${t} rounded-full`}),hO=({selectedAsset:e,onSelect:t})=>{const[s,n]=E.useState(!1),i=Ay.find(a=>a.id===e);return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{type:"button",onClick:()=>n(!s),className:"w-full flex items-center justify-between p-4 bg-white border-2 border-gray-200 rounded-xl hover:border-rose-300 focus:outline-none focus:border-rose-500 transition-all duration-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Ey,{asset:i}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:i==null?void 0:i.name}),r.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.symbol})]})]}),r.jsx(Ud,{className:`w-5 h-5 text-gray-400 transition-transform ${s?"rotate-180":""}`})]}),r.jsx(Oh,{children:s&&r.jsx(Ds.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute z-30 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden",children:Ay.map(a=>r.jsxs("button",{onClick:()=>{t(a.id),n(!1)},className:"w-full flex items-center space-x-4 p-4 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:[r.jsx(Ey,{asset:a}),r.jsxs("div",{className:"text-left flex-1",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:a.name}),r.jsx("div",{className:"text-sm text-gray-500",children:a.symbol})]}),a.id===e&&r.jsx(bs,{className:"w-5 h-5 text-rose-500"})]},a.id))})})]})};function fO(){var ge,be;const e=cn(),t=ca(),{user:s}=dn(),n=new URLSearchParams(t.search),i=n.get("package"),a=n.get("subscription"),o=!!a;let l=null,c=null;if(o)c=ty.find(oe=>oe.id===a)||ty[1];else{const oe=parseInt(i||"2");l=ey.find(_e=>_e.id===oe)||ey[1]}const[d,u]=E.useState("btc"),[h,m]=E.useState(!1),[p,x]=E.useState(""),[j,N]=E.useState(""),[y,v]=E.useState(""),[b,k]=E.useState(""),[_,C]=E.useState("summary"),[L,T]=E.useState(!1),[q,G]=E.useState(0),[M,O]=E.useState(null),[X,K]=E.useState(!1),[de,V]=E.useState(!1),[ne,z]=E.useState(!1),Q=Ay.find(oe=>oe.id===d),se=o?(c==null?void 0:c.price)||0:(l==null?void 0:l.price)||0,ue=async()=>{if(!ne){O("Please accept the terms of service first");return}if(!s){O("Please log in to complete your purchase");return}if(!l&&!c){O("No package selected");return}m(!0),O(null);try{const oe=o?`${c==null?void 0:c.name} - ${c==null?void 0:c.price}`:`${((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)} Coins Package - ${l==null?void 0:l.price}`,_e=await fetch("https://api.nowpayments.io/v1/payment",{method:"POST",headers:{"x-api-key":void 0,"Content-Type":"application/json"},body:JSON.stringify({price_amount:se,price_currency:"EUR",pay_currency:d,order_id:`PURELOVE-${Date.now()}-${s.id}`,order_description:oe,success_url:`${window.location.origin}/success`,cancel_url:o?`${window.location.origin}/checkout?subscription=${a}`:`${window.location.origin}/checkout?package=${i}`,is_fixed_rate:!1,is_fee_paid_by_user:!1})}),Ee=await _e.json();if(!_e.ok)throw new Error(Ee.message||`API error: ${_e.status} ${_e.statusText}`);if(Ee.payment_id&&Ee.pay_address)v(Ee.payment_id),x(Ee.pay_address),N(Ee.pay_amount),k("confirming"),C("payment"),T(!1),G(20*60),yr.success("Payment address generated successfully!");else throw new Error("Invalid payment response")}catch(oe){console.error("Payment creation failed:",oe);const _e=oe instanceof Error?oe.message:"Failed to create payment. Please try again.";O(_e),yr.error(_e)}finally{m(!1)}},I=!1;E.useEffect(()=>{let oe;return p&&q>0&&(oe=setInterval(()=>{G(_e=>_e<=1?(clearInterval(oe),T(!0),0):_e-1)},1e3)),()=>{oe&&clearInterval(oe)}},[p,q]);const W=async()=>{if(!y)return!1;try{const oe=await fetch(`https://api.nowpayments.io/v1/payment/${y}`,{method:"GET",headers:{"x-api-key":void 0,"Content-Type":"application/json"}}),_e=await oe.json();if(!oe.ok)throw new Error(_e.message||`API error: ${oe.status} ${oe.statusText}`);switch(k(_e.payment_status),_e.payment_status){case"finished":return await Z(_e),!0;case"failed":return yr.error("Payment failed. Please try again."),!1;default:return!1}}catch(oe){return console.error("Error checking payment status:",oe),!1}},Z=async oe=>{var _e,Ee,ze,Be,Pe;try{if(!s)throw new Error("User not found");let he,Y,Je=0,We="";if(o){console.log(" [PAYMENT] Processing successful payment for subscription:",c==null?void 0:c.name);const ht=(_e=c==null?void 0:c.features.find(at=>at.includes("bonus coins")))==null?void 0:_e.match(/(\d+)/),ft=ht?parseInt(ht[1]):0;Je=ft,We=(c==null?void 0:c.name)||"Subscription",console.log(" [PAYMENT] Subscription bonus coins:",ft),console.log(" [PAYMENT] User ID:",s.id),he=new Date,(c==null?void 0:c.durationUnit)==="days"?he.setDate(he.getDate()+c.duration):((c==null?void 0:c.durationUnit)==="month"||(c==null?void 0:c.durationUnit)==="months")&&he.setMonth(he.getMonth()+c.duration),console.log(" [PAYMENT] Subscription expires at:",he.toISOString()),console.log(" [PAYMENT] Storing subscription transaction record..."),Y={user_id:s.id,order_id:oe.order_id||`PURELOVE-${Date.now()}-${s.id}`,amount:se,coins:ft,type:"subscription",crypto_asset:d,crypto_amount:((Ee=oe.pay_amount)==null?void 0:Ee.toString())||"0",crypto_address:oe.pay_address||"",transaction_hash:((ze=oe.outcome)==null?void 0:ze.hash)||"",status:"completed",created_at:new Date().toISOString(),expires_at:he.toISOString(),coins_added:ft,subscription_plan:c==null?void 0:c.id,subscription_duration:c==null?void 0:c.duration}}else console.log(" [PAYMENT] Processing successful payment for coin package:",`${((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)} Coins`),Je=((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0),We=`${Je} Coins Package`,console.log(" [PAYMENT] Coins to add:",Je),console.log(" [PAYMENT] User ID:",s.id),he=new Date,he.setDate(he.getDate()+365),console.log(" [PAYMENT] Coins purchased at:",new Date().toISOString()),console.log(" [PAYMENT] Storing coin purchase transaction record..."),Y={user_id:s.id,order_id:oe.order_id||`PURELOVE-${Date.now()}-${s.id}`,amount:se,coins:Je,type:"coins",crypto_asset:d,crypto_amount:((Be=oe.pay_amount)==null?void 0:Be.toString())||"0",crypto_address:oe.pay_address||"",transaction_hash:((Pe=oe.outcome)==null?void 0:Pe.hash)||"",status:"completed",created_at:new Date().toISOString(),expires_at:he.toISOString(),coins_added:Je,subscription_duration:null};const{data:Ie,error:Ke}=await Oe.from("profiles").select("coins").eq("id",s.id).single();Ke&&console.error(" [PAYMENT] Error fetching current profile:",Ke);const Qe=(Ie==null?void 0:Ie.coins)||0,Ye=Qe+Je;console.log(" [PAYMENT] Current coins:",Qe),console.log(" [PAYMENT] Adding coins:",Je),console.log(" [PAYMENT] New total:",Ye),console.log(" [PAYMENT] Transaction data:",Y);const{error:st}=await Oe.from("transactions").insert(Y);if(st?(console.error(" [PAYMENT] Error storing transaction:",st),console.error(" [PAYMENT] Transaction error details:",st.details),console.error(" [PAYMENT] Transaction error hint:",st.hint)):console.log(" [PAYMENT] Transaction record stored successfully"),console.log(" [PAYMENT] Updating user profile..."),o){const{error:ht}=await Oe.rpc("add_subscription_coins",{p_user_id:s.id,p_amount:Je,p_expires_at:he.toISOString()});if(ht){console.error(" [PAYMENT] Error adding subscription coins:",ht),console.error(" [PAYMENT] Coin error details:",ht.details);const at={coins:Ye,chat_subscription:{type:c==null?void 0:c.id.toString(),expiresAt:he.toISOString(),purchasedAt:new Date().toISOString(),paymentMethod:"crypto",transactionId:oe.payment_id},updated_at:new Date().toISOString()};console.log(" [PAYMENT] Fallback profile update:",at);const{error:bt}=await Oe.from("profiles").update(at).eq("id",s.id);if(bt)throw console.error(" [PAYMENT] Error updating profile:",bt),new Error(`Failed to activate subscription: ${bt.message}`)}else{console.log(" [PAYMENT] Subscription coins added with expiration tracking");const at={chat_subscription:{type:c==null?void 0:c.id.toString(),expiresAt:he.toISOString(),purchasedAt:new Date().toISOString(),paymentMethod:"crypto",transactionId:oe.payment_id},updated_at:new Date().toISOString()};console.log(" [PAYMENT] Profile update data:",at);const{error:bt}=await Oe.from("profiles").update(at).eq("id",s.id);if(bt)throw console.error(" [PAYMENT] Error updating profile:",bt),console.error(" [PAYMENT] Profile error details:",bt.details),console.error(" [PAYMENT] Profile error hint:",bt.hint),new Error(`Failed to activate subscription: ${bt.message}`)}console.log(" [PAYMENT] Storing subscription purchase record...");const{error:ft}=await Oe.from("subscription_purchases").insert({user_id:s.id,subscription_id:c==null?void 0:c.id.toString(),payment_method:"crypto",amount_paid:se,coins_spent:0,expires_at:he.toISOString(),is_active:!0});ft?(console.error(" [PAYMENT] Error storing subscription purchase:",ft),console.error(" [PAYMENT] Purchase error details:",ft.details)):console.log(" [PAYMENT] Subscription purchase record stored")}else{const ht={coins:Ye,updated_at:new Date().toISOString()};console.log(" [PAYMENT] Coin purchase profile update:",ht);const{error:ft}=await Oe.from("profiles").update(ht).eq("id",s.id);if(ft)throw console.error(" [PAYMENT] Error updating profile with coins:",ft),new Error(`Failed to add coins: ${ft.message}`);console.log(" [PAYMENT] Coins added to profile successfully")}console.log(" [PAYMENT] Refreshing page to update user data..."),window.location.reload();const pt=o?`Payment completed! Subscription activated and ${Je} bonus coins added!`:`Payment completed! ${Je} coins added to your account!`;yr.success(pt),e("/success",{state:{message:o?`Payment successful! Your subscription is now active and ${Je} bonus coins have been added to your account.`:`Payment successful! ${Je} coins have been added to your account.`,subscription:o?c:void 0,coinPackage:o?void 0:l,transactionId:oe.payment_id,expiresAt:he.toISOString(),amount:se,paymentMethod:d,coins:Je}})}catch(he){console.error(" [PAYMENT] Error processing successful payment:",he),console.error(" [PAYMENT] Full error object:",JSON.stringify(he,null,2)),yr.error("Payment was successful but there was an error activating your subscription. Please contact support."),e("/success",{state:{message:"Payment completed but subscription activation failed. Please contact support.",error:!0,transactionId:oe.payment_id}})}};E.useEffect(()=>{let oe=null;return _==="payment"&&q>0&&!L&&(oe=setInterval(async()=>{await W()&&oe&&clearInterval(oe)},1e4)),()=>{oe&&clearInterval(oe)}},[_,q,L,y]);const te=(oe,_e)=>{navigator.clipboard.writeText(oe),_e==="address"?(K(!0),yr.success("Address copied!"),setTimeout(()=>K(!1),2e3)):(V(!0),yr.success("Amount copied!"),setTimeout(()=>V(!1),2e3))},ae=()=>{x(""),N(""),v(""),G(0),T(!1),O(null),C("summary"),z(!1)};return s?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsx(Xs,{}),r.jsx("main",{className:"py-8 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(Ds.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsxs("button",{onClick:()=>e("/pricing"),className:"inline-flex items-center space-x-2 text-gray-600 hover:text-rose-600 transition-colors mb-6 group",children:[r.jsx(Hv,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),r.jsx("span",{className:"font-medium",children:"Back to Pricing"})]}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Secure Checkout"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Complete your purchase with cryptocurrency"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx(Ds.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[r.jsx(Ri,{className:"w-6 h-6 text-rose-600"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Summary"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative p-4 bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl border border-rose-100",children:[(o?c==null?void 0:c.popular:l==null?void 0:l.popular)&&r.jsx("div",{className:"absolute -top-2 left-4",children:r.jsxs("span",{className:"bg-rose-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center space-x-1",children:[r.jsx(Lh,{className:"w-3 h-3"}),r.jsx("span",{children:"Popular"})]})}),r.jsx("div",{className:"pt-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:c==null?void 0:c.name}),r.jsx("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(qn,{className:"w-4 h-4"}),r.jsxs("span",{children:[((be=(ge=c==null?void 0:c.features.find(oe=>oe.includes("bonus coins")))==null?void 0:ge.match(/\d+/))==null?void 0:be[0])||"0"," bonus coins included"]})]})})]}):r.jsxs(r.Fragment,{children:[r.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:[((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)," Coins Package"]}),r.jsx("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:r.jsxs("span",{className:"flex items-center space-x-1",children:[r.jsx(qn,{className:"w-4 h-4"}),r.jsxs("span",{children:[(l==null?void 0:l.amount)??0," + ",(l==null?void 0:l.bonus)??0," bonus coins"]})]})})]})})]}),r.jsx("div",{className:"space-y-3",children:o?r.jsxs(r.Fragment,{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"What's included:"}),r.jsx("div",{className:"space-y-2",children:c==null?void 0:c.features.map((oe,_e)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"w-3 h-3 text-green-600"})}),r.jsx("span",{className:"text-gray-700",children:oe})]},_e))})]}):r.jsxs(r.Fragment,{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:["What you can do with ",((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)," coins:"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:["Send ",((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)," messages"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:["Send ",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/5),"-",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/50)," virtual gifts"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:[Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/400)," minutes of voice calls"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:[Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/1e3)," minutes of video calls"]})]}),((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0)>=700&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"w-3 h-3 text-green-600"})}),r.jsxs("span",{className:"text-gray-700",children:["View contact info ",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/700)," time",Math.floor((((l==null?void 0:l.amount)??0)+((l==null?void 0:l.bonus)??0))/700)>1?"s":""]})]})]})]})}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{className:"text-rose-600",children:["",se.toFixed(2)]})]})})]})]})}),r.jsx(Ds.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-8",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:r.jsx(Oh,{mode:"wait",children:_==="summary"?r.jsxs(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Payment Method"}),r.jsx("p",{className:"text-gray-600",children:"Select your preferred cryptocurrency for secure payment"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-900 uppercase tracking-wide",children:"Cryptocurrency"}),r.jsx(hO,{selectedAsset:d,onSelect:u})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ms,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Secure"}),r.jsx("p",{className:"text-sm text-blue-700",children:"End-to-end encrypted"})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(pc,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Fast"}),r.jsx("p",{className:"text-sm text-green-700",children:"Instant processing"})]}),r.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(Ri,{className:"w-5 h-5 text-purple-600"})}),r.jsx("h3",{className:"font-semibold text-purple-900 mb-1",children:"Convenient"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Easy payments"})]})]}),r.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:r.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ne,onChange:oe=>z(oe.target.checked),className:"mt-1 w-4 h-4 text-rose-600 border-gray-300 rounded focus:ring-rose-500"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["I agree to the"," ",r.jsx("a",{href:"#",className:"text-rose-600 hover:underline font-medium",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"text-rose-600 hover:underline font-medium",children:"Privacy Policy"})]})]})}),M&&r.jsxs(Ds.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 p-4 bg-red-50 text-red-700 rounded-xl border border-red-200",children:[r.jsx(ro,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:M})]}),r.jsx("button",{onClick:ue,disabled:h||!ne,className:"w-full bg-gradient-to-r from-rose-600 to-pink-600 text-white py-4 rounded-xl hover:from-rose-700 hover:to-pink-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:h?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Processing..."]}):r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(NE,{className:"w-5 h-5"}),r.jsxs("span",{children:["Pay ",se.toFixed(2)," with ",Q==null?void 0:Q.symbol]})]})}),I]},"summary"):r.jsxs(Ds.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send Payment"}),r.jsx("p",{className:"text-gray-600",children:"Send the exact amount to the address below"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"text-center md:text-left",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Send Exactly"}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:[r.jsx(Ey,{asset:Q,size:"w-10 h-10"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-2",children:[r.jsx("span",{children:j}),r.jsx("button",{onClick:()=>te(j,"amount"),className:"p-1 hover:bg-white rounded-lg transition-colors",children:de?r.jsx(bs,{className:"w-5 h-5 text-green-500"}):r.jsx(zx,{className:"w-5 h-5 text-gray-400"})})]}),r.jsx("div",{className:"text-sm text-gray-500",children:Q==null?void 0:Q.symbol})]})]})]}),r.jsxs("div",{className:"text-center md:text-right",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 uppercase tracking-wide",children:"Time Remaining"}),r.jsxs("div",{className:"text-2xl font-bold text-rose-600 flex items-center justify-center md:justify-end space-x-2",children:[r.jsx(pc,{className:"w-6 h-6"}),r.jsxs("span",{children:[Math.floor(q/60),":",(q%60).toString().padStart(2,"0")]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Payment expires"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"To This Address"}),r.jsxs("div",{className:"flex items-center space-x-3 bg-white rounded-xl p-4 border-2 border-gray-200",children:[r.jsx("code",{className:"flex-1 text-sm font-mono text-gray-900 break-all",children:p}),r.jsx("button",{onClick:()=>te(p,"address"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:X?r.jsx(bs,{className:"w-5 h-5 text-green-500"}):r.jsx(zx,{className:"w-5 h-5 text-gray-400"})})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.jsx(DS,{value:`${d}:${p}?amount=${j}`,size:160,level:"H",includeMargin:!0})})})]}),r.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[r.jsx(ro,{className:"w-6 h-6 text-amber-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-amber-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Important Payment Instructions"}),r.jsx("p",{className:"text-sm",children:"Send the exact amount shown above. Different amounts may result in payment failure and require manual processing."})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("button",{onClick:ae,className:"flex-1 py-3 px-6 rounded-xl font-semibold border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Back to Payment Method"}),r.jsx("button",{onClick:()=>e("/pricing"),className:"flex-1 py-3 px-6 rounded-xl font-semibold border-2 border-red-200 text-red-600 hover:bg-red-50 transition-colors",children:"Cancel Order"})]}),I,L&&r.jsxs(Ds.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-2 p-4 bg-red-50 text-red-700 rounded-xl border border-red-200",children:[r.jsx(ro,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:"Payment window expired. Please create a new payment."})]})]},"payment")})})})]})]})})]}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsx(Xs,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[80vh] px-4",children:r.jsxs(Ds.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ms,{className:"w-8 h-8 text-rose-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Login Required"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Please sign in to complete your purchase securely."}),r.jsx("button",{onClick:()=>e("/login"),className:"w-full bg-rose-600 text-white py-3 rounded-xl hover:bg-rose-700 transition-colors font-semibold",children:"Sign In"})]})})]})}function mO({message:e,type:t,duration:s=3e3,onClose:n}){const[i,a]=E.useState(!0);if(E.useEffect(()=>{const u=setTimeout(()=>{a(!1),n==null||n()},s);return()=>clearTimeout(u)},[s,n]),!i)return null;const o=t==="success"?"bg-green-50":"bg-red-50",l=t==="success"?"text-green-800":"text-red-800",c=t==="success"?"border-green-200":"border-red-200",d=t==="success"?Nr:Up;return r.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg border ${o} ${c} shadow-lg max-w-sm`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(d,{className:`h-5 w-5 mt-0.5 ${l}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${l}`,children:t==="success"?"Success":"Error"}),r.jsx("p",{className:`text-sm ${l}`,children:e})]}),r.jsx("button",{onClick:()=>{a(!1),n==null||n()},className:`p-1 rounded-full hover:bg-opacity-20 ${t==="success"?"hover:bg-green-600":"hover:bg-red-600"}`,children:r.jsx(or,{className:"h-4 w-4"})})]})})}function pO(){var b;const{signIn:e,user:t,loading:s}=dn(),[n,i]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState(!1),[d,u]=E.useState(""),[h,m]=E.useState(!1),[p,x]=E.useState(!0),j=cn(),N=ca();E.useEffect(()=>{!s&&t&&(console.log(" [LOGIN] User already logged in, redirecting to dashboard..."),j("/dashboard",{replace:!0}))},[t,s,j]);const y=((b=N.state)==null?void 0:b.showEmailConfirmation)||new URLSearchParams(N.search).get("confirm")==="true";if(s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Redirecting to dashboard..."})]})});const v=async k=>{var _;if(console.log(" [UI] handleLogin called"),k.preventDefault(),l){console.log(" [UI] Already loading, ignoring duplicate submission");return}console.log(" [UI] Setting loading state..."),c(!0),u("");try{console.log(" [UI] Login credentials:",{email:n,password:"***",rememberMe:p}),console.log(" [UI] Calling signIn from auth context...");const{error:C}=await e(n,a,p);console.log(" [UI] signIn returned"),console.log(" [UI] Error present:",!!C),C?(console.log(" [UI] Login error:",C),C.message.includes("timeout")?u("Connection timeout. Please check your internet connection and try again."):u(C.message||"Invalid email or password. Please try again.")):console.log(" [UI] Login successful, user state will be updated and useEffect will handle redirect...")}catch(C){console.error(" [UI] Exception in handleLogin:",C),(_=C.message)!=null&&_.includes("timeout")?u("Connection timeout. Please check your internet connection and try again."):u("Invalid email or password. Please try again.")}finally{console.log(" [UI] Setting loading to false..."),c(!1),console.log(" [UI] Loading state cleared")}};return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Us,{className:"h-8 w-8 text-rose-600"}),r.jsx("span",{className:"text-2xl font-bold",children:"PureLove"})]}),r.jsx("h1",{className:"text-2xl font-bold",children:"Welcome Back"}),r.jsx("p",{className:"text-slate-600",children:"Sign in to your account to continue"})]}),r.jsxs(fs,{children:[r.jsxs(ks,{className:"pt-6",children:[y&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Email Confirmation Required"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please check your email and click the confirmation link before signing in."})]})]})}),d&&r.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-4",children:d}),r.jsx("form",{onSubmit:v,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(no,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:k=>i(k.target.value),className:"pl-9",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"password",type:h?"text":"password",placeholder:"",value:a,onChange:k=>o(k.target.value),className:"pl-9",required:!0}),r.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-3 text-slate-400",children:h?r.jsx($x,{className:"h-4 w-4"}):r.jsx(Ii,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-rose-600 focus:ring-rose-600",checked:p,onChange:k=>x(k.target.checked)}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-600",children:"Remember me"})]}),r.jsx("div",{className:"text-sm",children:r.jsx(ut,{to:"/forgot-password",className:"text-rose-600 hover:text-rose-700",children:"Forgot password?"})})]}),r.jsx(Re,{type:"submit",className:"w-full",disabled:l,children:l?"Signing in...":"Sign In"})]})})]}),r.jsx(Xh,{className:"flex justify-center border-t p-6",children:r.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",r.jsx(ut,{to:"/signup",className:"text-rose-600 hover:text-rose-700 font-medium",children:"Sign up"})]})})]})]})})}function z5(){const{signUp:e,user:t,loading:s}=dn(),[n,i]=E.useState(1),[a,o]=E.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",gender:"male",birthDate:"",country:"",city:""}),[l,c]=E.useState(!1),[d,u]=E.useState(null),[h,m]=E.useState(!1),[p,x]=E.useState(!1),j=cn();if(E.useEffect(()=>{!s&&t&&(console.log(" [SIGNUP] User already logged in, redirecting to dashboard..."),j("/dashboard",{replace:!0}))},[t,s,j]),s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Redirecting to dashboard..."})]})});const N=_=>{if(!_)return 0;const C=new Date,L=new Date(_);let T=C.getFullYear()-L.getFullYear();const q=C.getMonth()-L.getMonth();return(q<0||q===0&&C.getDate()<L.getDate())&&T--,T},y=_=>{const{name:C,value:L}=_.target;o(T=>({...T,[C]:L}))},v=_=>{if(_.preventDefault(),n===1){if(a.password!==a.confirmPassword){u({message:"Passwords do not match",type:"error"});return}i(2)}else n===2&&b(_)},b=async _=>{var C,L;_.preventDefault(),c(!0);try{if(N(a.birthDate)<18){u({message:"You must be at least 18 years old to sign up.",type:"error"}),c(!1);return}console.log("Signing up with:",a);const{error:q}=await e(a.email,a.password,{firstName:a.firstName,lastName:a.lastName,gender:a.gender,birthDate:a.birthDate,country:a.country,city:a.city});q?(C=q.message)!=null&&C.includes("timeout")?u({message:"Connection timeout. Please check your internet connection and try again.",type:"error"}):u({message:q.message||"An error occurred during signup. Please try again.",type:"error"}):(u({message:"Account created! Please check your email to confirm your account, then sign in.",type:"success"}),setTimeout(()=>{j("/login",{state:{showEmailConfirmation:!0}})},3e3))}catch(T){(L=T.message)!=null&&L.includes("timeout")?u({message:"Connection timeout. Please check your internet connection and try again.",type:"error"}):u({message:"An error occurred during signup. Please try again.",type:"error"})}finally{c(!1)}},k=()=>{i(1)};return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Us,{className:"h-8 w-8 text-rose-600"}),r.jsx("span",{className:"text-2xl font-bold",children:"PureLove"})]}),r.jsx("h1",{className:"text-2xl font-bold",children:"Create Your Account"}),r.jsx("p",{className:"text-slate-600",children:"Join our community and find your perfect match"})]}),r.jsxs(fs,{children:[r.jsxs(ks,{className:"pt-6",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-rose-600 text-white",children:"1"}),r.jsx("div",{className:`h-1 w-16 ${n>=2?"bg-rose-600":"bg-slate-200"}`}),r.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${n>=2?"bg-rose-600 text-white":"bg-slate-200 text-slate-600"}`,children:"2"})]})}),d&&r.jsx(mO,{message:d.message,type:d.type,onClose:()=>u(null)}),r.jsxs("form",{onSubmit:v,children:[n===1?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(no,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"email",name:"email",type:"email",placeholder:"your@email.com",value:a.email,onChange:y,className:"pl-9",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"password",name:"password",type:h?"text":"password",placeholder:"",value:a.password,onChange:y,className:"pl-9",required:!0,minLength:8}),r.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-3 text-slate-400",children:h?r.jsx($x,{className:"h-4 w-4"}):r.jsx(Ii,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Password must be at least 8 characters long"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(gc,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",placeholder:"",value:a.confirmPassword,onChange:y,className:"pl-9",required:!0}),r.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-3 text-slate-400",children:p?r.jsx($x,{className:"h-4 w-4"}):r.jsx(Ii,{className:"h-4 w-4"})})]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-1",children:"First Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ta,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"firstName",name:"firstName",type:"text",placeholder:"John",value:a.firstName,onChange:y,className:"pl-9",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-1",children:"Last Name"}),r.jsx(Fs,{id:"lastName",name:"lastName",type:"text",placeholder:"Doe",value:a.lastName,onChange:y,required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium mb-1",children:"I am a"}),r.jsxs(ts,{id:"gender",name:"gender",value:a.gender,onChange:y,required:!0,children:[r.jsx("option",{value:"male",children:"Man"}),r.jsx("option",{value:"female",children:"Woman"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium mb-1",children:"Date of Birth"}),r.jsxs("div",{className:"relative",children:[r.jsx(Sr,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"birthDate",name:"birthDate",type:"date",value:a.birthDate,onChange:y,className:"pl-9",required:!0,max:new Date().toISOString().split("T")[0],min:new Date(Date.now()-100*365*24*60*60*1e3).toISOString().split("T")[0]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:"block text-sm font-medium mb-1",children:"Country"}),r.jsxs("div",{className:"relative",children:[r.jsx(xo,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsxs(ts,{id:"country",name:"country",value:a.country,onChange:y,className:"pl-9",required:!0,children:[r.jsx("option",{value:"",children:"Select your country"}),t1.map(_=>r.jsx("option",{value:_.value,children:_.label},_.value))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-1",children:"City"}),r.jsxs("div",{className:"relative",children:[r.jsx(gl,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{id:"city",name:"city",type:"text",placeholder:"New York",value:a.city,onChange:y,className:"pl-9",required:!0})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-4",children:[n===2&&r.jsx(Re,{type:"button",variant:"outline",className:"flex-1",onClick:k,children:"Back"}),r.jsx(Re,{type:"submit",className:"flex-1",disabled:l,children:l?"Processing...":n===1?"Next":"Create Account"})]})]})]}),r.jsx(Xh,{className:"flex justify-center border-t p-6",children:r.jsxs("p",{className:"text-sm text-slate-600",children:["Already have an account?"," ",r.jsx(ut,{to:"/login",className:"text-rose-600 hover:text-rose-700 font-medium",children:"Sign in"})]})})]}),r.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["By signing up, you agree to our"," ",r.jsx(ut,{to:"/terms",className:"text-rose-600 hover:text-rose-700",children:"Terms of Service"})," ","and"," ",r.jsx(ut,{to:"/privacy",className:"text-rose-600 hover:text-rose-700",children:"Privacy Policy"}),"."]})]})})}const Ka=[{id:"1",title:"How to Start a Conversation with a Slavic Woman",excerpt:"Breaking the ice can be challenging, especially across cultures. Learn effective conversation starters that resonate with Eastern European women.",content:`
      Starting a conversation with someone from a different cultural background can be both exciting and challenging. When it comes to connecting with Slavic women, understanding cultural nuances can make all the difference.

      ## Understand Cultural Context
      
      Eastern European cultures often value directness combined with politeness. Small talk is less common than in Western cultures, and conversations tend to go deeper more quickly.
      
      ## Effective Conversation Starters
      
      1. **Ask about her city or region** - Many Eastern European women are proud of their heritage and will appreciate genuine interest in their hometown.
      
      2. **Discuss literature or arts** - Education in humanities is highly valued in Slavic countries, and many women have strong opinions about literature, music, and art.
      
      3. **Share travel experiences** - If you've visited Eastern Europe, sharing your impressions can create common ground. If not, express interest in places you'd like to visit.
      
      4. **Ask about traditions** - Inquiring about holidays, celebrations, or family traditions shows respect for her culture.
      
      ## Topics to Avoid Initially
      
      - Politics and historical conflicts
      - Stereotypes about Eastern European women
      - Overly personal questions about family or finances
      
      ## Be Authentic
      
      Above all, be genuine in your approach. Slavic women often have a strong intuition for insincerity. Show real interest in getting to know her as an individual, not just as a representative of her culture.
      
      Remember that while these guidelines can be helpful, every person is unique. The most important thing is to listen actively and respond thoughtfully to build a meaningful connection.
    `,author:"Elena Petrova",authorTitle:"Cultural Relationship Coach",date:new Date("2023-05-15"),category:"Dating Tips",image:"https://images.unsplash.com/photo-1507608616759-54f48f0af0ee?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80"},{id:"2",title:"Understanding Cultural Differences in Relationships",excerpt:"Navigating cross-cultural relationships requires awareness and adaptation. Discover key differences between Western and Eastern European relationship expectations.",content:`
      Cross-cultural relationships can be incredibly rewarding, offering new perspectives and rich experiences. However, they also come with unique challenges, particularly when navigating different expectations around relationships.

      ## Family Dynamics
      
      In many Eastern European cultures, family plays a central role in daily life. Close relationships with extended family are common, and family approval of relationships is often important.
      
      - **Western Perspective**: Individual independence is highly valued, and while family is important, adult children often make decisions independently.
      - **Eastern European Perspective**: Family opinions matter significantly, and multi-generational households are more common.
      
      ## Communication Styles
      
      Communication patterns can vary significantly between cultures, leading to potential misunderstandings.
      
      - **Western Perspective**: Often values explicit communication where thoughts and feelings are directly expressed.
      - **Eastern European Perspective**: May rely more on context and implicit communication, with greater emphasis on non-verbal cues.
      
      ## Gender Roles
      
      While both Western and Eastern societies are evolving, there can still be differences in expectations around gender roles.
      
      - **Western Perspective**: Generally emphasizes equality and shared responsibilities in relationships.
      - **Eastern European Perspective**: May maintain some traditional gender role distinctions while also embracing modern equality.
      
      ## Expressions of Affection
      
      How love and affection are expressed can vary between cultures.
      
      - **Western Perspective**: Often comfortable with public displays of affection and verbal expressions of feelings.
      - **Eastern European Perspective**: May express love through acts of service and care, with deep emotional connections that might take longer to develop.
      
      ## Navigating Differences
      
      1. **Practice active listening** - Take time to understand your partner's perspective without judgment.
      2. **Ask questions** - Don't make assumptions about what behaviors or expectations are cultural versus personal.
      3. **Be flexible** - Successful cross-cultural relationships require adaptation from both partners.
      4. **Communicate openly** - Discuss expectations explicitly to avoid misunderstandings.
      
      Remember that these are generalizations, and individual differences always outweigh cultural patterns. The key to success is approaching your relationship with respect, curiosity, and a willingness to learn and grow together.
    `,author:"Dr. Mikhail Ivanov",authorTitle:"Cross-Cultural Psychologist",date:new Date("2023-06-22"),category:"Relationships",image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1769&q=80"},{id:"3",title:"Planning Your First Visit: What to Expect",excerpt:"Preparing for your first trip to meet your Eastern European partner? This comprehensive guide covers everything from travel preparations to cultural etiquette.",content:`
      Meeting your partner in person for the first time is an exciting milestone in any long-distance relationship. When that meeting involves international travel to Eastern Europe, proper preparation can make the experience much smoother.

      ## Before You Travel
      
      ### Documentation
      
      - **Passport and Visa** - Ensure your passport is valid for at least six months beyond your planned stay. Check visa requirements for the specific country you're visiting.
      - **Travel Insurance** - Comprehensive travel insurance is essential, covering both health emergencies and trip cancellations.
      - **Copies of Documents** - Keep digital and physical copies of all important documents.
      
      ### Communication Preparation
      
      - **Language Basics** - Learning a few phrases in your partner's language shows respect and effort.
      - **Offline Translation App** - Download a reliable translation app that works offline.
      - **International Phone Plan** - Arrange for international roaming or purchase a local SIM card upon arrival.
      
      ## Cultural Considerations
      
      ### Meeting the Family
      
      In many Eastern European cultures, meeting the family is a significant step. If you're invited to a family meal:
      
      - Bring a small gift (flowers, quality chocolate, or a bottle of wine are appropriate)
      - Be prepared to answer questions about your life, work, and family
      - Compliment the food and home
      
      ### Social Etiquette
      
      - **Punctuality** - Being on time is generally expected and appreciated
      - **Dress Code** - Eastern Europeans often dress more formally than Westerners for everyday activities
      - **Table Manners** - Wait to be seated, keep hands visible on the table, and try everything offered
      
      ## Planning Your Stay
      
      ### Accommodation
      
      Consider staying in a hotel or rental apartment initially, even if your partner offers accommodation. This gives both of you space and reduces pressure.
      
      ### Activities
      
      - Plan a mix of activities that allow for different types of interaction
      - Include opportunities to meet friends and family
      - Allow for some downtime to process the experience
      
      ### Safety Considerations
      
      - Share your itinerary with someone at home
      - Have a backup plan for accommodation if needed
      - Keep emergency contact information accessible
      
      ## Managing Expectations
      
      The first in-person meeting can be both wonderful and challenging. Remember:
      
      - Initial awkwardness is normal
      - Give yourselves time to adjust to being in each other's physical presence
      - Be flexible with your plans
      - Communicate openly about your feelings
      
      By preparing thoroughly and approaching the visit with an open mind, you'll create the best possible foundation for this important step in your relationship.
    `,author:"Anna Kowalski",authorTitle:"International Dating Consultant",date:new Date("2023-07-10"),category:"Travel",image:"https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80"}];function gO(){const[e,t]=E.useState(null),[s,n]=E.useState(""),i=Ka.filter(a=>a.title.toLowerCase().includes(s.toLowerCase())||a.excerpt.toLowerCase().includes(s.toLowerCase())||a.category.toLowerCase().includes(s.toLowerCase()));return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Xs,{user:e}),r.jsx("main",{className:"flex-1 py-8",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Dating Blog"}),r.jsx("p",{className:"text-slate-600",children:"Tips, advice, and insights for cross-cultural relationships"})]}),r.jsx("div",{className:"w-full md:w-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx(Nn,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),r.jsx(Fs,{placeholder:"Search articles...",className:"pl-9 w-full md:w-64",value:s,onChange:a=>n(a.target.value)})]})})]}),r.jsx("div",{className:"mb-12",children:r.jsx(fs,{className:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[r.jsx("div",{className:"h-64 md:h-auto",children:r.jsx("img",{src:Ka[0].image,alt:Ka[0].title,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-6 md:p-8 flex flex-col",children:[r.jsx(Os,{className:"self-start mb-2",children:Ka[0].category}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:Ka[0].title}),r.jsx("p",{className:"text-slate-600 mb-4",children:Ka[0].excerpt}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ta,{className:"h-4 w-4"}),r.jsx("span",{children:Ka[0].author})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Sr,{className:"h-4 w-4"}),r.jsx("span",{children:ww(Ka[0].date)})]})]}),r.jsx(ut,{to:`/blog/${Ka[0].id}`,className:"mt-auto",children:r.jsxs(Re,{className:"gap-2",children:[r.jsx("span",{children:"Read Article"}),r.jsx(Eh,{className:"h-4 w-4"})]})})]})]})})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.slice(1).map(a=>r.jsxs(fs,{className:"overflow-hidden flex flex-col",children:[r.jsx("div",{className:"h-48",children:r.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})}),r.jsxs(ks,{className:"p-6 flex-1 flex flex-col",children:[r.jsx(Os,{className:"self-start mb-2",children:a.category}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:a.title}),r.jsx("p",{className:"text-slate-600 mb-4 line-clamp-3",children:a.excerpt}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ta,{className:"h-4 w-4"}),r.jsx("span",{children:a.author})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Sr,{className:"h-4 w-4"}),r.jsx("span",{children:ww(a.date)})]})]}),r.jsx(ut,{to:`/blog/${a.id}`,className:"mt-auto",children:r.jsxs(Re,{variant:"outline",className:"gap-2 w-full",children:[r.jsx("span",{children:"Read Article"}),r.jsx(Eh,{className:"h-4 w-4"})]})})]})]},a.id))}),i.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-xl font-medium mb-2",children:"No articles found"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Try adjusting your search query"}),r.jsx(Re,{onClick:()=>n(""),children:"Clear Search"})]})]})}),r.jsx(kr,{})]})}function xO(){const{user:e,signOut:t}=dn(),s=cn(),[n,i]=E.useState({emailNotifications:!0,pushNotifications:!0,messageNotifications:!0,matchNotifications:!0,likeNotifications:!0,language:"english",currency:"usd",distanceUnit:"km",showOnlineStatus:!0,showLastActive:!0,showProfile:!0}),[a,o]=E.useState(!1),l=h=>{i(m=>({...m,[h]:!m[h]}))},c=h=>{const{name:m,value:p}=h.target;i(x=>({...x,[m]:p}))},d=async()=>{await t(),s("/login")},u=()=>{console.log("Delete account"),o(!1),t(),s("/")};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[r.jsx(Xs,{}),r.jsx("main",{className:"flex-1 py-8",children:r.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx(Re,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>s(-1),children:r.jsx(Hv,{className:"h-5 w-5"})}),r.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(Wv,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Notifications"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),r.jsx(wn,{checked:n.emailNotifications,onCheckedChange:()=>l("emailNotifications")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications on your device"})]}),r.jsx(wn,{checked:n.pushNotifications,onCheckedChange:()=>l("pushNotifications")})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"font-medium mb-2",children:"Notification Types"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:"New messages"}),r.jsx(wn,{checked:n.messageNotifications,onCheckedChange:()=>l("messageNotifications")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:"New matches"}),r.jsx(wn,{checked:n.matchNotifications,onCheckedChange:()=>l("matchNotifications")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:"New likes"}),r.jsx(wn,{checked:n.likeNotifications,onCheckedChange:()=>l("likeNotifications")})]})]})]})]})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(xo,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Preferences"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Language"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred language"})]}),r.jsxs(ts,{name:"language",value:n.language,onChange:c,className:"w-40",children:[r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"russian",children:"Russian"}),r.jsx("option",{value:"ukrainian",children:"Ukrainian"}),r.jsx("option",{value:"kazakh",children:"Kazakh"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Currency"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred currency"})]}),r.jsxs(ts,{name:"currency",value:n.currency,onChange:c,className:"w-40",children:[r.jsx("option",{value:"usd",children:"USD ($)"}),r.jsx("option",{value:"eur",children:"EUR ()"}),r.jsx("option",{value:"gbp",children:"GBP ()"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Distance Unit"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select your preferred distance unit"})]}),r.jsxs(ts,{name:"distanceUnit",value:n.distanceUnit,onChange:c,className:"w-40",children:[r.jsx("option",{value:"km",children:"Kilometers"}),r.jsx("option",{value:"mi",children:"Miles"})]})]})]})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(gc,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Privacy"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show Online Status"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see when you're online"})]}),r.jsx(wn,{checked:n.showOnlineStatus,onCheckedChange:()=>l("showOnlineStatus")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show Last Active"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see when you were last active"})]}),r.jsx(wn,{checked:n.showLastActive,onCheckedChange:()=>l("showLastActive")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Show Profile"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Make your profile visible to others"})]}),r.jsx(wn,{checked:n.showProfile,onCheckedChange:()=>l("showProfile")})]})]})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(ac,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Payment Methods"})]}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Manage your payment methods and subscription"}),r.jsx(Re,{variant:"outline",children:"Manage Payment Methods"})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"bg-primary-100 h-10 w-10 rounded-full flex items-center justify-center",children:r.jsx(ms,{className:"h-5 w-5 text-primary-600"})}),r.jsx("h2",{className:"text-lg font-semibold",children:"Security"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Re,{variant:"outline",className:"w-full justify-start",children:"Change Password"}),r.jsx(Re,{variant:"outline",className:"w-full justify-start",children:"Two-Factor Authentication"})]})]})}),r.jsx(fs,{children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Account Actions"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Re,{variant:"outline",className:"w-full justify-start text-red-600 border-red-200 hover:bg-red-50",onClick:()=>o(!0),children:[r.jsx(Cd,{className:"h-5 w-5 mr-2"}),"Delete Account"]}),r.jsxs(Re,{variant:"outline",className:"w-full justify-start",onClick:d,children:[r.jsx(Gv,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})]})})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsx(fs,{className:"max-w-md w-full",children:r.jsxs(ks,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Delete Account"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx(Re,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),r.jsx(Re,{variant:"destructive",onClick:u,children:"Delete Account"})]})]})})})]})}),r.jsx(kr,{})]})}function Du({children:e}){const{user:t,loading:s}=dn(),[n,i]=E.useState(!0),[a,o]=E.useState(!1);return E.useEffect(()=>{const l=setTimeout(()=>{i(s)},500),c=setTimeout(()=>{s&&(console.warn(" [PROTECTED_ROUTE] Loading timeout reached, forcing render"),o(!0),i(!1))},1e4);return()=>{clearTimeout(l),clearTimeout(c)}},[s]),console.log(" [PROTECTED_ROUTE] State:",{user:!!t,loading:s,showLoading:n,timeoutReached:a}),n&&s&&!a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Loading..."})]})}):a&&s?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-500 mb-4",children:r.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Timeout"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The page is taking longer than expected to load."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Reload Page"})]})}):t?(console.log(" [PROTECTED_ROUTE] Rendering protected component for user:",t.email),r.jsx(r.Fragment,{children:e})):(console.log(" [PROTECTED_ROUTE] No user, redirecting to login"),r.jsx(AA,{to:"/login",replace:!0}))}function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}var nn=Uint8Array,ni=Uint16Array,q1=Int32Array,s0=new nn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r0=new nn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Py=new nn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),US=function(e,t){for(var s=new ni(31),n=0;n<31;++n)s[n]=t+=1<<e[n-1];for(var i=new q1(s[30]),n=1;n<30;++n)for(var a=s[n];a<s[n+1];++a)i[a]=a-s[n]<<5|n;return{b:s,r:i}},zS=US(s0,2),$S=zS.b,Ty=zS.r;$S[28]=258,Ty[258]=28;var VS=US(r0,0),yO=VS.b,$5=VS.r,Ly=new ni(32768);for(var Cs=0;Cs<32768;++Cs){var $o=(Cs&43690)>>1|(Cs&21845)<<1;$o=($o&52428)>>2|($o&13107)<<2,$o=($o&61680)>>4|($o&3855)<<4,Ly[Cs]=(($o&65280)>>8|($o&255)<<8)>>1}var Pa=function(e,t,s){for(var n=e.length,i=0,a=new ni(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new ni(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(s){l=new ni(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],h=o[e[i]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[Ly[h]>>c]=d}else for(l=new ni(n),i=0;i<n;++i)e[i]&&(l[i]=Ly[o[e[i]-1]++]>>15-e[i]);return l},bl=new nn(288);for(var Cs=0;Cs<144;++Cs)bl[Cs]=8;for(var Cs=144;Cs<256;++Cs)bl[Cs]=9;for(var Cs=256;Cs<280;++Cs)bl[Cs]=7;for(var Cs=280;Cs<288;++Cs)bl[Cs]=8;var $h=new nn(32);for(var Cs=0;Cs<32;++Cs)$h[Cs]=5;var vO=Pa(bl,9,0),bO=Pa(bl,9,1),wO=Pa($h,5,0),NO=Pa($h,5,1),Pg=function(e){for(var t=e[0],s=1;s<e.length;++s)e[s]>t&&(t=e[s]);return t},Yi=function(e,t,s){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&s},Tg=function(e,t){var s=t/8|0;return(e[s]|e[s+1]<<8|e[s+2]<<16)>>(t&7)},H1=function(e){return(e+7)/8|0},qS=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new nn(e.subarray(t,s))},jO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ea=function(e,t,s){var n=new Error(t||jO[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ea),!s)throw n;return n},SO=function(e,t,s,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return s||new nn(0);var o=!s,l=o||t.i!=2,c=t.i;o&&(s=new nn(i*3));var d=function(Ee){var ze=s.length;if(Ee>ze){var Be=new nn(Math.max(ze*2,Ee));Be.set(s),s=Be}},u=t.f||0,h=t.p||0,m=t.b||0,p=t.l,x=t.d,j=t.m,N=t.n,y=i*8;do{if(!p){u=Yi(e,h,1);var v=Yi(e,h+1,3);if(h+=3,v)if(v==1)p=bO,x=NO,j=9,N=5;else if(v==2){var C=Yi(e,h,31)+257,L=Yi(e,h+10,15)+4,T=C+Yi(e,h+5,31)+1;h+=14;for(var q=new nn(T),G=new nn(19),M=0;M<L;++M)G[Py[M]]=Yi(e,h+M*3,7);h+=L*3;for(var O=Pg(G),X=(1<<O)-1,K=Pa(G,O,1),M=0;M<T;){var de=K[Yi(e,h,X)];h+=de&15;var b=de>>4;if(b<16)q[M++]=b;else{var V=0,ne=0;for(b==16?(ne=3+Yi(e,h,3),h+=2,V=q[M-1]):b==17?(ne=3+Yi(e,h,7),h+=3):b==18&&(ne=11+Yi(e,h,127),h+=7);ne--;)q[M++]=V}}var z=q.subarray(0,C),Q=q.subarray(C);j=Pg(z),N=Pg(Q),p=Pa(z,j,1),x=Pa(Q,N,1)}else ea(1);else{var b=H1(h)+4,k=e[b-4]|e[b-3]<<8,_=b+k;if(_>i){c&&ea(0);break}l&&d(m+k),s.set(e.subarray(b,_),m),t.b=m+=k,t.p=h=_*8,t.f=u;continue}if(h>y){c&&ea(0);break}}l&&d(m+131072);for(var se=(1<<j)-1,ue=(1<<N)-1,I=h;;I=h){var V=p[Tg(e,h)&se],W=V>>4;if(h+=V&15,h>y){c&&ea(0);break}if(V||ea(2),W<256)s[m++]=W;else if(W==256){I=h,p=null;break}else{var Z=W-254;if(W>264){var M=W-257,te=s0[M];Z=Yi(e,h,(1<<te)-1)+$S[M],h+=te}var ae=x[Tg(e,h)&ue],ge=ae>>4;ae||ea(3),h+=ae&15;var Q=yO[ge];if(ge>3){var te=r0[ge];Q+=Tg(e,h)&(1<<te)-1,h+=te}if(h>y){c&&ea(0);break}l&&d(m+131072);var be=m+Z;if(m<Q){var oe=a-Q,_e=Math.min(Q,be);for(oe+m<0&&ea(3);m<_e;++m)s[m]=n[oe+m]}for(;m<be;++m)s[m]=s[m-Q]}}t.l=p,t.p=I,t.b=m,t.f=u,p&&(u=1,t.m=j,t.d=x,t.n=N)}while(!u);return m!=s.length&&o?qS(s,0,m):s.subarray(0,m)},Ya=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8},Ou=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8,e[n+2]|=s>>16},Lg=function(e,t){for(var s=[],n=0;n<e.length;++n)e[n]&&s.push({s:n,f:e[n]});var i=s.length,a=s.slice();if(!i)return{t:WS,l:0};if(i==1){var o=new nn(s[0].s+1);return o[s[0].s]=1,{t:o,l:1}}s.sort(function(_,C){return _.f-C.f}),s.push({s:-1,f:25001});var l=s[0],c=s[1],d=0,u=1,h=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=s[s[d].f<s[h].f?d++:h++],c=s[d!=u&&s[d].f<s[h].f?d++:h++],s[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var p=new ni(m+1),x=My(s[u-1],p,0);if(x>t){var n=0,j=0,N=x-t,y=1<<N;for(a.sort(function(C,L){return p[L.s]-p[C.s]||C.f-L.f});n<i;++n){var v=a[n].s;if(p[v]>t)j+=y-(1<<x-p[v]),p[v]=t;else break}for(j>>=N;j>0;){var b=a[n].s;p[b]<t?j-=1<<t-p[b]++-1:++n}for(;n>=0&&j;--n){var k=a[n].s;p[k]==t&&(--p[k],++j)}x=t}return{t:new nn(p),l:x}},My=function(e,t,s){return e.s==-1?Math.max(My(e.l,t,s+1),My(e.r,t,s+1)):t[e.s]=s},V5=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new ni(++t),n=0,i=e[0],a=1,o=function(c){s[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:s.subarray(0,n),n:t}},Fu=function(e,t){for(var s=0,n=0;n<t.length;++n)s+=e[n]*t[n];return s},HS=function(e,t,s){var n=s.length,i=H1(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=s[a];return(i+4+n)*8},q5=function(e,t,s,n,i,a,o,l,c,d,u){Ya(t,u++,s),++i[256];for(var h=Lg(i,15),m=h.t,p=h.l,x=Lg(a,15),j=x.t,N=x.l,y=V5(m),v=y.c,b=y.n,k=V5(j),_=k.c,C=k.n,L=new ni(19),T=0;T<v.length;++T)++L[v[T]&31];for(var T=0;T<_.length;++T)++L[_[T]&31];for(var q=Lg(L,7),G=q.t,M=q.l,O=19;O>4&&!G[Py[O-1]];--O);var X=d+5<<3,K=Fu(i,bl)+Fu(a,$h)+o,de=Fu(i,m)+Fu(a,j)+o+14+3*O+Fu(L,G)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&X<=K&&X<=de)return HS(t,u,e.subarray(c,c+d));var V,ne,z,Q;if(Ya(t,u,1+(de<K)),u+=2,de<K){V=Pa(m,p,0),ne=m,z=Pa(j,N,0),Q=j;var se=Pa(G,M,0);Ya(t,u,b-257),Ya(t,u+5,C-1),Ya(t,u+10,O-4),u+=14;for(var T=0;T<O;++T)Ya(t,u+3*T,G[Py[T]]);u+=3*O;for(var ue=[v,_],I=0;I<2;++I)for(var W=ue[I],T=0;T<W.length;++T){var Z=W[T]&31;Ya(t,u,se[Z]),u+=G[Z],Z>15&&(Ya(t,u,W[T]>>5&127),u+=W[T]>>12)}}else V=vO,ne=bl,z=wO,Q=$h;for(var T=0;T<l;++T){var te=n[T];if(te>255){var Z=te>>18&31;Ou(t,u,V[Z+257]),u+=ne[Z+257],Z>7&&(Ya(t,u,te>>23&31),u+=s0[Z]);var ae=te&31;Ou(t,u,z[ae]),u+=Q[ae],ae>3&&(Ou(t,u,te>>5&8191),u+=r0[ae])}else Ou(t,u,V[te]),u+=ne[te]}return Ou(t,u,V[256]),u+ne[256]},kO=new q1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),WS=new nn(0),CO=function(e,t,s,n,i,a){var o=a.z||e.length,l=new nn(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var h=kO[t-1],m=h>>13,p=h&8191,x=(1<<s)-1,j=a.p||new ni(32768),N=a.h||new ni(x+1),y=Math.ceil(s/3),v=2*y,b=function(Pe){return(e[Pe]^e[Pe+1]<<y^e[Pe+2]<<v)&x},k=new q1(25e3),_=new ni(288),C=new ni(32),L=0,T=0,q=a.i||0,G=0,M=a.w||0,O=0;q+2<o;++q){var X=b(q),K=q&32767,de=N[X];if(j[K]=de,N[X]=K,M<=q){var V=o-q;if((L>7e3||G>24576)&&(V>423||!d)){u=q5(e,c,0,k,_,C,T,G,O,q-O,u),G=L=T=0,O=q;for(var ne=0;ne<286;++ne)_[ne]=0;for(var ne=0;ne<30;++ne)C[ne]=0}var z=2,Q=0,se=p,ue=K-de&32767;if(V>2&&X==b(q-ue))for(var I=Math.min(m,V)-1,W=Math.min(32767,q),Z=Math.min(258,V);ue<=W&&--se&&K!=de;){if(e[q+z]==e[q+z-ue]){for(var te=0;te<Z&&e[q+te]==e[q+te-ue];++te);if(te>z){if(z=te,Q=ue,te>I)break;for(var ae=Math.min(ue,te-2),ge=0,ne=0;ne<ae;++ne){var be=q-ue+ne&32767,oe=j[be],_e=be-oe&32767;_e>ge&&(ge=_e,de=be)}}}K=de,de=j[K],ue+=K-de&32767}if(Q){k[G++]=268435456|Ty[z]<<18|$5[Q];var Ee=Ty[z]&31,ze=$5[Q]&31;T+=s0[Ee]+r0[ze],++_[257+Ee],++C[ze],M=q+z,++L}else k[G++]=e[q],++_[e[q]]}}for(q=Math.max(q,M);q<o;++q)k[G++]=e[q],++_[e[q]];u=q5(e,c,d,k,_,C,T,G,O,q-O,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=N,a.p=j,a.i=q,a.w=M)}else{for(var q=a.w||0;q<o+d;q+=65535){var Be=q+65535;Be>=o&&(c[u/8|0]=d,Be=o),u=HS(c,u+1,e.subarray(q,Be))}a.i=o}return qS(l,0,n+H1(u)+i)},GS=function(){var e=1,t=0;return{p:function(s){for(var n=e,i=t,a=s.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=s[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_O=function(e,t,s,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new nn(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return CO(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,n,i)},KS=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},AO=function(e,t){var s=t.level,n=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=GS();i.p(t.dictionary),KS(e,2,i.d())}},EO=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ea(6,"invalid zlib data"),(e[1]>>5&1)==1&&ea(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Iy(e,t){t||(t={});var s=GS();s.p(e);var n=_O(e,t,t.dictionary?6:2,4);return AO(n,t),KS(n,n.length-4,s.d()),n}function PO(e,t){return SO(e.subarray(EO(e),-4),{i:2},t,t)}var TO=typeof TextDecoder<"u"&&new TextDecoder,LO=0;try{TO.decode(WS,{stream:!0}),LO=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Mg(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var hs={log:Mg,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):Mg.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):Mg(e))}};function Ig(e,t,s){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Jl(n.response,t,s)},n.onerror=function(){hs.error("could not download file")},n.send()}function H5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function rm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var oh,Ry,Jl=jt.saveAs||((typeof window>"u"?"undefined":os(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var n=jt.URL||jt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?H5(i.href)?Ig(e,t,s):rm(i,i.target="_blank"):rm(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){rm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(H5(e))Ig(e,t,s);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){rm(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:os(a)!=="object"&&(hs.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,s),t)}:function(e,t,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Ig(e,t,s);var i=e.type==="application/octet-stream",a=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":os(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=jt.URL||jt.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function YS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<s.length;n++){var i=s[n].re,a=s[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rg(e,t){var s=e[0],n=e[1],i=e[2],a=e[3];s=Qr(s,n,i,a,t[0],7,-680876936),a=Qr(a,s,n,i,t[1],12,-389564586),i=Qr(i,a,s,n,t[2],17,606105819),n=Qr(n,i,a,s,t[3],22,-1044525330),s=Qr(s,n,i,a,t[4],7,-176418897),a=Qr(a,s,n,i,t[5],12,1200080426),i=Qr(i,a,s,n,t[6],17,-1473231341),n=Qr(n,i,a,s,t[7],22,-45705983),s=Qr(s,n,i,a,t[8],7,1770035416),a=Qr(a,s,n,i,t[9],12,-1958414417),i=Qr(i,a,s,n,t[10],17,-42063),n=Qr(n,i,a,s,t[11],22,-1990404162),s=Qr(s,n,i,a,t[12],7,1804603682),a=Qr(a,s,n,i,t[13],12,-40341101),i=Qr(i,a,s,n,t[14],17,-1502002290),s=Zr(s,n=Qr(n,i,a,s,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Zr(a,s,n,i,t[6],9,-1069501632),i=Zr(i,a,s,n,t[11],14,643717713),n=Zr(n,i,a,s,t[0],20,-373897302),s=Zr(s,n,i,a,t[5],5,-701558691),a=Zr(a,s,n,i,t[10],9,38016083),i=Zr(i,a,s,n,t[15],14,-660478335),n=Zr(n,i,a,s,t[4],20,-405537848),s=Zr(s,n,i,a,t[9],5,568446438),a=Zr(a,s,n,i,t[14],9,-1019803690),i=Zr(i,a,s,n,t[3],14,-187363961),n=Zr(n,i,a,s,t[8],20,1163531501),s=Zr(s,n,i,a,t[13],5,-1444681467),a=Zr(a,s,n,i,t[2],9,-51403784),i=Zr(i,a,s,n,t[7],14,1735328473),s=en(s,n=Zr(n,i,a,s,t[12],20,-1926607734),i,a,t[5],4,-378558),a=en(a,s,n,i,t[8],11,-2022574463),i=en(i,a,s,n,t[11],16,1839030562),n=en(n,i,a,s,t[14],23,-35309556),s=en(s,n,i,a,t[1],4,-1530992060),a=en(a,s,n,i,t[4],11,1272893353),i=en(i,a,s,n,t[7],16,-155497632),n=en(n,i,a,s,t[10],23,-1094730640),s=en(s,n,i,a,t[13],4,681279174),a=en(a,s,n,i,t[0],11,-358537222),i=en(i,a,s,n,t[3],16,-722521979),n=en(n,i,a,s,t[6],23,76029189),s=en(s,n,i,a,t[9],4,-640364487),a=en(a,s,n,i,t[12],11,-421815835),i=en(i,a,s,n,t[15],16,530742520),s=tn(s,n=en(n,i,a,s,t[2],23,-995338651),i,a,t[0],6,-198630844),a=tn(a,s,n,i,t[7],10,1126891415),i=tn(i,a,s,n,t[14],15,-1416354905),n=tn(n,i,a,s,t[5],21,-57434055),s=tn(s,n,i,a,t[12],6,1700485571),a=tn(a,s,n,i,t[3],10,-1894986606),i=tn(i,a,s,n,t[10],15,-1051523),n=tn(n,i,a,s,t[1],21,-2054922799),s=tn(s,n,i,a,t[8],6,1873313359),a=tn(a,s,n,i,t[15],10,-30611744),i=tn(i,a,s,n,t[6],15,-1560198380),n=tn(n,i,a,s,t[13],21,1309151649),s=tn(s,n,i,a,t[4],6,-145523070),a=tn(a,s,n,i,t[11],10,-1120210379),i=tn(i,a,s,n,t[2],15,718787259),n=tn(n,i,a,s,t[9],21,-343485551),e[0]=sl(s,e[0]),e[1]=sl(n,e[1]),e[2]=sl(i,e[2]),e[3]=sl(a,e[3])}function n0(e,t,s,n,i,a){return t=sl(sl(t,e),sl(n,a)),sl(t<<i|t>>>32-i,s)}function Qr(e,t,s,n,i,a,o){return n0(t&s|~t&n,e,t,i,a,o)}function Zr(e,t,s,n,i,a,o){return n0(t&n|s&~n,e,t,i,a,o)}function en(e,t,s,n,i,a,o){return n0(t^s^n,e,t,i,a,o)}function tn(e,t,s,n,i,a,o){return n0(s^(t|~n),e,t,i,a,o)}function JS(e){var t,s=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Rg(n,MO(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Rg(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*s,Rg(n,i),n}function MO(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}oh=jt.atob.bind(jt),Ry=jt.btoa.bind(jt);var W5="0123456789abcdef".split("");function IO(e){for(var t="",s=0;s<4;s++)t+=W5[e>>8*s+4&15]+W5[e>>8*s&15];return t}function RO(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Dy(e){return JS(e).map(RO).join("")}var DO=function(e){for(var t=0;t<e.length;t++)e[t]=IO(e[t]);return e.join("")}(JS("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(e,t){if(DO){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Oy(e,t){var s,n,i,a;if(e!==s){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}s=e,n=l}else l=n;var h=t.length,m=0,p=0,x="";for(c=0;c<h;c++)p=(p+(u=l[m=(m+1)%256]))%256,l[m]=l[p],l[p]=u,o=l[(l[m]+l[p])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G5={print:4,modify:8,copy:16,"annot-forms":32};function Yc(e,t,s,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(G5.perm!==void 0)throw new Error("Invalid permission: "+l);i+=G5[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Dy(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Oy(this.encryptionKey,this.padding)}function Jc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,n=0;n<s;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function K5(e){if(os(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,n,i){if(i=i||!1,typeof s!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var a=Math.random().toString(35);return t[s][a]=[n,!!i],a},this.unsubscribe=function(s){for(var n in t)if(t[n][s])return delete t[n][s],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[s]){var o=t[s][a];try{o[0].apply(e,n)}catch(l){jt.console&&hs.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function vp(e){if(!(this instanceof vp))return new vp(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function XS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ql(e,t,s,n,i){if(!(this instanceof Ql))return new Ql(e,t,s,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,XS.call(this,n,i)}function gd(e,t,s,n,i){if(!(this instanceof gd))return new gd(e,t,s,n,i);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,XS.call(this,n,i)}function wt(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;os(e=e||{})==="object"&&(s=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",s=(""+(s||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=K5;var x="1.3",j=p.__private__.getPdfVersion=function(){return x};p.__private__.setPdfVersion=function(w){x=w};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var y=p.__private__.getPageFormat=function(w){return N[w]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},b=v.COMPAT;function k(){this.saveGraphicsState(),Y(new mt(Ze,0,0,-Ze,0,Co()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),d="n",b=v.ADVANCED}function _(){this.restoreGraphicsState(),d="S",b=v.COMPAT}var C=p.__private__.combineFontStyleAndFontWeight=function(w,D){if(w=="bold"&&D=="normal"||w=="bold"&&D==400||w=="normal"&&D=="italic"||w=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(w=D==400||D==="normal"?w==="italic"?"italic":"normal":D!=700&&D!=="bold"||w!=="normal"?(D==700?"bold":D)+""+w:"bold"),w};p.advancedAPI=function(w){var D=b===v.COMPAT;return D&&k.call(this),typeof w!="function"||(w(this),D&&_.call(this)),this},p.compatAPI=function(w){var D=b===v.ADVANCED;return D&&_.call(this),typeof w!="function"||(w(this),D&&k.call(this)),this},p.isAdvancedAPI=function(){return b===v.ADVANCED};var L,T=function(w){if(b!==v.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=p.roundToPrecision=p.__private__.roundToPrecision=function(w,D){var ee=t||D;if(isNaN(w)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ee).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof c=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,c)}:c==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return q(w,16)};var G=p.f2=p.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return q(w,2)},M=p.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return q(w,3)},O=p.scale=p.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return b===v.COMPAT?w*Ze:b===v.ADVANCED?w:void 0},X=function(w){return b===v.COMPAT?Co()-w:b===v.ADVANCED?w:void 0},K=function(w){return O(X(w))};p.__private__.setPrecision=p.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var de,V="00000000000000000000000000000000",ne=p.__private__.getFileId=function(){return V},z=p.__private__.setFileId=function(w){return V=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Mt=new Yc(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};p.setFileId=function(w){return z(w),this},p.getFileId=function(){return ne()};var Q=p.__private__.convertDateToPDFDate=function(w){var D=w.getTimezoneOffset(),ee=D<0?"+":"-",ie=Math.floor(Math.abs(D/60)),ve=Math.abs(D%60),Ce=[ee,Z(ie),"'",Z(ve),"'"].join("");return["D:",w.getFullYear(),Z(w.getMonth()+1),Z(w.getDate()),Z(w.getHours()),Z(w.getMinutes()),Z(w.getSeconds()),Ce].join("")},se=p.__private__.convertPDFDateToDate=function(w){var D=parseInt(w.substr(2,4),10),ee=parseInt(w.substr(6,2),10)-1,ie=parseInt(w.substr(8,2),10),ve=parseInt(w.substr(10,2),10),Ce=parseInt(w.substr(12,2),10),$e=parseInt(w.substr(14,2),10);return new Date(D,ee,ie,ve,Ce,$e,0)},ue=p.__private__.setCreationDate=function(w){var D;if(w===void 0&&(w=new Date),w instanceof Date)D=Q(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=w}return de=D},I=p.__private__.getCreationDate=function(w){var D=de;return w==="jsDate"&&(D=se(de)),D};p.setCreationDate=function(w){return ue(w),this},p.getCreationDate=function(w){return I(w)};var W,Z=p.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},te=p.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ae=0,ge=[],be=[],oe=0,_e=[],Ee=[],ze=!1,Be=be,Pe=function(){ae=0,oe=0,be=[],ge=[],_e=[],Wn=ns(),fn=ns()};p.__private__.setCustomOutputDestination=function(w){ze=!0,Be=w};var he=function(w){ze||(Be=w)};p.__private__.resetCustomOutputDestination=function(){ze=!1,Be=be};var Y=p.__private__.out=function(w){return w=w.toString(),oe+=w.length+1,Be.push(w),Be},Je=p.__private__.write=function(w){return Y(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},We=p.__private__.getArrayBuffer=function(w){for(var D=w.length,ee=new ArrayBuffer(D),ie=new Uint8Array(ee);D--;)ie[D]=w.charCodeAt(D);return ee},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ie};var Ke=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(w){return Ke=b===v.ADVANCED?w/Ze:w,this};var Qe,Ye=p.__private__.getFontSize=p.getFontSize=function(){return b===v.COMPAT?Ke:Ke*Ze},st=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(w){return st=w,this},p.__private__.getR2L=p.getR2L=function(){return st};var pt,ht=p.__private__.setZoomMode=function(w){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))Qe=w;else if(isNaN(w)){if(D.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');Qe=w}else Qe=parseInt(w,10)};p.__private__.getZoomMode=function(){return Qe};var ft,at=p.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');pt=w};p.__private__.getPageMode=function(){return pt};var bt=p.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');ft=w};p.__private__.getLayoutMode=function(){return ft},p.__private__.setDisplayMode=p.setDisplayMode=function(w,D,ee){return ht(w),bt(D),at(ee),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(w){if(Object.keys(xt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[w]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(w){for(var D in xt)xt.hasOwnProperty(D)&&w[D]&&(xt[D]=w[D]);return this},p.__private__.setDocumentProperty=function(w,D){if(Object.keys(xt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[w]=D};var At,Ze,As,Ft,Hr,Et={},Gt={},Wr=[],zt={},Es={},_t={},cr={},Ir=null,cs=0,Nt=[],vt=new K5(p),un=e.hotfixes||[],qs={},Ps={},Qs=[],mt=function w(D,ee,ie,ve,Ce,$e){if(!(this instanceof w))return new w(D,ee,ie,ve,Ce,$e);isNaN(D)&&(D=1),isNaN(ee)&&(ee=0),isNaN(ie)&&(ie=0),isNaN(ve)&&(ve=1),isNaN(Ce)&&(Ce=0),isNaN($e)&&($e=0),this._matrix=[D,ee,ie,ve,Ce,$e]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(w)},mt.prototype.multiply=function(w){var D=w.sx*this.sx+w.shy*this.shx,ee=w.sx*this.shy+w.shy*this.sy,ie=w.shx*this.sx+w.sy*this.shx,ve=w.shx*this.shy+w.sy*this.sy,Ce=w.tx*this.sx+w.ty*this.shx+this.tx,$e=w.tx*this.shy+w.ty*this.sy+this.ty;return new mt(D,ee,ie,ve,Ce,$e)},mt.prototype.decompose=function(){var w=this.sx,D=this.shy,ee=this.shx,ie=this.sy,ve=this.tx,Ce=this.ty,$e=Math.sqrt(w*w+D*D),rt=(w/=$e)*ee+(D/=$e)*ie;ee-=w*rt,ie-=D*rt;var gt=Math.sqrt(ee*ee+ie*ie);return rt/=gt,w*(ie/=gt)<D*(ee/=gt)&&(w=-w,D=-D,rt=-rt,$e=-$e),{scale:new mt($e,0,0,gt,0,0),translate:new mt(1,0,0,1,ve,Ce),rotate:new mt(w,D,-D,w,0,0),skew:new mt(1,0,rt,1,0,0)}},mt.prototype.toString=function(w){return this.join(" ")},mt.prototype.inversed=function(){var w=this.sx,D=this.shy,ee=this.shx,ie=this.sy,ve=this.tx,Ce=this.ty,$e=1/(w*ie-D*ee),rt=ie*$e,gt=-D*$e,It=-ee*$e,Tt=w*$e;return new mt(rt,gt,It,Tt,-rt*ve-It*Ce,-gt*ve-Tt*Ce)},mt.prototype.applyToPoint=function(w){var D=w.x*this.sx+w.y*this.shx+this.tx,ee=w.x*this.shy+w.y*this.sy+this.ty;return new St(D,ee)},mt.prototype.applyToRectangle=function(w){var D=this.applyToPoint(w),ee=this.applyToPoint(new St(w.x+w.w,w.y+w.h));return new mi(D.x,D.y,ee.x-D.x,ee.y-D.y)},mt.prototype.clone=function(){var w=this.sx,D=this.shy,ee=this.shx,ie=this.sy,ve=this.tx,Ce=this.ty;return new mt(w,D,ee,ie,ve,Ce)},p.Matrix=mt;var rs=p.matrixMult=function(w,D){return D.multiply(w)},hn=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=hn;var dr=function(w,D){if(!Es[w]){var ee=(D instanceof Ql?"Sh":"P")+(Object.keys(zt).length+1).toString(10);D.id=ee,Es[w]=ee,zt[ee]=D,vt.publish("addPattern",D)}};p.ShadingPattern=Ql,p.TilingPattern=gd,p.addShadingPattern=function(w,D){return T("addShadingPattern()"),dr(w,D),this},p.beginTilingPattern=function(w){T("beginTilingPattern()"),Dl(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},p.endTilingPattern=function(w,D){T("endTilingPattern()"),D.stream=Ee[W].join(`
`),dr(w,D),vt.publish("endTilingPattern",D),Qs.pop().restore()};var ps=p.__private__.newObject=function(){var w=ns();return ot(w,!0),w},ns=p.__private__.newObjectDeferred=function(){return ae++,ge[ae]=function(){return oe},ae},ot=function(w,D){return D=typeof D=="boolean"&&D,ge[w]=oe,D&&Y(w+" 0 obj"),w},ha=p.__private__.newAdditionalObject=function(){var w={objId:ns(),content:""};return _e.push(w),w},Wn=ns(),fn=ns(),Gr=p.__private__.decodeColorString=function(w){var D=w.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ee=parseFloat(D[0]);D=[ee,ee,ee,"r"]}for(var ie="#",ve=0;ve<3;ve++)ie+=("0"+Math.floor(255*parseFloat(D[ve])).toString(16)).slice(-2);return ie},mn=p.__private__.encodeColorString=function(w){var D;typeof w=="string"&&(w={ch1:w});var ee=w.ch1,ie=w.ch2,ve=w.ch3,Ce=w.ch4,$e=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var rt=new YS(ee);if(rt.ok)ee=rt.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var gt=parseInt(ee.substr(1),16);ee=gt>>16&255,ie=gt>>8&255,ve=255&gt}if(ie===void 0||Ce===void 0&&ee===ie&&ie===ve)if(typeof ee=="string")D=ee+" "+$e[0];else switch(w.precision){case 2:D=G(ee/255)+" "+$e[0];break;case 3:default:D=M(ee/255)+" "+$e[0]}else if(Ce===void 0||os(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return D=["1.","1.","1.",$e[1]].join(" ");if(typeof ee=="string")D=[ee,ie,ve,$e[1]].join(" ");else switch(w.precision){case 2:D=[G(ee/255),G(ie/255),G(ve/255),$e[1]].join(" ");break;default:case 3:D=[M(ee/255),M(ie/255),M(ve/255),$e[1]].join(" ")}}else if(typeof ee=="string")D=[ee,ie,ve,Ce,$e[2]].join(" ");else switch(w.precision){case 2:D=[G(ee),G(ie),G(ve),G(Ce),$e[2]].join(" ");break;case 3:default:D=[M(ee),M(ie),M(ve),M(Ce),$e[2]].join(" ")}return D},_n=p.__private__.getFilters=function(){return o},ur=p.__private__.putStream=function(w){var D=(w=w||{}).data||"",ee=w.filters||_n(),ie=w.alreadyAppliedFilters||[],ve=w.addLength1||!1,Ce=D.length,$e=w.objectId,rt=function(Yr){return Yr};if(u!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(rt=Mt.encryptor($e,0));var gt={};ee===!0&&(ee=["FlateEncode"]);var It=w.additionalKeyValues||[],Tt=(gt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(D,ee):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(gt.data.length!==0&&(It.push({key:"Length",value:gt.data.length}),ve===!0&&It.push({key:"Length1",value:Ce})),Tt.length!=0)if(Tt.split("/").length-1==1)It.push({key:"Filter",value:Tt});else{It.push({key:"Filter",value:"["+Tt+"]"});for(var Kt=0;Kt<It.length;Kt+=1)if(It[Kt].key==="DecodeParms"){for(var Is=[],Hs=0;Hs<gt.reverseChain.split("/").length-1;Hs+=1)Is.push("null");Is.push(It[Kt].value),It[Kt].value="["+Is.join(" ")+"]"}}Y("<<");for(var mr=0;mr<It.length;mr++)Y("/"+It[mr].key+" "+It[mr].value);Y(">>"),gt.data.length!==0&&(Y("stream"),Y(rt(gt.data)),Y("endstream"))},An=p.__private__.putPage=function(w){var D=w.number,ee=w.data,ie=w.objId,ve=w.contentsObjId;ot(ie,!0),Y("<</Type /Page"),Y("/Parent "+w.rootDictionaryObjId+" 0 R"),Y("/Resources "+w.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(L(w.mediaBox.bottomLeftX))+" "+parseFloat(L(w.mediaBox.bottomLeftY))+" "+L(w.mediaBox.topRightX)+" "+L(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&Y("/CropBox ["+L(w.cropBox.bottomLeftX)+" "+L(w.cropBox.bottomLeftY)+" "+L(w.cropBox.topRightX)+" "+L(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&Y("/BleedBox ["+L(w.bleedBox.bottomLeftX)+" "+L(w.bleedBox.bottomLeftY)+" "+L(w.bleedBox.topRightX)+" "+L(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&Y("/TrimBox ["+L(w.trimBox.bottomLeftX)+" "+L(w.trimBox.bottomLeftY)+" "+L(w.trimBox.topRightX)+" "+L(w.trimBox.topRightY)+"]"),w.artBox!==null&&Y("/ArtBox ["+L(w.artBox.bottomLeftX)+" "+L(w.artBox.bottomLeftY)+" "+L(w.artBox.topRightX)+" "+L(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&Y("/UserUnit "+w.userUnit),vt.publish("putPage",{objId:ie,pageContext:Nt[D],pageNumber:D,page:ee}),Y("/Contents "+ve+" 0 R"),Y(">>"),Y("endobj");var Ce=ee.join(`
`);return b===v.ADVANCED&&(Ce+=`
Q`),ot(ve,!0),ur({data:Ce,filters:_n(),objectId:ve}),Y("endobj"),ie},Di=p.__private__.putPages=function(){var w,D,ee=[];for(w=1;w<=cs;w++)Nt[w].objId=ns(),Nt[w].contentsObjId=ns();for(w=1;w<=cs;w++)ee.push(An({number:w,data:Ee[w],objId:Nt[w].objId,contentsObjId:Nt[w].contentsObjId,mediaBox:Nt[w].mediaBox,cropBox:Nt[w].cropBox,bleedBox:Nt[w].bleedBox,trimBox:Nt[w].trimBox,artBox:Nt[w].artBox,userUnit:Nt[w].userUnit,rootDictionaryObjId:Wn,resourceDictionaryObjId:fn}));ot(Wn,!0),Y("<</Type /Pages");var ie="/Kids [";for(D=0;D<cs;D++)ie+=ee[D]+" 0 R ";Y(ie+"]"),Y("/Count "+cs),Y(">>"),Y("endobj"),vt.publish("postPutPages")},Oi=function(w){vt.publish("putFont",{font:w,out:Y,newObject:ps,putStream:ur}),w.isAlreadyPutted!==!0&&(w.objectNumber=ps(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Jc(w.postScriptName)),Y("/Subtype /Type1"),typeof w.encoding=="string"&&Y("/Encoding /"+w.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},En=function(){for(var w in Et)Et.hasOwnProperty(w)&&(h===!1||h===!0&&m.hasOwnProperty(w))&&Oi(Et[w])},Fi=function(w){w.objectNumber=ps();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[L(w.x),L(w.y),L(w.x+w.width),L(w.y+w.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ee=w.pages[1].join(`
`);ur({data:ee,additionalKeyValues:D,objectId:w.objectNumber}),Y("endobj")},di=function(){for(var w in qs)qs.hasOwnProperty(w)&&Fi(qs[w])},pn=function(w,D){var ee,ie=[],ve=1/(D-1);for(ee=0;ee<1;ee+=ve)ie.push(ee);if(ie.push(1),w[0].offset!=0){var Ce={offset:0,color:w[0].color};w.unshift(Ce)}if(w[w.length-1].offset!=1){var $e={offset:1,color:w[w.length-1].color};w.push($e)}for(var rt="",gt=0,It=0;It<ie.length;It++){for(ee=ie[It];ee>w[gt+1].offset;)gt++;var Tt=w[gt].offset,Kt=(ee-Tt)/(w[gt+1].offset-Tt),Is=w[gt].color,Hs=w[gt+1].color;rt+=te(Math.round((1-Kt)*Is[0]+Kt*Hs[0]).toString(16))+te(Math.round((1-Kt)*Is[1]+Kt*Hs[1]).toString(16))+te(Math.round((1-Kt)*Is[2]+Kt*Hs[2]).toString(16))}return rt.trim()},yo=function(w,D){D||(D=21);var ee=ps(),ie=pn(w.colors,D),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+D+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ur({data:ie,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),Y("endobj"),w.objectNumber=ps(),Y("<< /ShadingType "+w.type),Y("/ColorSpace /DeviceRGB");var Ce="/Coords ["+L(parseFloat(w.coords[0]))+" "+L(parseFloat(w.coords[1]))+" ";w.type===2?Ce+=L(parseFloat(w.coords[2]))+" "+L(parseFloat(w.coords[3])):Ce+=L(parseFloat(w.coords[2]))+" "+L(parseFloat(w.coords[3]))+" "+L(parseFloat(w.coords[4]))+" "+L(parseFloat(w.coords[5])),Y(Ce+="]"),w.matrix&&Y("/Matrix ["+w.matrix.toString()+"]"),Y("/Function "+ee+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Pl=function(w,D){var ee=ns(),ie=ps();D.push({resourcesOid:ee,objectOid:ie}),w.objectNumber=ie;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+w.boundingBox.map(L).join(" ")+"]"}),ve.push({key:"XStep",value:L(w.xStep)}),ve.push({key:"YStep",value:L(w.yStep)}),ve.push({key:"Resources",value:ee+" 0 R"}),w.matrix&&ve.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),ur({data:w.stream,additionalKeyValues:ve,objectId:w.objectNumber}),Y("endobj")},Gn=function(w){var D;for(D in zt)zt.hasOwnProperty(D)&&(zt[D]instanceof Ql?yo(zt[D]):zt[D]instanceof gd&&Pl(zt[D],w))},Bi=function(w){for(var D in w.objectNumber=ps(),Y("<<"),w)switch(D){case"opacity":Y("/ca "+G(w[D]));break;case"stroke-opacity":Y("/CA "+G(w[D]))}Y(">>"),Y("endobj")},Tl=function(){var w;for(w in _t)_t.hasOwnProperty(w)&&Bi(_t[w])},Ui=function(){for(var w in Y("/XObject <<"),qs)qs.hasOwnProperty(w)&&qs[w].objectNumber>=0&&Y("/"+w+" "+qs[w].objectNumber+" 0 R");vt.publish("putXobjectDict"),Y(">>")},Ll=function(){Mt.oid=ps(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Mt.v),Y("/R "+Mt.r),Y("/U <"+Mt.toHexString(Mt.U)+">"),Y("/O <"+Mt.toHexString(Mt.O)+">"),Y("/P "+Mt.P),Y(">>"),Y("endobj")},vo=function(){for(var w in Y("/Font <<"),Et)Et.hasOwnProperty(w)&&(h===!1||h===!0&&m.hasOwnProperty(w))&&Y("/"+w+" "+Et[w].objectNumber+" 0 R");Y(">>")},Ml=function(){if(Object.keys(zt).length>0){for(var w in Y("/Shading <<"),zt)zt.hasOwnProperty(w)&&zt[w]instanceof Ql&&zt[w].objectNumber>=0&&Y("/"+w+" "+zt[w].objectNumber+" 0 R");vt.publish("putShadingPatternDict"),Y(">>")}},zi=function(w){if(Object.keys(zt).length>0){for(var D in Y("/Pattern <<"),zt)zt.hasOwnProperty(D)&&zt[D]instanceof p.TilingPattern&&zt[D].objectNumber>=0&&zt[D].objectNumber<w&&Y("/"+D+" "+zt[D].objectNumber+" 0 R");vt.publish("putTilingPatternDict"),Y(">>")}},Il=function(){if(Object.keys(_t).length>0){var w;for(w in Y("/ExtGState <<"),_t)_t.hasOwnProperty(w)&&_t[w].objectNumber>=0&&Y("/"+w+" "+_t[w].objectNumber+" 0 R");vt.publish("putGStateDict"),Y(">>")}},gs=function(w){ot(w.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),vo(),Ml(),zi(w.objectOid),Il(),Ui(),Y(">>"),Y("endobj")},$i=function(){var w=[];En(),Tl(),di(),Gn(w),vt.publish("putResources"),w.forEach(gs),gs({resourcesOid:fn,objectOid:Number.MAX_SAFE_INTEGER}),vt.publish("postPutResources")},bo=function(){vt.publish("putAdditionalObjects");for(var w=0;w<_e.length;w++){var D=_e[w];ot(D.objId,!0),Y(D.content),Y("endobj")}vt.publish("postPutAdditionalObjects")},Ia=function(w){Gt[w.fontName]=Gt[w.fontName]||{},Gt[w.fontName][w.fontStyle]=w.id},fa=function(w,D,ee,ie,ve){var Ce={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:w,fontName:D,fontStyle:ee,encoding:ie,isStandardFont:ve||!1,metadata:{}};return vt.publish("addFont",{font:Ce,instance:this}),Et[Ce.id]=Ce,Ia(Ce),Ce.id},Ra=function(w){for(var D=0,ee=Ie.length;D<ee;D++){var ie=fa.call(this,w[D][0],w[D][1],w[D][2],Ie[D][3],!0);h===!1&&(m[ie]=!0);var ve=w[D][0].split("-");Ia({id:ie,fontName:ve[0],fontStyle:ve[1]||""})}vt.publish("addFonts",{fonts:Et,dictionary:Gt})},Kr=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ie){var D=ie.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ee="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ie.message;if(!jt.console)throw new Error(ee);jt.console.error(ee,ie),jt.alert&&alert(ee)}},w.foo.bar=w,w.foo},P=function(w,D){var ee,ie,ve,Ce,$e,rt,gt,It,Tt;if(ve=(D=D||{}).sourceEncoding||"Unicode",$e=D.outputEncoding,(D.autoencode||$e)&&Et[At].metadata&&Et[At].metadata[ve]&&Et[At].metadata[ve].encoding&&(Ce=Et[At].metadata[ve].encoding,!$e&&Et[At].encoding&&($e=Et[At].encoding),!$e&&Ce.codePages&&($e=Ce.codePages[0]),typeof $e=="string"&&($e=Ce[$e]),$e)){for(gt=!1,rt=[],ee=0,ie=w.length;ee<ie;ee++)(It=$e[w.charCodeAt(ee)])?rt.push(String.fromCharCode(It)):rt.push(w[ee]),rt[ee].charCodeAt(0)>>8&&(gt=!0);w=rt.join("")}for(ee=w.length;gt===void 0&&ee!==0;)w.charCodeAt(ee-1)>>8&&(gt=!0),ee--;if(!gt)return w;for(rt=D.noBOM?[]:[254,255],ee=0,ie=w.length;ee<ie;ee++){if((Tt=(It=w.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(Tt),rt.push(It-(Tt<<8))}return String.fromCharCode.apply(void 0,rt)},re=p.__private__.pdfEscape=p.pdfEscape=function(w,D){return P(w,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ae=p.__private__.beginPage=function(w){Ee[++cs]=[],Nt[cs]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},xe(cs),he(Ee[W])},De=function(w,D){var ee,ie,ve;switch(s=D||s,typeof w=="string"&&(ee=y(w.toLowerCase()),Array.isArray(ee)&&(ie=ee[0],ve=ee[1])),Array.isArray(w)&&(ie=w[0]*Ze,ve=w[1]*Ze),isNaN(ie)&&(ie=i[0],ve=i[1]),(ie>14400||ve>14400)&&(hs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),ve=Math.min(14400,ve)),i=[ie,ve],s.substr(0,1)){case"l":ve>ie&&(i=[ve,ie]);break;case"p":ie>ve&&(i=[ve,ie])}Ae(i),hi(fr),Y(Cr),ko!==0&&Y(ko+" J"),Se!==0&&Y(Se+" j"),vt.publish("addPage",{pageNumber:cs})},B=function(w){w>0&&w<=cs&&(Ee.splice(w,1),Nt.splice(w,1),cs--,W>cs&&(W=cs),this.setPage(W))},xe=function(w){w>0&&w<=cs&&(W=w)},je=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},ye=function(w,D,ee){var ie,ve=void 0;return ee=ee||{},w=w!==void 0?w:Et[At].fontName,D=D!==void 0?D:Et[At].fontStyle,ie=w.toLowerCase(),Gt[ie]!==void 0&&Gt[ie][D]!==void 0?ve=Gt[ie][D]:Gt[w]!==void 0&&Gt[w][D]!==void 0?ve=Gt[w][D]:ee.disableWarning===!1&&hs.warn("Unable to look up font label for font '"+w+"', '"+D+"'. Refer to getFontList() for available fonts."),ve||ee.noFallback||(ve=Gt.times[D])==null&&(ve=Gt.times.normal),ve},me=p.__private__.putInfo=function(){var w=ps(),D=function(ie){return ie};for(var ee in u!==null&&(D=Mt.encryptor(w,0)),Y("<<"),Y("/Producer ("+re(D("jsPDF "+wt.version))+")"),xt)xt.hasOwnProperty(ee)&&xt[ee]&&Y("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+re(D(xt[ee]))+")");Y("/CreationDate ("+re(D(de))+")"),Y(">>"),Y("endobj")},He=p.__private__.putCatalog=function(w){var D=(w=w||{}).rootDictionaryObjId||Wn;switch(ps(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+D+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+Qe;ee.substr(ee.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+G(Qe)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}pt&&Y("/PageMode /"+pt),vt.publish("putCatalog"),Y(">>"),Y("endobj")},qe=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ae+1)),Y("/Root "+ae+" 0 R"),Y("/Info "+(ae-1)+" 0 R"),u!==null&&Y("/Encrypt "+Mt.oid+" 0 R"),Y("/ID [ <"+V+"> <"+V+"> ]"),Y(">>")},et=p.__private__.putHeader=function(){Y("%PDF-"+x),Y("%")},Pt=p.__private__.putXRef=function(){var w="0000000000";Y("xref"),Y("0 "+(ae+1)),Y("0000000000 65535 f ");for(var D=1;D<=ae;D++)typeof ge[D]=="function"?Y((w+ge[D]()).slice(-10)+" 00000 n "):ge[D]!==void 0?Y((w+ge[D]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ct=p.__private__.buildDocument=function(){Pe(),he(be),vt.publish("buildDocument"),et(),Di(),bo(),$i(),u!==null&&Ll(),me(),He();var w=oe;return Pt(),qe(),Y("startxref"),Y(""+w),Y("%%EOF"),he(Ee[W]),be.join(`
`)},Ct=p.__private__.getBlob=function(w){return new Blob([We(w)],{type:"application/pdf"})},Ut=p.output=p.__private__.output=Kr(function(w,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",w){case void 0:return ct();case"save":p.save(D.filename);break;case"arraybuffer":return We(ct());case"blob":return Ct(ct());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(Ct(ct()))||void 0;hs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ie=ct();try{ee=Ry(ie)}catch{ee=Ry(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+D.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(ve=D.pdfObjectUrl,Ce="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",rt=jt.open();return rt!==null&&rt.document.write($e),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',It=jt.open();if(It!==null){It.document.write(gt);var Tt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=D.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Is=jt.open();if(Is!==null&&(Is.document.write(Kt),Is.document.title=D.filename),Is||typeof safari>"u")return Is;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",D);default:return null}}),Yt=function(w){return Array.isArray(un)===!0&&un.indexOf(w)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=Yt("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var Mt=null;ue(),z();var Rr=function(w){return u!==null?Mt.encryptor(w,0):function(D){return D}},hr=p.__private__.getPageInfo=p.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[w].objId,pageNumber:w,pageContext:Nt[w]}},it=p.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in Nt)if(Nt[D].objId===w)break;return hr(D)},Wt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Nt[W].objId,pageNumber:W,pageContext:Nt[W]}};p.addPage=function(){return De.apply(this,arguments),this},p.setPage=function(){return xe.apply(this,arguments),he.call(this,Ee[W]),this},p.insertPage=function(w){return this.addPage(),this.movePage(W,w),this},p.movePage=function(w,D){var ee,ie;if(w>D){ee=Ee[w],ie=Nt[w];for(var ve=w;ve>D;ve--)Ee[ve]=Ee[ve-1],Nt[ve]=Nt[ve-1];Ee[D]=ee,Nt[D]=ie,this.setPage(D)}else if(w<D){ee=Ee[w],ie=Nt[w];for(var Ce=w;Ce<D;Ce++)Ee[Ce]=Ee[Ce+1],Nt[Ce]=Nt[Ce+1];Ee[D]=ee,Nt[D]=ie,this.setPage(D)}return this},p.deletePage=function(){return B.apply(this,arguments),this},p.__private__.text=p.text=function(w,D,ee,ie,ve){var Ce,$e,rt,gt,It,Tt,Kt,Is,Hs,mr=(ie=ie||{}).scope||this;if(typeof w=="number"&&typeof D=="number"&&(typeof ee=="string"||Array.isArray(ee))){var Yr=ee;ee=D,D=w,w=Yr}if(arguments[3]instanceof mt?(T("The transform parameter of text() with a Matrix value"),Hs=ve):(rt=arguments[4],gt=arguments[5],os(Kt=arguments[3])==="object"&&Kt!==null||(typeof rt=="string"&&(gt=rt,rt=null),typeof Kt=="string"&&(gt=Kt,Kt=null),typeof Kt=="number"&&(rt=Kt,Kt=null),ie={flags:Kt,angle:rt,align:gt})),isNaN(D)||isNaN(ee)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return mr;var _r="",Hi=!1,Xn=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:Kn,ya=mr.internal.scaleFactor;function lf(xs){return xs=xs.split("	").join(Array(ie.TabLen||9).join(" ")),re(xs,Kt)}function lu(xs){for(var ys,er=xs.concat(),br=[],$a=er.length;$a--;)typeof(ys=er.shift())=="string"?br.push(ys):Array.isArray(xs)&&(ys.length===1||ys[1]===void 0&&ys[2]===void 0)?br.push(ys[0]):br.push([ys[0],ys[1],ys[2]]);return br}function cu(xs,ys){var er;if(typeof xs=="string")er=ys(xs)[0];else if(Array.isArray(xs)){for(var br,$a,xu=xs.concat(),Ic=[],ff=xu.length;ff--;)typeof(br=xu.shift())=="string"?Ic.push(ys(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&($a=ys(br[0],br[1],br[2]),Ic.push([$a[0],$a[1],$a[2]]));er=Ic}return er}var kc=!1,du=!0;if(typeof w=="string")kc=!0;else if(Array.isArray(w)){var uu=w.concat();$e=[];for(var Cc,Fr=uu.length;Fr--;)(typeof(Cc=uu.shift())!="string"||Array.isArray(Cc)&&typeof Cc[0]!="string")&&(du=!1);kc=du}if(kc===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var _c=Ke/mr.internal.scaleFactor,Ac=_c*(Xn-1);switch(ie.baseline){case"bottom":ee-=Ac;break;case"top":ee+=_c-Ac;break;case"hanging":ee+=_c-2*Ac;break;case"middle":ee+=_c/2-Ac}if((Tt=ie.maxWidth||0)>0&&(typeof w=="string"?w=mr.splitTextToSize(w,Tt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(xs,ys){return xs.concat(mr.splitTextToSize(ys,Tt))},[]))),Ce={text:w,x:D,y:ee,options:ie,mutex:{pdfEscape:re,activeFontKey:At,fonts:Et,activeFontSize:Ke}},vt.publish("preProcessText",Ce),w=Ce.text,rt=(ie=Ce.options).angle,!(Hs instanceof mt)&&rt&&typeof rt=="number"){rt*=Math.PI/180,ie.rotationDirection===0&&(rt=-rt),b===v.ADVANCED&&(rt=-rt);var Ec=Math.cos(rt),hu=Math.sin(rt);Hs=new mt(Ec,hu,-hu,Ec,0,0)}else rt&&rt instanceof mt&&(Hs=rt);b!==v.ADVANCED||Hs||(Hs=hn),(It=ie.charSpace||Fa)!==void 0&&(_r+=L(O(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Is=ie.horizontalScale)!==void 0&&(_r+=L(100*Is)+` Tz
`),ie.lang;var Ln=-1,d0=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,fu=mr.internal.getCurrentPageInfo().pageContext;switch(d0){case 0:case!1:case"fill":Ln=0;break;case 1:case!0:case"stroke":Ln=1;break;case 2:case"fillThenStroke":Ln=2;break;case 3:case"invisible":Ln=3;break;case 4:case"fillAndAddForClipping":Ln=4;break;case 5:case"strokeAndAddPathForClipping":Ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ln=6;break;case 7:case"addToPathForClipping":Ln=7}var cf=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;Ln!==-1?_r+=Ln+` Tr
`:cf!==-1&&(_r+=`0 Tr
`),Ln!==-1&&(fu.usedRenderingMode=Ln),gt=ie.align||"left";var gi,Pc=Ke*Xn,df=mr.internal.pageSize.getWidth(),uf=Et[At];It=ie.charSpace||Fa,Tt=ie.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var _o=[],Ol=function(xs){return mr.getStringUnitWidth(xs,{font:uf,charSpace:It,fontSize:Ke,doKerning:!1})*Ke/ya};if(Object.prototype.toString.call(w)==="[object Array]"){var Mn;$e=lu(w),gt!=="left"&&(gi=$e.map(Ol));var xn,Ao=0;if(gt==="right"){D-=gi[0],w=[],Fr=$e.length;for(var Ba=0;Ba<Fr;Ba++)Ba===0?(xn=Jn(D),Mn=ga(ee)):(xn=O(Ao-gi[Ba]),Mn=-Pc),w.push([$e[Ba],xn,Mn]),Ao=gi[Ba]}else if(gt==="center"){D-=gi[0]/2,w=[],Fr=$e.length;for(var Ua=0;Ua<Fr;Ua++)Ua===0?(xn=Jn(D),Mn=ga(ee)):(xn=O((Ao-gi[Ua])/2),Mn=-Pc),w.push([$e[Ua],xn,Mn]),Ao=gi[Ua]}else if(gt==="left"){w=[],Fr=$e.length;for(var Tc=0;Tc<Fr;Tc++)w.push($e[Tc])}else if(gt==="justify"&&uf.encoding==="Identity-H"){w=[],Fr=$e.length,Tt=Tt!==0?Tt:df;for(var za=0,Zs=0;Zs<Fr;Zs++)if(Mn=Zs===0?ga(ee):-Pc,xn=Zs===0?Jn(D):za,Zs<Fr-1){var mu=O((Tt-gi[Zs])/($e[Zs].split(" ").length-1)),yn=$e[Zs].split(" ");w.push([yn[0]+" ",xn,Mn]),za=0;for(var xi=1;xi<yn.length;xi++){var Lc=(Ol(yn[xi-1]+" "+yn[xi])-Ol(yn[xi]))*ya+mu;xi==yn.length-1?w.push([yn[xi],Lc,0]):w.push([yn[xi]+" ",Lc,0]),za-=Lc}}else w.push([$e[Zs],xn,Mn]);w.push(["",za,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Fr=$e.length,Tt=Tt!==0?Tt:df,Zs=0;Zs<Fr;Zs++)Mn=Zs===0?ga(ee):-Pc,xn=Zs===0?Jn(D):0,Zs<Fr-1?_o.push(L(O((Tt-gi[Zs])/($e[Zs].split(" ").length-1)))):_o.push(0),w.push([$e[Zs],xn,Mn])}}var hf=typeof ie.R2L=="boolean"?ie.R2L:st;hf===!0&&(w=cu(w,function(xs,ys,er){return[xs.split("").reverse().join(""),ys,er]})),Ce={text:w,x:D,y:ee,options:ie,mutex:{pdfEscape:re,activeFontKey:At,fonts:Et,activeFontSize:Ke}},vt.publish("postProcessText",Ce),w=Ce.text,Hi=Ce.mutex.isHex||!1;var pu=Et[At].encoding;pu!=="WinAnsiEncoding"&&pu!=="StandardEncoding"||(w=cu(w,function(xs,ys,er){return[lf(xs),ys,er]})),$e=lu(w),w=[];for(var Fl,Bl,Eo,Ul=0,Mc=1,zl=Array.isArray($e[0])?Mc:Ul,Po="",gu=function(xs,ys,er){var br="";return er instanceof mt?(er=typeof ie.angle=="number"?rs(er,new mt(1,0,0,1,xs,ys)):rs(new mt(1,0,0,1,xs,ys),er),b===v.ADVANCED&&(er=rs(new mt(1,0,0,-1,0,0),er)),br=er.join(" ")+` Tm
`):br=L(xs)+" "+L(ys)+` Td
`,br},yi=0;yi<$e.length;yi++){switch(Po="",zl){case Mc:Eo=(Hi?"<":"(")+$e[yi][0]+(Hi?">":")"),Fl=parseFloat($e[yi][1]),Bl=parseFloat($e[yi][2]);break;case Ul:Eo=(Hi?"<":"(")+$e[yi]+(Hi?">":")"),Fl=Jn(D),Bl=ga(ee)}_o!==void 0&&_o[yi]!==void 0&&(Po=_o[yi]+` Tw
`),yi===0?w.push(Po+gu(Fl,Bl,Hs)+Eo):zl===Ul?w.push(Po+Eo):zl===Mc&&w.push(Po+gu(Fl,Bl,Hs)+Eo)}w=zl===Ul?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var vi=`BT
/`;return vi+=At+" "+Ke+` Tf
`,vi+=L(Ke*Xn)+` TL
`,vi+=xa+`
`,vi+=_r,vi+=w,Y(vi+="ET"),m[At]=!0,mr};var ma=p.__private__.clip=p.clip=function(w){return Y(w==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ma("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var gn=p.__private__.isValidStyle=function(w){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(w){return gn(w)&&(d=w),this};var Rt=p.__private__.getStyle=p.getStyle=function(w){var D=d;switch(w){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=w}return D},Dr=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(w){return Or("f",w),this},p.fillEvenOdd=function(w){return Or("f*",w),this},p.fillStroke=function(w){return Or("B",w),this},p.fillStrokeEvenOdd=function(w){return Or("B*",w),this};var Or=function(w,D){os(D)==="object"?wo(D,w):Y(w)},Pn=function(w){w===null||b===v.ADVANCED&&w===void 0||(w=Rt(w),Y(w))};function ui(w,D,ee,ie,ve){var Ce=new gd(D||this.boundingBox,ee||this.xStep,ie||this.yStep,this.gState,ve||this.matrix);Ce.stream=this.stream;var $e=w+"$$"+this.cloneIndex+++"$$";return dr($e,Ce),Ce}var wo=function(w,D){var ee=Es[w.key],ie=zt[ee];if(ie instanceof Ql)Y("q"),Y(No(D)),ie.gState&&p.setGState(ie.gState),Y(w.matrix.toString()+" cm"),Y("/"+ee+" sh"),Y("Q");else if(ie instanceof gd){var ve=new mt(1,0,0,-1,0,Co());w.matrix&&(ve=ve.multiply(w.matrix||hn),ee=ui.call(ie,w.key,w.boundingBox,w.xStep,w.yStep,ve).id),Y("q"),Y("/Pattern cs"),Y("/"+ee+" scn"),ie.gState&&p.setGState(ie.gState),Y(D),Y("Q")}},No=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},pa=p.moveTo=function(w,D){return Y(L(O(w))+" "+L(K(D))+" m"),this},Ms=p.lineTo=function(w,D){return Y(L(O(w))+" "+L(K(D))+" l"),this},Tn=p.curveTo=function(w,D,ee,ie,ve,Ce){return Y([L(O(w)),L(K(D)),L(O(ee)),L(K(ie)),L(O(ve)),L(K(Ce)),"c"].join(" ")),this};p.__private__.line=p.line=function(w,D,ee,ie,ve){if(isNaN(w)||isNaN(D)||isNaN(ee)||isNaN(ie)||!gn(ve))throw new Error("Invalid arguments passed to jsPDF.line");return b===v.COMPAT?this.lines([[ee-w,ie-D]],w,D,[1,1],ve||"S"):this.lines([[ee-w,ie-D]],w,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(w,D,ee,ie,ve,Ce){var $e,rt,gt,It,Tt,Kt,Is,Hs,mr,Yr,_r,Hi;if(typeof w=="number"&&(Hi=ee,ee=D,D=w,w=Hi),ie=ie||[1,1],Ce=Ce||!1,isNaN(D)||isNaN(ee)||!Array.isArray(w)||!Array.isArray(ie)||!gn(ve)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pa(D,ee),$e=ie[0],rt=ie[1],It=w.length,Yr=D,_r=ee,gt=0;gt<It;gt++)(Tt=w[gt]).length===2?(Yr=Tt[0]*$e+Yr,_r=Tt[1]*rt+_r,Ms(Yr,_r)):(Kt=Tt[0]*$e+Yr,Is=Tt[1]*rt+_r,Hs=Tt[2]*$e+Yr,mr=Tt[3]*rt+_r,Yr=Tt[4]*$e+Yr,_r=Tt[5]*rt+_r,Tn(Kt,Is,Hs,mr,Yr,_r));return Ce&&Dr(),Pn(ve),this},p.path=function(w){for(var D=0;D<w.length;D++){var ee=w[D],ie=ee.c;switch(ee.op){case"m":pa(ie[0],ie[1]);break;case"l":Ms(ie[0],ie[1]);break;case"c":Tn.apply(this,ie);break;case"h":Dr()}}return this},p.__private__.rect=p.rect=function(w,D,ee,ie,ve){if(isNaN(w)||isNaN(D)||isNaN(ee)||isNaN(ie)||!gn(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return b===v.COMPAT&&(ie=-ie),Y([L(O(w)),L(K(D)),L(O(ee)),L(O(ie)),"re"].join(" ")),Pn(ve),this},p.__private__.triangle=p.triangle=function(w,D,ee,ie,ve,Ce,$e){if(isNaN(w)||isNaN(D)||isNaN(ee)||isNaN(ie)||isNaN(ve)||isNaN(Ce)||!gn($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-w,ie-D],[ve-ee,Ce-ie],[w-ve,D-Ce]],w,D,[1,1],$e,!0),this},p.__private__.roundedRect=p.roundedRect=function(w,D,ee,ie,ve,Ce,$e){if(isNaN(w)||isNaN(D)||isNaN(ee)||isNaN(ie)||isNaN(ve)||isNaN(Ce)||!gn($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ee),Ce=Math.min(Ce,.5*ie),this.lines([[ee-2*ve,0],[ve*rt,0,ve,Ce-Ce*rt,ve,Ce],[0,ie-2*Ce],[0,Ce*rt,-ve*rt,Ce,-ve,Ce],[2*ve-ee,0],[-ve*rt,0,-ve,-Ce*rt,-ve,-Ce],[0,2*Ce-ie],[0,-Ce*rt,ve*rt,-Ce,ve,-Ce]],w+ve,D,[1,1],$e,!0),this},p.__private__.ellipse=p.ellipse=function(w,D,ee,ie,ve){if(isNaN(w)||isNaN(D)||isNaN(ee)||isNaN(ie)||!gn(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*ee,$e=4/3*(Math.SQRT2-1)*ie;return pa(w+ee,D),Tn(w+ee,D-$e,w+Ce,D-ie,w,D-ie),Tn(w-Ce,D-ie,w-ee,D-$e,w-ee,D),Tn(w-ee,D+$e,w-Ce,D+ie,w,D+ie),Tn(w+Ce,D+ie,w+ee,D+$e,w+ee,D),Pn(ve),this},p.__private__.circle=p.circle=function(w,D,ee,ie){if(isNaN(w)||isNaN(D)||isNaN(ee)||!gn(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,D,ee,ee,ie)},p.setFont=function(w,D,ee){return ee&&(D=C(D,ee)),At=ye(w,D,{disableWarning:!1}),this};var Da=p.__private__.getFont=p.getFont=function(){return Et[ye.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var w,D,ee={};for(w in Gt)if(Gt.hasOwnProperty(w))for(D in ee[w]=[],Gt[w])Gt[w].hasOwnProperty(D)&&ee[w].push(D);return ee},p.addFont=function(w,D,ee,ie,ve){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(ee=C(ee,ie)),ve=ve||"Identity-H",fa.call(this,w,D,ee,ve)};var Kn,fr=e.lineWidth||.200025,Yn=p.__private__.getLineWidth=p.getLineWidth=function(){return fr},hi=p.__private__.setLineWidth=p.setLineWidth=function(w){return fr=w,Y(L(O(w))+" w"),this};p.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(w,D){if(w=w||[],D=D||0,isNaN(D)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ee){return L(O(ee))}).join(" "),D=L(O(D)),Y("["+w+"] "+D+" d"),this};var Vi=p.__private__.getLineHeight=p.getLineHeight=function(){return Ke*Kn};p.__private__.getLineHeight=p.getLineHeight=function(){return Ke*Kn};var Oa=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Kn=w),this},jc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Kn};Oa(e.lineHeight);var Jn=p.__private__.getHorizontalCoordinate=function(w){return O(w)},ga=p.__private__.getVerticalCoordinate=function(w){return b===v.ADVANCED?w:Nt[W].mediaBox.topRightY-Nt[W].mediaBox.bottomLeftY-O(w)},jo=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(w){return L(Jn(w))},fi=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(w){return L(ga(w))},Cr=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Gr(Cr)},p.__private__.setStrokeColor=p.setDrawColor=function(w,D,ee,ie){return Cr=mn({ch1:w,ch2:D,ch3:ee,ch4:ie,pdfColorType:"draw",precision:2}),Y(Cr),this};var So=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Gr(So)},p.__private__.setFillColor=p.setFillColor=function(w,D,ee,ie){return So=mn({ch1:w,ch2:D,ch3:ee,ch4:ie,pdfColorType:"fill",precision:2}),Y(So),this};var xa=e.textColor||"0 g",Sc=p.__private__.getTextColor=p.getTextColor=function(){return Gr(xa)};p.__private__.setTextColor=p.setTextColor=function(w,D,ee,ie){return xa=mn({ch1:w,ch2:D,ch3:ee,ch4:ie,pdfColorType:"text",precision:3}),this};var Fa=e.charSpace,nu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Fa||0)};p.__private__.setCharSpace=p.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fa=w,this};var ko=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(w){var D=p.CapJoinStyles[w];if(D===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ko=D,Y(D+" J"),this};var Se=0;p.__private__.setLineJoin=p.setLineJoin=function(w){var D=p.CapJoinStyles[w];if(D===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Se=D,Y(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(L(O(w))+" M"),this},p.GState=vp,p.setGState=function(w){(w=typeof w=="string"?_t[cr[w]]:Ue(null,w)).equals(Ir)||(Y("/"+w.id+" gs"),Ir=w)};var Ue=function(w,D){if(!w||!cr[w]){var ee=!1;for(var ie in _t)if(_t.hasOwnProperty(ie)&&_t[ie].equals(D)){ee=!0;break}if(ee)D=_t[ie];else{var ve="GS"+(Object.keys(_t).length+1).toString(10);_t[ve]=D,D.id=ve}return w&&(cr[w]=D.id),vt.publish("addGState",D),D}};p.addGState=function(w,D){return Ue(w,D),this},p.saveGraphicsState=function(){return Y("q"),Wr.push({key:At,size:Ke,color:xa}),this},p.restoreGraphicsState=function(){Y("Q");var w=Wr.pop();return At=w.key,Ke=w.size,xa=w.color,Ir=null,this},p.setCurrentTransformationMatrix=function(w){return Y(w.toString()+" cm"),this},p.comment=function(w){return Y("#"+w),this};var St=function(w,D){var ee=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Ce){isNaN(Ce)||(ee=parseFloat(Ce))}});var ie=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(Ce){isNaN(Ce)||(ie=parseFloat(Ce))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ce){ve=Ce.toString()}}),this},mi=function(w,D,ee,ie){St.call(this,w,D),this.type="rect";var ve=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function($e){isNaN($e)||(ve=parseFloat($e))}});var Ce=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function($e){isNaN($e)||(Ce=parseFloat($e))}}),this},Rl=function(){this.page=cs,this.currentPage=W,this.pages=Ee.slice(0),this.pagesContext=Nt.slice(0),this.x=As,this.y=Ft,this.matrix=Hr,this.width=pi(W),this.height=Co(W),this.outputDestination=Be,this.id="",this.objectNumber=-1};Rl.prototype.restore=function(){cs=this.page,W=this.currentPage,Nt=this.pagesContext,Ee=this.pages,As=this.x,Ft=this.y,Hr=this.matrix,au(W,this.width),ou(W,this.height),Be=this.outputDestination};var Dl=function(w,D,ee,ie,ve){Qs.push(new Rl),cs=W=0,Ee=[],As=w,Ft=D,Hr=ve,Ae([ee,ie])},iu=function(w){if(Ps[w])Qs.pop().restore();else{var D=new Rl,ee="Xo"+(Object.keys(qs).length+1).toString(10);D.id=ee,Ps[w]=ee,qs[ee]=D,vt.publish("addFormObject",D),Qs.pop().restore()}};for(var qi in p.beginFormObject=function(w,D,ee,ie,ve){return Dl(w,D,ee,ie,ve),this},p.endFormObject=function(w){return iu(w),this},p.doFormObject=function(w,D){var ee=qs[Ps[w]];return Y("q"),Y(D.toString()+" cm"),Y("/"+ee.id+" Do"),Y("Q"),this},p.getFormObject=function(w){var D=qs[Ps[w]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(w,D){return w=w||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Jl(Ct(ct()),w),typeof Jl.unload=="function"&&jt.setTimeout&&setTimeout(Jl.unload,911),this):new Promise(function(ee,ie){try{var ve=Jl(Ct(ct()),w);typeof Jl.unload=="function"&&jt.setTimeout&&setTimeout(Jl.unload,911),ee(ve)}catch(Ce){ie(Ce.message)}})},wt.API)wt.API.hasOwnProperty(qi)&&(qi==="events"&&wt.API.events.length?function(w,D){var ee,ie,ve;for(ve=D.length-1;ve!==-1;ve--)ee=D[ve][0],ie=D[ve][1],w.subscribe.apply(w,[ee].concat(typeof ie=="function"?[ie]:ie))}(vt,wt.API.events):p[qi]=wt.API[qi]);var pi=p.getPageWidth=function(w){return(Nt[w=w||W].mediaBox.topRightX-Nt[w].mediaBox.bottomLeftX)/Ze},au=p.setPageWidth=function(w,D){Nt[w].mediaBox.topRightX=D*Ze+Nt[w].mediaBox.bottomLeftX},Co=p.getPageHeight=function(w){return(Nt[w=w||W].mediaBox.topRightY-Nt[w].mediaBox.bottomLeftY)/Ze},ou=p.setPageHeight=function(w,D){Nt[w].mediaBox.topRightY=D*Ze+Nt[w].mediaBox.bottomLeftY};return p.internal={pdfEscape:re,getStyle:Rt,getFont:Da,getFontSize:Ye,getCharSpace:nu,getTextColor:Sc,getLineHeight:Vi,getLineHeightFactor:jc,getLineWidth:Yn,write:Je,getHorizontalCoordinate:Jn,getVerticalCoordinate:ga,getCoordinateString:jo,getVerticalCoordinateString:fi,collections:{},newObject:ps,newAdditionalObject:ha,newObjectDeferred:ns,newObjectDeferredBegin:ot,getFilters:_n,putStream:ur,events:vt,scaleFactor:Ze,pageSize:{getWidth:function(){return pi(W)},setWidth:function(w){au(W,w)},getHeight:function(){return Co(W)},setHeight:function(w){ou(W,w)}},encryptionOptions:u,encryption:Mt,getEncryptor:Rr,output:Ut,getNumberOfPages:je,pages:Ee,out:Y,f2:G,f3:M,getPageInfo:hr,getPageInfoByObjId:it,getCurrentPageInfo:Wt,getPDFVersion:j,Point:St,Rectangle:mi,Matrix:mt,hasHotfix:Yt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return pi(W)},set:function(w){au(W,w)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Co(W)},set:function(w){ou(W,w)},enumerable:!0,configurable:!0}),Ra.call(p,Ie),At="F1",De(i,s),vt.publish("initialized"),p}Yc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Yc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yc.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},Yc.prototype.processOwnerPassword=function(e,t){return Oy(Dy(t).substr(0,5),e)},Yc.prototype.encryptor=function(e,t){var s=Dy(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Oy(s,n)}},vp.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||os(e)!==os(this))return!1;var n=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&n--;return n===0},wt.API={events:[]},wt.version="3.0.1";var Ks=wt.API,W1=1,Nc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(e){return e.toFixed(2)},Vo=function(e){return e.toFixed(5)};Ks.__acroform__={};var Hn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Y5=function(e){return e*W1},wa=function(e){var t=new ZS,s=dt.internal.getHeight(e)||0,n=dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Lt(n)),Number(Lt(s))],t},OO=Ks.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},FO=Ks.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},BO=Ks.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},nr=Ks.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BO(e,t-1)},ir=Ks.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OO(e,t-1)},ar=Ks.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FO(e,t-1)},UO=Ks.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=s(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=s(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Lt(c.lowerLeft_X)),Number(Lt(c.lowerLeft_Y)),Number(Lt(c.upperRight_X)),Number(Lt(c.upperRight_Y))]},zO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,n=Fy(e,s),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Lt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=wa(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Fy=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(M){return M.split(`
`)}):i.map(function(M){return[M]});var a=s,o=dt.internal.getHeight(e)||0;o=o<0?-o:o;var l=dt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(M,O,X){if(M+1<i.length){var K=O+" "+i[M+1][0];return nm(K,e,X).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,u,h=nm("3",e,a).height,m=e.multiline?o-a:(o-h)/2,p=m+=2,x=0,j=0,N=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+nm(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var k=!1;if(i[b].length!==1&&N!==i[b].length-1){if((h+2)*(v+2)+2>o)continue e;y+=i[b][N],k=!0,j=b,b--}else{y=(y+=i[b][N]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var _=parseInt(b),C=c(_,y,a),L=b>=i.length-1;if(C&&!L){y+=" ",N=0;continue}if(C||L){if(L)j=_;else if(e.multiline&&(h+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(v+2)+2>o)continue e;j=_}}for(var T="",q=x;q<=j;q++){var G=i[q];if(e.multiline){if(q===j){T+=G[N]+" ",N=(N+1)%G.length;continue}if(q===x){T+=G[G.length-1]+" ";continue}}T+=G[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,u=nm(T,e,a).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}t+=Lt(d)+" "+Lt(p)+` Td
`,t+="("+Nc(T)+`) Tj
`,t+=-Lt(d)+` 0 Td
`,p=-(a+2),u=0,x=k?j:j+1,v++,y=""}break}return n.text=t,n.fontSize=a,n},nm=function(e,t,s){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:i}},$O={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},VO=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===s.type&&n.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},qO=function(e,t){for(var s in e)if(e.hasOwnProperty(s)){var n=s,i=e[s];t.internal.newObjectDeferredBegin(i.objId,!0),os(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},HO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(da.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify($O)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ek,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&VO(a,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=UO(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=dt.createDefaultAppearanceStream(l),os(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=zO(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var p=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var x=p[o];typeof x=="function"&&(x=x.call(i,l)),h+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=p)=="function"&&(x=x.call(i,l)),h+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&qO(i.internal.acroformPlugin.xForms,i)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},QS=Ks.__acroform__.arrayToPdfArray=function(e,t,s){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),os(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&s&&(n=s.internal.getEncryptor(t)),i+="("+Nc(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dg=function(e,t,s){var n=function(i){return i};return t!==void 0&&s&&(n=s.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Nc(n(e))+")"},Sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sa.prototype.toString=function(){return this.objId+" 0 R"},Sa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Sa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var n=t[s],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:QS(i,this.objId,this.scope)}):i instanceof Sa?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var ZS=function(){Sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};Hn(ZS,Sa);var ek=function(){Sa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(n){return n};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Nc(s(e))+")"}},set:function(s){e=s}})};Hn(ek,Sa);var da=function e(){Sa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(t,3)},set:function(y){y?this.F=ir(t,3):this.F=ar(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');s=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof bp)return;a="FieldObject"+e.FieldNum++}var y=function(v){return v};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Nc(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/W1:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof bp||this instanceof cc))return Dg(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Lr?m:Dg(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Lr?y:y.substr(0,1)==="("?Hc(y.substr(1,y.length-2)):Hc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?Hc(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Lr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Lr?p:Dg(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Lr?y:y.substr(0,1)==="("?Hc(y.substr(1,y.length-2)):Hc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lr?Hc(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Lr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(y){y=!!y,j=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(y){y?this.Ff=ir(this.Ff,1):this.Ff=ar(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(y){y?this.Ff=ir(this.Ff,2):this.Ff=ar(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(y){y?this.Ff=ir(this.Ff,3):this.Ff=ar(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');N=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(N){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};Hn(da,Sa);var Ed=function(){da.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return QS(t,this.objId,this.scope)},set:function(s){var n,i;i=[],typeof(n=s)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,n){for(n=n||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(s){s?this.Ff=ir(this.Ff,18):this.Ff=ar(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=ir(this.Ff,19):this.Ff=ar(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(s){s?(this.Ff=ir(this.Ff,20),t.sort()):this.Ff=ar(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(s){s?this.Ff=ir(this.Ff,22):this.Ff=ar(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(s){s?this.Ff=ir(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(s){s?this.Ff=ir(this.Ff,27):this.Ff=ar(this.Ff,27)}}),this.hasAppearanceStream=!1};Hn(Ed,da);var Pd=function(){Ed.call(this),this.fontName="helvetica",this.combo=!1};Hn(Pd,Ed);var Td=function(){Pd.call(this),this.combo=!0};Hn(Td,Pd);var _m=function(){Td.call(this),this.edit=!0};Hn(_m,Td);var Lr=function(){da.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(s){s?this.Ff=ir(this.Ff,15):this.Ff=ar(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(s){s?this.Ff=ir(this.Ff,16):this.Ff=ar(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(s){s?this.Ff=ir(this.Ff,17):this.Ff=ar(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(s){s?this.Ff=ir(this.Ff,26):this.Ff=ar(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Nc(s(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(s){os(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}})};Hn(Lr,da);var Am=function(){Lr.call(this),this.pushButton=!0};Hn(Am,Lr);var Ld=function(){Lr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Hn(Ld,Lr);var bp=function(){var e,t;da.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var s,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Nc(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){os(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(i){s="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hn(bp,da),Ld.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},Ld.prototype.createOption=function(e){var t=new bp;return t.Parent=this,t.optionName=e,this.Kids.push(t),WO.call(this.scope,t),t};var Em=function(){Lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Hn(Em,Lr);var cc=function(){da.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(t){t?this.Ff=ir(this.Ff,13):this.Ff=ar(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(t){t?this.Ff=ir(this.Ff,21):this.Ff=ar(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(t){t?this.Ff=ir(this.Ff,23):this.Ff=ar(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(t){t?this.Ff=ir(this.Ff,24):this.Ff=ar(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(t){t?this.Ff=ir(this.Ff,25):this.Ff=ar(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(t){t?this.Ff=ir(this.Ff,26):this.Ff=ar(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hn(cc,da);var Pm=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(e){e?this.Ff=ir(this.Ff,14):this.Ff=ar(this.Ff,14)}}),this.password=!0};Hn(Pm,cc);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=wa(e);t.scope=e.scope;var s=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Fy(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+Lt(dt.internal.getWidth(e))+" "+Lt(dt.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+n+" "+Lt(a.fontSize)+" Tf "+i),s.push("BT"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=wa(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=dt.internal.getHeight(e),o=dt.internal.getWidth(e),l=Fy(e,e.caption);return i.push("1 g"),i.push("0 0 "+Lt(o)+" "+Lt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Lt(o-1)+" "+Lt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+s+" "+Lt(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=wa(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Lt(dt.internal.getWidth(e))+" "+Lt(dt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Circle.YesNormal,t.D[e]=dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=wa(e);t.scope=e.scope;var s=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=dt.internal.Bezier_C,a=Number((n*i).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Vo(dt.internal.getWidth(e)/2)+" "+Vo(dt.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),s.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),s.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),s.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=wa(e);t.scope=e.scope;var s=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*dt.internal.Bezier_C).toFixed(5)),o=Number((n*dt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Vo(dt.internal.getWidth(e)/2)+" "+Vo(dt.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Vo(dt.internal.getWidth(e)/2)+" "+Vo(dt.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),s.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),s.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),s.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=wa(e);t.scope=e.scope;var s=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*dt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Vo(dt.internal.getWidth(e)/2)+" "+Vo(dt.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Cross.YesNormal,t.D[e]=dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=wa(e);t.scope=e.scope;var s=[],n=dt.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+Lt(dt.internal.getWidth(e)-2)+" "+Lt(dt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),s.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),s.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),s.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=wa(e);t.scope=e.scope;var s=dt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(dt.internal.getWidth(e))+" "+Lt(dt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Lt(dt.internal.getWidth(e)-2)+" "+Lt(dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(s.x1.x)+" "+Lt(s.x1.y)+" m"),n.push(Lt(s.x2.x)+" "+Lt(s.x2.y)+" l"),n.push(Lt(s.x4.x)+" "+Lt(s.x4.y)+" m"),n.push(Lt(s.x3.x)+" "+Lt(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=wa(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Lt(dt.internal.getWidth(e))+" "+Lt(dt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dt.internal.getWidth(e),s=dt.internal.getHeight(e),n=Math.min(t,s);return{x1:{x:(t-n)/2,y:(s-n)/2+n},x2:{x:(t-n)/2+n,y:(s-n)/2},x3:{x:(t-n)/2,y:(s-n)/2},x4:{x:(t-n)/2+n,y:(s-n)/2+n}}}},dt.internal.getWidth=function(e){var t=0;return os(e)==="object"&&(t=Y5(e.Rect[2])),t},dt.internal.getHeight=function(e){var t=0;return os(e)==="object"&&(t=Y5(e.Rect[3])),t};var WO=Ks.addField=function(e){if(HO(this,e),!(e instanceof da))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ks.AcroFormChoiceField=Ed,Ks.AcroFormListBox=Pd,Ks.AcroFormComboBox=Td,Ks.AcroFormEditBox=_m,Ks.AcroFormButton=Lr,Ks.AcroFormPushButton=Am,Ks.AcroFormRadioButton=Ld,Ks.AcroFormCheckBox=Em,Ks.AcroFormTextField=cc,Ks.AcroFormPasswordField=Pm,Ks.AcroFormAppearance=dt,Ks.AcroForm={ChoiceField:Ed,ListBox:Pd,ComboBox:Td,EditBox:_m,Button:Lr,PushButton:Am,RadioButton:Ld,CheckBox:Em,TextField:cc,PasswordField:Pm,Appearance:dt},wt.AcroForm={ChoiceField:Ed,ListBox:Pd,ComboBox:Td,EditBox:_m,Button:Lr,PushButton:Am,RadioButton:Ld,CheckBox:Em,TextField:cc,PasswordField:Pm,Appearance:dt};wt.AcroForm;function tk(e){return e.reduce(function(t,s,n){return t[s]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(M,O){var X,K,de,V,ne,z=t;if((O=O||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(C(M))for(ne in s)for(de=s[ne],X=0;X<de.length;X+=1){for(V=!0,K=0;K<de[X].length;K+=1)if(de[X][K]!==void 0&&de[X][K]!==M[K]){V=!1;break}if(V===!0){z=ne;break}}else for(ne in s)for(de=s[ne],X=0;X<de.length;X+=1){for(V=!0,K=0;K<de[X].length;K+=1)if(de[X][K]!==void 0&&de[X][K]!==M.charCodeAt(K)){V=!1;break}if(V===!0){z=ne;break}}return z===t&&O!==t&&(z=O),z},i=function M(O){for(var X=this.internal.write,K=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:O.width}),V.push({key:"Height",value:O.height}),O.colorSpace===N.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===N.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var ne="",z=0,Q=O.transparency.length;z<Q;z++)ne+=O.transparency[z]+" "+O.transparency[z]+" ";V.push({key:"Mask",value:"["+ne+"]"})}O.sMask!==void 0&&V.push({key:"SMask",value:O.objectId+1+" 0 R"});var se=O.filter!==void 0?["/"+O.filter]:void 0;if(K({data:O.data,additionalKeyValues:V,alreadyAppliedFilters:se,objectId:O.objectId}),X("endobj"),"sMask"in O&&O.sMask!==void 0){var ue="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,I={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ue,data:O.sMask};"filter"in O&&(I.filter=O.filter),M.call(this,I)}if(O.colorSpace===N.INDEXED){var W=this.internal.newObject();K({data:T(new Uint8Array(O.palette)),objectId:W}),X("endobj")}},a=function(){var M=this.internal.collections.addImage_images;for(var O in M)i.call(this,M[O])},o=function(){var M,O=this.internal.collections.addImage_images,X=this.internal.write;for(var K in O)X("/I"+(M=O[K]).index,M.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var M=this.internal.collections.addImage_images;return l.call(this),M},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(M){return typeof e["process"+M.toUpperCase()]=="function"},h=function(M){return os(M)==="object"&&M.nodeType===1},m=function(M,O){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var X=""+M.getAttribute("src");if(X.indexOf("data:image/")===0)return oh(unescape(X).split("base64,").pop());var K=e.loadFile(X,!0);if(K!==void 0)return K}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var de;switch(O){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return oh(M.toDataURL(de,1).split("base64,").pop())}},p=function(M){var O=this.internal.collections.addImage_images;if(O){for(var X in O)if(M===O[X].alias)return O[X]}},x=function(M,O,X){return M||O||(M=-96,O=-96),M<0&&(M=-1*X.width*72/M/this.internal.scaleFactor),O<0&&(O=-1*X.height*72/O/this.internal.scaleFactor),M===0&&(M=O*X.width/X.height),O===0&&(O=M*X.height/X.width),[M,O]},j=function(M,O,X,K,de,V){var ne=x.call(this,X,K,de),z=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,se=c.call(this);if(X=ne[0],K=ne[1],se[de.index]=de,V){V*=Math.PI/180;var ue=Math.cos(V),I=Math.sin(V),W=function(te){return te.toFixed(4)},Z=[W(ue),W(I),W(-1*I),W(ue),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,z(M),Q(O+K),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([z(X),"0","0",z(K),"0","0","cm"].join(" "))):this.internal.write([z(X),"0","0",z(K),z(M),Q(O+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(M){var O,X,K=0;if(typeof M=="string")for(X=M.length,O=0;O<X;O++)K=(K<<5)-K+M.charCodeAt(O),K|=0;else if(C(M))for(X=M.byteLength/2,O=0;O<X;O++)K=(K<<5)-K+M[O],K|=0;return K},b=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var O=!0;return M.length===0&&(O=!1),M.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(O=!1),O},k=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var O=M.indexOf(",");return O<0?null:M.substring(0,O).trim().endsWith("base64")?M.substring(O+1):null},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(M){return _()&&M instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(M){return _()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},L=e.__addimage__.binaryStringToUint8Array=function(M){for(var O=M.length,X=new Uint8Array(O),K=0;K<O;K++)X[K]=M.charCodeAt(K);return X},T=e.__addimage__.arrayBufferToBinaryString=function(M){for(var O="",X=C(M)?M:new Uint8Array(M),K=0;K<X.length;K+=8192)O+=String.fromCharCode.apply(null,X.subarray(K,K+8192));return O};e.addImage=function(){var M,O,X,K,de,V,ne,z,Q;if(typeof arguments[1]=="number"?(O=t,X=arguments[1],K=arguments[2],de=arguments[3],V=arguments[4],ne=arguments[5],z=arguments[6],Q=arguments[7]):(O=arguments[1],X=arguments[2],K=arguments[3],de=arguments[4],V=arguments[5],ne=arguments[6],z=arguments[7],Q=arguments[8]),os(M=arguments[0])==="object"&&!h(M)&&"imageData"in M){var se=M;M=se.imageData,O=se.format||O||t,X=se.x||X||0,K=se.y||K||0,de=se.w||se.width||de,V=se.h||se.height||V,ne=se.alias||ne,z=se.compression||z,Q=se.rotation||se.angle||Q}var ue=this.internal.getFilters();if(z===void 0&&ue.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(X)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=q.call(this,M,O,ne,z);return j.call(this,X,K,de,V,I,Q),this};var q=function(M,O,X,K){var de,V,ne;if(typeof M=="string"&&n(M)===t){M=unescape(M);var z=G(M,!1);(z!==""||(z=e.loadFile(M,!0))!==void 0)&&(M=z)}if(h(M)&&(M=m(M,O)),O=n(M,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ne=X)==null||ne.length===0)&&(X=function(Q){return typeof Q=="string"||C(Q)?v(Q):C(Q.data)?v(Q.data):null}(M)),(de=p.call(this,X))||(_()&&(M instanceof Uint8Array||O==="RGBA"||(V=M,M=L(M))),de=this["process"+O.toUpperCase()](M,d.call(this),X,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:y.NONE}(K),V)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},G=e.__addimage__.convertBase64ToBinaryString=function(M,O){O=typeof O!="boolean"||O;var X,K="";if(typeof M=="string"){var de;X=(de=k(M))!==null&&de!==void 0?de:M;try{K=oh(X)}catch(V){if(O)throw b(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(M){var O,X,K="";if(h(M)&&(M=m(M)),typeof M=="string"&&n(M)===t&&((K=G(M,!1))===""&&(K=e.loadFile(M)||""),M=K),X=n(M),!u(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!_()||M instanceof Uint8Array||(M=L(M)),!(O=this["process"+X.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=X,O}})(wt.API),function(e){var t=function(s){if(s!==void 0&&s!="")return!0};wt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var p=this.internal.pdfEscape,x=this.internal.getEncryptor(s.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(j.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(y(v))+") >>",j.content=a;var b=j.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(j.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var n=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":n.pageContext.annotations.push(s)}},e.link=function(s,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(s),y:d(n),w:c(s+i),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(s,n,i,a){var o,l,c=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(s,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(s,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},e.getTextWidth=function(s){var n=this.internal.getFontSize();return this.getStringUnitWidth(s)*n/this.internal.scaleFactor}}(wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},l=e.__arabicParser__.isArabicEndLetter=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(j){return o(j)&&i.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return o(j)&&a(j)&&t[j.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(j){var N=0,y=s,v="",b=0;for(N=0;N<j.length;N+=1)y[j.charCodeAt(N)]!==void 0?(b++,typeof(y=y[j.charCodeAt(N)])=="number"&&(v+=String.fromCharCode(y),y=s,b=0),N===j.length-1&&(y=s,v+=j.charAt(N-(b-1)),N-=b-1,b=0)):(y=s,v+=j.charAt(N-b),N-=b,b=0);return v};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(j,N,y){return o(j)?a(j)===!1?-1:!d(j)||!o(N)&&!o(y)||!o(y)&&l(N)||l(j)&&!o(N)||l(j)&&c(N)||l(j)&&l(N)?0:u(j)&&o(N)&&!l(N)&&o(y)&&d(y)?3:l(j)||!o(y)?1:2:-1},p=function(j){var N=0,y=0,v=0,b="",k="",_="",C=(j=j||"").split("\\s+"),L=[];for(N=0;N<C.length;N+=1){for(L.push(""),y=0;y<C[N].length;y+=1)b=C[N][y],k=C[N][y-1],_=C[N][y+1],o(b)?(v=m(b,k,_),L[N]+=v!==-1?String.fromCharCode(t[b.charCodeAt(0)][v]):b):L[N]+=b;L[N]=h(L[N])}return L.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var j,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(N)){var v=0;for(y=[],v=0;v<N.length;v+=1)Array.isArray(N[v])?y.push([p(N[v][0]),N[v][1],N[v][2]]):y.push([p(N[v])]);j=y}else j=p(N);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",x])}(wt.API),wt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(l){s=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,n){var i;if((s=s||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(j){c=j}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(j){x=j}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,p=0,x=0,j=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,k){return b.concat(N.splitTextToSize(k,y))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)p<(j=this.getStringUnitWidth(c[v],{font:h})*u)&&(p=j);return p!==0&&(x=c.length),{w:p/=m,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,s===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,x,j,N,y=[],v=[],b=[],k={},_={},C=[],L=[],T=(m=m||{}).autoSize||!1,q=m.printHeaders!==!1,G=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,M=m.margins||Object.assign({width:this.getPageWidth()},t),O=typeof m.padding=="number"?m.padding:3,X=m.headerBackgroundColor||"#c8c8c8",K=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=K,this.setFontSize(G),h==null)v=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(h)&&os(h[0])==="object")for(y=h.map(function(se){return se.name}),v=h.map(function(se){return se.prompt||se.name||""}),b=h.map(function(se){return se.align||"left"}),p=0;p<h.length;p+=1)_[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(v=y=h,b=y.map(function(){return"left"}));if(T||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<y.length;p+=1){for(k[N=y[p]]=u.map(function(se){return se[N]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(v[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=k[N],this.setFont(void 0,"normal"),j=0;j<x.length;j+=1)C.push(this.getTextDimensions(x[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[N]=Math.max.apply(null,C)+O+O,C=[]}if(q){var de={};for(p=0;p<y.length;p+=1)de[y[p]]={},de[y[p]].text=v[p],de[y[p]].align=b[p];var V=l.call(this,de,_);L=y.map(function(se){return new a(c,d,_[se],V,de[se].text,void 0,de[se].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ne=h.reduce(function(se,ue){return se[ue.name]=ue.align,se},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var z=l.call(this,u[p],_);for(j=0;j<y.length;j+=1){var Q=u[p][y[j]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:j,data:Q},this),o.call(this,new a(c,d,_[y[j]],z,Q,p+2,ne[y[j]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(p){var x=c[p];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+u+u},this).reduce(function(p,x){return Math.max(p,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),s=!1}}(wt.API);var sk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],By=tk(rk),nk=[100,200,300,400,500,600,700,800,900],GO=tk(nk);function Uy(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=function(a){return sk[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof By[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:s,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,s,n].join(" ")}}}function J5(e,t,s,n){var i;for(i=s;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=s;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var KO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},X5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Q5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function YO(e,t,s){for(var n=(s=s||{}).defaultFontFamily||"times",i=Object.assign({},KO,s.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=Uy(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+Q5(a)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=By[c],h=u<=By.normal?-1:1,m=J5(d,rk,u,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(a.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=sk[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=GO[c],h=J5(d,nk,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Q5(a)+"'.");return o}function Z5(e){return e.trimLeft()}function JO(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function XO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var im,eN,tN,Og=["times"];(function(e){var t,s,n,i,a,o,l,c,d,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=I;Object.defineProperty(this,"pdf",{get:function(){return W}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(he){Z=!!he}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(he){te=!!he}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(he){isNaN(he)||(ae=he)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(he){isNaN(he)||(ge=he)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(he){var Y;typeof he=="number"?Y=[he,he,he,he]:((Y=new Array(4))[0]=he[0],Y[1]=he.length>=2?he[1]:Y[0],Y[2]=he.length>=3?he[2]:Y[0],Y[3]=he.length>=4?he[3]:Y[1]),d.margin=Y}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(he){be=he}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(he){oe=he}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(he){_e=he}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(he){he instanceof u&&(d=he)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(he){d.path=he}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(he){Ee=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var Y;Y=m(he),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var Y=m(he);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var ze=null;function Be(he,Y){if(ze===null){var Je=function(We){var Ie=[];return Object.keys(We).forEach(function(Ke){We[Ke].forEach(function(Qe){var Ye=null;switch(Qe){case"bold":Ye={family:Ke,weight:"bold"};break;case"italic":Ye={family:Ke,style:"italic"};break;case"bolditalic":Ye={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:Ke}}Ye!==null&&(Ye.ref={name:Ke,style:Qe},Ie.push(Ye))})}),Ie}(he.getFontList());ze=function(We){for(var Ie={},Ke=0;Ke<We.length;++Ke){var Qe=Uy(We[Ke]),Ye=Qe.family,st=Qe.stretch,pt=Qe.style,ht=Qe.weight;Ie[Ye]=Ie[Ye]||{},Ie[Ye][st]=Ie[Ye][st]||{},Ie[Ye][st][pt]=Ie[Ye][st][pt]||{},Ie[Ye][st][pt][ht]=Qe}return Ie}(Je.concat(Y))}return ze}var Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(he){ze=null,Pe=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var Y;if(this.ctx.font=he,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var Je=Y[1];Y[2];var We=Y[3],Ie=Y[4];Y[5];var Ke=Y[6],Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(Qe==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Ye=function(xt){var At,Ze,As=[],Ft=xt.trim();if(Ft==="")return Og;if(Ft in X5)return[X5[Ft]];for(;Ft!=="";){switch(Ze=null,At=(Ft=Z5(Ft)).charAt(0)){case'"':case"'":Ze=JO(Ft.substring(1),At);break;default:Ze=XO(Ft)}if(Ze===null||(As.push(Ze[0]),(Ft=Z5(Ze[1]))!==""&&Ft.charAt(0)!==","))return Og;Ft=Ft.replace(/^,/,"")}return As}(Ke);if(this.fontFaces){var st=YO(Be(this.pdf,this.fontFaces),Ye.map(function(xt){return{family:xt,stretch:"normal",weight:We,style:Je}}));this.pdf.setFont(st.ref.name,st.ref.style)}else{var pt="";(We==="bold"||parseInt(We,10)>=700||Je==="bold")&&(pt="bold"),Je==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var ht="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<Ye.length;at++){if(this.pdf.internal.getFont(Ye[at],pt,{noFallback:!0,disableWarning:!0})!==void 0){ht=Ye[at];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(Ye[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Ye[at],pt="bold";else if(this.pdf.internal.getFont(Ye[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Ye[at],pt="normal";break}}if(ht===""){for(var bt=0;bt<Ye.length;bt++)if(ft[Ye[bt]]){ht=ft[Ye[bt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,W){if(isNaN(I)||isNaN(W))throw hs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(I,W));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(I,W)},h.prototype.closePath=function(){var I=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&os(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){I=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},h.prototype.lineTo=function(I,W){if(isNaN(I)||isNaN(W))throw hs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(I,W));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,W,Z,te){if(isNaN(Z)||isNaN(te)||isNaN(I)||isNaN(W))throw hs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Z,te)),ge=this.ctx.transform.applyToPoint(new o(I,W));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},h.prototype.bezierCurveTo=function(I,W,Z,te,ae,ge){if(isNaN(ae)||isNaN(ge)||isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te))throw hs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(ae,ge)),oe=this.ctx.transform.applyToPoint(new o(I,W)),_e=this.ctx.transform.applyToPoint(new o(Z,te));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:_e.x,y2:_e.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},h.prototype.arc=function(I,W,Z,te,ae,ge){if(isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te)||isNaN(ae))throw hs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(I,W));I=be.x,W=be.y;var oe=this.ctx.transform.applyToPoint(new o(0,Z)),_e=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(oe.x-_e.x,2)+Math.pow(oe.y-_e.y,2))}Math.abs(ae-te)>=2*Math.PI&&(te=0,ae=2*Math.PI),this.path.push({type:"arc",x:I,y:W,radius:Z,startAngle:te,endAngle:ae,counterclockwise:ge})},h.prototype.arcTo=function(I,W,Z,te,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,W,Z,te){if(isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te))throw hs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,W),this.lineTo(I+Z,W),this.lineTo(I+Z,W+te),this.lineTo(I,W+te),this.lineTo(I,W),this.lineTo(I+Z,W),this.lineTo(I,W)},h.prototype.fillRect=function(I,W,Z,te){if(isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te))throw hs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,W,Z,te),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(I,W,Z,te){if(isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te))throw hs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(I,W,Z,te),this.stroke())},h.prototype.clearRect=function(I,W,Z,te){if(isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te))throw hs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,W,Z,te))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var W,Z,te,ae;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))W=0,Z=0,te=0,ae=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ge!==null)W=parseInt(ge[1]),Z=parseInt(ge[2]),te=parseInt(ge[3]),ae=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)W=parseInt(ge[1]),Z=parseInt(ge[2]),te=parseInt(ge[3]),ae=parseFloat(ge[4]);else{if(ae=1,typeof I=="string"&&I.charAt(0)!=="#"){var be=new YS(I);I=be.ok?be.toHex():"#000000"}I.length===4?(W=I.substring(1,2),W+=W,Z=I.substring(2,3),Z+=Z,te=I.substring(3,4),te+=te):(W=I.substring(1,3),Z=I.substring(3,5),te=I.substring(5,7)),W=parseInt(W,16),Z=parseInt(Z,16),te=parseInt(te,16)}}return{r:W,g:Z,b:te,a:ae,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,W,Z,te){if(isNaN(W)||isNaN(Z)||typeof I!="string")throw hs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ae=z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;O.call(this,{text:I,x:W,y:Z,scale:ge,angle:ae,align:this.textAlign,maxWidth:te})}},h.prototype.strokeText=function(I,W,Z,te){if(isNaN(W)||isNaN(Z)||typeof I!="string")throw hs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){te=isNaN(te)?void 0:te;var ae=z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;O.call(this,{text:I,x:W,y:Z,scale:ge,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:te})}},h.prototype.measureText=function(I){if(typeof I!="string")throw hs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Z=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),ae=W.getStringUnitWidth(I)*te/W.internal.scaleFactor,ge=function(be){var oe=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this};return new ge({width:ae*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(I,W){if(isNaN(I)||isNaN(W))throw hs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(I,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(I){if(isNaN(I))throw hs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.translate=function(I,W){if(isNaN(I)||isNaN(W))throw hs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,I,W);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(I,W,Z,te,ae,ge){if(isNaN(I)||isNaN(W)||isNaN(Z)||isNaN(te)||isNaN(ae)||isNaN(ge))throw hs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(I,W,Z,te,ae,ge);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(I,W,Z,te,ae,ge){I=isNaN(I)?1:I,W=isNaN(W)?0:W,Z=isNaN(Z)?0:Z,te=isNaN(te)?1:te,ae=isNaN(ae)?0:ae,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(I,W,Z,te,ae,ge)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,W,Z,te,ae,ge,be,oe,_e){var Ee=this.pdf.getImageProperties(I),ze=1,Be=1,Pe=1,he=1;te!==void 0&&oe!==void 0&&(Pe=oe/te,he=_e/ae,ze=Ee.width/te*oe/te,Be=Ee.height/ae*_e/ae),ge===void 0&&(ge=W,be=Z,W=0,Z=0),te!==void 0&&oe===void 0&&(oe=te,_e=ae),te===void 0&&oe===void 0&&(oe=Ee.width,_e=Ee.height);for(var Y,Je=this.ctx.transform.decompose(),We=z(Je.rotate.shx),Ie=new c,Ke=(Ie=(Ie=(Ie=Ie.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(ge-W*Pe,be-Z*he,te*ze,ae*Be)),Qe=N.call(this,Ke),Ye=[],st=0;st<Qe.length;st+=1)Ye.indexOf(Qe[st])===-1&&Ye.push(Qe[st]);if(b(Ye),this.autoPaging)for(var pt=Ye[0],ht=Ye[Ye.length-1],ft=pt;ft<ht+1;ft++){this.pdf.setPage(ft);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ft===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=ft===1?0:xt+(ft-2)*At;if(this.ctx.clip_path.length!==0){var As=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Y,this.posX+this.margin[3],-Ze+bt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=As}var Ft=JSON.parse(JSON.stringify(Ke));Ft=v([Ft],this.posX+this.margin[3],-Ze+bt+this.ctx.prevPageLastElemOffset)[0];var Hr=(ft>pt||ft<ht)&&j.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,At,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,We),Hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,We)};var N=function(I,W,Z){var te=[];W=W||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":te.push(Math.floor((I.y+ae)/Z)+1);break;case"arc":te.push(Math.floor((I.y+ae-I.radius)/Z)+1),te.push(Math.floor((I.y+ae+I.radius)/Z)+1);break;case"qct":var ge=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);te.push(Math.floor((ge.y+ae)/Z)+1),te.push(Math.floor((ge.y+ge.h+ae)/Z)+1);break;case"bct":var be=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);te.push(Math.floor((be.y+ae)/Z)+1),te.push(Math.floor((be.y+be.h+ae)/Z)+1);break;case"rect":te.push(Math.floor((I.y+ae)/Z)+1),te.push(Math.floor((I.y+I.h+ae)/Z)+1)}for(var oe=0;oe<te.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<te[oe];)y.call(this);return te},y=function(){var I=this.fillStyle,W=this.strokeStyle,Z=this.font,te=this.lineCap,ae=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=W,this.font=Z,this.lineCap=te,this.lineWidth=ae,this.lineJoin=ge},v=function(I,W,Z){for(var te=0;te<I.length;te++)switch(I[te].type){case"bct":I[te].x2+=W,I[te].y2+=Z;case"qct":I[te].x1+=W,I[te].y1+=Z;case"mt":case"lt":case"arc":default:I[te].x+=W,I[te].y+=Z}return I},b=function(I){return I.sort(function(W,Z){return W-Z})},k=function(I,W){for(var Z,te,ae=this.fillStyle,ge=this.strokeStyle,be=this.lineCap,oe=this.lineWidth,_e=Math.abs(oe*this.ctx.transform.scaleX),Ee=this.lineJoin,ze=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),Pe=[],he=0;he<Be.length;he++)if(Be[he].x!==void 0)for(var Y=N.call(this,Be[he]),Je=0;Je<Y.length;Je+=1)Pe.indexOf(Y[Je])===-1&&Pe.push(Y[Je]);for(var We=0;We<Pe.length;We++)for(;this.pdf.internal.getNumberOfPages()<Pe[We];)y.call(this);if(b(Pe),this.autoPaging)for(var Ie=Pe[0],Ke=Pe[Pe.length-1],Qe=Ie;Qe<Ke+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=ae,this.strokeStyle=ge,this.lineCap=be,this.lineWidth=_e,this.lineJoin=Ee;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=Qe===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Qe===1?0:pt+(Qe-2)*ht;if(this.ctx.clip_path.length!==0){var at=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Z,this.posX+this.margin[3],-ft+st+this.ctx.prevPageLastElemOffset),_.call(this,I,!0),this.path=at}if(te=JSON.parse(JSON.stringify(ze)),this.path=v(te,this.posX+this.margin[3],-ft+st+this.ctx.prevPageLastElemOffset),W===!1||Qe===0){var bt=(Qe>Ie||Qe<Ke)&&j.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,ht,null).clip().discardPath()),_.call(this,I,W),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=_e,_.call(this,I,W),this.lineWidth=oe;this.path=ze},_=function(I,W){if((I!=="stroke"||W||!x.call(this))&&(I==="stroke"||W||!p.call(this))){for(var Z,te,ae=[],ge=this.path,be=0;be<ge.length;be++){var oe=ge[be];switch(oe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:oe,deltas:[],abs:[]});break;case"lt":var _e=ae.length;if(ge[be-1]&&!isNaN(ge[be-1].x)&&(Z=[oe.x-ge[be-1].x,oe.y-ge[be-1].y],_e>0)){for(;_e>=0;_e--)if(ae[_e-1].close!==!0&&ae[_e-1].begin!==!0){ae[_e-1].deltas.push(Z),ae[_e-1].abs.push(oe);break}}break;case"bct":Z=[oe.x1-ge[be-1].x,oe.y1-ge[be-1].y,oe.x2-ge[be-1].x,oe.y2-ge[be-1].y,oe.x-ge[be-1].x,oe.y-ge[be-1].y],ae[ae.length-1].deltas.push(Z);break;case"qct":var Ee=ge[be-1].x+2/3*(oe.x1-ge[be-1].x),ze=ge[be-1].y+2/3*(oe.y1-ge[be-1].y),Be=oe.x+2/3*(oe.x1-oe.x),Pe=oe.y+2/3*(oe.y1-oe.y),he=oe.x,Y=oe.y;Z=[Ee-ge[be-1].x,ze-ge[be-1].y,Be-ge[be-1].x,Pe-ge[be-1].y,he-ge[be-1].x,Y-ge[be-1].y],ae[ae.length-1].deltas.push(Z);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(oe)}}te=W?null:I==="stroke"?"stroke":"fill";for(var Je=!1,We=0;We<ae.length;We++)if(ae[We].arc)for(var Ie=ae[We].abs,Ke=0;Ke<Ie.length;Ke++){var Qe=Ie[Ke];Qe.type==="arc"?T.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,W,!Je):X.call(this,Qe.x,Qe.y),Je=!0}else if(ae[We].close===!0)this.pdf.internal.out("h"),Je=!1;else if(ae[We].begin!==!0){var Ye=ae[We].start.x,st=ae[We].start.y;K.call(this,ae[We].deltas,Ye,st),Je=!0}te&&q.call(this,te),W&&G.call(this)}},C=function(I){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-Z;case"top":return I+W-Z;case"hanging":return I+W-2*Z;case"middle":return I+W/2-Z;case"ideographic":return I;case"alphabetic":default:return I}},L=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(W,Z){this.colorStops.push([W,Z])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(I,W,Z,te,ae,ge,be,oe,_e){for(var Ee=V.call(this,Z,te,ae,ge),ze=0;ze<Ee.length;ze++){var Be=Ee[ze];ze===0&&(_e?M.call(this,Be.x1+I,Be.y1+W):X.call(this,Be.x1+I,Be.y1+W)),de.call(this,I,W,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}oe?G.call(this):q.call(this,be)},q=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(I,W){this.pdf.internal.out(s(I)+" "+n(W)+" m")},O=function(I){var W;switch(I.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Z=this.pdf.getTextDimensions(I.text),te=C.call(this,I.y),ae=L.call(this,te)-Z.h,ge=this.ctx.transform.applyToPoint(new o(I.x,te)),be=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var _e,Ee,ze,Be=this.ctx.transform.applyToRectangle(new l(I.x,te,Z.w,Z.h)),Pe=oe.applyToRectangle(new l(I.x,ae,Z.w,Z.h)),he=N.call(this,Pe),Y=[],Je=0;Je<he.length;Je+=1)Y.indexOf(he[Je])===-1&&Y.push(he[Je]);if(b(Y),this.autoPaging)for(var We=Y[0],Ie=Y[Y.length-1],Ke=We;Ke<Ie+1;Ke++){this.pdf.setPage(Ke);var Qe=Ke===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],pt=st-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],ft=ht-this.margin[3],at=Ke===1?0:Ye+(Ke-2)*pt;if(this.ctx.clip_path.length!==0){var bt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(_e,this.posX+this.margin[3],-1*at+Qe),_.call(this,"fill",!0),this.path=bt}var xt=v([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-at+Qe+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*I.scale),ze=this.lineWidth,this.lineWidth=ze*I.scale);var At=this.autoPaging!=="text";if(At||xt.y+xt.h<=st){if(At||xt.y>=Qe&&xt.x<=ht){var Ze=At?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||ht-xt.x)[0],As=v([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-at+Qe+this.ctx.prevPageLastElemOffset)[0],Ft=At&&(Ke>We||Ke<Ie)&&j.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,pt,null).clip().discardPath()),this.pdf.text(Ze,As.x,As.y,{angle:I.angle,align:W,renderingMode:I.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else xt.y<st&&(this.ctx.prevPageLastElemOffset+=st-xt.y);I.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ze)}else I.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*I.scale),ze=this.lineWidth,this.lineWidth=ze*I.scale),this.pdf.text(I.text,ge.x+this.posX,ge.y+this.posY,{angle:I.angle,align:W,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ze)},X=function(I,W,Z,te){Z=Z||0,te=te||0,this.pdf.internal.out(s(I+Z)+" "+n(W+te)+" l")},K=function(I,W,Z){return this.pdf.lines(I,W,Z,null,null)},de=function(I,W,Z,te,ae,ge,be,oe){this.pdf.internal.out([t(i(Z+I)),t(a(te+W)),t(i(ae+I)),t(a(ge+W)),t(i(be+I)),t(a(oe+W)),"c"].join(" "))},V=function(I,W,Z,te){for(var ae=2*Math.PI,ge=Math.PI/2;W>Z;)W-=ae;var be=Math.abs(Z-W);be<ae&&te&&(be=ae-be);for(var oe=[],_e=te?-1:1,Ee=W;be>1e-5;){var ze=Ee+_e*Math.min(be,ge);oe.push(ne.call(this,I,Ee,ze)),be-=Math.abs(ze-Ee),Ee=ze}return oe},ne=function(I,W,Z){var te=(Z-W)/2,ae=I*Math.cos(te),ge=I*Math.sin(te),be=ae,oe=-ge,_e=be*be+oe*oe,Ee=_e+be*ae+oe*ge,ze=4/3*(Math.sqrt(2*_e*Ee)-Ee)/(be*ge-oe*ae),Be=be-ze*oe,Pe=oe+ze*be,he=Be,Y=-Pe,Je=te+W,We=Math.cos(Je),Ie=Math.sin(Je);return{x1:I*Math.cos(W),y1:I*Math.sin(W),x2:Be*We-Pe*Ie,y2:Be*Ie+Pe*We,x3:he*We-Y*Ie,y3:he*Ie+Y*We,x4:I*Math.cos(Z),y4:I*Math.sin(Z)}},z=function(I){return 180*I/Math.PI},Q=function(I,W,Z,te,ae,ge){var be=I+.5*(Z-I),oe=W+.5*(te-W),_e=ae+.5*(Z-ae),Ee=ge+.5*(te-ge),ze=Math.min(I,ae,be,_e),Be=Math.max(I,ae,be,_e),Pe=Math.min(W,ge,oe,Ee),he=Math.max(W,ge,oe,Ee);return new l(ze,Pe,Be-ze,he-Pe)},se=function(I,W,Z,te,ae,ge,be,oe){var _e,Ee,ze,Be,Pe,he,Y,Je,We,Ie,Ke,Qe,Ye,st,pt=Z-I,ht=te-W,ft=ae-Z,at=ge-te,bt=be-ae,xt=oe-ge;for(Ee=0;Ee<41;Ee++)We=(Y=(ze=I+(_e=Ee/40)*pt)+_e*((Pe=Z+_e*ft)-ze))+_e*(Pe+_e*(ae+_e*bt-Pe)-Y),Ie=(Je=(Be=W+_e*ht)+_e*((he=te+_e*at)-Be))+_e*(he+_e*(ge+_e*xt-he)-Je),Ee==0?(Ke=We,Qe=Ie,Ye=We,st=Ie):(Ke=Math.min(Ke,We),Qe=Math.min(Qe,Ie),Ye=Math.max(Ye,We),st=Math.max(st,Ie));return new l(Math.round(Ke),Math.round(Qe),Math.round(Ye-Ke),Math.round(st-Qe))},ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,W,Z=(I=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:W}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(wt.API),function(e){var t=function(a){var o,l,c,d,u,h,m,p,x,j;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(u=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(j=u%85))/85)-(x=u%85))/85)-(p=u%85))/85)-(m=u%85))/85)%85,l.push(h+33,m+33,p+33,x+33,j+33)):l.push(122);return function(N,y){for(var v=y;v>0;v--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},s=function(a){var o,l,c,d,u,h=String,m="length",p=255,x="charCodeAt",j="slice",N="replace";for(a[j](-2),a=a[j](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],d=0,u=(a+=o="uuuuu"[j](a[m]%5||5))[m];u>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,v){for(var b=v;b>0;b--)y.pop()}(c,o[m]),h.fromCharCode.apply(h,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=Iy(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=s(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(wt.API),function(e){e.loadFile=function(t,s,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,m=0,p=function(x){var j=x.length,N=[],y=String.fromCharCode;for(m=0;m<j;m+=1)N.push(y(255&x.charCodeAt(m)));return N.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(p(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)}(i,a,o)}catch{}return l}(t,s,n)},e.loadImageFile=e.loadFile}(wt.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):xl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function s(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):xl(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=os(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(s).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var p=d[m],x=p.src.find(function(j){return j.format==="truetype"});x&&c.addFont(x.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,wt.getPageSize=function(o,l,c){if(os(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,x=0,j=0;if(m.hasOwnProperty(h))x=m[h][1]/u,j=m[h][0]/u;else try{x=c[1],j=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",j>x&&(p=j,j=x,x=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>j&&(p=j,j=x,x=p)}return{width:j,height:x,unit:l,k:u,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Uy):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(wt.API),wt.API.addJS=function(e){return tN=e,this.internal.events.subscribe("postPutResources",function(){im=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(im+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),eN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){im!==void 0&&eN!==void 0&&this.internal.out("/Names <</JavaScript "+im+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var s=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=s.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];s.internal.newObjectDeferredBegin(c,!1)}s.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var h=s.internal.newObject();u.push(h);var m=s.internal.getPageInfo(a+1);s.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=s.internal.newObject();for(s.internal.write("<< /Names [ "),a=0;a<u.length;a++)s.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+p+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(n){n.id=s.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},s.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},s.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=s.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},s.outline.line=function(n){this.ctx.val+=n+`\r
`},s.outline.makeRef=function(n){return n.id+" 0 R"},s.outline.makeString=function(n){return"("+s.internal.pdfEscape(n)+")"},s.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=o||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,(c=function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,j={width:0,height:0,numcomponents:1},N=4;N<x;N+=2){if(N+=p,t.indexOf(h.charCodeAt(N+1))!==-1){m=256*h.charCodeAt(N+5)+h.charCodeAt(N+6),j={width:256*h.charCodeAt(N+7)+h.charCodeAt(N+8),height:m,numcomponents:h.charCodeAt(N+9)};break}p=256*h.charCodeAt(N+2)+h.charCodeAt(N+3)}return j}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:s,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(wt.API);var Wc,am,sN,rN,nN,QO=function(){var e,t,s;function n(a){var o,l,c,d,u,h,m,p,x,j,N,y,v,b;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),x=(function(){var k,_;for(_=[],k=0;k<4;++k)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,o-=4),a=(h!=null?h.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((j=c-this.transparency.indexed.length)>0)for(v=0;0<=j?v<j:v>j;0<=j?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,N.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(h,m,p,x){var j,N,y,v,b,k,_,C,L,T,q,G,M,O,X,K,de,V,ne,z,Q,se=Math.ceil((d.width-h)/p),ue=Math.ceil((d.height-m)/x),I=d.width==se&&d.height==ue;for(O=o*se,G=I?l:new Uint8Array(O*ue),k=a.length,M=0,N=0;M<ue&&c<k;){switch(a[c++]){case 0:for(v=de=0;de<O;v=de+=1)G[N++]=a[c++];break;case 1:for(v=V=0;V<O;v=V+=1)j=a[c++],b=v<o?0:G[N-o],G[N++]=(j+b)%256;break;case 2:for(v=ne=0;ne<O;v=ne+=1)j=a[c++],y=(v-v%o)/o,X=M&&G[(M-1)*O+y*o+v%o],G[N++]=(X+j)%256;break;case 3:for(v=z=0;z<O;v=z+=1)j=a[c++],y=(v-v%o)/o,b=v<o?0:G[N-o],X=M&&G[(M-1)*O+y*o+v%o],G[N++]=(j+Math.floor((b+X)/2))%256;break;case 4:for(v=Q=0;Q<O;v=Q+=1)j=a[c++],y=(v-v%o)/o,b=v<o?0:G[N-o],M===0?X=K=0:(X=G[(M-1)*O+y*o+v%o],K=y&&G[(M-1)*O+(y-1)*o+v%o]),_=b+X-K,C=Math.abs(_-b),T=Math.abs(_-X),q=Math.abs(_-K),L=C<=T&&C<=q?b:T<=q?X:K,G[N++]=(j+L)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!I){var W=((m+M*x)*d.width+h)*o,Z=M*O;for(v=0;v<se;v+=1){for(var te=0;te<o;te+=1)l[W++]=G[Z++];W+=(p-1)*o}}M++}}return a=PO(a),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,c,d,u,h,m,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,a=0,o=h=0,m=l.length;h<m;o=h+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(p=u[a++])!=null?p:255;return d},n.prototype.copyToImageData=function(a,o){var l,c,d,u,h,m,p,x,j,N,y;if(c=this.colors,j=null,l=this.hasAlphaChannel,this.palette.length&&(j=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=a.data||a).length,h=j||o,u=m=0,c===1)for(;u<x;)p=j?4*o[u/4]:m,N=h[p++],d[u++]=N,d[u++]=N,d[u++]=N,d[u++]=l?h[p++]:255,m=p;else for(;u<x;)p=j?4*o[u/4]:m,d[u++]=h[p++],d[u++]=h[p++],d[u++]=h[p++],d[u++]=l?h[p++]:255,m=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{t=jt.document.createElement("canvas"),s=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return s.width=a.width,s.height=a.height,s.clearRect(0,0,a.width,a.height),s.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,c,d,u,h,m,p;if(this.animation){for(p=[],l=u=0,h=(m=this.animation.frames).length;u<h;l=++u)o=m[l],c=a.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(a,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,c,d,u,h,m=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(o=function(){var p,x;if(p=l++%d,x=c[p],m.renderFrame(a,p),d>1&&l/d<u)return m.animation._timeout=setTimeout(o,x.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ZO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,m=null,p=0,x=null;for(this.width=s,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],!(1&j)&&(m=null),p=j>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,k=e[t++],_=k>>6&1,C=1<<(7&k)+1,L=l,T=c,q=!1;k>>7&&(q=!0,L=t,T=C,t+=3*C);var G=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}u.push({x:N,y,width:v,height:b,has_local_palette:q,palette_offset:L,palette_size:T,data_offset:G,data_length:t-G,transparent_index:m,interlaced:!!_,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=u.length)throw new Error("Frame index out of range.");return u[O]},this.decodeAndBlitFrameBGRA=function(O,X){var K=this.frameInfo(O),de=K.width*K.height,V=new Uint8Array(de);iN(e,K.data_offset,V,de);var ne=K.palette_offset,z=K.transparent_index;z===null&&(z=256);var Q=K.width,se=s-Q,ue=Q,I=4*(K.y*s+K.x),W=4*((K.y+K.height)*s+K.x),Z=I,te=4*se;K.interlaced===!0&&(te+=4*s*7);for(var ae=8,ge=0,be=V.length;ge<be;++ge){var oe=V[ge];if(ue===0&&(ue=Q,(Z+=te)>=W&&(te=4*se+4*s*(ae-1),Z=I+(Q+se)*(ae<<1),ae>>=1)),oe===z)Z+=4;else{var _e=e[ne+3*oe],Ee=e[ne+3*oe+1],ze=e[ne+3*oe+2];X[Z++]=ze,X[Z++]=Ee,X[Z++]=_e,X[Z++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(O,X){var K=this.frameInfo(O),de=K.width*K.height,V=new Uint8Array(de);iN(e,K.data_offset,V,de);var ne=K.palette_offset,z=K.transparent_index;z===null&&(z=256);var Q=K.width,se=s-Q,ue=Q,I=4*(K.y*s+K.x),W=4*((K.y+K.height)*s+K.x),Z=I,te=4*se;K.interlaced===!0&&(te+=4*s*7);for(var ae=8,ge=0,be=V.length;ge<be;++ge){var oe=V[ge];if(ue===0&&(ue=Q,(Z+=te)>=W&&(te=4*se+4*s*(ae-1),Z=I+(Q+se)*(ae<<1),ae>>=1)),oe===z)Z+=4;else{var _e=e[ne+3*oe],Ee=e[ne+3*oe+1],ze=e[ne+3*oe+2];X[Z++]=_e,X[Z++]=Ee,X[Z++]=ze,X[Z++]=255}--ue}}}function iN(e,t,s,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,h=0,m=0,p=e[t++],x=new Int32Array(4096),j=null;;){for(;u<16&&p!==0;)h|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<c)break;var N=h&d;if(h>>=c,u-=c,N!==a){if(N===o)break;for(var y=N<l?N:j,v=0,b=y;b>a;)b=x[b]>>8,++v;var k=b;if(m+v+(y!==N?1:0)>n)return void hs.log("Warning, gif stream longer than expected.");s[m++]=k;var _=m+=v;for(y!==N&&(s[m++]=k),b=y;v--;)b=x[b],s[--_]=255&b,b>>=8;j!==null&&l<4096&&(x[l++]=j<<8|k,l>=d+1&&c<12&&(++c,d=d<<1|1)),j=N}else l=o+1,d=(1<<(c=i+1))-1,j=null}return m!==n&&hs.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fg(e){var t,s,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),x=new Array(64),j=[],N=0,y=7,v=new Array(64),b=new Array(64),k=new Array(64),_=new Array(256),C=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(I,W){for(var Z=0,te=0,ae=new Array,ge=1;ge<=16;ge++){for(var be=1;be<=I[ge];be++)ae[W[te]]=[],ae[W[te]][0]=Z,ae[W[te]][1]=ge,te++,Z++;Z*=2}return ae}function ne(I){for(var W=I[0],Z=I[1]-1;Z>=0;)W&1<<Z&&(N|=1<<y),Z--,--y<0&&(N==255?(z(255),z(0)):z(N),y=7,N=0)}function z(I){j.push(I)}function Q(I){z(I>>8&255),z(255&I)}function se(I,W,Z,te,ae){for(var ge,be=ae[0],oe=ae[240],_e=function(Ie,Ke){var Qe,Ye,st,pt,ht,ft,at,bt,xt,At,Ze=0;for(xt=0;xt<8;++xt){Qe=Ie[Ze],Ye=Ie[Ze+1],st=Ie[Ze+2],pt=Ie[Ze+3],ht=Ie[Ze+4],ft=Ie[Ze+5],at=Ie[Ze+6];var As=Qe+(bt=Ie[Ze+7]),Ft=Qe-bt,Hr=Ye+at,Et=Ye-at,Gt=st+ft,Wr=st-ft,zt=pt+ht,Es=pt-ht,_t=As+zt,cr=As-zt,Ir=Hr+Gt,cs=Hr-Gt;Ie[Ze]=_t+Ir,Ie[Ze+4]=_t-Ir;var Nt=.707106781*(cs+cr);Ie[Ze+2]=cr+Nt,Ie[Ze+6]=cr-Nt;var vt=.382683433*((_t=Es+Wr)-(cs=Et+Ft)),un=.5411961*_t+vt,qs=1.306562965*cs+vt,Ps=.707106781*(Ir=Wr+Et),Qs=Ft+Ps,mt=Ft-Ps;Ie[Ze+5]=mt+un,Ie[Ze+3]=mt-un,Ie[Ze+1]=Qs+qs,Ie[Ze+7]=Qs-qs,Ze+=8}for(Ze=0,xt=0;xt<8;++xt){Qe=Ie[Ze],Ye=Ie[Ze+8],st=Ie[Ze+16],pt=Ie[Ze+24],ht=Ie[Ze+32],ft=Ie[Ze+40],at=Ie[Ze+48];var rs=Qe+(bt=Ie[Ze+56]),hn=Qe-bt,dr=Ye+at,ps=Ye-at,ns=st+ft,ot=st-ft,ha=pt+ht,Wn=pt-ht,fn=rs+ha,Gr=rs-ha,mn=dr+ns,_n=dr-ns;Ie[Ze]=fn+mn,Ie[Ze+32]=fn-mn;var ur=.707106781*(_n+Gr);Ie[Ze+16]=Gr+ur,Ie[Ze+48]=Gr-ur;var An=.382683433*((fn=Wn+ot)-(_n=ps+hn)),Di=.5411961*fn+An,Oi=1.306562965*_n+An,En=.707106781*(mn=ot+ps),Fi=hn+En,di=hn-En;Ie[Ze+40]=di+Di,Ie[Ze+24]=di-Di,Ie[Ze+8]=Fi+Oi,Ie[Ze+56]=Fi-Oi,Ze++}for(xt=0;xt<64;++xt)At=Ie[xt]*Ke[xt],p[xt]=At>0?At+.5|0:At-.5|0;return p}(I,W),Ee=0;Ee<64;++Ee)x[L[Ee]]=_e[Ee];var ze=x[0]-Z;Z=x[0],ze==0?ne(te[0]):(ne(te[m[ge=32767+ze]]),ne(h[ge]));for(var Be=63;Be>0&&x[Be]==0;)Be--;if(Be==0)return ne(be),Z;for(var Pe,he=1;he<=Be;){for(var Y=he;x[he]==0&&he<=Be;)++he;var Je=he-Y;if(Je>=16){Pe=Je>>4;for(var We=1;We<=Pe;++We)ne(oe);Je&=15}ge=32767+x[he],ne(ae[(Je<<4)+m[ge]]),ne(h[ge]),he++}return Be!=63&&ne(be),Z}function ue(I){I=Math.min(Math.max(I,1),100),a!=I&&(function(W){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ae=o((Z[te]*W+50)/100);ae=Math.min(Math.max(ae,1),255),l[L[te]]=ae}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var oe=o((ge[be]*W+50)/100);oe=Math.min(Math.max(oe,1),255),c[L[be]]=oe}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ze=0;ze<8;ze++)for(var Be=0;Be<8;Be++)d[Ee]=1/(l[L[Ee]]*_e[ze]*_e[Be]*8),u[Ee]=1/(c[L[Ee]]*_e[ze]*_e[Be]*8),Ee++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),a=I)}this.encode=function(I,W){W&&ue(W),j=new Array,N=0,y=7,Q(65496),Q(65504),Q(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),Q(1),Q(1),z(0),z(0),function(){Q(65499),Q(132),z(0);for(var Ye=0;Ye<64;Ye++)z(l[Ye]);z(1);for(var st=0;st<64;st++)z(c[st])}(),function(Ye,st){Q(65472),Q(17),z(8),Q(st),Q(Ye),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(I.width,I.height),function(){Q(65476),Q(418),z(0);for(var Ye=0;Ye<16;Ye++)z(T[Ye+1]);for(var st=0;st<=11;st++)z(q[st]);z(16);for(var pt=0;pt<16;pt++)z(G[pt+1]);for(var ht=0;ht<=161;ht++)z(M[ht]);z(1);for(var ft=0;ft<16;ft++)z(O[ft+1]);for(var at=0;at<=11;at++)z(X[at]);z(17);for(var bt=0;bt<16;bt++)z(K[bt+1]);for(var xt=0;xt<=161;xt++)z(de[xt])}(),Q(65498),Q(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var Z=0,te=0,ae=0;N=0,y=7,this.encode.displayName="_encode_";for(var ge,be,oe,_e,Ee,ze,Be,Pe,he,Y=I.data,Je=I.width,We=I.height,Ie=4*Je,Ke=0;Ke<We;){for(ge=0;ge<Ie;){for(Ee=Ie*Ke+ge,Be=-1,Pe=0,he=0;he<64;he++)ze=Ee+(Pe=he>>3)*Ie+(Be=4*(7&he)),Ke+Pe>=We&&(ze-=Ie*(Ke+1+Pe-We)),ge+Be>=Ie&&(ze-=ge+Be-Ie+4),be=Y[ze++],oe=Y[ze++],_e=Y[ze++],v[he]=(C[be]+C[oe+256>>0]+C[_e+512>>0]>>16)-128,b[he]=(C[be+768>>0]+C[oe+1024>>0]+C[_e+1280>>0]>>16)-128,k[he]=(C[be+1280>>0]+C[oe+1536>>0]+C[_e+1792>>0]>>16)-128;Z=se(v,d,Z,t,n),te=se(b,u,te,s,i),ae=se(k,u,ae,s,i),ge+=32}Ke+=8}if(y>=0){var Qe=[];Qe[1]=y+1,Qe[0]=(1<<y+1)-1,ne(Qe)}return Q(65497),new Uint8Array(j)},e=e||50,function(){for(var I=String.fromCharCode,W=0;W<256;W++)_[W]=I(W)}(),t=V(T,q),s=V(O,X),n=V(G,M),i=V(K,de),function(){for(var I=1,W=2,Z=1;Z<=15;Z++){for(var te=I;te<W;te++)m[32767+te]=Z,h[32767+te]=[],h[32767+te][1]=Z,h[32767+te][0]=te;for(var ae=-(W-1);ae<=-I;ae++)m[32767+ae]=Z,h[32767+ae]=[],h[32767+ae][1]=Z,h[32767+ae][0]=W-1+ae;I<<=1,W<<=1}}(),function(){for(var I=0;I<256;I++)C[I]=19595*I,C[I+256>>0]=38470*I,C[I+512>>0]=7471*I+32768,C[I+768>>0]=-11059*I,C[I+1024>>0]=-21709*I,C[I+1280>>0]=32768*I+8421375,C[I+1536>>0]=-27439*I,C[I+1792>>0]=-5329*I}(),ue(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ji(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aN(e){function t(T){if(!T)throw Error("assert :P")}function s(T,q,G){for(var M=0;4>M;M++)if(T[q+M]!=G.charCodeAt(M))return!0;return!1}function n(T,q,G,M,O){for(var X=0;X<O;X++)T[q+X]=G[M+X]}function i(T,q,G,M){for(var O=0;O<M;O++)T[q+O]=G}function a(T){return new Int32Array(T)}function o(T,q){for(var G=[],M=0;M<T;M++)G.push(new q);return G}function l(T,q){var G=[];return function M(O,X,K){for(var de=K[X],V=0;V<de&&(O.push(K.length>X+1?[]:new q),!(K.length<X+1));V++)M(O[V],X+1,K)}(G,0,T),G}var c=function(){var T=this;function q(f,g){for(var S=1<<g-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function G(f,g,S,A,R){t(!(A%S));do f[g+(A-=S)]=R;while(0<A)}function M(f,g,S,A,R){if(t(2328>=R),512>=R)var F=a(512);else if((F=a(R))==null)return 0;return function(U,$,H,J,le,we){var Ne,pe,Me=$,ke=1<<H,ce=a(16),fe=a(16);for(t(le!=0),t(J!=null),t(U!=null),t(0<H),pe=0;pe<le;++pe){if(15<J[pe])return 0;++ce[J[pe]]}if(ce[0]==le)return 0;for(fe[1]=0,Ne=1;15>Ne;++Ne){if(ce[Ne]>1<<Ne)return 0;fe[Ne+1]=fe[Ne]+ce[Ne]}for(pe=0;pe<le;++pe)Ne=J[pe],0<J[pe]&&(we[fe[Ne]++]=pe);if(fe[15]==1)return(J=new O).g=0,J.value=we[0],G(U,Me,1,ke,J),ke;var Te,Fe=-1,Le=ke-1,nt=0,Xe=1,yt=1,tt=1<<H;for(pe=0,Ne=1,le=2;Ne<=H;++Ne,le<<=1){if(Xe+=yt<<=1,0>(yt-=ce[Ne]))return 0;for(;0<ce[Ne];--ce[Ne])(J=new O).g=Ne,J.value=we[pe++],G(U,Me+nt,le,tt,J),nt=q(nt,Ne)}for(Ne=H+1,le=2;15>=Ne;++Ne,le<<=1){if(Xe+=yt<<=1,0>(yt-=ce[Ne]))return 0;for(;0<ce[Ne];--ce[Ne]){if(J=new O,(nt&Le)!=Fe){for(Me+=tt,Te=1<<(Fe=Ne)-H;15>Fe&&!(0>=(Te-=ce[Fe]));)++Fe,Te<<=1;ke+=tt=1<<(Te=Fe-H),U[$+(Fe=nt&Le)].g=Te+H,U[$+Fe].value=Me-$-Fe}J.g=Ne-H,J.value=we[pe++],G(U,Me+(nt>>H),le,tt,J),nt=q(nt,Ne)}}return Xe!=2*fe[15]-1?0:ke}(f,g,S,A,R,F)}function O(){this.value=this.g=0}function X(){this.value=this.g=0}function K(){this.G=o(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fr,X)}function de(f,g,S,A){t(f!=null),t(g!=null),t(2147483648>A),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=S,f.Jd=g,f.Yc=S+A,f.Zc=4<=A?S+A-4+1:S,ge(f)}function V(f,g){for(var S=0;0<g--;)S|=oe(f,128)<<g;return S}function ne(f,g){var S=V(f,g);return be(f)?-S:S}function z(f,g,S,A){var R,F=0;for(t(f!=null),t(g!=null),t(4294967288>A),f.Sb=A,f.Ra=0,f.u=0,f.h=0,4<A&&(A=4),R=0;R<A;++R)F+=g[S+R]<<8*R;f.Ra=F,f.bb=A,f.oa=g,f.pa=S}function Q(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ec-8>>>0,++f.bb,f.u-=8;Z(f)&&(f.h=1,f.u=0)}function se(f,g){if(t(0<=g),!f.h&&g<=Ac){var S=W(f)&_c[g];return f.u+=g,Q(f),S}return f.h=1,f.u=0}function ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(f){return f.Ra>>>(f.u&Ec-1)>>>0}function Z(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ec}function te(f,g){f.u=g,f.h=Z(f)}function ae(f){f.u>=hu&&(t(f.u>=hu),Q(f))}function ge(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function be(f){return V(f,1)}function oe(f,g){var S=f.Ca;0>f.b&&ge(f);var A=f.b,R=S*g>>>8,F=(f.I>>>A>R)+0;for(F?(S-=R,f.I-=R+1<<A>>>0):S=R+1,A=S,R=0;256<=A;)R+=8,A>>=8;return A=7^R+Ln[A],f.b-=A,f.Ca=(S<<A)-1,F}function _e(f,g,S){f[g+0]=S>>24&255,f[g+1]=S>>16&255,f[g+2]=S>>8&255,f[g+3]=S>>0&255}function Ee(f,g){return f[g+0]<<0|f[g+1]<<8}function ze(f,g){return Ee(f,g)|f[g+2]<<16}function Be(f,g){return Ee(f,g)|Ee(f,g+2)<<16}function Pe(f,g){var S=1<<g;return t(f!=null),t(0<g),f.X=a(S),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function he(f,g){t(f!=null),t(g!=null),t(f.Xa==g.Xa),n(g.X,0,f.X,0,1<<g.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function Je(f,g,S,A){t(S!=null),t(A!=null);var R=S[0],F=A[0];return R==0&&(R=(f*F+g/2)/g),F==0&&(F=(g*R+f/2)/f),0>=R||0>=F?0:(S[0]=R,A[0]=F,1)}function We(f,g){return f+(1<<g)-1>>>g}function Ie(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function Ke(f,g){T[g]=function(S,A,R,F,U,$,H){var J;for(J=0;J<U;++J){var le=T[f]($[H+J-1],R,F+J);$[H+J]=Ie(S[A+J],le)}}}function Qe(){this.ud=this.hd=this.jd=0}function Ye(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function st(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function pt(f,g){return st(f+(f-g+.5>>1))}function ht(f,g,S){return Math.abs(g-S)-Math.abs(f-S)}function ft(f,g,S,A,R,F,U){for(A=F[U-1],S=0;S<R;++S)F[U+S]=A=Ie(f[g+S],A)}function at(f,g,S,A,R){var F;for(F=0;F<S;++F){var U=f[g+F],$=U>>8&255,H=16711935&(H=(H=16711935&U)+(($<<16)+$));A[R+F]=(4278255360&U)+H>>>0}}function bt(f,g){g.jd=f>>0&255,g.hd=f>>8&255,g.ud=f>>16&255}function xt(f,g,S,A,R,F){var U;for(U=0;U<A;++U){var $=g[S+U],H=$>>>8,J=$,le=255&(le=(le=$>>>16)+((f.jd<<24>>24)*(H<<24>>24)>>>5));J=255&(J=(J=J+((f.hd<<24>>24)*(H<<24>>24)>>>5))+((f.ud<<24>>24)*(le<<24>>24)>>>5)),R[F+U]=(4278255360&$)+(le<<16)+J}}function At(f,g,S,A,R){T[g]=function(F,U,$,H,J,le,we,Ne,pe){for(H=we;H<Ne;++H)for(we=0;we<pe;++we)J[le++]=R($[A(F[U++])])},T[f]=function(F,U,$,H,J,le,we){var Ne=8>>F.b,pe=F.Ea,Me=F.K[0],ke=F.w;if(8>Ne)for(F=(1<<F.b)-1,ke=(1<<Ne)-1;U<$;++U){var ce,fe=0;for(ce=0;ce<pe;++ce)ce&F||(fe=A(H[J++])),le[we++]=R(Me[fe&ke]),fe>>=Ne}else T["VP8LMapColor"+S](H,J,Me,ke,le,we,U,$,pe)}}function Ze(f,g,S,A,R){for(S=g+S;g<S;){var F=f[g++];A[R++]=F>>16&255,A[R++]=F>>8&255,A[R++]=F>>0&255}}function As(f,g,S,A,R){for(S=g+S;g<S;){var F=f[g++];A[R++]=F>>16&255,A[R++]=F>>8&255,A[R++]=F>>0&255,A[R++]=F>>24&255}}function Ft(f,g,S,A,R){for(S=g+S;g<S;){var F=(U=f[g++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;A[R++]=F,A[R++]=U}}function Hr(f,g,S,A,R){for(S=g+S;g<S;){var F=(U=f[g++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;A[R++]=F,A[R++]=U}}function Et(f,g,S,A,R){for(S=g+S;g<S;){var F=f[g++];A[R++]=F>>0&255,A[R++]=F>>8&255,A[R++]=F>>16&255}}function Gt(f,g,S,A,R,F){if(F==0)for(S=g+S;g<S;)_e(A,((F=f[g++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),R+=32;else n(A,R,f,g,S)}function Wr(f,g){T[g][0]=T[f+"0"],T[g][1]=T[f+"1"],T[g][2]=T[f+"2"],T[g][3]=T[f+"3"],T[g][4]=T[f+"4"],T[g][5]=T[f+"5"],T[g][6]=T[f+"6"],T[g][7]=T[f+"7"],T[g][8]=T[f+"8"],T[g][9]=T[f+"9"],T[g][10]=T[f+"10"],T[g][11]=T[f+"11"],T[g][12]=T[f+"12"],T[g][13]=T[f+"13"],T[g][14]=T[f+"0"],T[g][15]=T[f+"0"]}function zt(f){return f==f0||f==m0||f==vf||f==p0}function Es(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Es,this.f.kb=new _t,this.sd=null}function Ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function vt(f,g){var S=f.T,A=g.ba.f.RGBA,R=A.eb,F=A.fb+f.ka*A.A,U=wi[g.ba.S],$=f.y,H=f.O,J=f.f,le=f.N,we=f.ea,Ne=f.W,pe=g.cc,Me=g.dc,ke=g.Mc,ce=g.Nc,fe=f.ka,Te=f.ka+f.T,Fe=f.U,Le=Fe+1>>1;for(fe==0?U($,H,null,null,J,le,we,Ne,J,le,we,Ne,R,F,null,null,Fe):(U(g.ec,g.fc,$,H,pe,Me,ke,ce,J,le,we,Ne,R,F-A.A,R,F,Fe),++S);fe+2<Te;fe+=2)pe=J,Me=le,ke=we,ce=Ne,le+=f.Rc,Ne+=f.Rc,F+=2*A.A,U($,(H+=2*f.fa)-f.fa,$,H,pe,Me,ke,ce,J,le,we,Ne,R,F-A.A,R,F,Fe);return H+=f.fa,f.j+Te<f.o?(n(g.ec,g.fc,$,H,Fe),n(g.cc,g.dc,J,le,Le),n(g.Mc,g.Nc,we,Ne,Le),S--):1&Te||U($,H,null,null,J,le,we,Ne,J,le,we,Ne,R,F+A.A,null,null,Fe),S}function un(f,g,S){var A=f.F,R=[f.J];if(A!=null){var F=f.U,U=g.ba.S,$=U==yf||U==vf;g=g.ba.f.RGBA;var H=[0],J=f.ka;H[0]=f.T,f.Kb&&(J==0?--H[0]:(--J,R[0]-=f.width),f.j+f.ka+f.T==f.o&&(H[0]=f.o-f.j-J));var le=g.eb;J=g.fb+J*g.A,f=ys(A,R[0],f.width,F,H,le,J+($?0:3),g.A),t(S==H),f&&zt(U)&&vi(le,J,$,F,H,g.A)}return 0}function qs(f){var g=f.ma,S=g.ba.S,A=11>S,R=S==gf||S==xf||S==yf||S==h0||S==12||zt(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!du(g.Oa,f,R?11:12))return 0;if(R&&zt(S)&&$e(),f.da)alert("todo:use_scaling");else{if(A){if(g.Ib=Nt,f.Kb){if(S=f.U+1>>1,g.memory=a(f.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=vt,$e()}}else alert("todo:EmitYUV");R&&(g.Jb=un,A&&ve())}if(A&&!c2){for(f=0;256>f;++f)qk[f]=89858*(f-128)+wf>>bf,Gk[f]=-22014*(f-128)+wf,Wk[f]=-45773*(f-128),Hk[f]=113618*(f-128)+wf>>bf;for(f=vu;f<y0;++f)g=76283*(f-16)+wf>>bf,Kk[f-vu]=Xn(g,255),Yk[f-vu]=Xn(g+8>>4,15);c2=1}return 1}function Ps(f){var g=f.ma,S=f.U,A=f.T;return t(!(1&f.ka)),0>=S||0>=A?0:(S=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,S),g.Dc+=S,1)}function Qs(f){f.ma.memory=null}function mt(f,g,S,A){return se(f,8)!=47?0:(g[0]=se(f,14)+1,S[0]=se(f,14)+1,A[0]=se(f,1),se(f,3)!=0?0:!f.h)}function rs(f,g){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+se(g,S)+1}function hn(f,g){return 120<g?g-120:1<=(S=((S=Pk[g-1])>>4)*f+(8-(15&S)))?S:1;var S}function dr(f,g,S){var A=W(S),R=f[g+=255&A].g-8;return 0<R&&(te(S,S.u+8),A=W(S),g+=f[g].value,g+=A&(1<<R)-1),te(S,S.u+f[g].g),f[g].value}function ps(f,g,S){return S.g+=f.g,S.value+=f.value<<g>>>0,t(8>=S.g),f.g}function ns(f,g,S){var A=f.xc;return t((g=A==0?0:f.vc[f.md*(S>>A)+(g>>A)])<f.Wb),f.Ya[g]}function ot(f,g,S,A){var R=f.ab,F=f.c*g,U=f.C;g=U+g;var $=S,H=A;for(A=f.Ta,S=f.Ua;0<R--;){var J=f.gc[R],le=U,we=g,Ne=$,pe=H,Me=(H=A,$=S,J.Ea);switch(t(le<we),t(we<=J.nc),J.hc){case 2:cf(Ne,pe,(we-le)*Me,H,$);break;case 0:var ke=le,ce=we,fe=H,Te=$,Fe=(tt=J).Ea;ke==0&&(d0(Ne,pe,null,null,1,fe,Te),ft(Ne,pe+1,0,0,Fe-1,fe,Te+1),pe+=Fe,Te+=Fe,++ke);for(var Le=1<<tt.b,nt=Le-1,Xe=We(Fe,tt.b),yt=tt.K,tt=tt.w+(ke>>tt.b)*Xe;ke<ce;){var Zt=yt,is=tt,Jt=1;for(fu(Ne,pe,fe,Te-Fe,1,fe,Te);Jt<Fe;){var Ht=(Jt&~nt)+Le;Ht>Fe&&(Ht=Fe),(0,_o[Zt[is++]>>8&15])(Ne,pe+ +Jt,fe,Te+Jt-Fe,Ht-Jt,fe,Te+Jt),Jt=Ht}pe+=Fe,Te+=Fe,++ke&nt||(tt+=Xe)}we!=J.nc&&n(H,$-Me,H,$+(we-le-1)*Me,Me);break;case 1:for(Me=Ne,ce=pe,Fe=(Ne=J.Ea)-(Te=Ne&~(fe=(pe=1<<J.b)-1)),ke=We(Ne,J.b),Le=J.K,J=J.w+(le>>J.b)*ke;le<we;){for(nt=Le,Xe=J,yt=new Qe,tt=ce+Te,Zt=ce+Ne;ce<tt;)bt(nt[Xe++],yt),Ol(yt,Me,ce,pe,H,$),ce+=pe,$+=pe;ce<Zt&&(bt(nt[Xe++],yt),Ol(yt,Me,ce,Fe,H,$),ce+=Fe,$+=Fe),++le&fe||(J+=ke)}break;case 3:if(Ne==H&&pe==$&&0<J.b){for(ce=H,Ne=Me=$+(we-le)*Me-(Te=(we-le)*We(J.Ea,J.b)),pe=H,fe=$,ke=[],Te=(Fe=Te)-1;0<=Te;--Te)ke[Te]=pe[fe+Te];for(Te=Fe-1;0<=Te;--Te)ce[Ne+Te]=ke[Te];gi(J,le,we,H,Me,H,$)}else gi(J,le,we,Ne,pe,H,$)}$=A,H=S}H!=S&&n(A,S,$,H,F)}function ha(f,g){var S=f.V,A=f.Ba+f.c*f.C,R=g-f.C;if(t(g<=f.l.o),t(16>=R),0<R){var F=f.l,U=f.Ta,$=f.Ua,H=F.width;if(ot(f,R,S,A),R=$=[$],t((S=f.C)<(A=g)),t(F.v<F.va),A>F.o&&(A=F.o),S<F.j){var J=F.j-S;S=F.j,R[0]+=J*H}if(S>=A?S=0:(R[0]+=4*F.v,F.ka=S-F.j,F.U=F.va-F.v,F.T=A-S,S=1),S){if($=$[0],11>(S=f.ca).S){var le=S.f.RGBA,we=(A=S.S,R=F.U,F=F.T,J=le.eb,le.A),Ne=F;for(le=le.fb+f.Ma*le.A;0<Ne--;){var pe=U,Me=$,ke=R,ce=J,fe=le;switch(A){case pf:Mn(pe,Me,ke,ce,fe);break;case gf:xn(pe,Me,ke,ce,fe);break;case f0:xn(pe,Me,ke,ce,fe),vi(ce,fe,0,ke,1,0);break;case e2:Ua(pe,Me,ke,ce,fe);break;case xf:Gt(pe,Me,ke,ce,fe,1);break;case m0:Gt(pe,Me,ke,ce,fe,1),vi(ce,fe,0,ke,1,0);break;case yf:Gt(pe,Me,ke,ce,fe,0);break;case vf:Gt(pe,Me,ke,ce,fe,0),vi(ce,fe,1,ke,1,0);break;case h0:Ao(pe,Me,ke,ce,fe);break;case p0:Ao(pe,Me,ke,ce,fe),xs(ce,fe,ke,1,0);break;case t2:Ba(pe,Me,ke,ce,fe);break;default:t(0)}$+=H,le+=we}f.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=S.height)}}f.C=g,t(f.C<=f.i)}function Wn(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var S=f.Ya[g].G,A=f.Ya[g].H;if(0<S[1][A[1]+0].g||0<S[2][A[2]+0].g||0<S[3][A[3]+0].g)return 0}return 1}function fn(f,g,S,A,R,F){if(f.Z!=0){var U=f.qd,$=f.rd;for(t(Lo[f.Z]!=null);g<S;++g)Lo[f.Z](U,$,A,R,A,R,F),U=A,$=R,R+=F;f.qd=U,f.rd=$}}function Gr(f,g){var S=f.l.ma,A=S.Z==0||S.Z==1?f.l.j:f.C;if(A=f.C<A?A:f.C,t(g<=f.l.o),g>A){var R=f.l.width,F=S.ca,U=S.tb+R*A,$=f.V,H=f.Ba+f.c*A,J=f.gc;t(f.ab==1),t(J[0].hc==3),df(J[0],A,g,$,H,F,U),fn(S,A,g,F,U,R)}f.C=f.Ma=g}function mn(f,g,S,A,R,F,U){var $=f.$/A,H=f.$%A,J=f.m,le=f.s,we=S+f.$,Ne=we;R=S+A*R;var pe=S+A*F,Me=280+le.ua,ke=f.Pb?$:16777216,ce=0<le.ua?le.Wa:null,fe=le.wc,Te=we<pe?ns(le,H,$):null;t(f.C<F),t(pe<=R);var Fe=!1;e:for(;;){for(;Fe||we<pe;){var Le=0;if($>=ke){var nt=we-S;t((ke=f).Pb),ke.wd=ke.m,ke.xd=nt,0<ke.s.ua&&he(ke.s.Wa,ke.s.vb),ke=$+Lk}if(H&fe||(Te=ns(le,H,$)),t(Te!=null),Te.Qb&&(g[we]=Te.qb,Fe=!0),!Fe)if(ae(J),Te.jc){Le=J,nt=g;var Xe=we,yt=Te.pd[W(Le)&Fr-1];t(Te.jc),256>yt.g?(te(Le,Le.u+yt.g),nt[Xe]=yt.value,Le=0):(te(Le,Le.u+yt.g-256),t(256<=yt.value),Le=yt.value),Le==0&&(Fe=!0)}else Le=dr(Te.G[0],Te.H[0],J);if(J.h)break;if(Fe||256>Le){if(!Fe)if(Te.nd)g[we]=(Te.qb|Le<<8)>>>0;else{if(ae(J),Fe=dr(Te.G[1],Te.H[1],J),ae(J),nt=dr(Te.G[2],Te.H[2],J),Xe=dr(Te.G[3],Te.H[3],J),J.h)break;g[we]=(Xe<<24|Fe<<16|Le<<8|nt)>>>0}if(Fe=!1,++we,++H>=A&&(H=0,++$,U!=null&&$<=F&&!($%16)&&U(f,$),ce!=null))for(;Ne<we;)Le=g[Ne++],ce.X[(506832829*Le&4294967295)>>>ce.Mb]=Le}else if(280>Le){if(Le=rs(Le-256,J),nt=dr(Te.G[4],Te.H[4],J),ae(J),nt=hn(A,nt=rs(nt,J)),J.h)break;if(we-S<nt||R-we<Le)break e;for(Xe=0;Xe<Le;++Xe)g[we+Xe]=g[we+Xe-nt];for(we+=Le,H+=Le;H>=A;)H-=A,++$,U!=null&&$<=F&&!($%16)&&U(f,$);if(t(we<=R),H&fe&&(Te=ns(le,H,$)),ce!=null)for(;Ne<we;)Le=g[Ne++],ce.X[(506832829*Le&4294967295)>>>ce.Mb]=Le}else{if(!(Le<Me))break e;for(Fe=Le-280,t(ce!=null);Ne<we;)Le=g[Ne++],ce.X[(506832829*Le&4294967295)>>>ce.Mb]=Le;Le=we,t(!(Fe>>>(nt=ce).Xa)),g[Le]=nt.X[Fe],Fe=!0}Fe||t(J.h==Z(J))}if(f.Pb&&J.h&&we<R)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&he(f.s.vb,f.s.Wa);else{if(J.h)break e;U!=null&&U(f,$>F?F:$),f.a=0,f.$=we-S}return 1}return f.a=3,0}function _n(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,t(f!=null)}function ur(){var f=new iu;return f==null?null:(f.a=0,f.xb=n2,Wr("Predictor","VP8LPredictors"),Wr("Predictor","VP8LPredictors_C"),Wr("PredictorAdd","VP8LPredictorsAdd"),Wr("PredictorAdd","VP8LPredictorsAdd_C"),cf=at,Ol=xt,Mn=Ze,xn=As,Ao=Ft,Ba=Hr,Ua=Et,T.VP8LMapColor32b=Pc,T.VP8LMapColor8b=uf,f)}function An(f,g,S,A,R){var F=1,U=[f],$=[g],H=A.m,J=A.s,le=null,we=0;e:for(;;){if(S)for(;F&&se(H,1);){var Ne=U,pe=$,Me=A,ke=1,ce=Me.m,fe=Me.gc[Me.ab],Te=se(ce,2);if(Me.Oc&1<<Te)F=0;else{switch(Me.Oc|=1<<Te,fe.hc=Te,fe.Ea=Ne[0],fe.nc=pe[0],fe.K=[null],++Me.ab,t(4>=Me.ab),Te){case 0:case 1:fe.b=se(ce,3)+2,ke=An(We(fe.Ea,fe.b),We(fe.nc,fe.b),0,Me,fe.K),fe.K=fe.K[0];break;case 3:var Fe,Le=se(ce,8)+1,nt=16<Le?0:4<Le?1:2<Le?2:3;if(Ne[0]=We(fe.Ea,nt),fe.b=nt,Fe=ke=An(Le,1,0,Me,fe.K)){var Xe,yt=Le,tt=fe,Zt=1<<(8>>tt.b),is=a(Zt);if(is==null)Fe=0;else{var Jt=tt.K[0],Ht=tt.w;for(is[0]=tt.K[0][0],Xe=1;Xe<1*yt;++Xe)is[Xe]=Ie(Jt[Ht+Xe],is[Xe-1]);for(;Xe<4*Zt;++Xe)is[Xe]=0;tt.K[0]=null,tt.K[0]=is,Fe=1}}ke=Fe;break;case 2:break;default:t(0)}F=ke}}if(U=U[0],$=$[0],F&&se(H,1)&&!(F=1<=(we=se(H,4))&&11>=we)){A.a=3;break e}var us;if(us=F)t:{var ds,Dt,pr,In=A,gr=U,Rn=$,as=we,Zn=S,ei=In.m,Ar=In.s,Br=[null],vn=1,Ni=0,va=Tk[as];s:for(;;){if(Zn&&se(ei,1)){var Er=se(ei,3)+2,qa=We(gr,Er),$l=We(Rn,Er),Rc=qa*$l;if(!An(qa,$l,0,In,Br))break s;for(Br=Br[0],Ar.xc=Er,ds=0;ds<Rc;++ds){var Mo=Br[ds]>>8&65535;Br[ds]=Mo,Mo>=vn&&(vn=Mo+1)}}if(ei.h)break s;for(Dt=0;5>Dt;++Dt){var Ws=s2[Dt];!Dt&&0<as&&(Ws+=1<<as),Ni<Ws&&(Ni=Ws)}var v0=o(vn*va,O),h2=vn,f2=o(h2,K);if(f2==null)var jf=null;else t(65536>=h2),jf=f2;var bu=a(Ni);if(jf==null||bu==null||v0==null){In.a=1;break s}var Sf=v0;for(ds=pr=0;ds<vn;++ds){var Gi=jf[ds],Dc=Gi.G,Oc=Gi.H,m2=0,kf=1,p2=0;for(Dt=0;5>Dt;++Dt){Ws=s2[Dt],Dc[Dt]=Sf,Oc[Dt]=pr,!Dt&&0<as&&(Ws+=1<<as);n:{var Cf,b0=Ws,_f=In,wu=bu,Qk=Sf,Zk=pr,w0=0,Io=_f.m,eC=se(Io,1);if(i(wu,0,0,b0),eC){var tC=se(Io,1)+1,sC=se(Io,1),g2=se(Io,sC==0?1:8);wu[g2]=1,tC==2&&(wu[g2=se(Io,8)]=1);var Af=1}else{var x2=a(19),y2=se(Io,4)+4;if(19<y2){_f.a=3;var Ef=0;break n}for(Cf=0;Cf<y2;++Cf)x2[Ek[Cf]]=se(Io,3);var N0=void 0,Nu=void 0,v2=_f,rC=x2,Pf=b0,b2=wu,j0=0,Ro=v2.m,w2=8,N2=o(128,O);r:for(;M(N2,0,7,rC,19);){if(se(Ro,1)){var nC=2+2*se(Ro,3);if((N0=2+se(Ro,nC))>Pf)break r}else N0=Pf;for(Nu=0;Nu<Pf&&N0--;){ae(Ro);var j2=N2[0+(127&W(Ro))];te(Ro,Ro.u+j2.g);var Fc=j2.value;if(16>Fc)b2[Nu++]=Fc,Fc!=0&&(w2=Fc);else{var iC=Fc==16,S2=Fc-16,aC=_k[S2],k2=se(Ro,Ck[S2])+aC;if(Nu+k2>Pf)break r;for(var oC=iC?w2:0;0<k2--;)b2[Nu++]=oC}}j0=1;break r}j0||(v2.a=3),Af=j0}(Af=Af&&!Io.h)&&(w0=M(Qk,Zk,8,wu,b0)),Af&&w0!=0?Ef=w0:(_f.a=3,Ef=0)}if(Ef==0)break s;if(kf&&Ak[Dt]==1&&(kf=Sf[pr].g==0),m2+=Sf[pr].g,pr+=Ef,3>=Dt){var ju,S0=bu[0];for(ju=1;ju<Ws;++ju)bu[ju]>S0&&(S0=bu[ju]);p2+=S0}}if(Gi.nd=kf,Gi.Qb=0,kf&&(Gi.qb=(Dc[3][Oc[3]+0].value<<24|Dc[1][Oc[1]+0].value<<16|Dc[2][Oc[2]+0].value)>>>0,m2==0&&256>Dc[0][Oc[0]+0].value&&(Gi.Qb=1,Gi.qb+=Dc[0][Oc[0]+0].value<<8)),Gi.jc=!Gi.Qb&&6>p2,Gi.jc){var Tf,Ha=Gi;for(Tf=0;Tf<Fr;++Tf){var Do=Tf,Oo=Ha.pd[Do],Lf=Ha.G[0][Ha.H[0]+Do];256<=Lf.value?(Oo.g=Lf.g+256,Oo.value=Lf.value):(Oo.g=0,Oo.value=0,Do>>=ps(Lf,8,Oo),Do>>=ps(Ha.G[1][Ha.H[1]+Do],16,Oo),Do>>=ps(Ha.G[2][Ha.H[2]+Do],0,Oo),ps(Ha.G[3][Ha.H[3]+Do],24,Oo))}}}Ar.vc=Br,Ar.Wb=vn,Ar.Ya=jf,Ar.yc=v0,us=1;break t}us=0}if(!(F=us)){A.a=3;break e}if(0<we){if(J.ua=1<<we,!Pe(J.Wa,we)){A.a=1,F=0;break e}}else J.ua=0;var k0=A,C2=U,lC=$,C0=k0.s,_0=C0.xc;if(k0.c=C2,k0.i=lC,C0.md=We(C2,_0),C0.wc=_0==0?-1:(1<<_0)-1,S){A.xb=Bk;break e}if((le=a(U*$))==null){A.a=1,F=0;break e}F=(F=mn(A,le,0,U,$,$,null))&&!H.h;break e}return F?(R!=null?R[0]=le:(t(le==null),t(S)),A.$=0,S||_n(J)):_n(J),F}function Di(f,g){var S=f.c*f.i,A=S+g+16*g;return t(f.c<=g),f.V=a(A),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+g,1)}function Oi(f,g){var S=f.C,A=g-S,R=f.V,F=f.Ba+f.c*S;for(t(g<=f.l.o);0<A;){var U=16<A?16:A,$=f.l.ma,H=f.l.width,J=H*U,le=$.ca,we=$.tb+H*S,Ne=f.Ta,pe=f.Ua;ot(f,U,R,F),er(Ne,pe,le,we,J),fn($,S,S+U,le,we,H),A-=U,R+=U*f.c,S+=U}t(S==g),f.C=f.Ma=g}function En(){this.ub=this.yd=this.td=this.Rb=0}function Fi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function di(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function pn(){this.Yb=function(){var f=[];return function g(S,A,R){for(var F=R[A],U=0;U<F&&(S.push(R.length>A+1?[]:0),!(R.length<A+1));U++)g(S[U],A+1,R)}(f,0,[3,11]),f}()}function yo(){this.jb=a(3),this.Wc=l([4,8],pn),this.Xc=l([4,17],pn)}function Pl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Gn(){this.ld=this.La=this.dd=this.tc=0}function Bi(){this.Na=this.la=0}function Tl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ui(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ll(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gn),this.Y=0,this.ya=Array(new Ui),this.aa=0,this.l=new zi}function vo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ml(){this.cb=this.a=0,this.sc="",this.m=new ue,this.Od=new En,this.Kc=new Fi,this.ed=new Pl,this.Qa=new di,this.Ic=this.$c=this.Aa=0,this.D=new Ll,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ue),this.ia=0,this.pb=o(4,Tl),this.Pa=new yo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new vo),this.Hd=0,this.rb=Array(new Bi),this.sb=0,this.wa=Array(new Gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ui),this.L=this.aa=0,this.gd=l([4,2],Gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Il(){var f=new Ml;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,yu||(yu=Ia)),f}function gs(f,g,S){return f.a==0&&(f.a=g,f.sc=S,f.cb=0),0}function $i(f,g,S){return 3<=S&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function bo(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return gs(f,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,A=g.w,R=g.ha;if(4>R)return gs(f,7,"Truncated header.");var F=S[A+0]|S[A+1]<<8|S[A+2]<<16,U=f.Od;if(U.Rb=!(1&F),U.td=F>>1&7,U.yd=F>>4&1,U.ub=F>>5,3<U.td)return gs(f,3,"Incorrect keyframe parameters.");if(!U.yd)return gs(f,4,"Frame not displayable.");A+=3,R-=3;var $=f.Kc;if(U.Rb){if(7>R)return gs(f,7,"cannot parse picture header");if(!$i(S,A,R))return gs(f,3,"Bad code word");$.c=16383&(S[A+4]<<8|S[A+3]),$.Td=S[A+4]>>6,$.i=16383&(S[A+6]<<8|S[A+5]),$.Ud=S[A+6]>>6,A+=7,R-=7,f.za=$.c+15>>4,f.Ub=$.i+15>>4,g.width=$.c,g.height=$.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((F=f.Pa).jb,0,255,F.jb.length),t((F=f.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(U.ub>R)return gs(f,7,"bad partition length");de(F=f.m,S,A,U.ub),A+=U.ub,R-=U.ub,U.Rb&&($.Ld=be(F),$.Kd=be(F)),$=f.Qa;var H,J=f.Pa;if(t(F!=null),t($!=null),$.Cb=be(F),$.Cb){if($.Bb=be(F),be(F)){for($.Fb=be(F),H=0;4>H;++H)$.Zb[H]=be(F)?ne(F,7):0;for(H=0;4>H;++H)$.Lb[H]=be(F)?ne(F,6):0}if($.Bb)for(H=0;3>H;++H)J.jb[H]=be(F)?V(F,8):255}else $.Bb=0;if(F.Ka)return gs(f,3,"cannot parse segment header");if(($=f.ed).zd=be(F),$.Tb=V(F,6),$.wb=V(F,3),$.Pc=be(F),$.Pc&&be(F)){for(J=0;4>J;++J)be(F)&&($.vd[J]=ne(F,6));for(J=0;4>J;++J)be(F)&&($.od[J]=ne(F,6))}if(f.L=$.Tb==0?0:$.zd?1:2,F.Ka)return gs(f,3,"cannot parse filter header");var le=R;if(R=H=A,A=H+le,$=le,f.Xb=(1<<V(f.m,2))-1,le<3*(J=f.Xb))S=7;else{for(H+=3*J,$-=3*J,le=0;le<J;++le){var we=S[R+0]|S[R+1]<<8|S[R+2]<<16;we>$&&(we=$),de(f.Jc[+le],S,H,we),H+=we,$-=we,R+=3}de(f.Jc[+J],S,H,$),S=H<A?0:5}if(S!=0)return gs(f,S,"cannot parse partitions");for(S=V(H=f.m,7),R=be(H)?ne(H,4):0,A=be(H)?ne(H,4):0,$=be(H)?ne(H,4):0,J=be(H)?ne(H,4):0,H=be(H)?ne(H,4):0,le=f.Qa,we=0;4>we;++we){if(le.Cb){var Ne=le.Zb[we];le.Fb||(Ne+=S)}else{if(0<we){f.pb[we]=f.pb[0];continue}Ne=S}var pe=f.pb[we];pe.Sc[0]=g0[Xn(Ne+R,127)],pe.Sc[1]=x0[Xn(Ne+0,127)],pe.Eb[0]=2*g0[Xn(Ne+A,127)],pe.Eb[1]=101581*x0[Xn(Ne+$,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=g0[Xn(Ne+J,117)],pe.Qc[1]=x0[Xn(Ne+H,127)],pe.lc=Ne+H}if(!U.Rb)return gs(f,4,"Not a key frame.");for(be(F),U=f.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(A=0;3>A;++A)for($=0;11>$;++$)J=oe(F,Ok[S][R][A][$])?V(F,8):Rk[S][R][A][$],U.Wc[S][R].Yb[A][$]=J;for(R=0;17>R;++R)U.Xc[S][R]=U.Wc[S][Fk[R]]}return f.kc=be(F),f.kc&&(f.Bd=V(F,8)),f.cb=1}function Ia(f,g,S,A,R,F,U){var $=g[R].Yb[S];for(S=0;16>R;++R){if(!oe(f,$[S+0]))return R;for(;!oe(f,$[S+1]);)if($=g[++R].Yb[0],S=0,R==16)return 16;var H=g[R+1].Yb;if(oe(f,$[S+2])){var J=f,le=0;if(oe(J,(Ne=$)[(we=S)+3]))if(oe(J,Ne[we+6])){for($=0,we=2*(le=oe(J,Ne[we+8]))+(Ne=oe(J,Ne[we+9+le])),le=0,Ne=Mk[we];Ne[$];++$)le+=le+oe(J,Ne[$]);le+=3+(8<<we)}else oe(J,Ne[we+7])?(le=7+2*oe(J,165),le+=oe(J,145)):le=5+oe(J,159);else le=oe(J,Ne[we+4])?3+oe(J,Ne[we+5]):2;$=H[2]}else le=1,$=H[1];H=U+Ik[R],0>(J=f).b&&ge(J);var we,Ne=J.b,pe=(we=J.Ca>>1)-(J.I>>Ne)>>31;--J.b,J.Ca+=pe,J.Ca|=1,J.I-=(we+1&pe)<<Ne,F[H]=((le^pe)-pe)*A[(0<R)+0]}return 16}function fa(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function Ra(f,g){if(f==null)return 0;if(g==null)return gs(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!bo(f,g))return 0;if(t(f.cb),g.ac==null||g.ac(g)){g.ob&&(f.L=0);var S=Nf[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=g.v-S>>4,f.zb=g.j-S>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=g.o+15+S>>4,f.Hb=g.va+15+S>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var A=f.ed;for(S=0;4>S;++S){var R;if(f.Qa.Cb){var F=f.Qa.Lb[S];f.Qa.Fb||(F+=A.Tb)}else F=A.Tb;for(R=0;1>=R;++R){var U=f.gd[S][R],$=F;if(A.Pc&&($+=A.vd[0],R&&($+=A.od[0])),0<($=0>$?0:63<$?63:$)){var H=$;0<A.wb&&(H=4<A.wb?H>>2:H>>1)>9-A.wb&&(H=9-A.wb),1>H&&(H=1),U.dd=H,U.tc=2*$+H,U.ld=40<=$?2:15<=$?1:0}else U.tc=0;U.La=R}}}S=0}else gs(f,6,"Frame setup failed"),S=f.a;if(S=S==0){if(S){f.$c=0,0<f.Aa||(f.Ic=Xk);e:{S=f.Ic,A=4*(H=f.za);var J=32*H,le=H+1,we=0<f.L?H*(0<f.Aa?2:1):0,Ne=(f.Aa==2?2:1)*H;if((U=A+832+(R=3*(16*S+Nf[f.L])/2*J)+(F=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=U)S=0;else{if(U>f.Vb){if(f.Vb=0,f.Ec=a(U),f.Fc=0,f.Ec==null){S=gs(f,1,"no memory during frame initialization.");break e}f.Vb=U}U=f.Ec,$=f.Fc,f.Ac=U,f.Bc=$,$+=A,f.Gd=o(J,vo),f.Hd=0,f.rb=o(le+1,Bi),f.sb=1,f.wa=we?o(we,Gn):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=H),t(!0),f.oc=U,f.pc=$,$+=832,f.ya=o(Ne,Ui),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=H),f.R=16*H,f.B=8*H,H=(J=Nf[f.L])*f.R,J=J/2*f.B,f.sa=U,f.ta=$+H,f.qa=f.sa,f.ra=f.ta+16*S*f.R+J,f.Ha=f.qa,f.Ia=f.ra+8*S*f.B+J,f.$c=0,$+=R,f.mb=F?U:null,f.nb=F?$:null,t($+F<=f.Fc+f.Vb),fa(f),i(f.Ac,f.Bc,0,A),S=1}}if(S){if(g.ka=0,g.y=f.sa,g.O=f.ta,g.f=f.qa,g.N=f.ra,g.ea=f.Ha,g.Vd=f.Ia,g.fa=f.R,g.Rc=f.B,g.F=null,g.J=0,!ff){for(S=-255;255>=S;++S)br[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)$a[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)xu[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Ic[255+S]=0>S?0:255<S?255:S;ff=1}Tc=me,za=B,mu=xe,yn=je,xi=ye,Zs=De,Lc=So,hf=xa,pu=nu,Fl=ko,Bl=Sc,Eo=Fa,Ul=Se,Mc=Ue,zl=jc,Po=Jn,gu=ga,yi=jo,Wi[0]=gn,Wi[1]=qe,Wi[2]=Wt,Wi[3]=ma,Wi[4]=Rt,Wi[5]=Or,Wi[6]=Dr,Wi[7]=Pn,Wi[8]=wo,Wi[9]=ui,To[0]=Yt,To[1]=Pt,To[2]=ct,To[3]=Ct,To[4]=Mt,To[5]=Rr,To[6]=hr,Va[0]=Tn,Va[1]=et,Va[2]=No,Va[3]=pa,Va[4]=Kn,Va[5]=Da,Va[6]=fr,S=1}else S=0}S&&(S=function(pe,Me){for(pe.M=0;pe.M<pe.Va;++pe.M){var ke,ce=pe.Jc[pe.M&pe.Xb],fe=pe.m,Te=pe;for(ke=0;ke<Te.za;++ke){var Fe=fe,Le=Te,nt=Le.Ac,Xe=Le.Bc+4*ke,yt=Le.zc,tt=Le.ya[Le.aa+ke];if(Le.Qa.Bb?tt.$b=oe(Fe,Le.Pa.jb[0])?2+oe(Fe,Le.Pa.jb[2]):oe(Fe,Le.Pa.jb[1]):tt.$b=0,Le.kc&&(tt.Ad=oe(Fe,Le.Bd)),tt.Za=!oe(Fe,145)+0,tt.Za){var Zt=tt.Ob,is=0;for(Le=0;4>Le;++Le){var Jt,Ht=yt[0+Le];for(Jt=0;4>Jt;++Jt){Ht=Dk[nt[Xe+Jt]][Ht];for(var us=r2[oe(Fe,Ht[0])];0<us;)us=r2[2*us+oe(Fe,Ht[us])];Ht=-us,nt[Xe+Jt]=Ht}n(Zt,is,nt,Xe,4),is+=4,yt[0+Le]=Ht}}else Ht=oe(Fe,156)?oe(Fe,128)?1:3:oe(Fe,163)?2:0,tt.Ob[0]=Ht,i(nt,Xe,Ht,4),i(yt,0,Ht,4);tt.Dd=oe(Fe,142)?oe(Fe,114)?oe(Fe,183)?1:3:2:0}if(Te.m.Ka)return gs(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Te=ce,Fe=(fe=pe).rb[fe.sb-1],nt=fe.rb[fe.sb+fe.ja],ke=fe.ya[fe.aa+fe.ja],Xe=fe.kc?ke.Ad:0)Fe.la=nt.la=0,ke.Za||(Fe.Na=nt.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var ds,Dt;if(Fe=nt,nt=Te,Xe=fe.Pa.Xc,yt=fe.ya[fe.aa+fe.ja],tt=fe.pb[yt.$b],Le=yt.ad,Zt=0,is=fe.rb[fe.sb-1],Ht=Jt=0,i(Le,Zt,0,384),yt.Za)var pr=0,In=Xe[3];else{us=a(16);var gr=Fe.Na+is.Na;if(gr=yu(nt,Xe[1],gr,tt.Eb,0,us,0),Fe.Na=is.Na=(0<gr)+0,1<gr)Tc(us,0,Le,Zt);else{var Rn=us[0]+3>>3;for(us=0;256>us;us+=16)Le[Zt+us]=Rn}pr=1,In=Xe[0]}var as=15&Fe.la,Zn=15&is.la;for(us=0;4>us;++us){var ei=1&Zn;for(Rn=Dt=0;4>Rn;++Rn)as=as>>1|(ei=(gr=yu(nt,In,gr=ei+(1&as),tt.Sc,pr,Le,Zt))>pr)<<7,Dt=Dt<<2|(3<gr?3:1<gr?2:Le[Zt+0]!=0),Zt+=16;as>>=4,Zn=Zn>>1|ei<<7,Jt=(Jt<<8|Dt)>>>0}for(In=as,pr=Zn>>4,ds=0;4>ds;ds+=2){for(Dt=0,as=Fe.la>>4+ds,Zn=is.la>>4+ds,us=0;2>us;++us){for(ei=1&Zn,Rn=0;2>Rn;++Rn)gr=ei+(1&as),as=as>>1|(ei=0<(gr=yu(nt,Xe[2],gr,tt.Qc,0,Le,Zt)))<<3,Dt=Dt<<2|(3<gr?3:1<gr?2:Le[Zt+0]!=0),Zt+=16;as>>=2,Zn=Zn>>1|ei<<5}Ht|=Dt<<4*ds,In|=as<<4<<ds,pr|=(240&Zn)<<ds}Fe.la=In,is.la=pr,yt.Hc=Jt,yt.Gc=Ht,yt.ia=43690&Ht?0:tt.ia,Xe=!(Jt|Ht)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[ke.$b][ke.Za],fe.wa[fe.Y+fe.ja].La|=!Xe),Te.Ka)return gs(pe,7,"Premature end-of-file encountered.")}if(fa(pe),fe=Me,Te=1,ke=(ce=pe).D,Fe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(ke.M=ce.M,ke.uc=Fe,cu(ce,ke),Te=1,ke=(Dt=ce.D).Nb,Fe=(Ht=Nf[ce.L])*ce.R,nt=Ht/2*ce.B,us=16*ke*ce.R,Rn=8*ke*ce.B,Xe=ce.sa,yt=ce.ta-Fe+us,tt=ce.qa,Le=ce.ra-nt+Rn,Zt=ce.Ha,is=ce.Ia-nt+Rn,Zn=(as=Dt.M)==0,Jt=as>=ce.Va-1,ce.Aa==2&&cu(ce,Dt),Dt.uc)for(ei=(gr=ce).D.M,t(gr.D.uc),Dt=gr.yb;Dt<gr.Hb;++Dt){pr=Dt,In=ei;var Ar=(Br=(Ws=gr).D).Nb;ds=Ws.R;var Br=Br.wa[Br.Y+pr],vn=Ws.sa,Ni=Ws.ta+16*Ar*ds+16*pr,va=Br.dd,Er=Br.tc;if(Er!=0)if(t(3<=Er),Ws.L==1)0<pr&&Po(vn,Ni,ds,Er+4),Br.La&&yi(vn,Ni,ds,Er),0<In&&zl(vn,Ni,ds,Er+4),Br.La&&gu(vn,Ni,ds,Er);else{var qa=Ws.B,$l=Ws.qa,Rc=Ws.ra+8*Ar*qa+8*pr,Mo=Ws.Ha,Ws=Ws.Ia+8*Ar*qa+8*pr;Ar=Br.ld,0<pr&&(hf(vn,Ni,ds,Er+4,va,Ar),Fl($l,Rc,Mo,Ws,qa,Er+4,va,Ar)),Br.La&&(Eo(vn,Ni,ds,Er,va,Ar),Mc($l,Rc,Mo,Ws,qa,Er,va,Ar)),0<In&&(Lc(vn,Ni,ds,Er+4,va,Ar),pu($l,Rc,Mo,Ws,qa,Er+4,va,Ar)),Br.La&&(Bl(vn,Ni,ds,Er,va,Ar),Ul($l,Rc,Mo,Ws,qa,Er,va,Ar))}}if(ce.ia&&alert("todo:DitherRow"),fe.put!=null){if(Dt=16*as,as=16*(as+1),Zn?(fe.y=ce.sa,fe.O=ce.ta+us,fe.f=ce.qa,fe.N=ce.ra+Rn,fe.ea=ce.Ha,fe.W=ce.Ia+Rn):(Dt-=Ht,fe.y=Xe,fe.O=yt,fe.f=tt,fe.N=Le,fe.ea=Zt,fe.W=is),Jt||(as-=Ht),as>fe.o&&(as=fe.o),fe.F=null,fe.J=null,ce.Fa!=null&&0<ce.Fa.length&&Dt<as&&(fe.J=ou(ce,fe,Dt,as-Dt),fe.F=ce.mb,fe.F==null&&fe.F.length==0)){Te=gs(ce,3,"Could not decode alpha data.");break e}Dt<fe.j&&(Ht=fe.j-Dt,Dt=fe.j,t(!(1&Ht)),fe.O+=ce.R*Ht,fe.N+=ce.B*(Ht>>1),fe.W+=ce.B*(Ht>>1),fe.F!=null&&(fe.J+=fe.width*Ht)),Dt<as&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=Dt-fe.j,fe.U=fe.va-fe.v,fe.T=as-Dt,Te=fe.put(fe))}ke+1!=ce.Ic||Jt||(n(ce.sa,ce.ta-Fe,Xe,yt+16*ce.R,Fe),n(ce.qa,ce.ra-nt,tt,Le+8*ce.B,nt),n(ce.Ha,ce.Ia-nt,Zt,is+8*ce.B,nt))}if(!Te)return gs(pe,6,"Output aborted.")}return 1}(f,g)),g.bc!=null&&g.bc(g),S&=1}return S?(f.cb=0,S):0}function Kr(f,g,S,A,R){R=f[g+S+32*A]+(R>>3),f[g+S+32*A]=-256&R?0>R?0:255:R}function P(f,g,S,A,R,F){Kr(f,g,0,S,A+R),Kr(f,g,1,S,A+F),Kr(f,g,2,S,A-F),Kr(f,g,3,S,A-R)}function re(f){return(20091*f>>16)+f}function Ae(f,g,S,A){var R,F=0,U=a(16);for(R=0;4>R;++R){var $=f[g+0]+f[g+8],H=f[g+0]-f[g+8],J=(35468*f[g+4]>>16)-re(f[g+12]),le=re(f[g+4])+(35468*f[g+12]>>16);U[F+0]=$+le,U[F+1]=H+J,U[F+2]=H-J,U[F+3]=$-le,F+=4,g++}for(R=F=0;4>R;++R)$=(f=U[F+0]+4)+U[F+8],H=f-U[F+8],J=(35468*U[F+4]>>16)-re(U[F+12]),Kr(S,A,0,0,$+(le=re(U[F+4])+(35468*U[F+12]>>16))),Kr(S,A,1,0,H+J),Kr(S,A,2,0,H-J),Kr(S,A,3,0,$-le),F++,A+=32}function De(f,g,S,A){var R=f[g+0]+4,F=35468*f[g+4]>>16,U=re(f[g+4]),$=35468*f[g+1]>>16;P(S,A,0,R+U,f=re(f[g+1]),$),P(S,A,1,R+F,f,$),P(S,A,2,R-F,f,$),P(S,A,3,R-U,f,$)}function B(f,g,S,A,R){Ae(f,g,S,A),R&&Ae(f,g+16,S,A+4)}function xe(f,g,S,A){za(f,g+0,S,A,1),za(f,g+32,S,A+128,1)}function je(f,g,S,A){var R;for(f=f[g+0]+4,R=0;4>R;++R)for(g=0;4>g;++g)Kr(S,A,g,R,f)}function ye(f,g,S,A){f[g+0]&&yn(f,g+0,S,A),f[g+16]&&yn(f,g+16,S,A+4),f[g+32]&&yn(f,g+32,S,A+128),f[g+48]&&yn(f,g+48,S,A+128+4)}function me(f,g,S,A){var R,F=a(16);for(R=0;4>R;++R){var U=f[g+0+R]+f[g+12+R],$=f[g+4+R]+f[g+8+R],H=f[g+4+R]-f[g+8+R],J=f[g+0+R]-f[g+12+R];F[0+R]=U+$,F[8+R]=U-$,F[4+R]=J+H,F[12+R]=J-H}for(R=0;4>R;++R)U=(f=F[0+4*R]+3)+F[3+4*R],$=F[1+4*R]+F[2+4*R],H=F[1+4*R]-F[2+4*R],J=f-F[3+4*R],S[A+0]=U+$>>3,S[A+16]=J+H>>3,S[A+32]=U-$>>3,S[A+48]=J-H>>3,A+=64}function He(f,g,S){var A,R=g-32,F=Qn,U=255-f[R-1];for(A=0;A<S;++A){var $,H=F,J=U+f[g-1];for($=0;$<S;++$)f[g+$]=H[J+f[R+$]];g+=32}}function qe(f,g){He(f,g,4)}function et(f,g){He(f,g,8)}function Pt(f,g){He(f,g,16)}function ct(f,g){var S;for(S=0;16>S;++S)n(f,g+32*S,f,g-32,16)}function Ct(f,g){var S;for(S=16;0<S;--S)i(f,g,f[g-1],16),g+=32}function Ut(f,g,S){var A;for(A=0;16>A;++A)i(g,S+32*A,f,16)}function Yt(f,g){var S,A=16;for(S=0;16>S;++S)A+=f[g-1+32*S]+f[g+S-32];Ut(A>>5,f,g)}function Mt(f,g){var S,A=8;for(S=0;16>S;++S)A+=f[g-1+32*S];Ut(A>>4,f,g)}function Rr(f,g){var S,A=8;for(S=0;16>S;++S)A+=f[g+S-32];Ut(A>>4,f,g)}function hr(f,g){Ut(128,f,g)}function it(f,g,S){return f+2*g+S+2>>2}function Wt(f,g){var S,A=g-32;for(A=new Uint8Array([it(f[A-1],f[A+0],f[A+1]),it(f[A+0],f[A+1],f[A+2]),it(f[A+1],f[A+2],f[A+3]),it(f[A+2],f[A+3],f[A+4])]),S=0;4>S;++S)n(f,g+32*S,A,0,A.length)}function ma(f,g){var S=f[g-1],A=f[g-1+32],R=f[g-1+64],F=f[g-1+96];_e(f,g+0,16843009*it(f[g-1-32],S,A)),_e(f,g+32,16843009*it(S,A,R)),_e(f,g+64,16843009*it(A,R,F)),_e(f,g+96,16843009*it(R,F,F))}function gn(f,g){var S,A=4;for(S=0;4>S;++S)A+=f[g+S-32]+f[g-1+32*S];for(A>>=3,S=0;4>S;++S)i(f,g+32*S,A,4)}function Rt(f,g){var S=f[g-1+0],A=f[g-1+32],R=f[g-1+64],F=f[g-1-32],U=f[g+0-32],$=f[g+1-32],H=f[g+2-32],J=f[g+3-32];f[g+0+96]=it(A,R,f[g-1+96]),f[g+1+96]=f[g+0+64]=it(S,A,R),f[g+2+96]=f[g+1+64]=f[g+0+32]=it(F,S,A),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=it(U,F,S),f[g+3+64]=f[g+2+32]=f[g+1+0]=it($,U,F),f[g+3+32]=f[g+2+0]=it(H,$,U),f[g+3+0]=it(J,H,$)}function Dr(f,g){var S=f[g+1-32],A=f[g+2-32],R=f[g+3-32],F=f[g+4-32],U=f[g+5-32],$=f[g+6-32],H=f[g+7-32];f[g+0+0]=it(f[g+0-32],S,A),f[g+1+0]=f[g+0+32]=it(S,A,R),f[g+2+0]=f[g+1+32]=f[g+0+64]=it(A,R,F),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=it(R,F,U),f[g+3+32]=f[g+2+64]=f[g+1+96]=it(F,U,$),f[g+3+64]=f[g+2+96]=it(U,$,H),f[g+3+96]=it($,H,H)}function Or(f,g){var S=f[g-1+0],A=f[g-1+32],R=f[g-1+64],F=f[g-1-32],U=f[g+0-32],$=f[g+1-32],H=f[g+2-32],J=f[g+3-32];f[g+0+0]=f[g+1+64]=F+U+1>>1,f[g+1+0]=f[g+2+64]=U+$+1>>1,f[g+2+0]=f[g+3+64]=$+H+1>>1,f[g+3+0]=H+J+1>>1,f[g+0+96]=it(R,A,S),f[g+0+64]=it(A,S,F),f[g+0+32]=f[g+1+96]=it(S,F,U),f[g+1+32]=f[g+2+96]=it(F,U,$),f[g+2+32]=f[g+3+96]=it(U,$,H),f[g+3+32]=it($,H,J)}function Pn(f,g){var S=f[g+0-32],A=f[g+1-32],R=f[g+2-32],F=f[g+3-32],U=f[g+4-32],$=f[g+5-32],H=f[g+6-32],J=f[g+7-32];f[g+0+0]=S+A+1>>1,f[g+1+0]=f[g+0+64]=A+R+1>>1,f[g+2+0]=f[g+1+64]=R+F+1>>1,f[g+3+0]=f[g+2+64]=F+U+1>>1,f[g+0+32]=it(S,A,R),f[g+1+32]=f[g+0+96]=it(A,R,F),f[g+2+32]=f[g+1+96]=it(R,F,U),f[g+3+32]=f[g+2+96]=it(F,U,$),f[g+3+64]=it(U,$,H),f[g+3+96]=it($,H,J)}function ui(f,g){var S=f[g-1+0],A=f[g-1+32],R=f[g-1+64],F=f[g-1+96];f[g+0+0]=S+A+1>>1,f[g+2+0]=f[g+0+32]=A+R+1>>1,f[g+2+32]=f[g+0+64]=R+F+1>>1,f[g+1+0]=it(S,A,R),f[g+3+0]=f[g+1+32]=it(A,R,F),f[g+3+32]=f[g+1+64]=it(R,F,F),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=F}function wo(f,g){var S=f[g-1+0],A=f[g-1+32],R=f[g-1+64],F=f[g-1+96],U=f[g-1-32],$=f[g+0-32],H=f[g+1-32],J=f[g+2-32];f[g+0+0]=f[g+2+32]=S+U+1>>1,f[g+0+32]=f[g+2+64]=A+S+1>>1,f[g+0+64]=f[g+2+96]=R+A+1>>1,f[g+0+96]=F+R+1>>1,f[g+3+0]=it($,H,J),f[g+2+0]=it(U,$,H),f[g+1+0]=f[g+3+32]=it(S,U,$),f[g+1+32]=f[g+3+64]=it(A,S,U),f[g+1+64]=f[g+3+96]=it(R,A,S),f[g+1+96]=it(F,R,A)}function No(f,g){var S;for(S=0;8>S;++S)n(f,g+32*S,f,g-32,8)}function pa(f,g){var S;for(S=0;8>S;++S)i(f,g,f[g-1],8),g+=32}function Ms(f,g,S){var A;for(A=0;8>A;++A)i(g,S+32*A,f,8)}function Tn(f,g){var S,A=8;for(S=0;8>S;++S)A+=f[g+S-32]+f[g-1+32*S];Ms(A>>4,f,g)}function Da(f,g){var S,A=4;for(S=0;8>S;++S)A+=f[g+S-32];Ms(A>>3,f,g)}function Kn(f,g){var S,A=4;for(S=0;8>S;++S)A+=f[g-1+32*S];Ms(A>>3,f,g)}function fr(f,g){Ms(128,f,g)}function Yn(f,g,S){var A=f[g-S],R=f[g+0],F=3*(R-A)+u0[1020+f[g-2*S]-f[g+S]],U=mf[112+(F+4>>3)];f[g-S]=Qn[255+A+mf[112+(F+3>>3)]],f[g+0]=Qn[255+R-U]}function hi(f,g,S,A){var R=f[g+0],F=f[g+S];return bi[255+f[g-2*S]-f[g-S]]>A||bi[255+F-R]>A}function Vi(f,g,S,A){return 4*bi[255+f[g-S]-f[g+0]]+bi[255+f[g-2*S]-f[g+S]]<=A}function Oa(f,g,S,A,R){var F=f[g-3*S],U=f[g-2*S],$=f[g-S],H=f[g+0],J=f[g+S],le=f[g+2*S],we=f[g+3*S];return 4*bi[255+$-H]+bi[255+U-J]>A?0:bi[255+f[g-4*S]-F]<=R&&bi[255+F-U]<=R&&bi[255+U-$]<=R&&bi[255+we-le]<=R&&bi[255+le-J]<=R&&bi[255+J-H]<=R}function jc(f,g,S,A){var R=2*A+1;for(A=0;16>A;++A)Vi(f,g+A,S,R)&&Yn(f,g+A,S)}function Jn(f,g,S,A){var R=2*A+1;for(A=0;16>A;++A)Vi(f,g+A*S,1,R)&&Yn(f,g+A*S,1)}function ga(f,g,S,A){var R;for(R=3;0<R;--R)jc(f,g+=4*S,S,A)}function jo(f,g,S,A){var R;for(R=3;0<R;--R)Jn(f,g+=4,S,A)}function fi(f,g,S,A,R,F,U,$){for(F=2*F+1;0<R--;){if(Oa(f,g,S,F,U))if(hi(f,g,S,$))Yn(f,g,S);else{var H=f,J=g,le=S,we=H[J-2*le],Ne=H[J-le],pe=H[J+0],Me=H[J+le],ke=H[J+2*le],ce=27*(Te=u0[1020+3*(pe-Ne)+u0[1020+we-Me]])+63>>7,fe=18*Te+63>>7,Te=9*Te+63>>7;H[J-3*le]=Qn[255+H[J-3*le]+Te],H[J-2*le]=Qn[255+we+fe],H[J-le]=Qn[255+Ne+ce],H[J+0]=Qn[255+pe-ce],H[J+le]=Qn[255+Me-fe],H[J+2*le]=Qn[255+ke-Te]}g+=A}}function Cr(f,g,S,A,R,F,U,$){for(F=2*F+1;0<R--;){if(Oa(f,g,S,F,U))if(hi(f,g,S,$))Yn(f,g,S);else{var H=f,J=g,le=S,we=H[J-le],Ne=H[J+0],pe=H[J+le],Me=mf[112+((ke=3*(Ne-we))+4>>3)],ke=mf[112+(ke+3>>3)],ce=Me+1>>1;H[J-2*le]=Qn[255+H[J-2*le]+ce],H[J-le]=Qn[255+we+ke],H[J+0]=Qn[255+Ne-Me],H[J+le]=Qn[255+pe-ce]}g+=A}}function So(f,g,S,A,R,F){fi(f,g,S,1,16,A,R,F)}function xa(f,g,S,A,R,F){fi(f,g,1,S,16,A,R,F)}function Sc(f,g,S,A,R,F){var U;for(U=3;0<U;--U)Cr(f,g+=4*S,S,1,16,A,R,F)}function Fa(f,g,S,A,R,F){var U;for(U=3;0<U;--U)Cr(f,g+=4,1,S,16,A,R,F)}function nu(f,g,S,A,R,F,U,$){fi(f,g,R,1,8,F,U,$),fi(S,A,R,1,8,F,U,$)}function ko(f,g,S,A,R,F,U,$){fi(f,g,1,R,8,F,U,$),fi(S,A,1,R,8,F,U,$)}function Se(f,g,S,A,R,F,U,$){Cr(f,g+4*R,R,1,8,F,U,$),Cr(S,A+4*R,R,1,8,F,U,$)}function Ue(f,g,S,A,R,F,U,$){Cr(f,g+4,1,R,8,F,U,$),Cr(S,A+4,1,R,8,F,U,$)}function St(){this.ba=new cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dl(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new O}function iu(){this.xb=this.a=0,this.l=new zi,this.ca=new cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dl,this.ab=0,this.gc=o(4,Rl),this.Oc=0}function qi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new zi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pi(f,g,S,A,R,F,U){for(f=f==null?0:f[g+0],g=0;g<U;++g)R[F+g]=f+S[A+g]&255,f=R[F+g]}function au(f,g,S,A,R,F,U){var $;if(f==null)pi(null,null,S,A,R,F,U);else for($=0;$<U;++$)R[F+$]=f[g+$]+S[A+$]&255}function Co(f,g,S,A,R,F,U){if(f==null)pi(null,null,S,A,R,F,U);else{var $,H=f[g+0],J=H,le=H;for($=0;$<U;++$)J=le+(H=f[g+$])-J,le=S[A+$]+(-256&J?0>J?0:255:J)&255,J=H,R[F+$]=le}}function ou(f,g,S,A){var R=g.width,F=g.o;if(t(f!=null&&g!=null),0>S||0>=A||S+A>F)return null;if(!f.Cc){if(f.ga==null){var U;if(f.ga=new qi,(U=f.ga==null)||(U=g.width*g.o,t(f.Gb.length==0),f.Gb=a(U),f.Uc=0,f.Gb==null?U=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,U=1),U=!U),!U){U=f.ga;var $=f.Fa,H=f.P,J=f.qc,le=f.mb,we=f.nb,Ne=H+1,pe=J-1,Me=U.l;if(t($!=null&&le!=null&&g!=null),Lo[0]=null,Lo[1]=pi,Lo[2]=au,Lo[3]=Co,U.ca=le,U.tb=we,U.c=g.width,U.i=g.height,t(0<U.c&&0<U.i),1>=J)g=0;else if(U.$a=$[H+0]>>0&3,U.Z=$[H+0]>>2&3,U.Lc=$[H+0]>>4&3,H=$[H+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||H)g=0;else if(Me.put=Ps,Me.ac=qs,Me.bc=Qs,Me.ma=U,Me.width=g.width,Me.height=g.height,Me.Da=g.Da,Me.v=g.v,Me.va=g.va,Me.j=g.j,Me.o=g.o,U.$a)e:{t(U.$a==1),g=ur();t:for(;;){if(g==null){g=0;break e}if(t(U!=null),U.mc=g,g.c=U.c,g.i=U.i,g.l=U.l,g.l.ma=U,g.l.width=U.c,g.l.height=U.i,g.a=0,z(g.m,$,Ne,pe),!An(U.c,U.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Wn(g.s)?(U.ic=1,$=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a($),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(U.ic=0,g=Di(g,U.c)),!g))break t;g=1;break e}U.mc=null,g=0}else g=pe>=U.c*U.i;U=!g}if(U)return null;f.ga.Lc!=1?f.Ga=0:A=F-S}t(f.ga!=null),t(S+A<=F);e:{if(g=($=f.ga).c,F=$.l.o,$.$a==0){if(Ne=f.rc,pe=f.Vc,Me=f.Fa,H=f.P+1+S*g,J=f.mb,le=f.nb+S*g,t(H<=f.P+f.qc),$.Z!=0)for(t(Lo[$.Z]!=null),U=0;U<A;++U)Lo[$.Z](Ne,pe,Me,H,J,le,g),Ne=J,pe=le,le+=g,H+=g;else for(U=0;U<A;++U)n(J,le,Me,H,g),Ne=J,pe=le,le+=g,H+=g;f.rc=Ne,f.Vc=pe}else{if(t($.mc!=null),g=S+A,t((U=$.mc)!=null),t(g<=U.i),U.C>=g)g=1;else if($.ic||ve(),$.ic){$=U.V,Ne=U.Ba,pe=U.c;var ke=U.i,ce=(Me=1,H=U.$/pe,J=U.$%pe,le=U.m,we=U.s,U.$),fe=pe*ke,Te=pe*g,Fe=we.wc,Le=ce<Te?ns(we,J,H):null;t(ce<=fe),t(g<=ke),t(Wn(we));t:for(;;){for(;!le.h&&ce<Te;){if(J&Fe||(Le=ns(we,J,H)),t(Le!=null),ae(le),256>(ke=dr(Le.G[0],Le.H[0],le)))$[Ne+ce]=ke,++ce,++J>=pe&&(J=0,++H<=g&&!(H%16)&&Gr(U,H));else{if(!(280>ke)){Me=0;break t}ke=rs(ke-256,le);var nt,Xe=dr(Le.G[4],Le.H[4],le);if(ae(le),!(ce>=(Xe=hn(pe,Xe=rs(Xe,le)))&&fe-ce>=ke)){Me=0;break t}for(nt=0;nt<ke;++nt)$[Ne+ce+nt]=$[Ne+ce+nt-Xe];for(ce+=ke,J+=ke;J>=pe;)J-=pe,++H<=g&&!(H%16)&&Gr(U,H);ce<Te&&J&Fe&&(Le=ns(we,J,H))}t(le.h==Z(le))}Gr(U,H>g?g:H);break t}!Me||le.h&&ce<fe?(Me=0,U.a=le.h?5:3):U.$=ce,g=Me}else g=mn(U,U.V,U.Ba,U.c,U.i,g,Oi);if(!g){A=0;break e}}S+A>=F&&(f.Cc=1),A=1}if(!A)return null;if(f.Cc&&((A=f.ga)!=null&&(A.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+S*R}function w(f,g,S,A,R,F){for(;0<R--;){var U,$=f,H=g+(S?1:0),J=f,le=g+(S?0:3);for(U=0;U<A;++U){var we=J[le+4*U];we!=255&&(we*=32897,$[H+4*U+0]=$[H+4*U+0]*we>>23,$[H+4*U+1]=$[H+4*U+1]*we>>23,$[H+4*U+2]=$[H+4*U+2]*we>>23)}g+=F}}function D(f,g,S,A,R){for(;0<A--;){var F;for(F=0;F<S;++F){var U=f[g+2*F+0],$=15&(J=f[g+2*F+1]),H=4369*$,J=(240&J|J>>4)*H>>16;f[g+2*F+0]=(240&U|U>>4)*H>>16&240|(15&U|U<<4)*H>>16>>4&15,f[g+2*F+1]=240&J|$}g+=R}}function ee(f,g,S,A,R,F,U,$){var H,J,le=255;for(J=0;J<R;++J){for(H=0;H<A;++H){var we=f[g+H];F[U+4*H]=we,le&=we}g+=S,U+=$}return le!=255}function ie(f,g,S,A,R){var F;for(F=0;F<R;++F)S[A+F]=f[g+F]>>8}function ve(){vi=w,xs=D,ys=ee,er=ie}function Ce(f,g,S){T[f]=function(A,R,F,U,$,H,J,le,we,Ne,pe,Me,ke,ce,fe,Te,Fe){var Le,nt=Fe-1>>1,Xe=$[H+0]|J[le+0]<<16,yt=we[Ne+0]|pe[Me+0]<<16;t(A!=null);var tt=3*Xe+yt+131074>>2;for(g(A[R+0],255&tt,tt>>16,ke,ce),F!=null&&(tt=3*yt+Xe+131074>>2,g(F[U+0],255&tt,tt>>16,fe,Te)),Le=1;Le<=nt;++Le){var Zt=$[H+Le]|J[le+Le]<<16,is=we[Ne+Le]|pe[Me+Le]<<16,Jt=Xe+Zt+yt+is+524296,Ht=Jt+2*(Zt+yt)>>3;tt=Ht+Xe>>1,Xe=(Jt=Jt+2*(Xe+is)>>3)+Zt>>1,g(A[R+2*Le-1],255&tt,tt>>16,ke,ce+(2*Le-1)*S),g(A[R+2*Le-0],255&Xe,Xe>>16,ke,ce+(2*Le-0)*S),F!=null&&(tt=Jt+yt>>1,Xe=Ht+is>>1,g(F[U+2*Le-1],255&tt,tt>>16,fe,Te+(2*Le-1)*S),g(F[U+2*Le+0],255&Xe,Xe>>16,fe,Te+(2*Le+0)*S)),Xe=Zt,yt=is}1&Fe||(tt=3*Xe+yt+131074>>2,g(A[R+Fe-1],255&tt,tt>>16,ke,ce+(Fe-1)*S),F!=null&&(tt=3*yt+Xe+131074>>2,g(F[U+Fe-1],255&tt,tt>>16,fe,Te+(Fe-1)*S)))}}function $e(){wi[pf]=Uk,wi[gf]=i2,wi[e2]=zk,wi[xf]=a2,wi[yf]=o2,wi[h0]=l2,wi[t2]=$k,wi[f0]=i2,wi[m0]=a2,wi[vf]=o2,wi[p0]=l2}function rt(f){return f&-16384?0>f?0:255:f>>Vk}function gt(f,g){return rt((19077*f>>8)+(26149*g>>8)-14234)}function It(f,g,S){return rt((19077*f>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function Tt(f,g){return rt((19077*f>>8)+(33050*g>>8)-17685)}function Kt(f,g,S,A,R){A[R+0]=gt(f,S),A[R+1]=It(f,g,S),A[R+2]=Tt(f,g)}function Is(f,g,S,A,R){A[R+0]=Tt(f,g),A[R+1]=It(f,g,S),A[R+2]=gt(f,S)}function Hs(f,g,S,A,R){var F=It(f,g,S);g=F<<3&224|Tt(f,g)>>3,A[R+0]=248&gt(f,S)|F>>5,A[R+1]=g}function mr(f,g,S,A,R){var F=240&Tt(f,g)|15;A[R+0]=240&gt(f,S)|It(f,g,S)>>4,A[R+1]=F}function Yr(f,g,S,A,R){A[R+0]=255,Kt(f,g,S,A,R+1)}function _r(f,g,S,A,R){Is(f,g,S,A,R),A[R+3]=255}function Hi(f,g,S,A,R){Kt(f,g,S,A,R),A[R+3]=255}function Xn(f,g){return 0>f?0:f>g?g:f}function ya(f,g,S){T[f]=function(A,R,F,U,$,H,J,le,we){for(var Ne=le+(-2&we)*S;le!=Ne;)g(A[R+0],F[U+0],$[H+0],J,le),g(A[R+1],F[U+0],$[H+0],J,le+S),R+=2,++U,++H,le+=2*S;1&we&&g(A[R+0],F[U+0],$[H+0],J,le)}}function lf(f,g,S){return S==0?f==0?g==0?6:5:g==0?4:0:S}function lu(f,g,S,A,R){switch(f>>>30){case 3:za(g,S,A,R,0);break;case 2:Zs(g,S,A,R);break;case 1:yn(g,S,A,R)}}function cu(f,g){var S,A,R=g.M,F=g.Nb,U=f.oc,$=f.pc+40,H=f.oc,J=f.pc+584,le=f.oc,we=f.pc+600;for(S=0;16>S;++S)U[$+32*S-1]=129;for(S=0;8>S;++S)H[J+32*S-1]=129,le[we+32*S-1]=129;for(0<R?U[$-1-32]=H[J-1-32]=le[we-1-32]=129:(i(U,$-32-1,127,21),i(H,J-32-1,127,9),i(le,we-32-1,127,9)),A=0;A<f.za;++A){var Ne=g.ya[g.aa+A];if(0<A){for(S=-1;16>S;++S)n(U,$+32*S-4,U,$+32*S+12,4);for(S=-1;8>S;++S)n(H,J+32*S-4,H,J+32*S+4,4),n(le,we+32*S-4,le,we+32*S+4,4)}var pe=f.Gd,Me=f.Hd+A,ke=Ne.ad,ce=Ne.Hc;if(0<R&&(n(U,$-32,pe[Me].y,0,16),n(H,J-32,pe[Me].f,0,8),n(le,we-32,pe[Me].ea,0,8)),Ne.Za){var fe=U,Te=$-32+16;for(0<R&&(A>=f.za-1?i(fe,Te,pe[Me].y[15],4):n(fe,Te,pe[Me+1].y,0,4)),S=0;4>S;S++)fe[Te+128+S]=fe[Te+256+S]=fe[Te+384+S]=fe[Te+0+S];for(S=0;16>S;++S,ce<<=2)fe=U,Te=$+d2[S],Wi[Ne.Ob[S]](fe,Te),lu(ce,ke,16*+S,fe,Te)}else if(fe=lf(A,R,Ne.Ob[0]),To[fe](U,$),ce!=0)for(S=0;16>S;++S,ce<<=2)lu(ce,ke,16*+S,U,$+d2[S]);for(S=Ne.Gc,fe=lf(A,R,Ne.Dd),Va[fe](H,J),Va[fe](le,we),ce=ke,fe=H,Te=J,255&(Ne=S>>0)&&(170&Ne?mu(ce,256,fe,Te):xi(ce,256,fe,Te)),Ne=le,ce=we,255&(S>>=8)&&(170&S?mu(ke,320,Ne,ce):xi(ke,320,Ne,ce)),R<f.Ub-1&&(n(pe[Me].y,0,U,$+480,16),n(pe[Me].f,0,H,J+224,8),n(pe[Me].ea,0,le,we+224,8)),S=8*F*f.B,pe=f.sa,Me=f.ta+16*A+16*F*f.R,ke=f.qa,Ne=f.ra+8*A+S,ce=f.Ha,fe=f.Ia+8*A+S,S=0;16>S;++S)n(pe,Me+S*f.R,U,$+32*S,16);for(S=0;8>S;++S)n(ke,Ne+S*f.B,H,J+32*S,8),n(ce,fe+S*f.B,le,we+32*S,8)}}function kc(f,g,S,A,R,F,U,$,H){var J=[0],le=[0],we=0,Ne=H!=null?H.kd:0,pe=H??new mi;if(f==null||12>S)return 7;pe.data=f,pe.w=g,pe.ha=S,g=[g],S=[S],pe.gb=[pe.gb];e:{var Me=g,ke=S,ce=pe.gb;if(t(f!=null),t(ke!=null),t(ce!=null),ce[0]=0,12<=ke[0]&&!s(f,Me[0],"RIFF")){if(s(f,Me[0]+8,"WEBP")){ce=3;break e}var fe=Be(f,Me[0]+4);if(12>fe||4294967286<fe){ce=3;break e}if(Ne&&fe>ke[0]-8){ce=7;break e}ce[0]=fe,Me[0]+=12,ke[0]-=12}ce=0}if(ce!=0)return ce;for(fe=0<pe.gb[0],S=S[0];;){e:{var Te=f;ke=g,ce=S;var Fe=J,Le=le,nt=Me=[0];if((tt=we=[we])[0]=0,8>ce[0])ce=7;else{if(!s(Te,ke[0],"VP8X")){if(Be(Te,ke[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Xe=Be(Te,ke[0]+8),yt=1+ze(Te,ke[0]+12);if(2147483648<=yt*(Te=1+ze(Te,ke[0]+15))){ce=3;break e}nt!=null&&(nt[0]=Xe),Fe!=null&&(Fe[0]=yt),Le!=null&&(Le[0]=Te),ke[0]+=18,ce[0]-=18,tt[0]=1}ce=0}}if(we=we[0],Me=Me[0],ce!=0)return ce;if(ke=!!(2&Me),!fe&&we)return 3;if(F!=null&&(F[0]=!!(16&Me)),U!=null&&(U[0]=ke),$!=null&&($[0]=0),U=J[0],Me=le[0],we&&ke&&H==null){ce=0;break}if(4>S){ce=7;break}if(fe&&we||!fe&&!we&&!s(f,g[0],"ALPH")){S=[S],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Xe=f,ce=g,fe=S;var tt=pe.gb;Fe=pe.na,Le=pe.P,nt=pe.Sa,yt=22,t(Xe!=null),t(fe!=null),Te=ce[0];var Zt=fe[0];for(t(Fe!=null),t(nt!=null),Fe[0]=null,Le[0]=null,nt[0]=0;;){if(ce[0]=Te,fe[0]=Zt,8>Zt){ce=7;break e}var is=Be(Xe,Te+4);if(4294967286<is){ce=3;break e}var Jt=8+is+1&-2;if(yt+=Jt,0<tt&&yt>tt){ce=3;break e}if(!s(Xe,Te,"VP8 ")||!s(Xe,Te,"VP8L")){ce=0;break e}if(Zt[0]<Jt){ce=7;break e}s(Xe,Te,"ALPH")||(Fe[0]=Xe,Le[0]=Te+8,nt[0]=is),Te+=Jt,Zt-=Jt}}if(S=S[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],ce!=0)break}S=[S],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(tt=f,ce=g,fe=S,Fe=pe.gb[0],Le=pe.Ja,nt=pe.xa,Xe=ce[0],Te=!s(tt,Xe,"VP8 "),yt=!s(tt,Xe,"VP8L"),t(tt!=null),t(fe!=null),t(Le!=null),t(nt!=null),8>fe[0])ce=7;else{if(Te||yt){if(tt=Be(tt,Xe+4),12<=Fe&&tt>Fe-12){ce=3;break e}if(Ne&&tt>fe[0]-8){ce=7;break e}Le[0]=tt,ce[0]+=8,fe[0]-=8,nt[0]=yt}else nt[0]=5<=fe[0]&&tt[Xe+0]==47&&!(tt[Xe+4]>>5),Le[0]=fe[0];ce=0}if(S=S[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],g=g[0],ce!=0)break;if(4294967286<pe.Ja)return 3;if($==null||ke||($[0]=pe.xa?2:1),U=[U],Me=[Me],pe.xa){if(5>S){ce=7;break}$=U,Ne=Me,ke=F,f==null||5>S?f=0:5<=S&&f[g+0]==47&&!(f[g+4]>>5)?(fe=[0],tt=[0],Fe=[0],z(Le=new I,f,g,S),mt(Le,fe,tt,Fe)?($!=null&&($[0]=fe[0]),Ne!=null&&(Ne[0]=tt[0]),ke!=null&&(ke[0]=Fe[0]),f=1):f=0):f=0}else{if(10>S){ce=7;break}$=Me,f==null||10>S||!$i(f,g+3,S-3)?f=0:(Ne=f[g+0]|f[g+1]<<8|f[g+2]<<16,ke=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=pe.Ja||!ke||!f?f=0:(U&&(U[0]=ke),$&&($[0]=f),f=1))}if(!f||(U=U[0],Me=Me[0],we&&(J[0]!=U||le[0]!=Me)))return 3;H!=null&&(H[0]=pe,H.offset=g-H.w,t(4294967286>g-H.w),t(H.offset==H.ha-S));break}return ce==0||ce==7&&we&&H==null?(F!=null&&(F[0]|=pe.na!=null&&0<pe.na.length),A!=null&&(A[0]=U),R!=null&&(R[0]=Me),0):ce}function du(f,g,S){var A=g.width,R=g.height,F=0,U=0,$=A,H=R;if(g.Da=f!=null&&0<f.Da,g.Da&&($=f.cd,H=f.bd,F=f.v,U=f.j,11>S||(F&=-2,U&=-2),0>F||0>U||0>=$||0>=H||F+$>A||U+H>R))return 0;if(g.v=F,g.j=U,g.va=F+$,g.o=U+H,g.U=$,g.T=H,g.da=f!=null&&0<f.da,g.da){if(!Je($,H,S=[f.ib],F=[f.hb]))return 0;g.ib=S[0],g.hb=F[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*A/4&&g.hb<3*R/4,g.Kb=0),1}function uu(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Cc(f,g,S,A){if(A==null||0>=f||0>=g)return 2;if(S!=null){if(S.Da){var R=S.cd,F=S.bd,U=-2&S.v,$=-2&S.j;if(0>U||0>$||0>=R||0>=F||U+R>f||$+F>g)return 2;f=R,g=F}if(S.da){if(!Je(f,g,R=[S.ib],F=[S.hb]))return 2;f=R[0],g=F[0]}}A.width=f,A.height=g;e:{var H=A.width,J=A.height;if(f=A.S,0>=H||0>=J||!(f>=pf&&13>f))f=2;else{if(0>=A.Rd&&A.sd==null){U=F=R=g=0;var le=($=H*u2[f])*J;if(11>f||(F=(J+1)/2*(g=(H+1)/2),f==12&&(U=(R=H)*J)),(J=a(le+2*F+U))==null){f=1;break e}A.sd=J,11>f?((H=A.f.RGBA).eb=J,H.fb=0,H.A=$,H.size=le):((H=A.f.kb).y=J,H.O=0,H.fa=$,H.Fd=le,H.f=J,H.N=0+le,H.Ab=g,H.Cd=F,H.ea=J,H.W=0+le+F,H.Db=g,H.Ed=F,f==12&&(H.F=J,H.J=0+le+2*F),H.Tc=U,H.lb=R)}if(g=1,R=A.S,F=A.width,U=A.height,R>=pf&&13>R)if(11>R)f=A.f.RGBA,g&=($=Math.abs(f.A))*(U-1)+F<=f.size,g&=$>=F*u2[R],g&=f.eb!=null;else{f=A.f.kb,$=(F+1)/2,le=(U+1)/2,H=Math.abs(f.fa),J=Math.abs(f.Ab);var we=Math.abs(f.Db),Ne=Math.abs(f.lb),pe=Ne*(U-1)+F;g&=H*(U-1)+F<=f.Fd,g&=J*(le-1)+$<=f.Cd,g=(g&=we*(le-1)+$<=f.Ed)&H>=F&J>=$&we>=$,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,R==12&&(g&=Ne>=F,g&=pe<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||S!=null&&S.fd&&(f=uu(A)),f}var Fr=64,_c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ac=24,Ec=32,hu=8,Ln=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(f){return f},T.Predictor2=function(f,g,S){return g[S+0]},T.Predictor3=function(f,g,S){return g[S+1]},T.Predictor4=function(f,g,S){return g[S-1]},T.Predictor5=function(f,g,S){return Ye(Ye(f,g[S+1]),g[S+0])},T.Predictor6=function(f,g,S){return Ye(f,g[S-1])},T.Predictor7=function(f,g,S){return Ye(f,g[S+0])},T.Predictor8=function(f,g,S){return Ye(g[S-1],g[S+0])},T.Predictor9=function(f,g,S){return Ye(g[S+0],g[S+1])},T.Predictor10=function(f,g,S){return Ye(Ye(f,g[S-1]),Ye(g[S+0],g[S+1]))},T.Predictor11=function(f,g,S){var A=g[S+0];return 0>=ht(A>>24&255,f>>24&255,(g=g[S-1])>>24&255)+ht(A>>16&255,f>>16&255,g>>16&255)+ht(A>>8&255,f>>8&255,g>>8&255)+ht(255&A,255&f,255&g)?A:f},T.Predictor12=function(f,g,S){var A=g[S+0];return(st((f>>24&255)+(A>>24&255)-((g=g[S-1])>>24&255))<<24|st((f>>16&255)+(A>>16&255)-(g>>16&255))<<16|st((f>>8&255)+(A>>8&255)-(g>>8&255))<<8|st((255&f)+(255&A)-(255&g)))>>>0},T.Predictor13=function(f,g,S){var A=g[S-1];return(pt((f=Ye(f,g[S+0]))>>24&255,A>>24&255)<<24|pt(f>>16&255,A>>16&255)<<16|pt(f>>8&255,A>>8&255)<<8|pt(f>>0&255,A>>0&255))>>>0};var d0=T.PredictorAdd0;T.PredictorAdd1=ft,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var fu=T.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var cf,gi=T.ColorIndexInverseTransform,Pc=T.MapARGB,df=T.VP8LColorIndexInverseTransformAlpha,uf=T.MapAlpha,_o=T.VP8LPredictorsAdd=[];_o.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Ol,Mn,xn,Ao,Ba,Ua,Tc,za,Zs,mu,yn,xi,Lc,hf,pu,Fl,Bl,Eo,Ul,Mc,zl,Po,gu,yi,vi,xs,ys,er,br=a(511),$a=a(2041),xu=a(225),Ic=a(767),ff=0,u0=$a,mf=xu,Qn=Ic,bi=br,pf=0,gf=1,e2=2,xf=3,yf=4,h0=5,t2=6,f0=7,m0=8,vf=9,p0=10,Ck=[2,3,7],_k=[3,3,11],s2=[280,256,256,256,40],Ak=[0,1,1,1,0],Ek=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Tk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lk=8,g0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],x0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,Mk=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ik=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],r2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rk=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dk=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ok=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fk=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],To=[],Wi=[],Va=[],Bk=1,n2=2,Lo=[],wi=[];Ce("UpsampleRgbLinePair",Kt,3),Ce("UpsampleBgrLinePair",Is,3),Ce("UpsampleRgbaLinePair",Hi,4),Ce("UpsampleBgraLinePair",_r,4),Ce("UpsampleArgbLinePair",Yr,4),Ce("UpsampleRgba4444LinePair",mr,2),Ce("UpsampleRgb565LinePair",Hs,2);var Uk=T.UpsampleRgbLinePair,zk=T.UpsampleBgrLinePair,i2=T.UpsampleRgbaLinePair,a2=T.UpsampleBgraLinePair,o2=T.UpsampleArgbLinePair,l2=T.UpsampleRgba4444LinePair,$k=T.UpsampleRgb565LinePair,bf=16,wf=1<<bf-1,vu=-227,y0=482,Vk=6,c2=0,qk=a(256),Hk=a(256),Wk=a(256),Gk=a(256),Kk=a(y0-vu),Yk=a(y0-vu);ya("YuvToRgbRow",Kt,3),ya("YuvToBgrRow",Is,3),ya("YuvToRgbaRow",Hi,4),ya("YuvToBgraRow",_r,4),ya("YuvToArgbRow",Yr,4),ya("YuvToRgba4444Row",mr,2),ya("YuvToRgb565Row",Hs,2);var d2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nf=[0,2,8],Jk=[8,7,6,4,4,2,2,2,1,1,1,1],Xk=1;this.WebPDecodeRGBA=function(f,g,S,A,R){var F=gf,U=new St,$=new cr;U.ba=$,$.S=F,$.width=[$.width],$.height=[$.height];var H=$.width,J=$.height,le=new Ir;if(le==null||f==null)var we=2;else t(le!=null),we=kc(f,g,S,le.width,le.height,le.Pd,le.Qd,le.format,null);if(we!=0?H=0:(H!=null&&(H[0]=le.width[0]),J!=null&&(J[0]=le.height[0]),H=1),H){$.width=$.width[0],$.height=$.height[0],A!=null&&(A[0]=$.width),R!=null&&(R[0]=$.height);e:{if(A=new zi,(R=new mi).data=f,R.w=g,R.ha=S,R.kd=1,g=[0],t(R!=null),((f=kc(R.data,R.w,R.ha,null,null,null,g,null,R))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(t(U!=null),A.data=R.data,A.w=R.w+R.offset,A.ha=R.ha-R.offset,A.put=Ps,A.ac=qs,A.bc=Qs,A.ma=U,R.xa){if((f=ur())==null){U=1;break e}if(function(Ne,pe){var Me=[0],ke=[0],ce=[0];t:for(;;){if(Ne==null)return 0;if(pe==null)return Ne.a=2,0;if(Ne.l=pe,Ne.a=0,z(Ne.m,pe.data,pe.w,pe.ha),!mt(Ne.m,Me,ke,ce)){Ne.a=3;break t}if(Ne.xb=n2,pe.width=Me[0],pe.height=ke[0],!An(Me[0],ke[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(f,A)){if(A=(g=Cc(A.width,A.height,U.Oa,U.ba))==0){t:{A=f;s:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((S=A.l)!=null),t((R=S.ma)!=null),A.xb!=0){if(A.ca=R.ba,A.tb=R.tb,t(A.ca!=null),!du(R.Oa,S,xf)){A.a=2;break s}if(!Di(A,S.width)||S.da)break s;if((S.da||zt(A.ca.S))&&ve(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&ve()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Pe(A.s.vb,A.s.Wa.Xa)){A.a=1;break s}A.xb=0}if(!mn(A,A.V,A.Ba,A.c,A.i,S.o,ha))break s;R.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(g=f.a)}else g=f.a}else{if((f=new Il)==null){U=1;break e}if(f.Fa=R.na,f.P=R.P,f.qc=R.Sa,bo(f,A)){if((g=Cc(A.width,A.height,U.Oa,U.ba))==0){if(f.Aa=0,S=U.Oa,t((R=f)!=null),S!=null){if(0<(H=0>(H=S.Md)?0:100<H?255:255*H/100)){for(J=le=0;4>J;++J)12>(we=R.pb[J]).lc&&(we.ia=H*Jk[0>we.lc?0:we.lc]>>3),le|=we.ia;le&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}Ra(f,A)||(g=f.a)}}else g=f.a}g==0&&U.Oa!=null&&U.Oa.fd&&(g=uu(U.ba))}U=g}F=U!=0?null:11>F?$.f.RGBA.eb:$.f.kb.y}else F=null;return F};var u2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,q){for(var G="",M=0;M<4;M++)G+=String.fromCharCode(T[q++]);return G}function u(T,q){return(T[q+0]<<0|T[q+1]<<8|T[q+2]<<16)>>>0}function h(T,q){return(T[q+0]<<0|T[q+1]<<8|T[q+2]<<16|T[q+3]<<24)>>>0}new c;var m=[0],p=[0],x=[],j=new c,N=e,y=function(T,q){var G={},M=0,O=!1,X=0,K=0;if(G.frames=[],!function(W,Z,te,ae){for(var ge=0;ge<ae;ge++)if(W[Z+ge]!=te.charCodeAt(ge))return!0;return!1}(T,q,"RIFF",4)){for(h(T,q+=4),q+=8;q<T.length;){var de=d(T,q),V=h(T,q+=4);q+=4;var ne=V+(1&V);switch(de){case"VP8 ":case"VP8L":G.frames[M]===void 0&&(G.frames[M]={}),(se=G.frames[M]).src_off=O?K:q-8,se.src_size=X+V+8,M++,O&&(O=!1,X=0,K=0);break;case"VP8X":(se=G.header={}).feature_flags=T[q];var z=q+4;se.canvas_width=1+u(T,z),z+=3,se.canvas_height=1+u(T,z),z+=3;break;case"ALPH":O=!0,X=ne+8,K=q-8;break;case"ANIM":(se=G.header).bgcolor=h(T,q),z=q+4,se.loop_count=(ue=T)[(I=z)+0]<<0|ue[I+1]<<8,z+=2;break;case"ANMF":var Q,se;(se=G.frames[M]={}).offset_x=2*u(T,q),q+=3,se.offset_y=2*u(T,q),q+=3,se.width=1+u(T,q),q+=3,se.height=1+u(T,q),q+=3,se.duration=u(T,q),q+=3,Q=T[q++],se.dispose=1&Q,se.blend=Q>>1&1}de!="ANMF"&&(q+=ne)}var ue,I;return G}}(N,0);y.response=N,y.rgbaoutput=!0,y.dataurl=!1;var v=y.header?y.header:null,b=y.frames?y.frames:null;if(v){v.loop_counter=v.loop_count,m=[v.canvas_height],p=[v.canvas_width];for(var k=0;k<b.length&&b[k].blend!=0;k++);}var _=b[0],C=j.WebPDecodeRGBA(N,_.src_off,_.src_size,p,m);_.rgba=C,_.imgwidth=p[0],_.imgheight=m[0];for(var L=0;L<p[0]*m[0]*4;L++)x[L]=C[L];return this.width=p,this.height=m,this.data=x,this}(function(e){var t=function(){return typeof Iy=="function"},s=function(m,p,x,j){var N=4,y=o;switch(j){case e.image_compression.FAST:N=1,y=a;break;case e.image_compression.MEDIUM:N=6,y=l;break;case e.image_compression.SLOW:N=9,y=c}m=n(m,p,x,y);var v=Iy(m,{level:N});return e.__addimage__.arrayBufferToBinaryString(v)},n=function(m,p,x,j){for(var N,y,v,b=m.length/p,k=new Uint8Array(m.length+b),_=u(),C=0;C<b;C+=1){if(v=C*p,N=m.subarray(v,v+p),j)k.set(j(N,x,y),v+C);else{for(var L,T=_.length,q=[];L<T;L+=1)q[L]=_[L](N,x,y);var G=h(q.concat());k.set(q[G],v+C)}y=N}return k},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},a=function(m,p){var x,j=[],N=m.length;j[0]=1;for(var y=0;y<N;y+=1)x=m[y-p]||0,j[y+1]=m[y]-x+256&255;return j},o=function(m,p,x){var j,N=[],y=m.length;N[0]=2;for(var v=0;v<y;v+=1)j=x&&x[v]||0,N[v+1]=m[v]-j+256&255;return N},l=function(m,p,x){var j,N,y=[],v=m.length;y[0]=3;for(var b=0;b<v;b+=1)j=m[b-p]||0,N=x&&x[b]||0,y[b+1]=m[b]+256-(j+N>>>1)&255;return y},c=function(m,p,x){var j,N,y,v,b=[],k=m.length;b[0]=4;for(var _=0;_<k;_+=1)j=m[_-p]||0,N=x&&x[_]||0,y=x&&x[_-p]||0,v=d(j,N,y),b[_+1]=m[_]-v+256&255;return b},d=function(m,p,x){if(m===p&&p===x)return m;var j=Math.abs(p-x),N=Math.abs(m-x),y=Math.abs(m+p-x-x);return j<=N&&j<=y?m:N<=y?p:x},u=function(){return[i,a,o,l,c]},h=function(m){var p=m.map(function(x){return x.reduce(function(j,N){return j+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(m,p,x,j){var N,y,v,b,k,_,C,L,T,q,G,M,O,X,K,de=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(v=new QO(m)).imgData,y=v.bits,N=v.colorSpace,k=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){T=(L=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,G=new Uint8Array(T*v.colors),q=new Uint8Array(T);var ne,z=v.pixelBitlength-v.bits;for(X=0,K=0;X<T;X++){for(O=L[X],ne=0;ne<z;)G[K++]=O>>>ne&255,ne+=v.bits;q[X]=O>>>ne&255}}if(v.bits===16){T=(L=new Uint32Array(v.decodePixels().buffer)).length,G=new Uint8Array(T*(32/v.pixelBitlength)*v.colors),q=new Uint8Array(T*(32/v.pixelBitlength)),M=v.colors>1,X=0,K=0;for(var Q=0;X<T;)O=L[X++],G[K++]=O>>>0&255,M&&(G[K++]=O>>>16&255,O=L[X++],G[K++]=O>>>0&255),q[Q++]=O>>>16&255;y=8}j!==e.image_compression.NONE&&t()?(m=s(G,v.width*v.colors,v.colors,j),C=s(q,v.width,1,j)):(m=G,C=q,de=void 0)}if(v.colorType===3&&(N=this.color_spaces.INDEXED,_=v.palette,v.transparency.indexed)){var se=v.transparency.indexed,ue=0;for(X=0,T=se.length;X<T;++X)ue+=se[X];if((ue/=255)===T-1&&se.indexOf(0)!==-1)b=[se.indexOf(0)];else if(ue!==T){for(L=v.decodePixels(),q=new Uint8Array(L.length),X=0,T=L.length;X<T;X++)q[X]=se[L[X]];C=s(q,v.width,1)}}var I=function(W){var Z;switch(W){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(j);return de===this.decode.FLATE_DECODE&&(V="/Predictor "+I+" "),V+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:x,data:m,index:p,filter:de,decodeParameters:V,transparency:b,palette:_,sMask:C,predictor:I,width:v.width,height:v.height,bitsPerComponent:y,colorSpace:N}}}})(wt.API),function(e){e.processGIF89A=function(t,s,n,i){var a=new ZO(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new Fg(100).encode(d,100);return e.processJPEG.call(this,u,s,n,i)},e.processGIF87A=e.processGIF89A}(wt.API),Ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:s,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ji.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(s){hs.log("bit decode error:"+s)}},Ji.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}s!==0&&(this.pos+=4-s)}},Ji.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ji.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ji.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Ji.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&s)/s*255|0,d=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Ji.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ji.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Ji.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,s,n,i){var a=new Ji(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new Fg(100).encode(c,100);return e.processJPEG.call(this,d,s,n,i)}}(wt.API),aN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,s,n,i){var a=new aN(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new Fg(100).encode(c,100);return e.processJPEG.call(this,d,s,n,i)}}(wt.API),wt.API.processRGBA=function(e,t,s){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],h=n[d+1],m=n[d+2],p=n[d+3];a[l++]=u,a[l++]=h,a[l++]=m,o[c++]=p}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wc=wt.API,am=Wc.getCharWidthsArray=function(e,t){var s,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,m=0,p=e.length,x=0,j=l[0]||c,N=[];for(s=0;s<p;s++)n=e.charCodeAt(s),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=h&&os(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,N.push((l[n]||j)/c+m)),x=n;return N},sN=Wc.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Wc.processArabic&&(e=Wc.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,s,i)/s:am.apply(this,arguments).reduce(function(a,o){return a+o},0)},rN=function(e,t,s,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<s;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},nN=function(e,t,s){s||(s={});var n,i,a,o,l,c,d,u=[],h=[u],m=s.textIndent||0,p=0,x=0,j=e.split(" "),N=am.apply(this,[" ",s])[0];if(c=s.lineIndent===-1?j[0].length+2:s.lineIndent||0){var y=Array(c).join(" "),v=[];j.map(function(k){(k=k.split(/\s*\n/)).length>1?v=v.concat(k.map(function(_,C){return(C&&_.length?`
`:"")+_})):v.push(k[0])}),j=v,c=sN.apply(this,[y,s])}for(a=0,o=j.length;a<o;a++){var b=0;if(n=j[a],c&&n[0]==`
`&&(n=n.substr(1),b=1),m+p+(x=(i=am.apply(this,[n,s])).reduce(function(k,_){return k+_},0))>t||b){if(x>t){for(l=rN.apply(this,[n,i,t-(m+p),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);x=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(k,_){return k+_},0)}else u=[n];h.push(u),m=x+c,p=N}else u.push(n),m+=p+x,p=N}return d=c?function(k,_){return(_?y:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(d)},Wc.splitTextToSize=function(e,t,s){var n,i=(s=s||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=s.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(nN.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",s={},n={},i=0;i<t.length;i++)s[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var m,p,x,j,N=["{"];for(var y in h){if(m=h[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof m=="number")m<0?(x=a(m).slice(3),j="-"):(x=a(m).slice(2),j=""),x=j+x.slice(0,-1)+n[x.slice(-1)];else{if(os(m)!=="object")throw new Error("Don't know what to do with value type "+os(m)+".");x=o(m)}N.push(p+x)}return N.push("}"),N.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,x,j,N={},y=1,v=N,b=[],k="",_="",C=h.length-1,L=1;L<C;L+=1)(j=h[L])=="'"?m?(x=m.join(""),m=void 0):m=[]:m?m.push(j):j=="{"?(b.push([v,x]),v={},x=void 0):j=="}"?((p=b.pop())[0][p[1]]=v,x=void 0,v=p[0]):j=="-"?y=-1:x===void 0?s.hasOwnProperty(j)?(k+=s[j],x=parseInt(k,16)*y,y=1,k=""):k+=j:s.hasOwnProperty(j)?(_+=s[j],v[x]=parseInt(_,16)*y,y=1,x=void 0,_=""):_+=j;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var m=h.font,p=u.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var x=d.Unicode[m.postScriptName];x&&(m.metadata.Unicode.encoding=x,m.encoding=x.codePages[0])}])}(wt.API),function(e){var t=function(s){for(var n=s.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=s.charCodeAt(a);return i};e.API.events.push(["addFont",function(s){var n=void 0,i=s.font,a=s.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(oh(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(wt),function(e){function t(){return(jt.canvg?Promise.resolve(jt.canvg):xl(()=>import("./index.es-CkdKNbHE.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load canvg: "+s))}).then(function(s){return s.default?s.default:s})}wt.API.addSvgAsImage=function(s,n,i,a,o,l,c,d){if(isNaN(n)||isNaN(i))throw hs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw hs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(x){return x.fromString(h,s,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,i,a,o,c,d)})}}(),wt.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,s);return this},wt.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(x,j){var N,y=!1;for(N=0;N<x.length;N+=1)x[N]===j&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(h=0;h<p;h+=1)s[l[h]].value=s[l[h]].defaultValue,s[l[h]].explicitSet=!1}if(os(e)==="object"){for(i in e)if(a=e[i],m(l,i)&&a!==void 0){if(s[i].type==="boolean"&&typeof a=="boolean")s[i].value=a;else if(s[i].type==="name"&&m(s[i].valueSet,a))s[i].value=a;else if(s[i].type==="integer"&&Number.isInteger(a))s[i].value=a;else if(s[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}s[i].value="["+c.join(" ")+"]"}else s[i].value=s[i].defaultValue;s[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,j=[];for(x in s)s[x].explicitSet===!0&&(s[x].type==="name"?j.push("/"+x+" /"+s[x].value):j.push("/"+x+" "+s[x].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}}(wt.API),function(e){var t=e.API,s=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=a.length;h<m;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(a).sort(function(p,x){return p-x})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var j=d();u({data:p,addLength1:!0,objectId:j}),c("endobj");var N=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Jc(l.fontName)),c("/FontFile2 "+j+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Jc(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+Jc(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var x=d();u({data:m,addLength1:!0,objectId:x}),c("endobj");var j=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var N=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Jc(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Jc(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},h=a.mutex||{},m=h.pdfEscape,p=h.activeFontKey,x=h.fonts,j=p,N="",y=0,v="",b=x[j].encoding;if(x[j].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(v=l,j=p,Array.isArray(l)&&(v=l[0]),y=0;y<v.length;y+=1)x[j].metadata.hasOwnProperty("cmap")&&(o=x[j].metadata.cmap.unicode.codeMap[v[y].charCodeAt(0)]),o||v[y].charCodeAt(0)<256&&x[j].metadata.hasOwnProperty("Unicode")?N+=v[y]:N+="";var k="";return parseInt(j.slice(1))<14||b==="WinAnsiEncoding"?k=m(N,j).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(k=s(N,x[j])),h.isHex=!0,{text:k,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,n){return t.call(this),this.internal.vFS[s]=n,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var k=function(M){var O=M.charCodeAt(),X=O>>8,K=j[X];return K!==void 0?h[256*K+(255&O)]:X===252||X===253?"AL":y.test(X)?"L":X===8?"R":"N"},_=function(M){for(var O,X=0;X<M.length;X++){if((O=k(M.charAt(X)))==="L")return!1;if(O==="R")return!0}return!1},C=function(M,O,X,K){var de,V,ne,z,Q=O[K];switch(Q){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(Q="AN");break;case"AL":v=!0,Q="R";break;case"WS":Q="N";break;case"CS":K<1||K+1>=O.length||(de=X[K-1])!=="EN"&&de!=="AN"||(V=O[K+1])!=="EN"&&V!=="AN"?Q="N":v&&(V="AN"),Q=V===de?V:"N";break;case"ES":Q=(de=K>0?X[K-1]:"B")==="EN"&&K+1<O.length&&O[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&X[K-1]==="EN"){Q="EN";break}if(v){Q="N";break}for(ne=K+1,z=O.length;ne<z&&O[ne]==="ET";)ne++;Q=ne<z&&O[ne]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=O.length,ne=K+1;ne<z&&O[ne]==="NSM";)ne++;if(ne<z){var se=M[K],ue=se>=1425&&se<=2303||se===64286;if(de=O[ne],ue&&(de==="R"||de==="AL")){Q="R";break}}}Q=K<1||(de=O[K-1])==="B"?"N":X[K-1];break;case"B":v=!1,i=!0,Q=b;break;case"S":a=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":Q="N"}return Q},L=function(M,O,X){var K=M.split("");return X&&T(K,X,{hiLevel:b}),K.reverse(),O&&O.reverse(),K.join("")},T=function(M,O,X){var K,de,V,ne,z,Q=-1,se=M.length,ue=0,I=[],W=b?p:m,Z=[];for(v=!1,i=!1,a=!1,de=0;de<se;de++)Z[de]=k(M[de]);for(V=0;V<se;V++){if(z=ue,I[V]=C(M,Z,I,V),K=240&(ue=W[z][x[I[V]]]),ue&=15,O[V]=ne=W[ue][5],K>0)if(K===16){for(de=Q;de<V;de++)O[de]=1;Q=-1}else Q=-1;if(W[ue][6])Q===-1&&(Q=V);else if(Q>-1){for(de=Q;de<V;de++)O[de]=ne;Q=-1}Z[V]==="B"&&(O[V]=0),X.hiLevel|=ne}a&&function(te,ae,ge){for(var be=0;be<ge;be++)if(te[be]==="S"){ae[be]=b;for(var oe=be-1;oe>=0&&te[oe]==="WS";oe--)ae[oe]=b}}(Z,O,se)},q=function(M,O,X,K,de){if(!(de.hiLevel<M)){if(M===1&&b===1&&!i)return O.reverse(),void(X&&X.reverse());for(var V,ne,z,Q,se=O.length,ue=0;ue<se;){if(K[ue]>=M){for(z=ue+1;z<se&&K[z]>=M;)z++;for(Q=ue,ne=z-1;Q<ne;Q++,ne--)V=O[Q],O[Q]=O[ne],O[ne]=V,X&&(V=X[Q],X[Q]=X[ne],X[ne]=V);ue=z}ue++}}},G=function(M,O,X){var K=M.split(""),de={hiLevel:b};return X||(X=[]),T(K,X,de),function(V,ne,z){if(z.hiLevel!==0&&u)for(var Q,se=0;se<V.length;se++)ne[se]===1&&(Q=N.indexOf(V[se]))>=0&&(V[se]=N[Q+1])}(K,X,de),q(2,K,O,X,de),q(1,K,O,X,de),K.join("")};return this.__bidiEngine__.doBidiReorder=function(M,O,X){if(function(de,V){if(V)for(var ne=0;ne<de.length;ne++)V[ne]=ne;l===void 0&&(l=_(de)),d===void 0&&(d=_(de))}(M,O),o||!c||d)if(o&&c&&l^d)b=l?1:0,M=L(M,O,X);else if(!o&&c&&d)b=l?1:0,M=G(M,O,X),M=L(M,O);else if(!o||l||c||d){if(o&&!c&&l^d)M=L(M,O),l?(b=0,M=G(M,O,X)):(b=1,M=G(M,O,X),M=L(M,O));else if(o&&l&&!c&&d)b=1,M=G(M,O,X),M=L(M,O);else if(!o&&!c&&l^d){var K=u;l?(b=1,M=G(M,O,X),b=0,u=!1,M=G(M,O,X),u=K):(b=0,M=G(M,O,X),M=L(M,O),b=1,u=!1,M=G(M,O,X),u=K,M=L(M,O))}}else b=0,M=G(M,O,X);else b=l?1:0,M=G(M,O,X);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,c=M.isOutputVisual,l=M.isInputRtl,d=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,s.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([s.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([s.doBidiReorder(i[l])]);n.text=o}else n.text=s.doBidiReorder(i);s.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function e(t){var s;if(this.rawData=t,s=this.contents=new wl(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new mF(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new eF(this.contents),this.head=new sF(this),this.name=new oF(this),this.cmap=new ik(this),this.toUnicode={},this.hhea=new rF(this),this.maxp=new lF(this),this.hmtx=new cF(this),this.post=new iF(this),this.os2=new nF(this),this.loca=new fF(this),this.glyf=new dF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(s=i>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/s)||0;return o*(s/1e3)},e.prototype.lineHeight=function(t,s){var n;return s==null&&(s=!1),n=s?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ua,wl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,n;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n[s]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var s,n,i;for(i=[],s=0,n=t.length;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push(this.writeByte(t.charCodeAt(s)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,n,i,a,o,l,c;return t=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*s+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var s,n;return s=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,n;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s.push(this.readByte());return s},e.prototype.write=function(t){var s,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)s=t[n],a.push(this.writeByte(s));return a},e}(),eF=function(){var e;function t(s){var n,i,a;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(s){var n,i,a,o,l,c,d,u,h,m,p,x,j;for(j in p=Object.keys(s).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),u=16*p-h,(i=new wl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(u),a=16*p,d=i.pos+a,l=null,x=[],s)for(m=s[j],i.writeString(j),i.writeInt(e(m)),i.writeInt(d),i.writeInt(m.length),x=x.concat(m),j==="head"&&(l=d),d+=m.length;d%4;)x.push(0),d++;return i.write(x),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(s){var n,i,a,o;for(s=ak.call(s);s.length%4;)s.push(0);for(a=new wl(s),i=0,n=0,o=s.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),tF={}.hasOwnProperty,La=function(e,t){for(var s in t)tF.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ua=function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var sF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var n;return(n=new wl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(s),n.writeShort(this.glyphDataFormat),n.data},t}(),oN=function(){function e(t,s){var n,i,a,o,l,c,d,u,h,m,p,x,j,N,y,v,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,a=function(){var k,_;for(_=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)_.push(t.readUInt16());return _}(),t.pos+=2,j=function(){var k,_;for(_=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)_.push(t.readUInt16());return _}(),d=function(){var k,_;for(_=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)_.push(t.readUInt16());return _}(),u=function(){var k,_;for(_=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)_.push(t.readUInt16());return _}(),i=(this.length-t.pos+this.offset)/2,l=function(){var k,_;for(_=[],c=k=0;0<=i?k<i:k>i;c=0<=i?++k:--k)_.push(t.readUInt16());return _}(),c=y=0,b=a.length;y<b;c=++y)for(N=a[c],n=v=x=j[c];x<=N?v<=N:v>=N;n=x<=N?++v:--v)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,s){var n,i,a,o,l,c,d,u,h,m,p,x,j,N,y,v,b,k,_,C,L,T,q,G,M,O,X,K,de,V,ne,z,Q,se,ue,I,W,Z,te,ae,ge,be,oe,_e,Ee,ze;switch(K=new wl,o=Object.keys(t).sort(function(Be,Pe){return Be-Pe}),s){case"macroman":for(j=0,N=function(){var Be=[];for(x=0;x<256;++x)Be.push(0);return Be}(),v={0:0},a={},de=0,Q=o.length;de<Q;de++)v[oe=t[i=o[de]]]==null&&(v[oe]=++j),a[i]={old:t[i],new:v[t[i]]},N[i]=v[t[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(N),{charMap:a,subtable:K.data,maxGlyphID:j+1};case"unicode":for(O=[],h=[],b=0,v={},n={},y=d=null,V=0,se=o.length;V<se;V++)v[_=t[i=o[V]]]==null&&(v[_]=++b),n[i]={old:_,new:v[_]},l=v[_]-i,y!=null&&l===d||(y&&h.push(y),O.push(i),d=l),y=i;for(y&&h.push(y),h.push(65535),O.push(65535),G=2*(q=O.length),T=2*Math.pow(Math.log(q)/Math.LN2,2),m=Math.log(T/2)/Math.LN2,L=2*q-T,c=[],C=[],p=[],x=ne=0,ue=O.length;ne<ue;x=++ne){if(M=O[x],u=h[x],M===65535){c.push(0),C.push(0);break}if(M-(X=n[M].new)>=32768)for(c.push(0),C.push(2*(p.length+q-x)),i=z=M;M<=u?z<=u:z>=u;i=M<=u?++z:--z)p.push(n[i].new);else c.push(X-M),C.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*q+2*p.length),K.writeUInt16(0),K.writeUInt16(G),K.writeUInt16(T),K.writeUInt16(m),K.writeUInt16(L),ge=0,I=h.length;ge<I;ge++)i=h[ge],K.writeUInt16(i);for(K.writeUInt16(0),be=0,W=O.length;be<W;be++)i=O[be],K.writeUInt16(i);for(_e=0,Z=c.length;_e<Z;_e++)l=c[_e],K.writeUInt16(l);for(Ee=0,te=C.length;Ee<te;Ee++)k=C[Ee],K.writeUInt16(k);for(ze=0,ae=p.length;ze<ae;ze++)j=p[ze],K.writeUInt16(j);return{charMap:n,subtable:K.data,maxGlyphID:b+1}}},e}(),ik=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="cmap",t.prototype.parse=function(s){var n,i,a;for(s.pos=this.offset,this.version=s.readUInt16(),a=s.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new oN(s,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(s,n){var i,a;return n==null&&(n="macroman"),i=oN.encode(s,n),(a=new wl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),rF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t}(),nF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(s.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(s.readInt());return i}(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(s.readInt());return i}(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t}(),iF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="post",t.prototype.parse=function(s){var n,i,a;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:break;case 131072:var o;for(i=s.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],a=[];s.pos<this.offset+this.length;)n=s.readByte(),a.push(this.names.push(s.readString(n)));return a;case 151552:return i=s.readUInt16(),this.offsets=s.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(s.readUInt32());return d}).call(this)}},t}(),aF=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},oF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="name",t.prototype.parse=function(s){var n,i,a,o,l,c,d,u,h,m,p;for(s.pos=this.offset,s.readShort(),n=s.readShort(),c=s.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+c+s.readShort()});for(d={},o=h=0,m=i.length;h<m;o=++h)a=i[o],s.pos=a.offset,u=s.readString(a.length),l=new aF(u,a),d[p=a.nameID]==null&&(d[p]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),lF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t}(),cF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="hmtx",t.prototype.parse=function(s){var n,i,a,o,l,c,d;for(s.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)h.push(s.readInt16());return h}(),this.widths=(function(){var u,h,m,p;for(p=[],u=0,h=(m=this.metrics).length;u<h;u++)o=m[u],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],d=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t}(),ak=[].slice,dF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var n,i,a,o,l,c,d,u,h,m;return s in this.cache?this.cache[s]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(s),(a=o.lengthOf(s))===0?this.cache[s]=null:(n.pos=this.offset+i,l=(c=new wl(n.read(a))).readShort(),u=c.readShort(),m=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[s]=l===-1?new hF(c,u,m,d,h):new uF(c,l,u,m,d,h),this.cache[s]))},t.prototype.encode=function(s,n,i){var a,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)a=s[n[c]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),uF=function(){function e(t,s,n,i,a,o){this.raw=t,this.numberOfContours=s,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),hF=function(){function e(t,s,n,i,a){var o,l;for(this.raw=t,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,s,n;for(s=new wl(ak.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)s.pos=this.glyphOffsets[t];return s.data},e}(),fF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return La(t,ua),t.prototype.tag="loca",t.prototype.parse=function(s){var n,i;return s.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*s.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(s.readUInt32());return o}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<n.length&&n[o]==l){++o,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},t}(),mF=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,n,i,a;for(s in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[s],t[s]=i[n];return t},e.prototype.glyphsFor=function(t){var s,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in s=[],i)(n=i[a])!=null&&n.compound&&s.push.apply(s,n.glyphIDs);if(s.length>0)for(a in c=this.glyphsFor(s))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,s){var n,i,a,o,l,c,d,u,h,m,p,x,j,N,y;for(i in n=ik.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},y=n.charMap)p[(c=y[i]).old]=c.new;for(x in m=n.maxGlyphID,o)x in p||(p[x]=m++);return u=function(v){var b,k;for(b in k={},v)k[v[b]]=b;return k}(p),h=Object.keys(u).sort(function(v,b){return v-b}),j=function(){var v,b,k;for(k=[],v=0,b=h.length;v<b;v++)l=h[v],k.push(u[l]);return k}(),a=this.font.glyf.encode(o,j,p),d=this.font.loca.encode(a.offsets,j),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();wt.API.PDFObject=function(){var e;function t(){}return e=function(s,n){return(Array(n+1).join("0")+s).slice(-n)},t.convert=function(s){var n,i,a,o;if(Array.isArray(s))return"["+function(){var l,c,d;for(d=[],l=0,c=s.length;l<c;l++)n=s[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(i in a=["<<"],s)o=s[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+s},t}();var af={},pF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ok={},ci={};let G1;const gF=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ci.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ci.getSymbolTotalCodewords=function(t){return gF[t]};ci.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ci.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');G1=t};ci.isKanjiModeEnabled=function(){return typeof G1<"u"};ci.toSJIS=function(t){return G1(t)};var i0={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+s)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(i0);function lk(){this.buffer=[],this.length=0}lk.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let s=0;s<t;s++)this.putBit((e>>>t-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var xF=lk;function of(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}of.prototype.set=function(e,t,s,n){const i=e*this.size+t;this.data[i]=s,n&&(this.reservedBit[i]=!0)};of.prototype.get=function(e,t){return this.data[e*this.size+t]};of.prototype.xor=function(e,t,s){this.data[e*this.size+t]^=s};of.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var yF=of,ck={};(function(e){const t=ci.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(ck);var dk={};const vF=ci.getSymbolSize,lN=7;dk.getPositions=function(t){const s=vF(t);return[[0,0],[s-lN,0],[0,s-lN]]};var uk={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<a;h++){l=c=0,d=u=null;for(let m=0;m<a;m++){let p=i.get(h,m);p===d?l++:(l>=5&&(o+=t.N1+(l-5)),d=p,l=1),p=i.get(m,h),p===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=p,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let u=0;u<a;u++)l=l<<1&2047|i.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*t.N4};function s(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,s(i,c,l))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){a(d),e.applyMask(d,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(d,i),u<c&&(c=u,l=d)}return l}})(uk);var a0={};const rl=i0,om=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lm=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];a0.getBlocksCount=function(t,s){switch(s){case rl.L:return om[(t-1)*4+0];case rl.M:return om[(t-1)*4+1];case rl.Q:return om[(t-1)*4+2];case rl.H:return om[(t-1)*4+3];default:return}};a0.getTotalCodewordsCount=function(t,s){switch(s){case rl.L:return lm[(t-1)*4+0];case rl.M:return lm[(t-1)*4+1];case rl.Q:return lm[(t-1)*4+2];case rl.H:return lm[(t-1)*4+3];default:return}};var hk={},o0={};const lh=new Uint8Array(512),wp=new Uint8Array(256);(function(){let t=1;for(let s=0;s<255;s++)lh[s]=t,wp[t]=s,t<<=1,t&256&&(t^=285);for(let s=255;s<512;s++)lh[s]=lh[s-255]})();o0.log=function(t){if(t<1)throw new Error("log("+t+")");return wp[t]};o0.exp=function(t){return lh[t]};o0.mul=function(t,s){return t===0||s===0?0:lh[wp[t]+wp[s]]};(function(e){const t=o0;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=t.mul(n[o],i[l]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(hk);const fk=hk;function K1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}K1.prototype.initialize=function(t){this.degree=t,this.genPoly=fk.generateECPolynomial(this.degree)};K1.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(t.length+this.degree);s.set(t);const n=fk.mod(s,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var bF=K1,mk={},El={},Y1={};Y1.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ma={};const pk="[0-9]+",wF="[A-Z $%*+\\-./:]+";let Vh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Vh=Vh.replace(/u/g,"\\u");const NF="(?:(?![A-Z0-9 $%*+\\-./:]|"+Vh+`)(?:.|[\r
]))+`;Ma.KANJI=new RegExp(Vh,"g");Ma.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ma.BYTE=new RegExp(NF,"g");Ma.NUMERIC=new RegExp(pk,"g");Ma.ALPHANUMERIC=new RegExp(wF,"g");const jF=new RegExp("^"+Vh+"$"),SF=new RegExp("^"+pk+"$"),kF=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ma.testKanji=function(t){return jF.test(t)};Ma.testNumeric=function(t){return SF.test(t)};Ma.testAlphanumeric=function(t){return kF.test(t)};(function(e){const t=Y1,s=Ma;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return s.testNumeric(a)?e.NUMERIC:s.testAlphanumeric(a)?e.ALPHANUMERIC:s.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return n(a)}catch{return o}}})(El);(function(e){const t=ci,s=a0,n=i0,i=El,a=Y1,o=7973,l=t.getBCHDigit(o);function c(m,p,x){for(let j=1;j<=40;j++)if(p<=e.getCapacity(j,x,m))return j}function d(m,p){return i.getCharCountIndicator(m,p)+4}function u(m,p){let x=0;return m.forEach(function(j){const N=d(j.mode,p);x+=N+j.getBitsLength()}),x}function h(m,p){for(let x=1;x<=40;x++)if(u(m,x)<=e.getCapacity(x,p,i.MIXED))return x}e.from=function(p,x){return a.isValid(p)?parseInt(p,10):x},e.getCapacity=function(p,x,j){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=i.BYTE);const N=t.getSymbolTotalCodewords(p),y=s.getTotalCodewordsCount(p,x),v=(N-y)*8;if(j===i.MIXED)return v;const b=v-d(j,p);switch(j){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(p,x){let j;const N=n.from(x,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,N);if(p.length===0)return 1;j=p[0]}else j=p;return c(j.mode,j.getLength(),N)},e.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;t.getBCHDigit(x)-l>=0;)x^=o<<t.getBCHDigit(x)-l;return p<<12|x}})(mk);var gk={};const zy=ci,xk=1335,CF=21522,cN=zy.getBCHDigit(xk);gk.getEncodedBits=function(t,s){const n=t.bit<<3|s;let i=n<<10;for(;zy.getBCHDigit(i)-cN>=0;)i^=xk<<zy.getBCHDigit(i)-cN;return(n<<10|i)^CF};var yk={};const _F=El;function qd(e){this.mode=_F.NUMERIC,this.data=e.toString()}qd.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};qd.prototype.getLength=function(){return this.data.length};qd.prototype.getBitsLength=function(){return qd.getBitsLength(this.data.length)};qd.prototype.write=function(t){let s,n,i;for(s=0;s+3<=this.data.length;s+=3)n=this.data.substr(s,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-s;a>0&&(n=this.data.substr(s),i=parseInt(n,10),t.put(i,a*3+1))};var AF=qd;const EF=El,Bg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hd(e){this.mode=EF.ALPHANUMERIC,this.data=e}Hd.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Hd.prototype.getLength=function(){return this.data.length};Hd.prototype.getBitsLength=function(){return Hd.getBitsLength(this.data.length)};Hd.prototype.write=function(t){let s;for(s=0;s+2<=this.data.length;s+=2){let n=Bg.indexOf(this.data[s])*45;n+=Bg.indexOf(this.data[s+1]),t.put(n,11)}this.data.length%2&&t.put(Bg.indexOf(this.data[s]),6)};var PF=Hd;const TF=El;function Wd(e){this.mode=TF.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Wd.getBitsLength=function(t){return t*8};Wd.prototype.getLength=function(){return this.data.length};Wd.prototype.getBitsLength=function(){return Wd.getBitsLength(this.data.length)};Wd.prototype.write=function(e){for(let t=0,s=this.data.length;t<s;t++)e.put(this.data[t],8)};var LF=Wd;const MF=El,IF=ci;function Gd(e){this.mode=MF.KANJI,this.data=e}Gd.getBitsLength=function(t){return t*13};Gd.prototype.getLength=function(){return this.data.length};Gd.prototype.getBitsLength=function(){return Gd.getBitsLength(this.data.length)};Gd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let s=IF.toSJIS(this.data[t]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),e.put(s,13)}};var RF=Gd,vk={exports:{}};(function(e){var t={single_source_shortest_paths:function(s,n,i){var a={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,d,u,h,m,p,x,j,N;!l.empty();){c=l.pop(),d=c.value,h=c.cost,m=s[d]||{};for(u in m)m.hasOwnProperty(u)&&(p=m[u],x=h+p,j=o[u],N=typeof o[u]>"u",(N||j>x)&&(o[u]=x,l.push(u,x),a[u]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return a},extract_shortest_path_from_predecessor_list:function(s,n){for(var i=[],a=n;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,n,i){var a=t.single_source_shortest_paths(s,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var n=t.PriorityQueue,i={},a;s=s||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=s.sorter||n.default_sorter,i},default_sorter:function(s,n){return s.cost-n.cost},push:function(s,n){var i={value:s,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(vk);var DF=vk.exports;(function(e){const t=El,s=AF,n=PF,i=LF,a=RF,o=Ma,l=ci,c=DF;function d(y){return unescape(encodeURIComponent(y)).length}function u(y,v,b){const k=[];let _;for(;(_=y.exec(b))!==null;)k.push({data:_[0],index:_.index,mode:v,length:_[0].length});return k}function h(y){const v=u(o.NUMERIC,t.NUMERIC,y),b=u(o.ALPHANUMERIC,t.ALPHANUMERIC,y);let k,_;return l.isKanjiModeEnabled()?(k=u(o.BYTE,t.BYTE,y),_=u(o.KANJI,t.KANJI,y)):(k=u(o.BYTE_KANJI,t.BYTE,y),_=[]),v.concat(b,k,_).sort(function(L,T){return L.index-T.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function m(y,v){switch(v){case t.NUMERIC:return s.getBitsLength(y);case t.ALPHANUMERIC:return n.getBitsLength(y);case t.KANJI:return a.getBitsLength(y);case t.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(v,b){const k=v.length-1>=0?v[v.length-1]:null;return k&&k.mode===b.mode?(v[v.length-1].data+=b.data,v):(v.push(b),v)},[])}function x(y){const v=[];for(let b=0;b<y.length;b++){const k=y[b];switch(k.mode){case t.NUMERIC:v.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:v.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:v.push([k,{data:k.data,mode:t.BYTE,length:d(k.data)}]);break;case t.BYTE:v.push([{data:k.data,mode:t.BYTE,length:d(k.data)}])}}return v}function j(y,v){const b={},k={start:{}};let _=["start"];for(let C=0;C<y.length;C++){const L=y[C],T=[];for(let q=0;q<L.length;q++){const G=L[q],M=""+C+q;T.push(M),b[M]={node:G,lastCount:0},k[M]={};for(let O=0;O<_.length;O++){const X=_[O];b[X]&&b[X].node.mode===G.mode?(k[X][M]=m(b[X].lastCount+G.length,G.mode)-m(b[X].lastCount,G.mode),b[X].lastCount+=G.length):(b[X]&&(b[X].lastCount=G.length),k[X][M]=m(G.length,G.mode)+4+t.getCharCountIndicator(G.mode,v))}}_=T}for(let C=0;C<_.length;C++)k[_[C]].end=0;return{map:k,table:b}}function N(y,v){let b;const k=t.getBestModeForData(y);if(b=t.from(v,k),b!==t.BYTE&&b.bit<k.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(b)+`.
 Suggested mode is: `+t.toString(k));switch(b===t.KANJI&&!l.isKanjiModeEnabled()&&(b=t.BYTE),b){case t.NUMERIC:return new s(y);case t.ALPHANUMERIC:return new n(y);case t.KANJI:return new a(y);case t.BYTE:return new i(y)}}e.fromArray=function(v){return v.reduce(function(b,k){return typeof k=="string"?b.push(N(k,null)):k.data&&b.push(N(k.data,k.mode)),b},[])},e.fromString=function(v,b){const k=h(v,l.isKanjiModeEnabled()),_=x(k),C=j(_,b),L=c.find_path(C.map,"start","end"),T=[];for(let q=1;q<L.length-1;q++)T.push(C.table[L[q]].node);return e.fromArray(p(T))},e.rawSplit=function(v){return e.fromArray(h(v,l.isKanjiModeEnabled()))}})(yk);const l0=ci,Ug=i0,OF=xF,FF=yF,BF=ck,UF=dk,$y=uk,Vy=a0,zF=bF,Np=mk,$F=gk,VF=El,zg=yk;function qF(e,t){const s=e.size,n=UF.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||s<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||s<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(a+l,o+c,!0,!0):e.set(a+l,o+c,!1,!0))}}function HF(e){const t=e.size;for(let s=8;s<t-8;s++){const n=s%2===0;e.set(s,6,n,!0),e.set(6,s,n,!0)}}function WF(e,t){const s=BF.getPositions(t);for(let n=0;n<s.length;n++){const i=s[n][0],a=s[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(i+o,a+l,!0,!0):e.set(i+o,a+l,!1,!0)}}function GF(e,t){const s=e.size,n=Np.getEncodedBits(t);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+s-8-3,o=(n>>l&1)===1,e.set(i,a,o,!0),e.set(a,i,o,!0)}function $g(e,t,s){const n=e.size,i=$F.getEncodedBits(t,s);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(n-15+a,8,o,!0),a<8?e.set(8,n-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(n-8,8,1,!0)}function KF(e,t){const s=e.size;let n=-1,i=s-1,a=7,o=0;for(let l=s-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let d=!1;o<t.length&&(d=(t[o]>>>a&1)===1),e.set(i,l-c,d),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||s<=i){i-=n,n=-n;break}}}function YF(e,t,s){const n=new OF;s.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),VF.getCharCountIndicator(c.mode,e)),c.write(n)});const i=l0.getSymbolTotalCodewords(e),a=Vy.getTotalCodewordsCount(e,t),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return JF(n,e,t)}function JF(e,t,s){const n=l0.getSymbolTotalCodewords(t),i=Vy.getTotalCodewordsCount(t,s),a=n-i,o=Vy.getBlocksCount(t,s),l=n%o,c=o-l,d=Math.floor(n/o),u=Math.floor(a/o),h=u+1,m=d-u,p=new zF(m);let x=0;const j=new Array(o),N=new Array(o);let y=0;const v=new Uint8Array(e.buffer);for(let L=0;L<o;L++){const T=L<c?u:h;j[L]=v.slice(x,x+T),N[L]=p.encode(j[L]),x+=T,y=Math.max(y,T)}const b=new Uint8Array(n);let k=0,_,C;for(_=0;_<y;_++)for(C=0;C<o;C++)_<j[C].length&&(b[k++]=j[C][_]);for(_=0;_<m;_++)for(C=0;C<o;C++)b[k++]=N[C][_];return b}function XF(e,t,s,n){let i;if(Array.isArray(e))i=zg.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const u=zg.rawSplit(e);d=Np.getBestVersionForData(u,s)}i=zg.fromString(e,d||40)}else throw new Error("Invalid data");const a=Np.getBestVersionForData(i,s);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=YF(t,s,i),l=l0.getSymbolSize(t),c=new FF(l);return qF(c,t),HF(c),WF(c,t),$g(c,s,0),t>=7&&GF(c,t),KF(c,o),isNaN(n)&&(n=$y.getBestMask(c,$g.bind(null,c,s))),$y.applyMask(n,c),$g(c,s,n),{modules:c,version:t,errorCorrectionLevel:s,maskPattern:n,segments:i}}ok.create=function(t,s){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Ug.M,i,a;return typeof s<"u"&&(n=Ug.from(s.errorCorrectionLevel,Ug.M),i=Np.from(s.version),a=$y.from(s.maskPattern),s.toSJISFunc&&l0.setToSJISFunction(s.toSJISFunc)),XF(t,i,n,a)};var bk={},J1={};(function(e){function t(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let n=s.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+s);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const o=i.modules.size,l=i.modules.data,c=e.getScale(o,a),d=Math.floor((o+a.margin*2)*c),u=a.margin*c,h=[a.color.light,a.color.dark];for(let m=0;m<d;m++)for(let p=0;p<d;p++){let x=(m*d+p)*4,j=a.color.light;if(m>=u&&p>=u&&m<d-u&&p<d-u){const N=Math.floor((m-u)/c),y=Math.floor((p-u)/c);j=h[l[N*o+y]?1:0]}n[x++]=j.r,n[x++]=j.g,n[x++]=j.b,n[x]=j.a}}})(J1);(function(e){const t=J1;function s(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=t.getOptions(c);const u=t.getImageWidth(a.modules.size,c),h=d.getContext("2d"),m=h.createImageData(u,u);return t.qrToImageData(m.data,a,c),s(h,d,u),h.putImageData(m,0,0),d},e.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=e.render(a,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(bk);var wk={};const QF=J1;function dN(e,t){const s=e.a/255,n=t+'="'+e.hex+'"';return s<1?n+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function Vg(e,t,s){let n=e+t;return typeof s<"u"&&(n+=" "+s),n}function ZF(e,t,s){let n="",i=0,a=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);!c&&!a&&(a=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=a?Vg("M",c+s,.5+d+s):Vg("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(n+=Vg("h",o),o=0)):i++}return n}wk.render=function(t,s,n){const i=QF.getOptions(s),a=t.modules.size,o=t.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+dN(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+dN(i.color.dark,"stroke")+' d="'+ZF(o,a,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,m),m};const eB=pF,qy=ok,Nk=bk,tB=wk;function X1(e,t,s,n,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!eB())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=s,s=t,t=n=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=s,s=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(s=t,t=n=void 0):o===2&&!t.getContext&&(n=s,s=t,t=void 0),new Promise(function(c,d){try{const u=qy.create(s,n);c(e(u,t,n))}catch(u){d(u)}})}try{const c=qy.create(s,n);i(null,e(c,t,n))}catch(c){i(c)}}af.create=qy.create;af.toCanvas=X1.bind(null,Nk.render);af.toDataURL=X1.bind(null,Nk.renderToDataURL);af.toString=X1.bind(null,function(e,t,s){return tB.render(e,s)});const ss={name:"PureLove",tagline:"Find Your Perfect Match",email:"support@purelove.com",website:"https://purelove.com",primaryColor:[244,63,94]};var c0=(e=>(e.STANDARD="standard",e.DETAILED="detailed",e.MINIMAL="minimal",e.INVOICE="invoice",e))(c0||{});const sB=(e,t="EUR")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Hy=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"}),rB=()=>{const e=Date.now(),t=Math.random().toString(36).substring(2,8).toUpperCase();return`PL-${e}-${t}`},nB=async e=>{try{return await af.toDataURL(e,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"H"})}catch(t){return console.error("QR Code generation failed:",t),""}},Q1=async(e,t="standard",s="completed")=>{try{const n=new wt({orientation:"portrait",unit:"mm",format:"a4"}),i=`Order ID: ${e.orderId}
Subscription: ${e.subscriptionPlan}
Email: ${e.email}${e.transactionHash?`
Transaction Hash: ${e.transactionHash}`:""}`,a=await nB(i),o=n.internal.pageSize.width,l=n.internal.pageSize.height,c=15;let d=20;d=await iB(n,o,c,d,t),d=aB(n,o,d,s),d=oB(n,e,c,o,d),d=lB(n,e,c,o,d),d=cB(n,e,c,o,d,t),e.transactionHash&&(d=uB(n,e,c,o,d)),d=dB(n,e,c,o,d),a&&hB(n,a,o,l,c),fB(n,o,l,c,s);const u=`PureLove_Receipt_${e.orderId}_${new Date().toISOString().split("T")[0]}.pdf`;n.save(u),console.log(`Receipt generated successfully: ${u}`)}catch(n){throw console.error("Receipt generation failed:",n),new Error("Failed to generate receipt. Please try again.")}},iB=async(e,t,s,n,i)=>{let a=n;return e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text(ss.name,s,a),a+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(80,80,80),e.text(ss.tagline,s,a),a+=5,e.text(ss.email,s,a),(i==="detailed"||i==="invoice")&&(a+=5,e.text(ss.website,s,a),a+=5),a+5},aB=(e,t,s,n)=>{let i=s;e.setFontSize(18),e.setFont("helvetica","bold"),e.setTextColor(0,0,0);const a=n==="completed"?"SUBSCRIPTION RECEIPT":n==="pending"?"PAYMENT PENDING":n==="failed"?"PAYMENT FAILED":"SUBSCRIPTION RECEIPT";if(e.text(a,t/2,i,{align:"center"}),n!=="completed"){i+=8,e.setFontSize(10),e.setFont("helvetica","normal");const o=n==="pending"?[245,158,11]:n==="failed"?[239,68,68]:[16,185,129];e.setTextColor(o[0],o[1],o[2]);const l=n==="pending"?"Payment confirmation pending":n==="failed"?"Payment processing failed":"Payment completed successfully";e.text(l,t/2,i,{align:"center"})}return i+10},oB=(e,t,s,n,i)=>{let a=i;const o=(l,c,d=!1)=>{e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text(l,s,a),e.setFont("helvetica",d?"bold":"normal"),e.setTextColor(0,0,0),e.text(c,n-s,a,{align:"right"}),a+=6};return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text("ORDER INFORMATION",s,a),a+=8,e.setFontSize(10),o("Order ID:",t.orderId,!0),o("Date:",Hy(t.date)),o("Email:",t.email),t.customerName&&o("Customer:",t.customerName),a+=3,e.setLineWidth(.3),e.setDrawColor(200,200,200),e.line(s,a,n-s,a),a+8},lB=(e,t,s,n,i)=>{let a=i;const o=(l,c)=>{e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text(l,s,a),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(c,n-s,a,{align:"right"}),a+=6};return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text("SUBSCRIPTION DETAILS",s,a),a+=8,e.setFontSize(10),o("Plan:",t.subscriptionPlan),o("Duration:",t.subscriptionDuration),o("Start Date:",Hy(t.subscriptionStartDate)),o("End Date:",Hy(t.subscriptionEndDate)),o("Coins Included:",t.coinsIncluded.toString()),a+=3,e.setLineWidth(.3),e.setDrawColor(200,200,200),e.line(s,a,n-s,a),a+8},cB=(e,t,s,n,i,a)=>{let o=i;const l=(c,d,u)=>{e.setFont("helvetica","bold"),e.setTextColor(60,60,60),e.text(c,s,o),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.text(d,n-s,o,{align:"right"}),o+=6};return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text("PAYMENT DETAILS",s,o),o+=8,e.setFontSize(10),l("Payment Method:",t.paymentMethod),t.cryptoAsset&&l("Crypto Asset:",t.cryptoAsset),t.cryptoAmount&&l("Crypto Amount:",t.cryptoAmount),o+=3,e.setLineWidth(.5),e.setDrawColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.line(s,o,n-s,o),o+=8,e.setFont("helvetica","bold"),e.setFontSize(14),e.setTextColor(0,0,0),e.text("TOTAL AMOUNT:",s,o),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text(sB(t.finalPrice),n-s,o,{align:"right"}),o+10},dB=(e,t,s,n,i)=>{let a=i;return e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text("SUBSCRIPTION FEATURES",s,a),a+=8,e.setFontSize(10),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),t.features.forEach(o=>{e.text(` ${o}`,s+5,a),a+=5}),a+=3,e.setLineWidth(.3),e.setDrawColor(200,200,200),e.line(s,a,n-s,a),a+8},uB=(e,t,s,n,i)=>{let a=i;e.setFontSize(12),e.setFont("helvetica","bold"),e.setTextColor(ss.primaryColor[0],ss.primaryColor[1],ss.primaryColor[2]),e.text("TRANSACTION DETAILS",s,a),a+=8,e.setFontSize(9),e.setFont("helvetica","normal"),e.setTextColor(60,60,60),e.text("Transaction Hash:",s,a),a+=5,e.setFont("helvetica","normal"),e.setTextColor(0,0,0);const o=e.splitTextToSize(t.transactionHash||"",n-2*s);if(e.text(o,s,a),a+=o.length*4,t.cryptoAddress){a+=3,e.setTextColor(60,60,60),e.text("Payment Address:",s,a),a+=5,e.setTextColor(0,0,0);const l=e.splitTextToSize(t.cryptoAddress,n-2*s);e.text(l,s,a),a+=l.length*4}return a+8},hB=(e,t,s,n,i)=>{const o=s-i-25,l=n-i-25-15;try{e.addImage(t,"PNG",o,l,25,25),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(100,100,100),e.text("Scan for verification",o+25/2,l+25+5,{align:"center"})}catch{console.warn("QR Code could not be added to receipt")}},fB=(e,t,s,n,i)=>{const a=s-15;e.setFontSize(8),e.setTextColor(100,100,100),e.text(` ${new Date().getFullYear()} ${ss.name}. All rights reserved.`,n,a);const o=i==="completed"?"This is an official receipt for your subscription.":"This document serves as proof of your subscription request.";e.text(o,t-n,a,{align:"right"}),e.text(`For support: ${ss.email}`,t/2,a-5,{align:"center"})},Z1=(e,t,s,n,i,a,o,l,c,d,u)=>({orderId:e||rB(),date:new Date().toISOString(),subscriptionPlan:t,subscriptionDuration:s,originalPrice:(u==null?void 0:u.originalPrice)||i,finalPrice:i,paymentMethod:a,email:n,subscriptionStartDate:o,subscriptionEndDate:l,coinsIncluded:c,features:d,...u});function mB(){var k,_,C,L,T,q,G,M,O,X,K;const e=cn(),t=ca(),{user:s}=dn(),i=new URLSearchParams(t.search).get("dev_bypass")==="true",a=((k=t.state)==null?void 0:k.message)||(i?"Development bypass completed successfully!":"Payment completed successfully!"),o=((_=t.state)==null?void 0:_.coins)||0,l=(C=t.state)==null?void 0:C.subscription,c=(L=t.state)==null?void 0:L.transactionId,d=(T=t.state)==null?void 0:T.expiresAt,u=(q=t.state)==null?void 0:q.amount,h=(G=t.state)==null?void 0:G.paymentMethod,m=(M=t.state)==null?void 0:M.error,p=(O=t.state)==null?void 0:O.cryptoAmount,x=(X=t.state)==null?void 0:X.cryptoAddress,j=(K=t.state)==null?void 0:K.transactionHash,N=de=>new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=de=>({btc:"Bitcoin (BTC)",eth:"Ethereum (ETH)",usdttrc20:"USDT (TRC-20)",usdterc20:"USDT (ERC-20)",usdc:"USD Coin (USDC)",ltc:"Litecoin (LTC)",sol:"Solana (SOL)"})[de]||de.toUpperCase(),v=de=>({"Weekly Chat Subscription":["Unlimited messaging for 7 days","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"],"Monthly Chat Subscription":["Unlimited messaging for 30 days","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"],"Quarterly Chat Subscription":["Unlimited messaging for 90 days","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]})[de]||["Premium subscription features"],b=async()=>{var de;if(!l||!c||!(s!=null&&s.email)){_i.error("Receipt data not available");return}try{const V=new Date().toISOString(),ne=d||new Date(Date.now()+l.duration*24*60*60*1e3).toISOString(),z=Z1(c,l.name,`${l.duration} days`,s.email,u||l.price,y(h||"Cryptocurrency"),V,ne,o||l.coins||0,v(l.name),{cryptoAsset:y(h||""),cryptoAmount:p,cryptoAddress:x,transactionHash:j,customerName:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:((de=s.email)==null?void 0:de.split("@")[0])||"Customer"});await Q1(z,c0.DETAILED),_i.success("Receipt downloaded successfully!")}catch(V){console.error("Receipt generation failed:",V),_i.error("Failed to generate receipt. Please try again.")}};return r.jsx("div",{className:`min-h-screen ${m?"bg-gradient-to-br from-amber-50 to-orange-50":"bg-gradient-to-br from-green-50 to-emerald-50"} flex items-center justify-center py-8`,children:r.jsx("div",{className:"max-w-lg w-full mx-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[r.jsx("div",{className:`${m?"bg-amber-100":"bg-green-100"} h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6`,children:m?r.jsx(ro,{className:"h-12 w-12 text-amber-600"}):r.jsx(Nr,{className:"h-12 w-12 text-green-600"})}),r.jsx("h1",{className:`text-3xl font-bold ${m?"text-amber-900":"text-gray-900"} mb-4 text-center`,children:m?"Payment Received":"Payment Successful!"}),i&&r.jsxs("div",{className:"bg-orange-100 border border-orange-200 rounded-lg p-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-orange-600",children:""}),r.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Development Bypass Mode"})]}),r.jsx("p",{className:"text-xs text-center text-orange-700 mt-1",children:"This subscription was activated using the development bypass feature"})]}),r.jsx("p",{className:"text-gray-600 mb-6 text-center",children:a}),l&&c&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Th,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Receipt"})]}),r.jsxs("button",{onClick:b,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 transition-colors",children:[r.jsx(rp,{className:"h-4 w-4"}),"Download PDF"]})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subscription:"}),r.jsx("span",{className:"font-medium text-gray-900",children:l.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Duration:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[l.duration," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",u==null?void 0:u.toFixed(2)]})]}),h&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),r.jsx("span",{className:"font-medium text-gray-900",children:y(h)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),r.jsx("span",{className:"font-mono text-xs text-gray-900 break-all",children:c})]}),d&&!m&&r.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[r.jsx("span",{className:"text-gray-600",children:"Expires:"}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-medium text-gray-900",children:N(d)}),r.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[r.jsx(Sr,{className:"h-3 w-3"}),"Active subscription"]})]})]})]})]}),o>0&&r.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 mb-6 border border-rose-200",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(qn,{className:"h-6 w-6 text-rose-600"}),r.jsxs("span",{className:"font-semibold text-rose-600",children:[o," coins"]})]}),r.jsx("p",{className:"text-sm text-gray-600 text-center",children:"have been added to your account"})]}),m&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-amber-800 text-sm text-center",children:[r.jsx("strong",{children:"Important:"})," Your payment was processed successfully, but there was a technical issue activating your subscription. Please contact support with your transaction ID above, and we'll activate your subscription manually within 24 hours."]})}),r.jsxs("div",{className:"space-y-4",children:[!m&&l?r.jsxs("button",{onClick:()=>e("/messages"),className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all duration-300 font-medium flex items-center justify-center gap-2",children:[r.jsx(Us,{className:"h-5 w-5"}),"Start Messaging",r.jsx(sp,{className:"h-5 w-5"})]}):r.jsxs("button",{onClick:()=>e("/browse"),className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 rounded-lg hover:from-rose-600 hover:to-pink-600 transition-all duration-300 font-medium flex items-center justify-center gap-2",children:[r.jsx(Us,{className:"h-5 w-5"}),"Start Browsing Profiles",r.jsx(sp,{className:"h-5 w-5"})]}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full bg-white border-2 border-rose-300 text-rose-600 py-3 rounded-lg hover:bg-rose-50 transition-all duration-300 font-medium",children:"View My Dashboard"})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:m?"Need immediate help?":"Questions about your purchase?"}),r.jsx("a",{href:"mailto:support@purelove.com",className:"text-rose-600 hover:text-rose-700 text-sm font-medium",children:"support@purelove.com"})]})]})})})}function pB(){const{user:e}=dn(),t=cn(),[s,n]=E.useState([]),[i,a]=E.useState([]),[o,l]=E.useState(!0),[c,d]=E.useState("all"),[u,h]=E.useState("");E.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e)try{l(!0);const{data:C,error:L}=await Oe.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(L)throw L;const{data:T,error:q}=await Oe.from("subscription_purchases").select("*").eq("user_id",e.id).order("purchased_at",{ascending:!1});if(q)throw q;n(C||[]),a(T||[])}catch(C){console.error("Error fetching billing data:",C),_i.error("Failed to load billing information")}finally{l(!1)}},p=C=>{switch(C){case"completed":return r.jsx(Nr,{className:"h-5 w-5 text-green-500"});case"pending":return r.jsx(pc,{className:"h-5 w-5 text-yellow-500"});case"failed":return r.jsx(Up,{className:"h-5 w-5 text-red-500"});case"refunded":return r.jsx(cd,{className:"h-5 w-5 text-blue-500"});default:return r.jsx(ro,{className:"h-5 w-5 text-gray-500"})}},x=C=>{switch(C){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=C=>({btc:"Bitcoin (BTC)",eth:"Ethereum (ETH)",usdttrc20:"USDT (TRC-20)",usdterc20:"USDT (ERC-20)",usdc:"USD Coin (USDC)",ltc:"Litecoin (LTC)",sol:"Solana (SOL)"})[C]||C.toUpperCase(),N=C=>({"weekly-chat":["Unlimited messaging for 7 days","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"],"monthly-chat":["Unlimited messaging for 30 days","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"],"quarterly-chat":["Unlimited messaging for 90 days","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]})[C]||["Premium subscription features"],y=async C=>{var L;if(!(e!=null&&e.email)){_i.error("User email not available");return}try{const T={"weekly-chat":"Weekly Chat Subscription","monthly-chat":"Monthly Chat Subscription","quarterly-chat":"Quarterly Chat Subscription"},q=Z1(C.order_id,T[C.subscription_plan]||C.subscription_plan,`${C.subscription_duration} days`,e.email,C.amount,j(C.crypto_asset),C.created_at,C.expires_at||new Date(new Date(C.created_at).getTime()+C.subscription_duration*24*60*60*1e3).toISOString(),C.coins_added,N(C.subscription_plan),{cryptoAsset:j(C.crypto_asset),cryptoAmount:C.crypto_amount,cryptoAddress:C.crypto_address,transactionHash:C.transaction_hash,customerName:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:((L=e.email)==null?void 0:L.split("@")[0])||"Customer"});await Q1(q,c0.DETAILED),_i.success("Receipt downloaded successfully!")}catch(T){console.error("Receipt generation failed:",T),_i.error("Failed to generate receipt. Please try again.")}},v=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=s.filter(C=>{const L=c==="all"||C.status===c,T=u===""||C.order_id.toLowerCase().includes(u.toLowerCase())||C.subscription_plan.toLowerCase().includes(u.toLowerCase())||j(C.crypto_asset).toLowerCase().includes(u.toLowerCase());return L&&T}),k=e==null?void 0:e.chatSubscription,_=k&&new Date(k.expiresAt)>new Date;return o?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading billing information..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Billing & Subscriptions"}),r.jsx("p",{className:"text-gray-600",children:"Manage your payments, subscriptions, and download receipts"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(jd,{className:"h-6 w-6 text-rose-500"}),"Current Subscription"]}),r.jsxs("button",{onClick:()=>t("/pricing"),className:"flex items-center gap-2 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:[r.jsx(Sd,{className:"h-4 w-4"}),"Upgrade Plan"]})]}),_?r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500"}),r.jsx("span",{className:"font-medium text-green-800",children:"Active Subscription"})]}),r.jsxs("p",{className:"text-green-700",children:[k.type.replace("-"," ").replace(/\b\w/g,C=>C.toUpperCase())," Plan"]}),r.jsxs("p",{className:"text-sm text-green-600",children:["Expires: ",v(k.expiresAt)]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"flex items-center gap-1 text-green-600 mb-1",children:[r.jsx(qn,{className:"h-4 w-4"}),r.jsxs("span",{className:"text-sm",children:[e.coins," coins available"]})]})})]})}):r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e!=null&&e.chatSubscription?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ro,{className:"h-5 w-5 text-amber-500"}),r.jsx("span",{className:"font-medium text-gray-700",children:e.chatSubscription.type?`${e.chatSubscription.type.replace("-"," ").replace(/\b\w/g,C=>C.toUpperCase())} Subscription Expired`:"Subscription Expired"})]}),r.jsxs("p",{className:"text-gray-600 mb-2",children:["Your subscription expired on ",new Date(e.chatSubscription.expiresAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Renew to continue unlimited messaging and premium features"}),r.jsx("button",{onClick:()=>t("/pricing"),className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"Renew Subscription"})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ro,{className:"h-5 w-5 text-gray-500"}),r.jsx("span",{className:"font-medium text-gray-700",children:"No Active Subscription"})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:"Subscribe to unlock unlimited messaging and premium features"}),r.jsx("button",{onClick:()=>t("/pricing"),className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"View Plans"})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(XA,{className:"h-5 w-5 text-gray-500"}),r.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-rose-500 focus:border-rose-500",children:[r.jsx("option",{value:"all",children:"All Transactions"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r.jsx(Nn,{className:"h-5 w-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search transactions...",value:u,onChange:C=>h(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-rose-500 focus:border-rose-500 w-full sm:w-64"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Th,{className:"h-6 w-6 text-rose-500"}),"Payment History"]})}),b.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Th,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:s.length===0?"You haven't made any payments yet.":"No transactions match your current filters."}),s.length===0&&r.jsx("button",{onClick:()=>t("/pricing"),className:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:"View Subscription Plans"})]}):r.jsx("div",{className:"divide-y divide-gray-200",children:b.map(C=>r.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[p(C.status),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:[C.subscription_plan.replace("-"," ").replace(/\b\w/g,L=>L.toUpperCase())," Plan"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",C.order_id]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-900",children:["",C.amount.toFixed(2)]}),r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${x(C.status)}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),r.jsx("p",{className:"font-medium",children:j(C.crypto_asset)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),r.jsx("p",{className:"font-medium",children:v(C.created_at)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Coins Added"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qn,{className:"h-4 w-4 text-rose-500"}),r.jsx("span",{className:"font-medium",children:C.coins_added})]})]})]}),C.crypto_amount&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Crypto Amount"}),r.jsx("p",{className:"font-mono text-sm",children:C.crypto_amount})]}),C.transaction_hash&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Transaction Hash"}),r.jsx("p",{className:"font-mono text-xs text-gray-500 break-all",children:C.transaction_hash})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-4 w-4 text-gray-500"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Duration: ",C.subscription_duration," days"]})]}),C.status==="completed"&&r.jsxs("button",{onClick:()=>y(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 transition-colors",children:[r.jsx(rp,{className:"h-4 w-4"}),"Download Receipt"]})]})]},C.id))})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Need Help?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Issues"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Having trouble with a payment or need a refund?"}),r.jsx("a",{href:"mailto:billing@purelove.com",className:"text-rose-600 hover:text-rose-700 text-sm font-medium",children:"billing@purelove.com"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Subscription Support"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Questions about your subscription or features?"}),r.jsx("a",{href:"mailto:support@purelove.com",className:"text-rose-600 hover:text-rose-700 text-sm font-medium",children:"support@purelove.com"})]})]})]})]})})}function gB(){const{user:e}=dn(),[t,s]=E.useState({}),[n,i]=E.useState(!1),a=async()=>{var l;if(!e){s({error:"No authenticated user"});return}i(!0);const o={};try{console.log("Testing get_user_conversations function..."),o.conversationsTest={};try{const{data:c,error:d}=await Oe.rpc("get_user_conversations",{user_uuid:e.id});o.conversationsTest={success:!d,data:c,error:d,count:(c==null?void 0:c.length)||0}}catch(c){o.conversationsTest={success:!1,error:c,exception:!0}}console.log("Testing messages table access..."),o.messagesTest={};try{const{data:c,error:d}=await Oe.from("messages").select("*").limit(1);o.messagesTest={success:!d,data:c,error:d,count:(c==null?void 0:c.length)||0}}catch(c){o.messagesTest={success:!1,error:c,exception:!0}}console.log("Testing profiles table access..."),o.profilesTest={};try{const{data:c,error:d}=await Oe.from("profiles").select("*").eq("id",e.id).single();o.profilesTest={success:!d,data:c,error:d}}catch(c){o.profilesTest={success:!1,error:c,exception:!0}}console.log("Testing auth session..."),o.authTest={};try{const{data:{session:c},error:d}=await Oe.auth.getSession();o.authTest={success:!d,hasSession:!!c,userId:(l=c==null?void 0:c.user)==null?void 0:l.id,error:d}}catch(c){o.authTest={success:!1,error:c,exception:!0}}console.log("Testing mark_conversation_read function..."),o.markReadTest={};try{const{error:c}=await Oe.rpc("mark_conversation_read",{user_uuid:e.id,other_user_uuid:"test-user-id"});o.markReadTest={success:!c,error:c}}catch(c){o.markReadTest={success:!1,error:c,exception:!0}}console.log("All tests completed:",o),s(o)}catch(c){console.error("Error running tests:",c),s({error:c})}finally{i(!1)}};return e?r.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg max-w-4xl",children:[r.jsx("h3",{className:"text-lg font-medium text-blue-800 mb-4",children:"Database Debug Tool"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Current User: ",e.email]}),r.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["User ID: ",e.id]}),r.jsx(Re,{onClick:a,disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:n?"Testing...":"Run Database Tests"})]}),Object.keys(t).length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Test Results:"}),t.conversationsTest&&r.jsxs("div",{className:"p-3 bg-white rounded border",children:[r.jsxs("h5",{className:"font-medium text-sm mb-2",children:["get_user_conversations: ",t.conversationsTest.success?"":""]}),r.jsx("pre",{className:"text-xs text-gray-600 overflow-auto",children:JSON.stringify(t.conversationsTest,null,2)})]}),t.messagesTest&&r.jsxs("div",{className:"p-3 bg-white rounded border",children:[r.jsxs("h5",{className:"font-medium text-sm mb-2",children:["Messages Table Access: ",t.messagesTest.success?"":""]}),r.jsx("pre",{className:"text-xs text-gray-600 overflow-auto",children:JSON.stringify(t.messagesTest,null,2)})]}),t.profilesTest&&r.jsxs("div",{className:"p-3 bg-white rounded border",children:[r.jsxs("h5",{className:"font-medium text-sm mb-2",children:["Profiles Table Access: ",t.profilesTest.success?"":""]}),r.jsx("pre",{className:"text-xs text-gray-600 overflow-auto",children:JSON.stringify(t.profilesTest,null,2)})]}),t.authTest&&r.jsxs("div",{className:"p-3 bg-white rounded border",children:[r.jsxs("h5",{className:"font-medium text-sm mb-2",children:["Auth Session: ",t.authTest.success?"":""]}),r.jsx("pre",{className:"text-xs text-gray-600 overflow-auto",children:JSON.stringify(t.authTest,null,2)})]}),t.markReadTest&&r.jsxs("div",{className:"p-3 bg-white rounded border",children:[r.jsxs("h5",{className:"font-medium text-sm mb-2",children:["mark_conversation_read: ",t.markReadTest.success?"":""]}),r.jsx("pre",{className:"text-xs text-gray-600 overflow-auto",children:JSON.stringify(t.markReadTest,null,2)})]}),t.error&&r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[r.jsx("h5",{className:"font-medium text-sm mb-2 text-red-800",children:"General Error:"}),r.jsx("pre",{className:"text-xs text-red-600 overflow-auto",children:JSON.stringify(t.error,null,2)})]})]})]}):r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"Database Debug"}),r.jsx("p",{className:"text-yellow-700",children:"Please log in to test database functionality"})]})}function xB(){var b,k;const{user:e}=dn(),t=cn(),[s,n]=E.useState("overview"),[i,a]=E.useState([]),[o,l]=E.useState({profileViews:0,messagesReceived:0,profileCompleteness:0}),[c,d]=E.useState(!0);console.log(" [DASHBOARD] DashboardPage rendered, user:",!!e,e==null?void 0:e.email),E.useEffect(()=>{console.log(" [DASHBOARD] useEffect triggered, user:",!!e,e==null?void 0:e.email),e?(console.log(" [DASHBOARD] User found, fetching dashboard data..."),u()):(console.log(" [DASHBOARD] No user found, setting loading to false"),d(!1))},[e]);const u=async()=>{if(!e){console.log(" [DASHBOARD] fetchDashboardData called without user");return}console.log(" [DASHBOARD] Starting to fetch dashboard data for user:",e.id);try{d(!0);const{data:_,error:C}=await Oe.from("transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(C)throw console.error(" [DASHBOARD] Transactions error:",C),C;console.log(" [DASHBOARD] Transactions fetched:",(_==null?void 0:_.length)||0);const L=()=>{let q=0;const G=10;return e.firstName&&q++,e.lastName&&q++,e.bio&&q++,e.profession&&q++,e.country&&q++,e.city&&q++,e.photos&&e.photos.length>0&&q++,e.interests&&e.interests.length>0&&q++,e.languages&&e.languages.length>0&&q++,e.birthDate&&q++,Math.round(q/G*100)},T={profileViews:Math.floor(Math.random()*100)+50,messagesReceived:Math.floor(Math.random()*25)+10,profileCompleteness:L()};a(_||[]),l(T),console.log(" [DASHBOARD] Dashboard data loaded successfully")}catch(_){console.error(" [DASHBOARD] Error fetching dashboard data:",_),_i.error("Failed to load dashboard data")}finally{d(!1),console.log(" [DASHBOARD] Loading set to false")}},h=_=>{switch(_){case"completed":return r.jsx(Nr,{className:"h-4 w-4 text-green-500"});case"pending":return r.jsx(pc,{className:"h-4 w-4 text-yellow-500"});case"failed":return r.jsx(Up,{className:"h-4 w-4 text-red-500"});case"refunded":return r.jsx(cd,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(ro,{className:"h-4 w-4 text-gray-500"})}},m=_=>({btc:"Bitcoin (BTC)",eth:"Ethereum (ETH)",usdttrc20:"USDT (TRC-20)",usdterc20:"USDT (ERC-20)",usdc:"USD Coin (USDC)",ltc:"Litecoin (LTC)",sol:"Solana (SOL)"})[_]||_.toUpperCase(),p=_=>({"weekly-chat":["Unlimited messaging for 7 days","50 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature"],"monthly-chat":["Unlimited messaging for 30 days","200 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility"],"quarterly-chat":["Unlimited messaging for 90 days","600 bonus coins included","Priority customer support","Advanced search filters","Profile boost feature","Read receipts","Online status visibility","VIP profile badge","Extended profile visibility"]})[_]||["Premium subscription features"],x=async _=>{var C;try{if(!(e!=null&&e.email)||!_.subscription_plan){_i.error("Receipt data incomplete");return}const L=Z1(_.id,_.subscription_plan,`${_.subscription_duration||30} days`,e.email,_.amount,m(_.crypto_asset||"crypto"),_.created_at,_.expires_at||new Date(new Date(_.created_at).getTime()+(_.subscription_duration||30)*24*60*60*1e3).toISOString(),_.coins_added||0,p(_.subscription_plan),{cryptoAsset:m(_.crypto_asset||"crypto"),cryptoAmount:_.crypto_amount,cryptoAddress:_.crypto_address,transactionHash:_.transaction_hash,customerName:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:((C=e.email)==null?void 0:C.split("@")[0])||"Customer"});await Q1(L,c0.DETAILED),_i.success("Receipt downloaded successfully!")}catch(L){console.error("Receipt generation failed:",L),_i.error("Failed to generate receipt. Please try again.")}},j=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=e==null?void 0:e.chatSubscription,y=N&&new Date(N.expiresAt)>new Date,v=[{id:"overview",label:"Overview",icon:qA},{id:"profile",label:"Profile",icon:Ta},{id:"subscription",label:"Subscription",icon:jd},{id:"billing",label:"Billing",icon:ac},{id:"settings",label:"Settings",icon:na}];return c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-pink-50",children:[r.jsx(Xs,{}),r.jsx("div",{className:"py-4 md:py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4",children:[r.jsxs("div",{className:"mb-6 md:mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-3 sm:gap-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Dashboard"}),r.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(e==null?void 0:e.firstName)||"User","!"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-4",children:[r.jsxs(Os,{variant:"secondary",className:"font-medium text-xs md:text-sm",children:[r.jsx(qn,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),(e==null?void 0:e.coins)||0," Coins"]}),y&&r.jsxs(Os,{className:"bg-green-100 text-green-800 font-medium text-xs md:text-sm",children:[r.jsx(jd,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"Premium Active"]})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6 mb-6 md:mb-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 md:gap-6",children:[r.jsxs("div",{className:"relative mx-auto sm:mx-0",children:[r.jsxs(dp,{className:"h-16 w-16 md:h-20 md:w-20",children:[r.jsx(up,{src:((b=e==null?void 0:e.photos)==null?void 0:b[0])||"https://danielschule.de/wp-content/uploads/2019/12/avatar.jpg"}),r.jsx(hp,{className:"text-base md:text-lg",children:((k=e==null?void 0:e.firstName)==null?void 0:k.charAt(0))||"U"})]}),(e==null?void 0:e.verified)&&r.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1",children:r.jsx(ms,{className:"h-2 w-2 md:h-3 md:w-3 text-white"})})]}),r.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[r.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),(e==null?void 0:e.premium)&&r.jsxs(Os,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 mx-auto sm:mx-0 w-fit",children:[r.jsx(Lh,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),"Premium"]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs md:text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[r.jsx(gl,{className:"h-3 w-3 md:h-4 md:w-4"}),r.jsxs("span",{className:"truncate",children:[e==null?void 0:e.city,", ",e==null?void 0:e.country]})]}),r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[r.jsx(no,{className:"h-3 w-3 md:h-4 md:w-4"}),r.jsx("span",{className:"truncate",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-1",children:[r.jsx(Sr,{className:"h-3 w-3 md:h-4 md:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Joined "}),r.jsx("span",{children:j((e==null?void 0:e.createdAt)||new Date().toISOString())})]})]})]}),r.jsxs(Re,{onClick:()=>t("/edit-profile"),className:"bg-rose-500 hover:bg-rose-600 text-white w-full sm:w-auto text-sm md:text-base",children:[r.jsx(ig,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Edit Profile"]})]})})]}),r.jsx("div",{className:"mb-6 md:mb-8",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-1 md:p-2",children:[r.jsx("div",{className:"flex flex-col md:hidden space-y-1",children:v.map(_=>r.jsxs("button",{onClick:()=>n(_.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg font-medium text-sm transition-all ${s===_.id?"bg-rose-500 text-white shadow-md":"text-gray-600 hover:text-rose-600 hover:bg-rose-50"}`,children:[r.jsx(_.icon,{className:"h-4 w-4"}),_.label]},_.id))}),r.jsx("div",{className:"hidden md:flex space-x-1",children:v.map(_=>r.jsxs("button",{onClick:()=>n(_.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium text-sm transition-all ${s===_.id?"bg-rose-500 text-white shadow-md":"text-gray-600 hover:text-rose-600 hover:bg-rose-50"}`,children:[r.jsx(_.icon,{className:"h-4 w-4"}),_.label]},_.id))})]})}),s==="overview"&&r.jsxs("div",{className:"space-y-6 md:space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"bg-blue-100 p-2 md:p-3 rounded-lg",children:r.jsx(Ii,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})}),r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 text-green-500"})]}),r.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:o.profileViews}),r.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Profile Views"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"bg-green-100 p-2 md:p-3 rounded-lg",children:r.jsx(Ns,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})}),r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 text-green-500"})]}),r.jsx("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:o.messagesReceived}),r.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Messages Received"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 md:mb-4",children:[r.jsx("div",{className:"bg-purple-100 p-2 md:p-3 rounded-lg",children:r.jsx(HA,{className:"h-4 w-4 md:h-6 md:w-6 text-purple-600"})}),r.jsxs("span",{className:"text-xs md:text-sm text-gray-500",children:[o.profileCompleteness,"%"]})]}),r.jsxs("h3",{className:"text-lg md:text-2xl font-bold text-gray-900",children:[o.profileCompleteness,"%"]}),r.jsx("p",{className:"text-gray-600 text-xs md:text-sm",children:"Profile Complete"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[r.jsxs(Re,{onClick:()=>t("/browse"),className:"flex items-center gap-2 bg-rose-500 hover:bg-rose-600 text-white p-3 md:p-4 h-auto justify-start",children:[r.jsx(Us,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-sm md:text-base",children:"Find Matches"}),r.jsx("div",{className:"text-xs md:text-sm opacity-90",children:"Browse profiles"})]})]}),r.jsxs(Re,{onClick:()=>{_i.success("Chat feature will open in the navbar")},className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white p-3 md:p-4 h-auto justify-start",children:[r.jsx(Ns,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-sm md:text-base",children:"Messages"}),r.jsx("div",{className:"text-xs md:text-sm opacity-90",children:"Use chat button in navbar"})]})]}),r.jsxs(Re,{onClick:()=>t("/pricing"),className:"flex items-center gap-2 bg-purple-500 hover:bg-purple-600 text-white p-3 md:p-4 h-auto justify-start",children:[r.jsx(jd,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium text-sm md:text-base",children:"Upgrade"}),r.jsx("div",{className:"text-xs md:text-sm opacity-90",children:"Get premium features"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),i.length===0?r.jsxs("div",{className:"text-center py-6 md:py-8",children:[r.jsx(Th,{className:"h-10 w-10 md:h-12 md:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"No transactions yet"}),r.jsx(Re,{onClick:()=>t("/pricing"),className:"mt-4 bg-rose-500 hover:bg-rose-600 text-white text-sm md:text-base",children:"View Plans"})]}):r.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.slice(0,3).map(_=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 md:p-4 border border-gray-200 rounded-lg gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[h(_.status),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm md:text-base",children:_.subscription_plan&&typeof _.subscription_plan=="string"?_.subscription_plan.replace("-"," ").replace(/\b\w/g,C=>C.toUpperCase())+" Plan":"Subscription Plan"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:j(_.created_at)})]})]}),r.jsxs("div",{className:"text-left sm:text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["",_.amount.toFixed(2)]}),_.status==="completed"&&r.jsxs(Re,{onClick:()=>x(_),variant:"ghost",size:"sm",className:"text-rose-600 hover:text-rose-700 text-xs md:text-sm p-0 h-auto mt-1",children:[r.jsx(rp,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"Receipt"]})]})]},_.id)),r.jsx(Re,{onClick:()=>n("billing"),variant:"outline",className:"w-full text-sm md:text-base",children:"View All Transactions"})]})]})]}),s==="profile"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-3 sm:gap-0",children:[r.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Profile Information"}),r.jsxs(Re,{onClick:()=>t("/edit-profile"),className:"bg-rose-500 hover:bg-rose-600 text-white w-full sm:w-auto text-sm md:text-base",children:[r.jsx(ig,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Edit Profile"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Basic Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ta,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsxs("span",{className:"text-sm md:text-base truncate",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(no,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm md:text-base truncate",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gl,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsxs("span",{className:"text-sm md:text-base truncate",children:[e==null?void 0:e.city,", ",e==null?void 0:e.country]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Sr,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm md:text-base",children:e!=null&&e.birthDate?new Date(e.birthDate).toLocaleDateString():"Not specified"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Me"}),r.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg text-sm md:text-base",children:(e==null?void 0:e.bio)||"No bio added yet. Click Edit Profile to add one."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profession"}),r.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:(e==null?void 0:e.profession)||"Not specified"})]})]}),r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e!=null&&e.interests&&e.interests.length>0?e.interests.map((_,C)=>r.jsx(Os,{variant:"secondary",className:"text-xs md:text-sm",children:_},C)):r.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"No interests added yet"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e!=null&&e.languages&&e.languages.length>0?e.languages.map((_,C)=>r.jsxs(Os,{variant:"outline",className:"text-xs md:text-sm",children:[r.jsx(xo,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),_]},C)):r.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"No languages added yet"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Completeness"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[o.profileCompleteness,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-rose-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.profileCompleteness}%`}})}),r.jsx("p",{className:"text-xs text-gray-500",children:"Complete your profile to get more matches and views"})]})]})]})]})]}),s==="subscription"&&r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-4 md:p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-amber-100 h-16 w-16 md:h-20 md:w-20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(qn,{className:"h-8 w-8 md:h-10 md:w-10 text-amber-600"})}),r.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-amber-800 mb-2",children:[(e==null?void 0:e.coins)||0," Coins"]}),r.jsx("p",{className:"text-amber-700 mb-4 text-sm md:text-base",children:"Use your coins for messages, calls, gifts, and premium features"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[r.jsx(Re,{onClick:()=>t("/pricing"),className:"bg-amber-500 hover:bg-amber-600 text-white text-sm md:text-base",children:"Buy More Coins"}),r.jsx(Re,{onClick:()=>t("/browse"),variant:"outline",className:"text-amber-600 border-amber-300 hover:bg-amber-50 text-sm md:text-base",children:"Start Messaging"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"How to Use Your Coins"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Ns,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Send Messages"}),r.jsx("span",{className:"text-xs text-blue-600",children:"Subscription"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx(Ri,{className:"h-4 w-4 md:h-5 md:w-5 text-purple-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Virtual Gifts"}),r.jsx("span",{className:"text-xs text-purple-600",children:"5-50 coins each"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[r.jsx(la,{className:"h-4 w-4 md:h-5 md:w-5 text-orange-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Voice Calls"}),r.jsx("span",{className:"text-xs text-orange-600",children:"400 coins/min"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx(uo,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Video Calls"}),r.jsx("span",{className:"text-xs text-green-600",children:"1000 coins/min"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-rose-50 rounded-lg",children:[r.jsx(la,{className:"h-4 w-4 md:h-5 md:w-5 text-rose-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs md:text-sm font-medium block",children:"Contact Info"}),r.jsx("span",{className:"text-xs text-rose-600",children:"700 coins"})]})]})]})]})]}),s==="billing"&&r.jsxs("div",{className:"space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 md:mb-6 gap-3 sm:gap-0",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ac,{className:"h-5 w-5 md:h-6 md:w-6 text-rose-500"}),"Billing & Payments"]}),r.jsxs(Re,{onClick:()=>t("/billing"),variant:"outline",className:"w-full sm:w-auto text-sm md:text-base",children:[r.jsx(na,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Manage Billing"]})]}),i.length===0?r.jsxs("div",{className:"text-center py-6 md:py-8",children:[r.jsx(Th,{className:"h-10 w-10 md:h-12 md:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-2",children:"No Payment History"}),r.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Your payment history will appear here once you make a purchase"})]}):r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-600"}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-blue-800",children:"Total Spent"})]}),r.jsxs("p",{className:"text-lg md:text-2xl font-bold text-blue-900",children:["",i.reduce((_,C)=>_+C.amount,0).toFixed(2)]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Nr,{className:"h-4 w-4 md:h-5 md:w-5 text-green-600"}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-green-800",children:"Completed"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold text-green-900",children:i.filter(_=>_.status==="completed").length})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(pc,{className:"h-4 w-4 md:h-5 md:w-5 text-yellow-600"}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-yellow-800",children:"Pending"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold text-yellow-900",children:i.filter(_=>_.status==="pending").length})]})]})})]}),i.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4",children:"Payment History"}),r.jsx("div",{className:"space-y-3 md:space-y-4",children:i.map(_=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-3 md:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[h(_.status),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm md:text-base",children:_.subscription_plan&&typeof _.subscription_plan=="string"?_.subscription_plan.replace("-"," ").replace(/\b\w/g,C=>C.toUpperCase())+" Plan":"Subscription Plan"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["#",(_.order_id||"unknown").slice(-8)]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 text-xs md:text-sm text-gray-600",children:[r.jsx("span",{children:j(_.created_at)}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{children:m(_.crypto_asset||"crypto")}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("span",{children:[_.crypto_amount||"0"," ",(_.crypto_asset||"crypto").toUpperCase()]})]})]})]}),r.jsxs("div",{className:"text-left sm:text-right",children:[r.jsxs("p",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["",_.amount.toFixed(2)]}),r.jsxs("div",{className:"flex flex-col sm:items-end gap-1 mt-1",children:[r.jsx(Os,{variant:_.status==="completed"?"default":_.status==="pending"?"secondary":"destructive",className:"text-xs w-fit",children:_.status}),_.status==="completed"&&r.jsxs(Re,{onClick:()=>x(_),variant:"ghost",size:"sm",className:"text-rose-600 hover:text-rose-700 text-xs p-0 h-auto",children:[r.jsx(rp,{className:"h-3 w-3 mr-1"}),"Receipt"]})]})]})]})},_.id))})]})]}),s==="settings"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(gB,{}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-3 sm:gap-0",children:[r.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Account Settings"}),r.jsxs(Re,{onClick:()=>t("/settings"),variant:"outline",className:"w-full sm:w-auto text-sm md:text-base",children:[r.jsx(na,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Advanced Settings"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[r.jsx("div",{className:"space-y-4 md:space-y-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(no,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:"Email Address"})]}),r.jsx("span",{className:"text-xs md:text-sm font-medium truncate ml-2",children:e==null?void 0:e.email})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Sr,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:"Member Since"})]}),r.jsx("span",{className:"text-xs md:text-sm font-medium",children:j((e==null?void 0:e.createdAt)||new Date().toISOString())})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ms,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-500"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:"Account Status"})]}),r.jsx(Os,{variant:e!=null&&e.verified?"default":"secondary",className:"text-xs",children:e!=null&&e.verified?"Verified":"Unverified"})]})]})]})}),r.jsx("div",{className:"space-y-4 md:space-y-6",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Re,{onClick:()=>t("/edit-profile"),variant:"outline",className:"w-full justify-start text-sm md:text-base",children:[r.jsx(ig,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Edit Profile"]}),r.jsxs(Re,{onClick:()=>t("/settings"),variant:"outline",className:"w-full justify-start text-sm md:text-base",children:[r.jsx(na,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Privacy Settings"]}),r.jsxs(Re,{onClick:()=>t("/billing"),variant:"outline",className:"w-full justify-start text-sm md:text-base",children:[r.jsx(ac,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Billing Information"]}),r.jsxs(Re,{onClick:()=>{window.confirm("Are you sure you want to sign out?")&&Oe.auth.signOut()},variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 text-sm md:text-base",children:[r.jsx(Gv,{className:"h-3 w-3 md:h-4 md:w-4 mr-2"}),"Sign Out"]})]})]})})]})]})]})]})})]})}class Bs{static set(t,s,n={}){let i=`${encodeURIComponent(t)}=${encodeURIComponent(s)}`;if(n.expires){let a;typeof n.expires=="number"?(a=new Date,a.setTime(a.getTime()+n.expires*24*60*60*1e3)):a=n.expires,i+=`; expires=${a.toUTCString()}`}n.path&&(i+=`; path=${n.path}`),n.domain&&(i+=`; domain=${n.domain}`),n.secure&&(i+="; secure"),n.sameSite&&(i+=`; samesite=${n.sameSite}`),document.cookie=i}static get(t){const s=encodeURIComponent(t)+"=",n=document.cookie.split(";");for(let i of n)if(i=i.trim(),i.indexOf(s)===0)return decodeURIComponent(i.substring(s.length));return null}static delete(t,s={}){this.set(t,"",{...s,expires:new Date(0)})}static exists(t){return this.get(t)!==null}static getAll(){const t={},s=document.cookie.split(";");for(let n of s){n=n.trim();const[i,a]=n.split("=");i&&a&&(t[decodeURIComponent(i)]=decodeURIComponent(a))}return t}static clearAll(){const t=this.getAll();Object.keys(t).forEach(s=>{this.delete(s)})}static setJSON(t,s,n={}){this.set(t,JSON.stringify(s),n)}static getJSON(t){const s=this.get(t);if(s===null)return null;try{return JSON.parse(s)}catch(n){return console.error(`Error parsing JSON cookie ${t}:`,n),null}}static hasConsent(){return this.exists("cookie-consent")}static getConsent(){return this.getJSON("cookie-consent")}}function yB(e,t){const[s,n]=E.useState(()=>Bs.get(e)||t);return[s,(o,l)=>{Bs.set(e,o,l),n(o)},o=>{Bs.delete(e,o),n(null)}]}function vB(e,t){const[s,n]=E.useState(()=>Bs.getJSON(e)||t||null);return[s,(o,l)=>{Bs.setJSON(e,o,l),n(o)},o=>{Bs.delete(e,o),n(null)}]}function jk({onAccept:e,onDecline:t,showPreferences:s=!1,className:n="",forceShow:i=!1}){const[a,o]=E.useState(!1),[l,c]=E.useState(!1),[d,u]=E.useState({necessary:!0,analytics:!1,marketing:!1,preferences:!1});E.useEffect(()=>{(!Bs.hasConsent()||i)&&o(!0)},[i]);const h=()=>{const x={necessary:!0,analytics:!0,marketing:!0,preferences:!0};Bs.setJSON("cookie-consent",x,{expires:365}),e(x),o(!1)},m=()=>{Bs.setJSON("cookie-consent",d,{expires:365}),e(d),o(!1)},p=()=>{const x={necessary:!0,analytics:!1,marketing:!1,preferences:!1};Bs.setJSON("cookie-consent",x,{expires:365}),t==null||t(),o(!1)};return a?r.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 ${n}`,children:r.jsx("div",{className:"bg-white rounded-t-lg shadow-2xl w-full max-w-4xl mx-4 mb-0",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-rose-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"We value your privacy"})]}),r.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. You can customize your preferences below.'}),l&&r.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Necessary Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Required for the website to function properly"})]}),r.jsx("input",{type:"checkbox",checked:d.necessary,disabled:!0,className:"rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Analytics Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Help us understand how visitors interact with our website"})]}),r.jsx("input",{type:"checkbox",checked:d.analytics,onChange:x=>u(j=>({...j,analytics:x.target.checked})),className:"rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Marketing Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Used to deliver personalized advertisements"})]}),r.jsx("input",{type:"checkbox",checked:d.marketing,onChange:x=>u(j=>({...j,marketing:x.target.checked})),className:"rounded border-gray-300"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preference Cookies"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Remember your settings and preferences"})]}),r.jsx("input",{type:"checkbox",checked:d.preferences,onChange:x=>u(j=>({...j,preferences:x.target.checked})),className:"rounded border-gray-300"})]})]})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[s&&r.jsx("button",{onClick:()=>c(!l),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50",children:l?"Hide Preferences":"Customize Cookies"}),r.jsx("button",{onClick:p,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50",children:"Decline All"}),l?r.jsx("button",{onClick:m,className:"px-6 py-2 text-sm bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded font-medium transition-all duration-200",children:"Accept Selected"}):r.jsx("button",{onClick:h,className:"px-6 py-2 text-sm bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded font-medium transition-all duration-200",children:"Accept All Cookies"})]})]})})}):null}function bB(){const[e,t]=E.useState(()=>Bs.getConsent()||{necessary:!0,analytics:!1,marketing:!1,preferences:!1}),s=()=>{Bs.setJSON("cookie-consent",e,{expires:365}),alert("Cookie preferences saved!")},n=()=>{Bs.delete("cookie-consent"),t({necessary:!0,analytics:!1,marketing:!1,preferences:!1}),alert("Cookie preferences reset!")};return r.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cookie Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Necessary Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Required for the website to function properly"})]}),r.jsx("input",{type:"checkbox",checked:e.necessary,disabled:!0,className:"rounded border-gray-300"})]})}),r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Analytics Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website"})]}),r.jsx("input",{type:"checkbox",checked:e.analytics,onChange:i=>t(a=>({...a,analytics:i.target.checked})),className:"rounded border-gray-300"})]})}),r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Marketing Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements"})]}),r.jsx("input",{type:"checkbox",checked:e.marketing,onChange:i=>t(a=>({...a,marketing:i.target.checked})),className:"rounded border-gray-300"})]})}),r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Preference Cookies"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Remember your settings and preferences"})]}),r.jsx("input",{type:"checkbox",checked:e.preferences,onChange:i=>t(a=>({...a,preferences:i.target.checked})),className:"rounded border-gray-300"})]})})]}),r.jsxs("div",{className:"flex gap-4 mt-6",children:[r.jsx("button",{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded hover:shadow-lg transition-all duration-200",children:"Save Preferences"}),r.jsx("button",{onClick:n,className:"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Reset to Default"})]})]})}function Sk(){const[e,t]=E.useState(()=>Bs.hasConsent()),[s,n]=E.useState(()=>Bs.getConsent());return{hasConsent:e,consent:s,updateConsent:o=>{Bs.setJSON("cookie-consent",o,{expires:365}),n(o),t(!0)},clearConsent:()=>{Bs.delete("cookie-consent"),n(null),t(!1)}}}function wB({children:e,showPreferences:t=!0,onConsentChange:s}){const{hasConsent:n,updateConsent:i}=Sk(),[a,o]=E.useState(!1);E.useEffect(()=>{n||o(!0)},[n]);const l=d=>{i(d),o(!1),s==null||s(d)},c=()=>{const d={necessary:!0,analytics:!1,marketing:!1,preferences:!1};i(d),o(!1),s==null||s(d)};return r.jsxs(r.Fragment,{children:[e,a&&r.jsx(jk,{onAccept:l,onDecline:c,showPreferences:t})]})}function kk(){const{consent:e}=Sk();return{canUseAnalytics:(e==null?void 0:e.analytics)??!1,canUseMarketing:(e==null?void 0:e.marketing)??!1,canUsePreferences:(e==null?void 0:e.preferences)??!1,canUseNecessary:(e==null?void 0:e.necessary)??!0,hasConsent:e!==null}}function cm({children:e,type:t,fallback:s}){const n=kk();return(()=>{switch(t){case"analytics":return n.canUseAnalytics;case"marketing":return n.canUseMarketing;case"preferences":return n.canUsePreferences;case"necessary":return n.canUseNecessary;default:return!1}})()?r.jsx(r.Fragment,{children:e}):s?r.jsx(r.Fragment,{children:s}):null}function NB(){const[e,t]=E.useState(!1),[s,n]=E.useState(!1),[i,a,o]=yB("theme","light"),[l,c,d]=vB("user-preferences",{language:"en",notifications:!0,autoSave:!1}),u=kk(),h=()=>{Bs.set("session-id","abc123",{expires:1}),Bs.setJSON("user-data",{id:1,name:"John Doe",lastLogin:new Date().toISOString()},{expires:7}),alert("Session data saved to cookies!")},m=()=>{Bs.delete("session-id"),Bs.delete("user-data"),alert("Session data cleared from cookies!")},p=k=>{console.log("Cookie consent updated:",k),alert("Cookie preferences saved!")},x=()=>{o()},j=()=>{d()},N=k=>{c({language:(l==null?void 0:l.language)||"en",notifications:k,autoSave:(l==null?void 0:l.autoSave)||!1},{expires:365})},y=k=>{c({language:(l==null?void 0:l.language)||"en",notifications:(l==null?void 0:l.notifications)||!1,autoSave:k},{expires:365})},v=k=>{c({language:k,notifications:(l==null?void 0:l.notifications)||!1,autoSave:(l==null?void 0:l.autoSave)||!1},{expires:365})},b=()=>{Bs.delete("cookie-consent"),n(!0),alert("Cookie consent cleared! Refresh the page to see the banner again.")};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Cookie Consent Test"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"This page demonstrates the cookie consent functionality. Try different actions to see how it works."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Consent Status"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.hasConsent?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Has Consent"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.hasConsent?"Yes":"No"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.canUseAnalytics?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Analytics"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.canUseAnalytics?"Allowed":"Blocked"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.canUseMarketing?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Marketing"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.canUseMarketing?"Allowed":"Blocked"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[r.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${u.canUsePreferences?"bg-green-500":"bg-red-500"}`}),r.jsx("p",{className:"text-sm font-medium",children:"Preferences"}),r.jsx("p",{className:"text-xs text-gray-500",children:u.canUsePreferences?"Allowed":"Blocked"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Conditional Content Examples"}),r.jsx(cm,{type:"analytics",children:r.jsxs("div",{className:"p-4 bg-green-100 border border-green-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Analytics Content"}),r.jsx("p",{className:"text-green-700 text-sm",children:"This content is only shown if analytics cookies are allowed."})]})}),r.jsx(cm,{type:"marketing",children:r.jsxs("div",{className:"p-4 bg-blue-100 border border-blue-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-blue-800",children:"Marketing Content"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"This content is only shown if marketing cookies are allowed."})]})}),r.jsx(cm,{type:"preferences",children:r.jsxs("div",{className:"p-4 bg-purple-100 border border-purple-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-purple-800",children:"Preferences Content"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"This content is only shown if preference cookies are allowed."})]})}),r.jsx(cm,{type:"analytics",fallback:r.jsxs("div",{className:"p-4 bg-gray-100 border border-gray-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:"Analytics Blocked"}),r.jsx("p",{className:"text-gray-700 text-sm",children:"Analytics cookies are not allowed. Please enable them in settings."})]}),children:r.jsxs("div",{className:"p-4 bg-green-100 border border-green-300 rounded mb-4",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Analytics Active"}),r.jsx("p",{className:"text-green-700 text-sm",children:"Analytics are running and collecting data."})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Theme Selection (useCookie hook)"}),r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("button",{onClick:()=>a("light",{expires:30}),className:`px-4 py-2 rounded ${i==="light"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white":"bg-gray-200"}`,children:"Light Theme"}),r.jsx("button",{onClick:()=>a("dark",{expires:30}),className:`px-4 py-2 rounded ${i==="dark"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white":"bg-gray-200"}`,children:"Dark Theme"}),r.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear Theme"})]}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Current theme: ",r.jsx("strong",{children:i||"default"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Preferences (useJSONCookie hook)"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.notifications)||!1,onChange:k=>N(k.target.checked),className:"rounded border-gray-300 focus:ring-rose-500 focus:ring-2"}),"Enable Notifications"]})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.autoSave)||!1,onChange:k=>y(k.target.checked),className:"rounded border-gray-300 focus:ring-rose-500 focus:ring-2"}),"Auto Save"]})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:["Language:",r.jsxs("select",{value:(l==null?void 0:l.language)||"en",onChange:k=>v(k.target.value),className:"border rounded px-2 py-1 focus:ring-rose-500 focus:border-rose-500",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Spanish"}),r.jsx("option",{value:"fr",children:"French"})]})]})}),r.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear Preferences"})]}),r.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:r.jsx("p",{className:"text-sm font-mono",children:JSON.stringify(l,null,2)})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Direct CookieService Usage"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:h,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Set Session Data"}),r.jsx("button",{onClick:m,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Clear Session Data"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"All Cookies:"}),r.jsx("div",{className:"p-3 bg-gray-100 rounded text-sm font-mono max-h-40 overflow-y-auto",children:Object.entries(Bs.getAll()).map(([k,_])=>r.jsxs("div",{children:[r.jsxs("strong",{children:[k,":"]})," ",_]},k))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cookie Settings"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("button",{onClick:()=>t(!e),className:"px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 text-white rounded hover:shadow-lg transition-all duration-200",children:e?"Hide Settings":"Show Cookie Settings"}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700",children:"Clear All Consent"})]}),e&&r.jsx("div",{className:"mt-4",children:r.jsx(bB,{})})]}),s&&r.jsx(jk,{onAccept:p,onDecline:()=>{n(!1),alert("Cookies declined")},showPreferences:!0,forceShow:!0})]})})}const jB=[{id:1,coupleNames:"Michael & Anastasia",countries:"USA & Ukraine",meetDate:"March 2022",marriageDate:"September 2023",image:"https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=400",story:"We met through PureLove and instantly connected over our shared love of travel and classical music. Despite the distance, we knew we had found something special.",testimonial:"PureLove made it possible for us to find true love across continents. The platform's safety features and genuine profiles gave us confidence throughout our journey.",rating:5},{id:2,coupleNames:"David & Elena",countries:"Canada & Belarus",meetDate:"January 2023",marriageDate:"June 2024",image:"https://images.squarespace-cdn.com/content/v1/5f6c63274865985e13575ba8/8c657c02-0553-4ec2-816d-599ee2aa78bf/glewstone-court-country-house-wedding-decors.jpg",story:"After years of unsuccessful dating, we both decided to try international dating. Our first video call lasted 4 hours, and we knew we were meant to be together.",testimonial:"The translation services and cultural guidance from PureLove helped us navigate our differences and build a strong foundation for our relationship.",rating:5},{id:3,coupleNames:"Robert & Oksana",countries:"Australia & Kazakhstan",meetDate:"August 2021",marriageDate:"April 2023",image:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=400",story:"We connected over our shared entrepreneurial spirit. Oksana's business acumen and warm personality captured my heart immediately.",testimonial:"PureLove's verification system ensured we were both serious about finding love. The support team was incredibly helpful throughout our journey.",rating:5},{id:4,coupleNames:"James & Yulia",countries:"UK & Russia",meetDate:"November 2022",image:"https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=400",story:"We're still in the process of closing the distance, but our love grows stronger every day. Video calls and messages keep us connected across time zones.",testimonial:"The platform's communication tools have been essential for maintaining our long-distance relationship. We're planning our wedding for next year!",rating:5},{id:5,coupleNames:"Thomas & Svetlana",countries:"Germany & Moldova",meetDate:"May 2021",marriageDate:"November 2022",image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=400",story:"Our families were initially skeptical about international dating, but when they met us together, they could see how perfect we are for each other.",testimonial:"PureLove connected us with our soulmates. The cultural exchange has enriched both our lives immensely.",rating:5},{id:6,coupleNames:"William & Karina",countries:"USA & Uzbekistan",meetDate:"September 2023",image:"https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?w=400",story:"We bonded over our love for cooking and trying new cuisines. Karina has taught me so much about Central Asian culture and traditions.",testimonial:"The detailed profiles on PureLove helped us find someone with compatible values and interests. We're planning to meet in person soon!",rating:5}];function SB(){const[e,t]=E.useState(null);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx(Us,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Success Stories"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Real couples who found love through PureLove"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),r.jsx("div",{className:"text-rose-100",children:"Happy Couples"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"150+"}),r.jsx("div",{className:"text-rose-100",children:"Marriages"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:"95%"}),r.jsx("div",{className:"text-rose-100",children:"Success Rate"})]})]})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:jB.map(s=>r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t(s),children:[r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:s.image,alt:s.coupleNames,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),r.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[r.jsx("h3",{className:"text-xl font-bold",children:s.coupleNames}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(gl,{className:"h-4 w-4"}),r.jsx("span",{children:s.countries})]})]}),s.marriageDate&&r.jsx("div",{className:"absolute top-4 right-4 bg-rose-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Married"})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Sr,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Met ",s.meetDate]}),s.marriageDate&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-300",children:""}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Married ",s.marriageDate]})]})]}),r.jsx("div",{className:"flex items-center mb-3",children:[...Array(s.rating)].map((n,i)=>r.jsx(Lh,{className:"h-4 w-4 text-yellow-400 fill-current"},i))}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:s.story}),r.jsx("button",{className:"text-rose-500 hover:text-rose-600 font-medium text-sm",children:"Read Full Story "})]})]},s.id))})})}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Write Your Own Success Story?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of singles who have found their perfect match through PureLove"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/signup",className:"bg-white text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Start Your Journey"}),r.jsx("button",{onClick:()=>window.location.href="/browse",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-rose-500 transition-colors",children:"Browse Profiles"})]})]})}),e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"relative h-64",children:[r.jsx("img",{src:e.image,alt:e.coupleNames,className:"w-full h-full object-cover"}),r.jsx("button",{onClick:()=>t(null),className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70",children:""})]}),r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:e.coupleNames}),r.jsxs("div",{className:"flex items-center gap-4 mb-6 text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gl,{className:"h-4 w-4"}),r.jsx("span",{children:e.countries})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Sr,{className:"h-4 w-4"}),r.jsxs("span",{children:["Met ",e.meetDate]})]}),e.marriageDate&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"h-4 w-4 text-rose-500"}),r.jsxs("span",{children:["Married ",e.marriageDate]})]})]}),r.jsx("div",{className:"flex items-center mb-6",children:[...Array(e.rating)].map((s,n)=>r.jsx(Lh,{className:"h-5 w-5 text-yellow-400 fill-current"},n))}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Their Story"}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:e.story})]}),r.jsx("div",{className:"bg-rose-50 p-6 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(uE,{className:"h-6 w-6 text-rose-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-700 italic mb-3",children:e.testimonial}),r.jsxs("p",{className:"text-rose-600 font-medium",children:["- ",e.coupleNames]})]})]})})]})]})}),r.jsx(kr,{})]})}function kB(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(Us,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"About PureLove"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8",children:"Connecting hearts across borders since 2018"}),r.jsx("p",{className:"text-lg max-w-3xl mx-auto",children:"We believe that true love knows no boundaries. Our mission is to help Western men find meaningful relationships with Eastern European and Central Asian women through a safe, authentic, and supportive platform."})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Our Story"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsx("div",{children:r.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600",alt:"Team meeting",className:"rounded-xl shadow-lg"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"PureLove was founded in 2018 by a team of relationship experts and technology professionals who recognized the need for a more authentic approach to international dating."}),r.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"After witnessing countless success stories and the transformative power of cross-cultural relationships, we dedicated ourselves to creating a platform that prioritizes safety, authenticity, and genuine connections."}),r.jsx("p",{className:"text-lg text-gray-700",children:"Today, we're proud to have facilitated over 500 successful relationships and continue to grow our community of love-seekers worldwide."})]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Our Mission & Values"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Us,{className:"h-10 w-10 text-rose-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Authentic Love"}),r.jsx("p",{className:"text-gray-600",children:"We believe in genuine connections built on mutual respect, understanding, and shared values."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ms,{className:"h-10 w-10 text-blue-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Safety First"}),r.jsx("p",{className:"text-gray-600",children:"Your safety and privacy are our top priorities. We implement strict verification and security measures."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(xo,{className:"h-10 w-10 text-green-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Cultural Bridge"}),r.jsx("p",{className:"text-gray-600",children:"We celebrate cultural diversity and help bridge differences to create lasting relationships."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-100 h-20 w-20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(co,{className:"h-10 w-10 text-purple-500"})}),r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Community"}),r.jsx("p",{className:"text-gray-600",children:"We foster a supportive community where members can share experiences and find guidance."})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Our Impact"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"50,000+"}),r.jsx("div",{className:"text-rose-100",children:"Active Members"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"500+"}),r.jsx("div",{className:"text-rose-100",children:"Success Stories"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"25+"}),r.jsx("div",{className:"text-rose-100",children:"Countries"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:"6"}),r.jsx("div",{className:"text-rose-100",children:"Years of Excellence"})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Find Your Perfect Match?"}),r.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join thousands of successful couples who found love through PureLove"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/signup",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-600 transition-colors",children:"Get Started Today"}),r.jsx("button",{onClick:()=>window.location.href="/contact",className:"border-2 border-rose-500 text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Contact Us"})]})]})}),r.jsx(kr,{})]})}function CB(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"How It Works"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Your journey to finding true love starts here"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Follow our simple 4-step process to connect with your perfect match"})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"bg-rose-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Xb,{className:"h-12 w-12 text-rose-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"1"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Create Profile"}),r.jsx("p",{className:"text-gray-600",children:"Sign up and create your detailed profile with photos and preferences"})]}),r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"bg-blue-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Nn,{className:"h-12 w-12 text-blue-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"2"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Browse & Match"}),r.jsx("p",{className:"text-gray-600",children:"Search through verified profiles and find women who match your criteria"})]}),r.jsxs("div",{className:"text-center relative",children:[r.jsx("div",{className:"bg-green-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Ns,{className:"h-12 w-12 text-green-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"3"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Connect"}),r.jsx("p",{className:"text-gray-600",children:"Start conversations and build meaningful relationships through our platform"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-100 h-24 w-24 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Us,{className:"h-12 w-12 text-purple-500"})}),r.jsx("div",{className:"bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center mx-auto mb-4 text-sm font-bold",children:"4"}),r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Find Love"}),r.jsx("p",{className:"text-gray-600",children:"Meet in person and start your journey together towards a lasting relationship"})]})]})})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"The Complete Journey"}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"bg-rose-100 h-16 w-16 rounded-full flex items-center justify-center",children:r.jsx(Xb,{className:"h-8 w-8 text-rose-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Registration & Profile Creation"}),r.jsx("p",{className:"text-gray-600",children:"Build your foundation for success"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ml-20",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Complete Profile Setup"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add photos, personal information, and preferences"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Identity Verification"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Verify your identity for security and trust"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Choose Subscription"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select the plan that fits your needs"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Profile Optimization"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get tips to make your profile stand out"})]})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center",children:r.jsx(Nn,{className:"h-8 w-8 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Browsing & Matching"}),r.jsx("p",{className:"text-gray-600",children:"Discover your perfect match"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ml-20",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Advanced Search Filters"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Filter by age, location, interests, and more"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Smart Matching Algorithm"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get personalized recommendations"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"View Detailed Profiles"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Learn about potential matches in detail"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Nr,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Express Interest"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send likes and virtual gifts"})]})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"bg-green-100 h-16 w-16 rounded-full flex items-center justify-center",children:r.jsx(Ns,{className:"h-8 w-8 text-green-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Communication & Connection"}),r.jsx("p",{className:"text-gray-600",children:"Build meaningful relationships"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 ml-20",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ns,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Instant Messaging"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Real-time chat with translation support"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(uo,{className:"h-5 w-5 text-purple-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Video Calls"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Face-to-face conversations"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ri,{className:"h-5 w-5 text-pink-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Virtual Gifts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Show your affection with thoughtful gifts"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(cE,{className:"h-5 w-5 text-indigo-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Meeting Assistance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Help with travel and meeting arrangements"})]})]})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Tips for Success"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Profile Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:" Use high-quality, recent photos"}),r.jsx("li",{children:" Write an honest and engaging bio"}),r.jsx("li",{children:" Be specific about your interests"}),r.jsx("li",{children:" Update your profile regularly"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Communication Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:" Be respectful and genuine"}),r.jsx("li",{children:" Ask thoughtful questions"}),r.jsx("li",{children:" Share your culture and traditions"}),r.jsx("li",{children:" Be patient with language barriers"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Safety Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:" Never send money to someone"}),r.jsx("li",{children:" Meet in public places first"}),r.jsx("li",{children:" Trust your instincts"}),r.jsx("li",{children:" Report suspicious behavior"})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Relationship Tips"}),r.jsxs("ul",{className:"space-y-2 text-gray-600",children:[r.jsx("li",{children:" Take time to know each other"}),r.jsx("li",{children:" Discuss future plans openly"}),r.jsx("li",{children:" Respect cultural differences"}),r.jsx("li",{children:" Plan visits when ready"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your Journey?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Join thousands of successful couples who found love through PureLove"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/signup",className:"bg-white text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Get Started Now"}),r.jsx("button",{onClick:()=>window.location.href="/browse",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-rose-500 transition-colors",children:"Browse Profiles"})]})]})}),r.jsx(kr,{})]})}function _B(){return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx(ms,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Safety Tips"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Your safety is our top priority"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Follow these essential safety guidelines to ensure a secure and positive dating experience"})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Essential Safety Rules"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Up,{className:"h-8 w-8 text-red-500"}),r.jsx("h3",{className:"text-xl font-bold text-red-700",children:"Never Do This"})]}),r.jsxs("ul",{className:"space-y-3 text-red-700",children:[r.jsx("li",{children:" Never send money, gifts, or personal financial information"}),r.jsx("li",{children:" Don't share your home address or workplace details"}),r.jsx("li",{children:" Never give out your social security number or bank details"}),r.jsx("li",{children:" Don't meet in private or isolated locations"}),r.jsx("li",{children:" Never travel to meet someone without proper verification"})]})]}),r.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Nr,{className:"h-8 w-8 text-green-500"}),r.jsx("h3",{className:"text-xl font-bold text-green-700",children:"Always Do This"})]}),r.jsxs("ul",{className:"space-y-3 text-green-700",children:[r.jsx("li",{children:" Meet in public places for first meetings"}),r.jsx("li",{children:" Tell friends/family about your dating plans"}),r.jsx("li",{children:" Trust your instincts and gut feelings"}),r.jsx("li",{children:" Verify identity through video calls"}),r.jsx("li",{children:" Report suspicious behavior immediately"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"Comprehensive Safety Guidelines"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(gc,{className:"h-8 w-8 text-blue-500"}),r.jsx("h3",{className:"text-2xl font-bold",children:"Online Safety"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Profile Protection"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Use privacy settings to control who can see your information. Don't include personal details like phone numbers or addresses in your profile."})]}),r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Communication Security"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Keep conversations on the platform initially. Be cautious about sharing personal contact information too quickly."})]}),r.jsxs("div",{className:"border-l-4 border-blue-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Photo Safety"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Avoid photos that reveal your location, workplace, or other identifying information in the background."})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Ii,{className:"h-8 w-8 text-green-500"}),r.jsx("h3",{className:"text-2xl font-bold",children:"Meeting Safety"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-l-4 border-green-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"First Meeting Guidelines"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Always meet in busy, public places like cafes, restaurants, or shopping centers. Arrive and leave independently."})]}),r.jsxs("div",{className:"border-l-4 border-green-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Tell Someone"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Inform a trusted friend or family member about your plans, including where you're going and when you expect to return."})]}),r.jsxs("div",{className:"border-l-4 border-green-200 pl-4",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Stay Alert"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Stay sober and alert. Don't leave drinks unattended and trust your instincts if something feels wrong."})]})]})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[r.jsx(pl,{className:"h-10 w-10 text-red-500"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center",children:"Red Flags to Watch For"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Financial Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:" Asking for money, loans, or financial assistance"}),r.jsx("li",{children:" Requesting gift cards or wire transfers"}),r.jsx("li",{children:" Claims of financial emergencies"}),r.jsx("li",{children:" Asking for banking or credit card information"}),r.jsx("li",{children:" Investment or business opportunities"})]})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Behavioral Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:" Professing love very quickly"}),r.jsx("li",{children:" Avoiding phone or video calls"}),r.jsx("li",{children:" Inconsistent stories or information"}),r.jsx("li",{children:" Pressuring for personal information"}),r.jsx("li",{children:" Refusing to meet in public places"})]})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Profile Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:" Limited or professional model-like photos"}),r.jsx("li",{children:" Vague or minimal profile information"}),r.jsx("li",{children:" Claims of being widowed or in military"}),r.jsx("li",{children:" Poor grammar despite claiming education"}),r.jsx("li",{children:" Recently created profiles with perfect details"})]})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg border border-red-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-3",children:"Communication Red Flags"}),r.jsxs("ul",{className:"space-y-2 text-red-600 text-sm",children:[r.jsx("li",{children:" Generic messages that could be sent to anyone"}),r.jsx("li",{children:" Immediately asking to move off the platform"}),r.jsx("li",{children:" Avoiding specific questions about their life"}),r.jsx("li",{children:" Using overly romantic language too soon"}),r.jsx("li",{children:" Inconsistent time zones or availability"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12",children:"International Dating Safety"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Ph,{className:"h-6 w-6 text-rose-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Verify Identity"}),r.jsx("p",{className:"text-gray-600",children:"Always verify someone's identity through video calls before making any commitments. Ask for multiple forms of verification."})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Ph,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Language Barriers"}),r.jsx("p",{className:"text-gray-600",children:"Be patient with language differences, but be wary if someone's language skills don't match their claimed education level."})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(ms,{className:"h-6 w-6 text-green-500 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cultural Research"}),r.jsx("p",{className:"text-gray-600",children:"Learn about your match's culture and customs. This helps you understand normal behavior and spot inconsistencies."})]})]})]}),r.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border border-amber-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-amber-800 mb-4",children:"Travel Safety Tips"}),r.jsxs("ul",{className:"space-y-2 text-amber-700 text-sm",children:[r.jsx("li",{children:" Research visa requirements and travel advisories"}),r.jsx("li",{children:" Book refundable accommodations initially"}),r.jsx("li",{children:" Register with your embassy when traveling"}),r.jsx("li",{children:" Keep emergency contacts and embassy information handy"}),r.jsx("li",{children:" Have an exit strategy and return ticket"}),r.jsx("li",{children:" Meet in public places even when traveling to meet them"}),r.jsx("li",{children:" Don't stay at their residence initially"})]})]})]})]})})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Report Suspicious Activity"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Help us keep the community safe by reporting suspicious behavior or profiles"}),r.jsxs("div",{className:"bg-rose-50 p-8 rounded-xl border border-rose-200",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"How to Report"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-rose-600 font-bold",children:"1"})}),r.jsx("p",{children:"Use the report button on any profile or message"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-rose-600 font-bold",children:"2"})}),r.jsx("p",{children:"Provide detailed information about the issue"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-rose-600 font-bold",children:"3"})}),r.jsx("p",{children:"Our team will investigate within 24 hours"})]})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Our safety team is available 24/7 to assist you"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Emergency Support"}),r.jsx("p",{className:"text-rose-100",children:"support@purelove.com"}),r.jsx("p",{className:"text-rose-100",children:"safety@purelove.com"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Safety Team"}),r.jsx("p",{className:"text-rose-100",children:"safety@purelove.com"}),r.jsx("p",{className:"text-rose-100",children:"24/7 Response"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Local Authorities"}),r.jsx("p",{className:"text-rose-100",children:"Always contact local police"}),r.jsx("p",{className:"text-rose-100",children:"in case of emergency"})]})]})]})}),r.jsx(kr,{})]})}const uN=[{id:1,category:"Getting Started",question:"How do I create an account?",answer:"Creating an account is simple! Click the 'Sign Up' button, fill in your basic information, verify your email, and complete your profile. The entire process takes about 10-15 minutes."},{id:2,category:"Getting Started",question:"Is PureLove free to use?",answer:"PureLove offers both free and premium features. You can browse profiles and receive messages for free, but to send messages and access advanced features, you'll need a premium subscription."},{id:3,category:"Getting Started",question:"How do I verify my profile?",answer:"Profile verification involves uploading a government-issued ID and taking a verification photo. This process helps ensure the authenticity of all members and typically takes 24-48 hours to complete."},{id:4,category:"Safety & Security",question:"How do you ensure member safety?",answer:"We employ multiple safety measures including profile verification, AI-powered scam detection, 24/7 moderation, secure messaging, and comprehensive safety guidelines. We also have a dedicated safety team available around the clock."},{id:5,category:"Safety & Security",question:"What should I do if I encounter a scammer?",answer:"Immediately report the profile using our report feature. Do not send money or personal information. Block the user and contact our safety team at safety@purelove.com. We investigate all reports within 24 hours."},{id:6,category:"Safety & Security",question:"Is my personal information secure?",answer:"Yes, we use industry-standard encryption and security measures to protect your data. Your financial information is never stored on our servers, and you control what information is visible in your profile."},{id:7,category:"Communication",question:"How does the translation service work?",answer:"Our built-in translation service automatically translates messages between different languages. While it's quite accurate, we recommend learning some basic phrases in your match's language for better communication."},{id:8,category:"Communication",question:"Can I video chat with matches?",answer:"Yes! Video chat is available for premium members. It's a great way to verify someone's identity and build a stronger connection before meeting in person."},{id:9,category:"Communication",question:"What are virtual gifts?",answer:"Virtual gifts are digital presents you can send to show interest or affection. They range from flowers and chocolates to more elaborate gifts, and help you stand out and express your feelings."},{id:10,category:"Matching",question:"How does the matching algorithm work?",answer:"Our algorithm considers your preferences, interests, values, and behavior on the platform to suggest compatible matches. The more complete your profile, the better the matches we can provide."},{id:11,category:"Matching",question:"Why am I not getting matches?",answer:"Ensure your profile is complete with high-quality photos and detailed information. Be active on the platform, use search filters effectively, and consider expanding your preferences. Our customer success team can also provide personalized advice."},{id:12,category:"Matching",question:"Can I search for specific criteria?",answer:"Yes! Our advanced search allows you to filter by age, location, education, interests, lifestyle preferences, and more. Premium members have access to additional search filters."},{id:13,category:"Subscription",question:"What's included in premium membership?",answer:"Premium membership includes unlimited messaging, advanced search filters, video chat, priority customer support, profile boost features, and access to exclusive events and content."},{id:14,category:"Subscription",question:"Can I cancel my subscription anytime?",answer:"Yes, you can cancel your subscription at any time through your account settings. Your premium features will remain active until the end of your billing period."},{id:15,category:"Subscription",question:"Do you offer refunds?",answer:"We offer a 30-day satisfaction guarantee for new subscribers. If you're not satisfied within the first 30 days, contact our support team for a full refund."},{id:16,category:"Meeting & Travel",question:"How do I safely meet someone in person?",answer:"Always meet in public places, tell someone your plans, verify their identity through video chat first, and trust your instincts. Consider meeting in your home country initially or choose a neutral location."},{id:17,category:"Meeting & Travel",question:"Do you help with travel arrangements?",answer:"We provide guidance and resources for international travel, including visa information and travel tips. While we don't book travel directly, our concierge service can connect you with trusted travel partners."},{id:18,category:"Meeting & Travel",question:"What if my match doesn't look like their photos?",answer:"This is why we strongly recommend video chats before meeting. If someone misrepresented themselves, you can report the profile and leave the meeting safely. Always meet in public places with an exit strategy."},{id:20,category:"Technical",question:"I'm having trouble with the website. What should I do?",answer:"Try refreshing the page, clearing your browser cache, or using a different browser. If problems persist, contact our technical support team at support@purelove.com with details about the issue."}];function AB(){const[e,t]=E.useState(null),[s,n]=E.useState(""),[i,a]=E.useState("All"),o=["All",...Array.from(new Set(uN.map(d=>d.category)))],l=uN.filter(d=>{const u=d.question.toLowerCase().includes(s.toLowerCase())||d.answer.toLowerCase().includes(s.toLowerCase()),h=i==="All"||d.category===i;return u&&h}),c=d=>{t(e===d?null:d)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"Find answers to common questions about PureLove"})]})}),r.jsx("section",{className:"py-12 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Nn,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search FAQs...",value:s,onChange:d=>n(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"})]}),r.jsx("select",{value:i,onChange:d=>a(d.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",children:o.map(d=>r.jsx("option",{value:d,children:d},d))})]})})})}),r.jsx("section",{className:"py-12",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:l.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No FAQs found matching your search criteria."})}):r.jsx("div",{className:"space-y-4",children:l.map(d=>r.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden transition-all duration-200 ease-in-out ${e===d.id?"shadow-lg scale-[1.00]":"hover:shadow-lg"}`,children:[r.jsxs("button",{onClick:()=>c(d.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-rose-500 font-medium",children:d.category}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-1",children:d.question})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ud,{className:`h-5 w-5 text-gray-500 transition-transform duration-300 ease-in-out ${e===d.id?"rotate-180":"rotate-0"}`})})]}),r.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${e===d.id?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:r.jsx("div",{className:"px-6 pb-4 border-t border-gray-100 transform transition-transform duration-300 ease-in-out",children:r.jsx("p",{className:"text-gray-700 leading-relaxed pt-4",children:d.answer})})})]},d.id))})})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Still Have Questions?"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Our customer support team is here to help you 24/7"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-white text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"Contact Support"}),r.jsx("button",{onClick:()=>window.location.href="mailto:support@purelove.com",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-rose-500 transition-colors",children:"Email Us"})]})]})}),r.jsx(kr,{})]})}function EB(){const[e,t]=E.useState({name:"",email:"",subject:"",category:"general",message:""}),s=i=>{i.preventDefault(),console.log("Form submitted:",e),alert("Thank you for your message! We'll get back to you within 24 hours."),t({name:"",email:"",subject:"",category:"general",message:""})},n=i=>{t({...e,[i.target.name]:i.target.value})};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Xs,{}),r.jsx("section",{className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx(Ph,{className:"h-16 w-16 mx-auto mb-6 fill-white"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Contact Us"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto",children:"We're here to help you find love"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Have questions, need support, or want to share feedback? Get in touch with our team"})]})}),r.jsx("section",{className:"py-20",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Send us a Message"}),r.jsxs("form",{onSubmit:s,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"your.email@example.com"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsxs("select",{id:"category",name:"category",value:e.category,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",children:[r.jsx("option",{value:"general",children:"General Inquiry"}),r.jsx("option",{value:"technical",children:"Technical Support"}),r.jsx("option",{value:"billing",children:"Billing & Subscriptions"}),r.jsx("option",{value:"safety",children:"Safety & Security"}),r.jsx("option",{value:"feedback",children:"Feedback & Suggestions"}),r.jsx("option",{value:"partnership",children:"Partnership Opportunities"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:e.subject,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Brief description of your inquiry"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),r.jsx("textarea",{id:"message",name:"message",required:!0,rows:6,value:e.message,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent",placeholder:"Please provide details about your inquiry..."})]}),r.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 px-6 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Kv,{className:"h-5 w-5"}),"Send Message"]})]})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Get in Touch"}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-rose-100 h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(no,{className:"h-6 w-6 text-rose-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Email Support"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Get help with any questions or issues"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"General:"})," support@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Safety:"})," safety@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Billing:"})," billing@purelove.com"]})]})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-green-100 h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(pc,{className:"h-6 w-6 text-green-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Support Hours"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"We're here when you need us"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," 24/7 (Response within 24 hours)"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Emergency:"})," 24/7 Safety Hotline"]})]})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-purple-100 h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(gl,{className:"h-6 w-6 text-purple-500"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Office Address"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Visit our headquarters"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{children:"PureLove International"}),r.jsx("p",{children:"123 Love Street, Suite 456"}),r.jsx("p",{children:"Romance City, RC 12345"}),r.jsx("p",{children:"United States"})]})]})]})]})]})]})})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Quick Answers"}),r.jsx("p",{className:"text-lg text-gray-600 mb-12",children:"Check out our FAQ section for instant answers to common questions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-rose-50 p-6 rounded-lg",children:[r.jsx(ZA,{className:"h-12 w-12 text-rose-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Technical Issues"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Having trouble with the website or app?"}),r.jsx("button",{onClick:()=>window.location.href="/faq",className:"text-rose-500 hover:text-rose-600 font-medium",children:"View Tech FAQ "})]}),r.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[r.jsx(no,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Account & Billing"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Questions about your subscription or payments?"}),r.jsx("button",{onClick:()=>window.location.href="/faq",className:"text-blue-500 hover:text-blue-600 font-medium",children:"View Billing FAQ "})]}),r.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[r.jsx(Ph,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Safety & Dating"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Need help with safety or dating advice?"}),r.jsx("button",{onClick:()=>window.location.href="/safety",className:"text-green-500 hover:text-green-600 font-medium",children:"View Safety Tips "})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-red-500 to-pink-500 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Emergency Support"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"If you're in immediate danger or need urgent assistance, contact our emergency hotline"}),r.jsxs("div",{className:"bg-white bg-opacity-20 p-8 rounded-xl max-w-md mx-auto",children:[r.jsx(no,{className:"h-12 w-12 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold mb-2",children:"24/7 Emergency Support"}),r.jsx("p",{className:"text-3xl font-bold mb-4",children:"safety@purelove.com"}),r.jsx("p",{className:"text-rose-100",children:"Available worldwide, 24 hours a day"})]})]})}),r.jsx(kr,{})]})}function PB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(Xs,{}),r.jsxs("section",{className:"bg-gradient-to-r from-rose-500 via-pink-500 to-purple-600 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(mE,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-rose-100 bg-clip-text text-transparent",children:"Terms of Service"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-rose-100",children:"Simple terms for using PureLove"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-rose-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(Sr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Key Terms"}),r.jsx("p",{className:"text-lg text-gray-600",children:"What you need to know"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(co,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Age 18+"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"Must be 18 or older to use our service"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(ms,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Safe & Legal"}),r.jsx("p",{className:"text-green-700 text-sm",children:"IMBRA compliant and fully regulated"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(ac,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Fair Billing"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"Clear pricing with 30-day refunds"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-6 rounded-xl border border-rose-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-rose-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(gc,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-rose-900 mb-2",children:"Your Privacy"}),r.jsx("p",{className:"text-rose-700 text-sm",children:"Your data is secure and protected"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-amber-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(pl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-3",children:"Agreement"}),r.jsx("p",{className:"text-amber-800 leading-relaxed",children:"By using PureLove, you agree to these terms. If you don't agree, please don't use our service."})]})]})}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What We Offer"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"PureLove is a dating platform connecting people for meaningful relationships."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[r.jsx(co,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-blue-900 font-medium",children:"Profile creation & browsing"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[r.jsx(D4,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-green-900 font-medium",children:"Messaging & communication"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg",children:[r.jsx(la,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"text-purple-900 font-medium",children:"Video chat features"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-rose-50 to-rose-100 rounded-lg",children:[r.jsx(xo,{className:"h-5 w-5 text-rose-600"}),r.jsx("span",{className:"text-rose-900 font-medium",children:"Translation services"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Responsibilities"})]}),r.jsx("div",{className:"space-y-3",children:["Be 18+ years old","Provide truthful information","Keep your account secure","Be respectful to other users","Follow all applicable laws"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700",children:e})]},t))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payments & Refunds"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[" Subscriptions renew automatically",r.jsx("br",{})," 30-day refund policy for new subscribers",r.jsx("br",{})," Cancel anytime in your account settings",r.jsx("br",{})," Price changes announced 30 days in advance"]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions?"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about these terms:"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," legal@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Support:"})," support@purelove.com"]})]})]})]})]})]})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ms,{className:"h-12 w-12 text-rose-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Our team is here to help with any questions about our terms"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-rose-500 to-pink-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-rose-600 hover:to-pink-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/faq",className:"border-2 border-rose-500 text-rose-500 px-8 py-4 rounded-lg font-semibold hover:bg-rose-50 transition-colors",children:"View FAQ"})]})]})})}),r.jsx(kr,{})]})}function TB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(Xs,{}),r.jsxs("section",{className:"bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(ms,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Privacy Policy"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-blue-100",children:"How we protect your information"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(Sr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Privacy Matters"}),r.jsx("p",{className:"text-lg text-gray-600",children:"We protect your personal information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(gc,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:"Secure"}),r.jsx("p",{className:"text-blue-700 text-center leading-relaxed",children:"Your data is encrypted and protected"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Ii,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4 text-center",children:"Transparent"}),r.jsx("p",{className:"text-green-700 text-center leading-relaxed",children:"We're clear about what we collect"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(xo,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Your Control"}),r.jsx("p",{className:"text-purple-700 text-center leading-relaxed",children:"You control your data and settings"})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-8 rounded-2xl mt-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(pl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Simple Promise"}),r.jsx("p",{className:"text-blue-800 leading-relaxed",children:"We protect your privacy, use your data responsibly, and give you control over your information."})]})]})})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What We Collect"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(co,{className:"h-6 w-6 text-blue-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Name, age, and location","Email and phone number","Photos and descriptions","Relationship preferences"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(JA,{className:"h-6 w-6 text-green-600"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Usage Data"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Pages you visit","Messages you send","Device information","How you use our features"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How We Use Your Data"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(pE,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Provide Service"}),r.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[r.jsx("li",{children:" Create your profile"}),r.jsx("li",{children:" Find matches"}),r.jsx("li",{children:" Enable messaging"}),r.jsx("li",{children:" Process payments"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(ms,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Keep You Safe"}),r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[r.jsx("li",{children:" Verify identities"}),r.jsx("li",{children:" Prevent fraud"}),r.jsx("li",{children:" Monitor for abuse"}),r.jsx("li",{children:" Follow laws"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Ii,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"Improve Service"}),r.jsxs("ul",{className:"space-y-2 text-purple-800 text-sm",children:[r.jsx("li",{children:" Better matching"}),r.jsx("li",{children:" New features"}),r.jsx("li",{children:" Fix problems"}),r.jsx("li",{children:" Understand usage"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Rights"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You can:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["See what data we have","Update your information","Delete your account","Download your data","Control who sees your profile","Stop marketing emails"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-gray-700",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions?"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"Contact us about privacy:"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," privacy@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Support:"})," support@purelove.com"]})]})]})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ms,{className:"h-12 w-12 text-blue-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Privacy Questions?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help you understand how we protect your privacy"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-blue-600 hover:to-indigo-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/settings",className:"border-2 border-blue-500 text-blue-500 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:"Privacy Settings"})]})]})})}),r.jsx(kr,{})]})}function LB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(Xs,{}),r.jsxs("section",{className:"bg-gradient-to-r from-orange-500 via-amber-500 to-yellow-500 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(tg,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-orange-100 bg-clip-text text-transparent",children:"Cookie Policy"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-orange-100",children:"How cookies improve your experience"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(Sr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(tg,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-orange-900 mb-4",children:"What Are Cookies?"}),r.jsx("p",{className:"text-orange-800 leading-relaxed",children:"Cookies are small files that help us remember your preferences and improve your experience on our website."})]})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Types of Cookies"}),r.jsx("p",{className:"text-lg text-gray-600",children:"How different cookies help you"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(ms,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4 text-center",children:"Essential"}),r.jsx("p",{className:"text-green-700 text-center text-sm leading-relaxed",children:"Required for the site to work properly"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(na,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:"Preferences"}),r.jsx("p",{className:"text-blue-700 text-center text-sm leading-relaxed",children:"Remember your settings and choices"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Hb,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Analytics"}),r.jsx("p",{className:"text-purple-700 text-center text-sm leading-relaxed",children:"Help us improve the website"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 p-8 rounded-2xl border border-rose-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-rose-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Ii,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-rose-900 mb-4 text-center",children:"Marketing"}),r.jsx("p",{className:"text-rose-700 text-center text-sm leading-relaxed",children:"Show you relevant content"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Essential Cookies"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"These cookies are necessary for the website to work. They help you log in, navigate pages, and use basic features."}),r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(ms,{className:"h-6 w-6 text-green-600"}),r.jsx("h4",{className:"text-lg font-semibold text-green-900",children:"What they do:"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Keep you logged in","Remember your session","Provide security","Make the site work"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-green-800 text-sm",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preference Cookies"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"These cookies remember your choices so you don't have to set them again each time you visit."}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(na,{className:"h-6 w-6 text-blue-600"}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"What they remember:"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Your language","Theme settings","Location preferences","Display options"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-blue-800 text-sm",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics Cookies"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"These cookies help us understand how you use our website so we can make it better."}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Hb,{className:"h-6 w-6 text-purple-600"}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"What we learn:"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Which pages you visit","How long you stay","What features you use","How to improve the site"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-purple-800 text-sm",children:e})]},t))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Control"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"You can control which cookies we use through your browser settings or our cookie preferences."}),r.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Browser Settings:"})," Block or delete cookies in your browser"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Cookie Banner:"})," Choose your preferences when you first visit"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Contact Us:"})," support@purelove.com for cookie questions"]})]})})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(tg,{className:"h-12 w-12 text-orange-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Cookie Questions?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help you understand how cookies work"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-orange-600 hover:to-amber-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/settings",className:"border-2 border-orange-500 text-orange-500 px-8 py-4 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"Cookie Settings"})]})]})})}),r.jsx(kr,{})]})}function MB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(Xs,{}),r.jsxs("section",{className:"bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-600 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(ms,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"IMBRA Compliance"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-blue-100",children:"Your safety and protection matter"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(Sr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Wb,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4",children:"What is IMBRA?"}),r.jsx("p",{className:"text-blue-800 leading-relaxed",children:"The International Marriage Broker Regulation Act (IMBRA) is a US law that protects people using international dating services."})]})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Commitment"}),r.jsx("p",{className:"text-lg text-gray-600",children:"How we keep you safe"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border border-green-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Nr,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-green-900 mb-4 text-center",children:"Full Compliance"}),r.jsx("p",{className:"text-green-700 text-center leading-relaxed",children:"We follow all IMBRA requirements"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border border-blue-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(Nn,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4 text-center",children:"Background Checks"}),r.jsx("p",{className:"text-blue-700 text-center leading-relaxed",children:"We verify user information"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(co,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Your Rights"}),r.jsx("p",{className:"text-purple-700 text-center leading-relaxed",children:"You have important protections"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"What We Do"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"We follow IMBRA rules to keep you safe and informed."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Nn,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Background Checks"}),r.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[r.jsx("li",{children:" Verify user identities"}),r.jsx("li",{children:" Check criminal records"}),r.jsx("li",{children:" Confirm personal details"}),r.jsx("li",{children:" Regular updates"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(D4,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Information Sharing"}),r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[r.jsx("li",{children:" Share background info"}),r.jsx("li",{children:" Provide safety resources"}),r.jsx("li",{children:" Offer support"}),r.jsx("li",{children:" Keep records"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Rights"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"IMBRA gives you important rights and protections."}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Get background information","Know about criminal history","Receive safety information","Report problems","Get help and support","Control your information"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700",children:e})]},t))})})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-purple-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Safety Resources"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"We provide resources to help you stay safe."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(pl,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"Warning Signs"}),r.jsx("p",{className:"text-red-800 text-sm",children:"Learn to spot potential problems"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(la,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Support"}),r.jsx("p",{className:"text-blue-800 text-sm",children:"Get help when you need it"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(Wb,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"Education"}),r.jsx("p",{className:"text-green-800 text-sm",children:"Learn about safe dating"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Questions?"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"Contact us about IMBRA:"}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," legal@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Support:"})," support@purelove.com"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Safety:"})," safety@purelove.com"]})]})]})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ms,{className:"h-12 w-12 text-indigo-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We're here to help you understand your rights and stay safe"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-indigo-500 to-blue-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-indigo-600 hover:to-blue-600 transition-colors",children:"Contact Us"}),r.jsx("button",{onClick:()=>window.location.href="/safety",className:"border-2 border-indigo-500 text-indigo-500 px-8 py-4 rounded-lg font-semibold hover:bg-indigo-50 transition-colors",children:"Safety Guide"})]})]})})}),r.jsx(kr,{})]})}function IB(){return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[r.jsx(Xs,{}),r.jsxs("section",{className:"bg-gradient-to-r from-red-500 via-rose-500 to-pink-500 text-white py-20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-transparent"}),r.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:r.jsx(ms,{className:"h-12 w-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-red-100 bg-clip-text text-transparent",children:"Anti-Scam Policy"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto text-red-100",children:"Stay safe from scams and fraud"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-100 bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 w-fit mx-auto",children:[r.jsx(Sr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Last updated: December 15, 2024"})]})]})]}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 border border-red-200 p-8 rounded-2xl mb-12 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(pl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-4",children:"Stay Alert"}),r.jsx("p",{className:"text-red-800 leading-relaxed",children:"Scammers try to trick people on dating sites. Learn how to spot them and stay safe."})]})]})}),r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Common Scams"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Watch out for these warning signs"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-8 rounded-2xl border border-red-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-red-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(ac,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-red-900 mb-4 text-center",children:"Money Requests"}),r.jsx("p",{className:"text-red-700 text-center text-sm leading-relaxed",children:"Asking for money or financial help"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-2xl border border-orange-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-orange-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(co,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-orange-900 mb-4 text-center",children:"Fake Profiles"}),r.jsx("p",{className:"text-orange-700 text-center text-sm leading-relaxed",children:"Using stolen photos and fake info"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-8 rounded-2xl border border-yellow-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-yellow-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(la,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-yellow-900 mb-4 text-center",children:"Quick Romance"}),r.jsx("p",{className:"text-yellow-700 text-center text-sm leading-relaxed",children:'Saying "I love you" too quickly'})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border border-purple-200 hover:shadow-lg transition-all duration-300",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(no,{className:"h-8 w-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4 text-center",children:"Off-Site Contact"}),r.jsx("p",{className:"text-purple-700 text-center text-sm leading-relaxed",children:"Pushing to move off the platform"})]})]})]})})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-50 to-white",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-green-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"1"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How to Stay Safe"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Follow these simple rules to protect yourself."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Never send money to someone online","Don't share personal financial info","Keep conversations on our platform","Video chat before meeting","Meet in public places first","Trust your instincts","Report suspicious behavior","Take relationships slowly"].map((e,t)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-700 text-sm",children:e})]},t))})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-red-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"2"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Red Flags"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"Be careful if someone does these things."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-red-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(ac,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-3",children:"Money Talk"}),r.jsxs("ul",{className:"space-y-2 text-red-800 text-sm",children:[r.jsx("li",{children:" Asks for money"}),r.jsx("li",{children:" Has financial emergency"}),r.jsx("li",{children:" Wants gift cards"}),r.jsx("li",{children:" Needs help with fees"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(co,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-3",children:"Fake Signs"}),r.jsxs("ul",{className:"space-y-2 text-orange-800 text-sm",children:[r.jsx("li",{children:" Photos look too perfect"}),r.jsx("li",{children:" Won't video chat"}),r.jsx("li",{children:" Story keeps changing"}),r.jsx("li",{children:" Grammar is poor"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-yellow-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(la,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:"Pushy Behavior"}),r.jsxs("ul",{className:"space-y-2 text-yellow-800 text-sm",children:[r.jsx("li",{children:' Says "I love you" quickly'}),r.jsx("li",{children:" Wants to leave the site"}),r.jsx("li",{children:" Pressures for meetings"}),r.jsx("li",{children:" Gets angry when questioned"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-blue-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"3"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How We Protect You"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"We work hard to keep scammers off our platform."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Ii,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"We Monitor"}),r.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[r.jsx("li",{children:" Check all profiles"}),r.jsx("li",{children:" Watch for suspicious activity"}),r.jsx("li",{children:" Use automated systems"}),r.jsx("li",{children:" Review reported users"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:r.jsx(Nr,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"We Verify"}),r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[r.jsx("li",{children:" Require photo verification"}),r.jsx("li",{children:" Check profile information"}),r.jsx("li",{children:" Validate identities"}),r.jsx("li",{children:" Remove fake accounts"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"bg-rose-500 w-8 h-8 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"4"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Report Scams"})]}),r.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"If you see something suspicious, tell us right away."}),r.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 p-6 rounded-xl",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Report Button:"})," Use the report button on any profile or message"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Email Us:"})," safety@purelove.com"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"24/7 Support:"})," support@purelove.com"]}),r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"What to Include:"})," Screenshots, user details, and what happened"]})]})})]})]})})})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"container mx-auto px-4 text-center",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(ms,{className:"h-12 w-12 text-red-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Need Help?"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Report scams or get help staying safe"}),r.jsxs("div",{className:"space-x-4",children:[r.jsx("button",{onClick:()=>window.location.href="/contact",className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-8 py-4 rounded-lg font-semibold hover:from-red-600 hover:to-rose-600 transition-colors",children:"Report Scam"}),r.jsx("button",{onClick:()=>window.location.href="/safety",className:"border-2 border-red-500 text-red-500 px-8 py-4 rounded-lg font-semibold hover:bg-red-50 transition-colors",children:"Safety Guide"})]})]})})}),r.jsx(kr,{})]})}class ti{static async isUserAdmin(t){try{const{data:s,error:n}=await Oe.from("profiles").select("role").eq("id",t).single();return n?(console.error("Error checking admin status:",n),!1):(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="super_admin"}catch(s){return console.error("Error checking admin status:",s),!1}}static async testDatabaseAccess(){try{const t={},{data:{user:s},error:n}=await Oe.auth.getUser();if(t.auth={user:s?{id:s.id,email:s.email}:null,error:n},s)try{const{data:i,error:a}=await Oe.from("profiles").select("id, first_name, last_name, role").eq("id",s.id).single();t.admin_profile={profile:i?{role:i.role,name:`${i.first_name} ${i.last_name}`}:null,error:a}}catch(i){t.admin_profile={error:i}}try{const{data:i,error:a}=await Oe.from("conversations").select("id, user1_id, user2_id").limit(3);t.conversations={count:(i==null?void 0:i.length)||0,error:a,sample:i?i.map(o=>({id:o.id.substring(0,8),user1:o.user1_id.substring(0,8),user2:o.user2_id.substring(0,8)})):[]}}catch(i){t.conversations={error:i}}try{const{data:i,error:a}=await Oe.from("messages").select("id, sender_id, receiver_id, content").limit(3);t.messages={count:(i==null?void 0:i.length)||0,error:a,sample:i?i.map(o=>({id:o.id.substring(0,8),sender:o.sender_id.substring(0,8),receiver:o.receiver_id.substring(0,8),content:o.content.substring(0,30)+"..."})):[]}}catch(i){t.messages={error:i}}try{const{data:i,error:a}=await Oe.from("conversation_settings").select("user_id, other_user_id, is_archived").limit(3);t.conversation_settings={count:(i==null?void 0:i.length)||0,error:a,sample:i?i.map(o=>({user:o.user_id.substring(0,8),other:o.other_user_id.substring(0,8),archived:o.is_archived})):[]}}catch(i){t.conversation_settings={error:i}}if(s){try{const{data:i,error:a}=await Oe.rpc("get_all_conversations_for_admin",{user_ids:[s.id]});t.admin_rpc_conversations={count:(i==null?void 0:i.length)||0,error:a,available:!a}}catch(i){t.admin_rpc_conversations={error:i,available:!1}}try{const i="00000000-0000-0000-0000-000000000001",a="00000000-0000-0000-0000-000000000002",{data:o,error:l}=await Oe.rpc("get_all_messages_for_admin",{conversation_user1_id:i,conversation_user2_id:a});t.admin_rpc_messages={error:l,available:!l,test_result:"Function exists and can be called"}}catch(i){t.admin_rpc_messages={error:i,available:!1}}}return t}catch(t){return{general_error:t}}}static async getAdminStats(){try{return{totalUsers:1247,activeUsers:89,totalMessages:5432,flaggedConversations:12,modelUsage:{"gpt-3.5":{name:"GPT-3.5 Turbo",requests:2341,tokens:145632},"gpt-4":{name:"GPT-4",requests:567,tokens:89432},"claude-3":{name:"Claude 3 Sonnet",requests:234,tokens:34521}}}}catch(t){throw console.error("Error fetching admin stats:",t),t}}static async getModels(){try{const{data:t,error:s}=await Oe.from("admin_models").select("*").order("name");return s?(console.error("Database error fetching models:",s),await this.getMockModels()):t.map(n=>({id:n.id,name:n.name,provider:n.provider,model:n.model,active:n.active,maxTokens:n.max_tokens,temperature:n.temperature,presencePenalty:n.presence_penalty,frequencyPenalty:n.frequency_penalty}))}catch(t){return console.error("Error fetching models:",t),await this.getMockModels()}}static async getMockModels(){return[{id:"gpt-3.5",name:"GPT-3.5 Turbo",provider:"openai",model:"gpt-3.5-turbo",active:!0,maxTokens:200,temperature:.8,presencePenalty:.6,frequencyPenalty:.3},{id:"gpt-4",name:"GPT-4",provider:"openai",model:"gpt-4",active:!1,maxTokens:200,temperature:.7,presencePenalty:.5,frequencyPenalty:.2},{id:"claude-3",name:"Claude 3 Sonnet",provider:"anthropic",model:"claude-3-sonnet-20240229",active:!1,maxTokens:200,temperature:.8}]}static async updateModel(t,s){try{const n={};s.maxTokens!==void 0&&(n.max_tokens=s.maxTokens),s.temperature!==void 0&&(n.temperature=s.temperature),s.presencePenalty!==void 0&&(n.presence_penalty=s.presencePenalty),s.frequencyPenalty!==void 0&&(n.frequency_penalty=s.frequencyPenalty),s.active!==void 0&&(n.active=s.active),s.name!==void 0&&(n.name=s.name),s.provider!==void 0&&(n.provider=s.provider),s.model!==void 0&&(n.model=s.model);const{error:i}=await Oe.from("admin_models").update(n).eq("id",t);i&&(console.error("Database error updating model:",i),console.log(`Mock update model ${t}:`,s))}catch(n){console.error("Error updating model:",n),console.log(`Mock update model ${t}:`,s)}}static async toggleModel(t){try{const{data:s,error:n}=await Oe.from("admin_models").select("active").eq("id",t).single();if(n){console.error("Error fetching current model status:",n),console.log(`Mock toggle model ${t}`);return}const{error:i}=await Oe.from("admin_models").update({active:!s.active}).eq("id",t);i&&(console.error("Database error toggling model:",i),console.log(`Mock toggle model ${t}`))}catch(s){console.error("Error toggling model:",s),console.log(`Mock toggle model ${t}`)}}static async getUserChats(){var t;try{console.log(" [ADMIN] Starting getUserChats...");const{data:{user:s},error:n}=await Oe.auth.getUser();if(console.log(" [ADMIN] Current authenticated user:",{id:s==null?void 0:s.id,email:s==null?void 0:s.email,authError:n}),!s)return console.error(" [ADMIN] No authenticated user found"),[];const{data:i,error:a}=await Oe.from("profiles").select("id, first_name, last_name, photos, role, created_at").eq("role","user").order("created_at",{ascending:!1}).limit(50);if(a)return console.warn("Error fetching users:",a),[];if(!i||i.length===0)return console.log(" [ADMIN] No real users found"),[];console.log(" [ADMIN] Found real users:",i.map(u=>({id:u.id.substring(0,8),name:`${u.first_name} ${u.last_name}`,role:u.role})));const o=new Map;for(const u of i)o.set(u.id,{user:{id:u.id,firstName:u.first_name||"Unknown",lastName:u.last_name||"User",email:`user-${u.id.substring(0,8)}@app.com`,photo:u.photos&&u.photos.length>0?u.photos[0]:void 0},conversations:[],totalConversations:0,lastActivity:u.created_at});console.log(" [ADMIN] Fetching conversations for users");let l=[],c=null;try{console.log(" [ADMIN] Attempting to fetch all conversations...");const{data:u,error:h}=await Xt.from("conversations").select(`
          *,
          last_message:messages(content, type)
        `).order("last_message_at",{ascending:!1});if(h)console.log(" [ADMIN] Failed to fetch all conversations:",h),c=h;else if(u){const m=i.map(p=>p.id);l=u.filter(p=>m.includes(p.user1_id)||m.includes(p.user2_id)),console.log(" [ADMIN] Filtered conversations:",l.length,"out of",u.length,"total")}}catch(u){console.log(" [ADMIN] Error fetching conversations:",u),c=u}if((!l||l.length===0)&&c){console.log(" [ADMIN] Trying individual user queries..."),l=[];for(const u of i)try{const{data:h}=await Xt.from("conversations").select(`
                *,
                last_message:messages(content, type)
              `).or(`user1_id.eq.${u.id},user2_id.eq.${u.id}`).order("last_message_at",{ascending:!1});h&&h.forEach(m=>{l.find(p=>p.id===m.id)||l.push(m)})}catch(h){console.log(` [ADMIN] Failed to fetch conversations for user ${u.id}:`,h)}l.sort((u,h)=>{const m=u.last_message_at?new Date(u.last_message_at).getTime():0;return(h.last_message_at?new Date(h.last_message_at).getTime():0)-m}),c=null}if(console.log(" [ADMIN] Conversation query error:",c),console.log(" [ADMIN] Raw conversations data:",l),c)return console.warn("Error fetching conversations:",c),Array.from(o.values());if(console.log(" [ADMIN] Found conversations:",(l==null?void 0:l.length)||0),l&&l.forEach((u,h)=>{console.log(` [ADMIN] Conversation ${h+1}:`,{id:u.id.substring(0,8),user1_id:u.user1_id.substring(0,8),user2_id:u.user2_id.substring(0,8),last_message_at:u.last_message_at})}),l&&l.length>0){const{data:u,error:h}=await Xt.from("profiles").select("id, first_name, last_name, photos, role").eq("role","model");console.log(" [ADMIN] Found model profiles:",(u==null?void 0:u.length)||0),u&&u.forEach(p=>{console.log(" [ADMIN] Model profile:",{id:p.id.substring(0,8),name:`${p.first_name} ${p.last_name}`,role:p.role})});const m=new Map;u&&u.forEach(p=>{m.set(p.id,p)});for(const p of l){console.log(" [ADMIN] Processing conversation:",{id:p.id.substring(0,8),user1_id:p.user1_id.substring(0,8),user2_id:p.user2_id.substring(0,8)});const x=i.find(T=>T.id===p.user1_id),j=i.find(T=>T.id===p.user2_id);console.log(" [ADMIN] User lookup:",{user1Found:!!x,user2Found:!!j,user1Name:x?`${x.first_name} ${x.last_name}`:"Not found",user2Name:j?`${j.first_name} ${j.last_name}`:"Not found"});let N=null,y=null;if(x&&!j){const T=m.get(p.user2_id);if(T&&T.role==="model")N=x.id,y=p.user2_id,console.log(" [ADMIN] Case 1: user1 is regular, user2 is confirmed model");else{console.log(" [ADMIN] Case 1 SKIP: user2 is not a confirmed model profile");continue}}else if(j&&!x){const T=m.get(p.user1_id);if(T&&T.role==="model")N=j.id,y=p.user1_id,console.log(" [ADMIN] Case 2: user2 is regular, user1 is confirmed model");else{console.log(" [ADMIN] Case 2 SKIP: user1 is not a confirmed model profile");continue}}else if(x&&j){console.log(" [ADMIN] Case 3: Both are regular users - skipping user-to-user conversation");continue}else{console.log(" [ADMIN] Case 4: Neither is a regular user - skipping unknown conversation");continue}if(!N||!y){console.log(" [ADMIN] Missing IDs - skipping:",{regularUserId:!!N,modelProfileId:!!y});continue}const v=o.get(N);if(!v){console.log(" [ADMIN] No userChat found for regularUserId:",N.substring(0,8));continue}const b=m.get(y);if(!b){console.log(" [ADMIN] Model profile not found in map - skipping");continue}const k=`${b.first_name} ${b.last_name}`;let _=(t=b.photos)==null?void 0:t[0];b.first_name==="Elena"&&(!_||!_.includes("photo-1544005313-94ddf0286df2"))&&(_="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80"),console.log(` [ADMIN] Confirmed model profile: ${k}`),console.log(" [ADMIN] Adding conversation:",{regularUser:v.user.firstName+" "+v.user.lastName,modelProfile:k,modelProfileId:y.substring(0,8)});let C=0;N===p.user1_id?C=p.user1_unread_count||0:N===p.user2_id&&(C=p.user2_unread_count||0),console.log(" [ADMIN] Unread count calculation:",{regularUserId:N.substring(0,8),convUser1:p.user1_id.substring(0,8),convUser2:p.user2_id.substring(0,8),user1Unread:p.user1_unread_count||0,user2Unread:p.user2_unread_count||0,finalUnreadCount:C});let L="No messages yet";if(p.last_message&&p.last_message.content)L=p.last_message.content;else try{const{data:T}=await Xt.from("messages").select("content").or(`and(sender_id.eq.${N},receiver_id.eq.${y}),and(sender_id.eq.${y},receiver_id.eq.${N})`).order("created_at",{ascending:!1}).limit(1).single();T!=null&&T.content&&(L=T.content)}catch(T){console.log("Could not fetch latest message:",T)}v.conversations.push({profileId:y,profileName:k,profilePhoto:_,lastMessage:L,lastMessageAt:p.last_message_at||p.updated_at,unreadCount:C,status:"active"}),v.totalConversations=v.conversations.length,v.lastActivity=p.last_message_at||p.updated_at||v.lastActivity}}const d=Array.from(o.values());return console.log(" [ADMIN] Final result:",d.map(u=>({user:u.user.firstName+" "+u.user.lastName,conversationCount:u.conversations.length,conversations:u.conversations.map(h=>h.profileName)}))),d}catch(s){return console.error("Error fetching user chats:",s),[]}}static async getConversation(t,s){var n,i;try{console.log(" [ADMIN] Getting conversation for:",{userId:t,profileId:s});const[a,o]=t<s?[t,s]:[s,t],{data:l,error:c}=await Xt.from("conversations").select("id").eq("user1_id",a).eq("user2_id",o).single();let d;if(c||!l){const{data:v,error:b}=await Xt.from("conversations").insert({user1_id:a,user2_id:o,created_at:new Date().toISOString(),last_message_at:new Date().toISOString()}).select("id").single();if(b)throw console.error(" [ADMIN] Error creating conversation:",b),new Error("Failed to create conversation");d=v.id}else d=l.id;const[u,h]=await Promise.all([Xt.from("profiles").select("*, role").eq("id",t).single(),Xt.from("profiles").select("*, role").eq("id",s).single()]);if(u.error||h.error)throw console.error(" [ADMIN] Error fetching profiles:",{userError:u.error,profileError:h.error}),new Error("Failed to fetch user/profile data");const m=u.data,p=h.data;let x=[];try{const{data:v}=await Xt.from("messages").select("*").or(`sender_id.eq.${t},sender_id.eq.${s}`).or(`receiver_id.eq.${t},receiver_id.eq.${s}`).order("created_at",{ascending:!0});x=v||[]}catch(v){console.error(" [ADMIN] Error fetching messages:",v),x=[]}const j=x.map(v=>({id:v.id,conversationId:d,content:v.content,role:v.sender_id===m.id?"user":"assistant",timestamp:v.created_at,isAdminResponse:!1,type:v.type||"text",imageUrl:v.image_url,voiceUrl:v.voice_url,duration:v.duration}));let N="active";try{const{data:v}=await Xt.from("conversation_settings").select("is_archived").eq("user_id",t).eq("other_user_id",s).single();v!=null&&v.is_archived&&(N="archived")}catch(v){console.log(" [ADMIN] Could not fetch conversation settings:",v)}const y=j.length>0?j[j.length-1]:null;return{id:d,userId:m.id,profileId:p.id,lastMessage:(y==null?void 0:y.content)||"No messages yet",lastMessageAt:(y==null?void 0:y.timestamp)||new Date().toISOString(),status:N,messages:j,user:{id:m.id,firstName:m.first_name||"Unknown",lastName:m.last_name||"User",email:m.email||`user-${m.id.substring(0,8)}@app.com`,photo:(n=m.photos)==null?void 0:n[0]},profile:{id:p.id,firstName:p.first_name||"Profile",lastName:p.last_name||"",photo:(i=p.photos)==null?void 0:i[0],city:p.city||"Unknown City",country:p.country||"Unknown Country",profession:p.profession||"Unknown Profession"}}}catch(a){throw console.error("Error fetching conversation:",a),a}}static getCurrentUserLocalStorageChats(){var t,s,n,i,a,o,l;try{const c=Object.keys(localStorage);console.log("All localStorage keys:",c);const d="sb-bnhvcnbsxjrgdhhxdrpa-auth-token",u=c.filter(_=>_.includes("supabase")||_.includes("auth"));console.log("Auth-related keys:",u);let h=null,m=null;try{const _=localStorage.getItem(d);if(_){const C=JSON.parse(_);C.user&&C.user.id&&(h=C.user,m=C.user.id,console.log(`Found user data in correct project key: ${d}`,{id:m,email:h.email}))}}catch(_){console.warn("Failed to parse correct auth key:",_)}if(!m){for(const _ of u)if(_!==d)try{const C=localStorage.getItem(_);if(C){const L=JSON.parse(C);if(L.user&&L.user.id){h=L.user,m=L.user.id,console.log(`Found user data in key: ${_}`,{id:m,email:h.email});break}}}catch{}}if(!m)return console.log("No current user found in localStorage auth sessions"),null;const p=(h==null?void 0:h.email)||`user-${m.substring(0,8)}@app.com`;console.log("Looking for conversations for user:",m,p);let x=null;const j=`conversations_${m}`,N=localStorage.getItem(j);if(N)try{x=JSON.parse(N),console.log(`Found conversations in localStorage under key: ${j}`,x)}catch(_){return console.warn(`Failed to parse localStorage data for key ${j}:`,_),null}else{console.log(`No conversations found for key: ${j}`);const _=c.filter(C=>C.startsWith("conversations_"));if(_.length>0){console.log("Found other conversation keys:",_),console.log("User ID from auth:",m),console.log("Expected key:",j);const C=_[0],L=localStorage.getItem(C);if(L){console.log(`Using fallback conversation key: ${C}`);try{const T=JSON.parse(L);if(T&&Array.isArray(T)){const q=C.replace("conversations_","");let G=h;for(const M of u)try{const O=localStorage.getItem(M);if(O){const X=JSON.parse(O);if(X.user&&X.user.id===q){G=X.user;break}}}catch{}m=q,h=G,x=T,console.log(`Successfully loaded fallback conversations for user: ${m}`)}}catch(T){console.warn("Failed to parse fallback conversation data:",T)}}}if(!x)return null}if(!x||!Array.isArray(x)||x.length===0)return console.log("No localStorage conversations found for current user"),null;const y=x.map(_=>{var L,T,q,G,M;const C=_.messages&&_.messages.length>0?_.messages[_.messages.length-1]:null;return{profileId:_.id,profileName:`${((L=_.profile)==null?void 0:L.firstName)||"Profile"} ${((T=_.profile)==null?void 0:T.lastName)||""}`.trim(),profilePhoto:((G=(q=_.profile)==null?void 0:q.photos)==null?void 0:G[0])||((M=_.profile)==null?void 0:M.photo),lastMessage:(C==null?void 0:C.text)||_.lastMessage||"No messages yet",lastMessageAt:(C==null?void 0:C.timestamp)||_.lastMessageTime||new Date().toISOString(),unreadCount:_.unreadCount||0,status:"active"}}),v=((t=h==null?void 0:h.user_metadata)==null?void 0:t.first_name)||((s=h==null?void 0:h.user_metadata)==null?void 0:s.firstName)||((n=h==null?void 0:h.email)==null?void 0:n.split("@")[0])||"Current User",b=((i=h==null?void 0:h.user_metadata)==null?void 0:i.last_name)||((a=h==null?void 0:h.user_metadata)==null?void 0:a.lastName)||"",k=((o=h==null?void 0:h.user_metadata)==null?void 0:o.avatar_url)||((l=h==null?void 0:h.user_metadata)==null?void 0:l.photo)||void 0;return{user:{id:m,firstName:v,lastName:b,email:p,photo:k},conversations:y,totalConversations:y.length,lastActivity:new Date().toISOString()}}catch(c){return console.error("Error reading current user localStorage conversations:",c),null}}static async sendProfileResponse(t,s,n,i){try{console.log(" [ADMIN] Sending profile response:",{conversationId:t,profileId:n,adminId:i});const{data:a,error:o}=await Xt.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(o||!a)throw console.error(" [ADMIN] Error getting conversation:",o),new Error("Conversation not found");const l=a.user1_id===n?a.user2_id:a.user1_id,{data:c,error:d}=await Xt.from("messages").insert({sender_id:n,receiver_id:l,content:s,type:"text",created_at:new Date().toISOString(),read:!1}).select().single();if(d)throw console.error(" [ADMIN] Error creating message:",d),new Error("Failed to create message");return await Xt.from("conversations").update({last_message_at:new Date().toISOString(),last_message_id:c.id,user1_unread_count:a.user1_id===l?1:0,user2_unread_count:a.user2_id===l?1:0}).eq("id",t),await ti.logAdminAction(i,"send_message",{conversation_id:t,profile_id:n,message_type:"text"}),{id:c.id,conversationId:t,content:c.content,role:"assistant",timestamp:c.created_at,isAdminResponse:!0,type:"text"}}catch(a){throw console.error(" [ADMIN] Error sending message:",a),a}}static async sendImageMessage(t,s,n,i,a){try{console.log(" [ADMIN] Sending image message:",{conversationId:t,profileId:i,adminId:a,imageUrl:s});const{data:o,error:l}=await Xt.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(l||!o)throw console.error(" [ADMIN] Error getting conversation:",l),new Error("Conversation not found");const c=o.user1_id===i?o.user2_id:o.user1_id,{data:d,error:u}=await Xt.from("messages").insert({sender_id:i,receiver_id:c,content:n,type:"image",image_url:s,created_at:new Date().toISOString(),read:!1}).select().single();if(u)throw console.error(" [ADMIN] Error creating image message:",u),new Error("Failed to create image message");return await Xt.from("conversations").update({last_message_at:new Date().toISOString(),last_message_id:d.id,user1_unread_count:o.user1_id===c?1:0,user2_unread_count:o.user2_id===c?1:0}).eq("id",t),await ti.logAdminAction(a,"send_message",{conversation_id:t,profile_id:i,message_type:"image"}),{id:d.id,conversationId:t,content:n,role:"assistant",timestamp:d.created_at,isAdminResponse:!0,type:"image",imageUrl:s}}catch(o){throw console.error(" [ADMIN] Error sending image message:",o),o}}static async updateUnreadCount(t,s,n){try{console.log(" [ADMIN] Updating unread count:",{userId:t,otherUserId:s,unreadCount:n});const{data:i,error:a}=await Oe.from("conversations").select("id, user1_id, user2_id").or(`and(user1_id.eq.${t},user2_id.eq.${s}),and(user1_id.eq.${s},user2_id.eq.${t})`).single();if(a||!i){console.log(" [ADMIN] Conversation not found for unread count update");return}let o={};if(i.user1_id===t?o.user1_unread_count=n:i.user2_id===t&&(o.user2_unread_count=n),Object.keys(o).length>0){const{error:l}=await Oe.from("conversations").update(o).eq("id",i.id);l?console.warn(" [ADMIN] Failed to update unread count:",l):console.log(" [ADMIN] Successfully updated unread count")}}catch(i){console.error(" [ADMIN] Error updating unread count:",i)}}static async markConversationAsRead(t,s){try{console.log(" [ADMIN] Marking conversation as read:",{userId:t,profileId:s});const{data:n,error:i}=await Oe.from("conversations").select("id, user1_id, user2_id, user1_unread_count, user2_unread_count").or(`and(user1_id.eq.${t},user2_id.eq.${s}),and(user1_id.eq.${s},user2_id.eq.${t})`).single();if(i||!n){console.log(" [ADMIN] Conversation not found, creating placeholder read status");return}let a={};if(n.user1_id===t?a.user1_unread_count=0:n.user2_id===t&&(a.user2_unread_count=0),Object.keys(a).length>0){const{error:o}=await Oe.from("conversations").update(a).eq("id",n.id);o?console.warn(" [ADMIN] Failed to update conversation unread count:",o):console.log(" [ADMIN] Successfully cleared unread count for conversation")}try{const{error:o}=await Oe.from("messages").update({read:!0}).eq("receiver_id",t).eq("sender_id",s).eq("read",!1);o&&console.warn(" [ADMIN] Failed to mark individual messages as read:",o)}catch(o){console.warn(" [ADMIN] Could not mark individual messages as read:",o)}}catch(n){console.error(" [ADMIN] Error marking conversation as read:",n)}}static async updateConversationStatus(t,s){try{const{data:n,error:i}=await Oe.from("conversations").select("user1_id, user2_id").eq("id",t).single();if(i||!n){console.warn("Conversation not found, using mock update");return}const a=[{user_id:n.user1_id,other_user_id:n.user2_id,is_archived:s==="archived",updated_at:new Date().toISOString()},{user_id:n.user2_id,other_user_id:n.user1_id,is_archived:s==="archived",updated_at:new Date().toISOString()}];for(const o of a){const{error:l}=await Oe.from("conversation_settings").upsert(o,{onConflict:"user_id,other_user_id"});l&&console.warn("Failed to update conversation settings:",l)}s==="flagged"&&console.log(`Conversation ${t} flagged for moderation`),console.log(`Updated conversation ${t} status to ${s}`)}catch(n){throw console.error("Error updating conversation status:",n),n}}static async getUsers(t=1,s=20){try{return{users:[],total:0,page:t,limit:s}}catch(n){throw console.error("Error fetching users:",n),n}}static async createUser(t){try{const{data:{user:s},error:n}=await Oe.auth.getUser();if(n)throw n;if(!s)throw new Error("Not authenticated");if(!t.firstName)throw new Error("First name is required");if(!t.lastName)throw new Error("Last name is required");if(!t.role)throw new Error("Role is required");let i=t.email;if(t.role==="model"&&!i){const l=t.firstName.toLowerCase().replace(/[^a-z0-9]/g,""),c=t.lastName.toLowerCase().replace(/[^a-z0-9]/g,"");i=`${l}.${c}@model.lcn.com`}else if(!i)throw new Error("Email is required for non-model users");const{data:a,error:o}=await Oe.rpc("create_user_with_profile",{admin_user_id:s.id,user_email:i,user_first_name:t.firstName,user_last_name:t.lastName,user_role:t.role,user_photos:t.photos||[],user_coins:t.coins||0,user_gender:t.gender||"female",user_birth_date:t.birthDate||null,user_country:t.country||"",user_city:t.city||"",user_profession:t.profession||"",user_languages:t.languages||[],user_bio:t.bio||""});if(o)throw console.error("Database error:",o),new Error(o.message||"Failed to create user");if(!a)throw new Error("No data returned from create_user_with_profile");return{user:a,error:null}}catch(s){return console.error("Error in createUser:",s),{user:null,error:s instanceof Error?s:new Error("Unknown error occurred")}}}static async logAdminAction(t,s,n){try{const{error:i}=await Oe.from("admin_audit_log").insert({admin_id:t,action:s,details:n?JSON.stringify(n):null,timestamp:new Date().toISOString()});i?(console.error("Database error logging admin action:",i),console.log("Mock admin action logged:",{adminId:t,action:s,details:n})):console.log("Admin action logged to database:",{adminId:t,action:s,details:n})}catch(i){console.error("Error logging admin action:",i),console.log("Mock admin action logged:",{adminId:t,action:s,details:n})}}}const RB=()=>{var Ia,fa,Ra,Kr;const{user:e,isAdmin:t}=dn(),s=cn(),n=Qh(),[i,a]=E.useState("conversations"),[o,l]=E.useState([]),[c,d]=E.useState(""),[u,h]=E.useState(null),[m,p]=E.useState(!1),[x,j]=E.useState("view"),[N,y]=E.useState({firstName:"",lastName:"",email:"",role:"user",photos:[""],coins:0,gender:"female",birthDate:"",country:"",city:"",profession:"",languages:[],bio:"",interests:[],eyeColor:"",hairColor:"",appearanceType:"",alcohol:"",smoking:"",children:"",religion:"",zodiacSign:"",englishLevel:"",verified:!1,premium:!1,hasIntroVideo:!1,isOnline:!1,hasVideo:!1,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!1}),[v,b]=E.useState({}),[k,_]=E.useState([]),[C,L]=E.useState(null),[T,q]=E.useState(!0),[G,M]=E.useState(!1),[O,X]=E.useState(""),[K,de]=E.useState(!1),[V,ne]=E.useState(null),[z,Q]=E.useState(""),[se,ue]=E.useState([]),[I,W]=E.useState([]),[Z,te]=E.useState("all"),[ae,ge]=E.useState(""),[be,oe]=E.useState(!1),[_e,Ee]=E.useState(null),[ze,Be]=E.useState({name:"",description:"",price:0,image_url:"",category:"flowers"}),Pe=E.useRef(null),he=E.useRef(null),Y=E.useRef(null),[Je,We]=E.useState(!1),[Ie,Ke]=E.useState(!1);E.useRef(null);const[Qe,Ye]=E.useState(""),[st,pt]=E.useState("real"),[ht,ft]=E.useState(!1),[at,bt]=E.useState({count:10,countries:["Ukraine","Russia","Belarus","Kazakhstan","Georgia","Poland","Czech Republic","Slovakia","Hungary","Romania","Bulgaria","Serbia","Croatia","Slovenia","Latvia","Lithuania","Estonia","Moldova","Armenia","Azerbaijan"],ageRange:{min:18,max:35},includeVerified:!0,includePremium:!1}),[xt,At]=E.useState(!1),[Ze,As]=E.useState(!1),[Ft,Hr]=E.useState([]),[Et,Gt]=E.useState({}),[Wr,zt]=E.useState(!1),Es={firstNames:["Anastasia","Elena","Maria","Sofia","Anna","Victoria","Natalia","Irina","Katerina","Olga","Tatiana","Yulia","Ekaterina","Alina","Daria","Polina","Kristina","Veronika","Angelina","Valentina","Margarita","Evgenia","Larisa","Galina","Raisa","Tamara","Ludmila","Nina","Zinaida","Rosa"],lastNames:["Kovalenko","Melnyk","Shevchenko","Bondarenko","Tkachenko","Kravchenko","Kovalchuk","Oliynyk","Shevchuk","Mazur","Marchenko","Rudenko","Savchenko","Petrenko","Moroz","Lysenko","Romanenko","Vasylenko","Pavlenko","Kharchenko","Tarasenko","Bondar","Melnik","Kravets","Koval","Shevchuk","Marchenko","Savchuk","Petruk","Morozov"],professions:["Model","Student","Teacher","Nurse","Designer","Artist","Photographer","Dancer","Singer","Actress","Journalist","Translator","Tour Guide","Chef","Fitness Trainer","Yoga Instructor","Makeup Artist","Hair Stylist","Fashion Designer","Interior Designer","Graphic Designer","Web Designer","Marketing Specialist","Sales Representative","Customer Service","Receptionist","Administrative Assistant","Event Planner","Travel Agent","Real Estate Agent"],bios:["Passionate about life and looking for meaningful connections. Love traveling and meeting new people.","Creative soul who enjoys art, music, and good conversations. Looking for someone special to share life with.","Adventurous spirit who loves exploring new places and cultures. Ready for exciting experiences.","Romantic at heart, believe in true love and lasting relationships. Looking for my soulmate.","Independent woman with a zest for life. Love cooking, reading, and spending time outdoors.","Professional and ambitious, but also know how to have fun. Looking for someone who shares my values.","Sweet and caring person who loves animals and nature. Looking for someone kind and understanding.","Active lifestyle enthusiast who enjoys sports and outdoor activities. Looking for an active partner.","Intellectual and curious, love learning new things and having deep conversations.","Family-oriented person who values traditions and close relationships. Looking for serious commitment.","Free-spirited and artistic, love expressing myself through various forms of art.","Practical and organized, but also know how to enjoy life. Looking for someone reliable and caring.","Optimistic and positive person who believes in the good in people. Love making others smile.","Ambitious and driven, but also romantic. Looking for someone who can be both my partner and best friend.","Spiritual person who believes in destiny and meaningful connections. Looking for my other half."],interests:[["Travel","Photography","Cooking"],["Music","Dancing","Art"],["Reading","Writing","Poetry"],["Yoga","Meditation","Wellness"],["Fashion","Beauty","Style"],["Sports","Fitness","Outdoor Activities"],["Movies","Theater","Culture"],["Cooking","Baking","Food"],["Photography","Nature","Adventure"],["Music","Singing","Instruments"],["Dancing","Parties","Social Events"],["Reading","Books","Literature"],["Art","Painting","Creativity"],["Travel","Languages","Cultures"],["Fitness","Health","Lifestyle"]],languages:[["Ukrainian","English","Russian"],["Russian","English","French"],["Belarusian","Russian","English"],["Kazakh","Russian","English"],["Georgian","Russian","English"],["Ukrainian","English"],["Russian","English"],["Ukrainian","Russian","English"],["Belarusian","English"],["Kazakh","English"]],photos:["https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80","https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80","https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80","https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80"]},[_t,cr]=E.useState({totalRevenue:0,monthlyRevenue:0,totalOrders:0,monthlyOrders:0,subscriptionRevenue:0,monthlySubscriptionRevenue:0,coinsRevenue:0,monthlyCoinsRevenue:0,popularPlans:[],recentTransactions:[],revenueTrend:[],orderTrend:[],activeSubscriptions:0,totalCoinsSpent:0,monthlyCoinsSpent:0,totalGiftsSent:0,monthlyGiftsSent:0,popularGifts:[]}),[Ir,cs]=E.useState(!1),[Nt,vt]=E.useState(null),[un,qs]=E.useState(""),[Ps,Qs]=E.useState("month");E.useEffect(()=>{t&&(i==="conversations"?mt():i==="gifts"?ur():i==="users"?pn():i==="analytics"&&$i())},[t,i,Ps]);const mt=async()=>{q(!0);try{await rs()}catch(P){console.error("Error loading admin data:",P)}finally{q(!1)}},rs=async()=>{console.log(" Loading user chats...");try{const P=await ti.getUserChats();console.log(" Loaded chats - Total users:",P.length);const re=P.map(Ae=>({...Ae,conversations:Ae.conversations.map(De=>({...De,unreadCount:typeof De.unreadCount=="number"?De.unreadCount:0,hasUnread:typeof De.unreadCount=="number"&&De.unreadCount>0}))}));_(re)}catch(P){console.error("Failed to load user chats:",P)}},hn=async()=>{q(!0);try{await rs(),console.log("Data refreshed successfully")}catch(P){console.error("Error refreshing data:",P)}finally{q(!1)}};E.useEffect(()=>{t&&e&&(mt(),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(P=>{console.log(" [ADMIN] Notification permission:",P)}))},[t,e]),E.useEffect(()=>{if(!t||!e)return;if(!navigator.onLine){console.log(" [ADMIN] Device is offline, skipping real-time setup");return}console.log(" [ADMIN] Setting up real-time subscriptions..."),console.log(" [ADMIN] Admin user ID:",e.id);let P=null,re=null,Ae=0;const De=3,B=()=>{try{P=Xt.channel(`admin_messages_${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},ye=>{var qe,et,Pt,ct,Ct,Ut,Yt,Mt;console.log(" [ADMIN] ===== NEW MESSAGE DETECTED ====="),console.log(" [ADMIN] Raw payload:",ye),console.log(" [ADMIN] Event type:",ye.eventType),console.log(" [ADMIN] Table:",ye.table);const me=ye.new;console.log(" [ADMIN] Parsed message:",{id:me.id,sender_id:me.sender_id,receiver_id:me.receiver_id,content:me.content,type:me.type,created_at:me.created_at}),console.log(" [ADMIN] Message details:",{id:me.id,sender:(qe=me.sender_id)==null?void 0:qe.substring(0,8),receiver:(et=me.receiver_id)==null?void 0:et.substring(0,8),content:(Pt=me.content)==null?void 0:Pt.substring(0,30),type:me.type,created_at:me.created_at}),console.log(" [ADMIN] Message details:",{id:me.id,sender_id:(ct=me.sender_id)==null?void 0:ct.substring(0,8),receiver_id:(Ct=me.receiver_id)==null?void 0:Ct.substring(0,8),content:(Ut=me.content)==null?void 0:Ut.substring(0,50),created_at:me.created_at}),console.log("%c NEW MESSAGE IN ADMIN PANEL","background: #ff0000; color: white; padding: 2px 5px; border-radius: 3px; font-weight: bold;"),console.log(`From: ${(Yt=me.sender_id)==null?void 0:Yt.substring(0,8)}  To: ${(Mt=me.receiver_id)==null?void 0:Mt.substring(0,8)}`),console.log(`Content: "${me.content}"`),console.log("---"),_(Rr=>{var Wt,ma,gn;console.log(" [ADMIN] Updating user chats with new message..."),console.log(" [ADMIN] Message details for processing:",{sender_id:(Wt=me.sender_id)==null?void 0:Wt.substring(0,8),receiver_id:(ma=me.receiver_id)==null?void 0:ma.substring(0,8),content:(gn=me.content)==null?void 0:gn.substring(0,50)});let hr=!1;const it=Rr.map(Rt=>{var wo,No,pa,Ms,Tn,Da,Kn;if(!(Rt.user.id===me.sender_id||Rt.user.id===me.receiver_id))return Rt;console.log(" [ADMIN] User involved in message:",Rt.user.firstName);const Or=Rt.user.id===me.sender_id,Pn=Or?me.receiver_id:me.sender_id;console.log(" [ADMIN] Message direction:",{isUserSendingMessage:Or,otherPartyId:Pn==null?void 0:Pn.substring(0,8),userChatUserId:(wo=Rt.user.id)==null?void 0:wo.substring(0,8),sender:(No=me.sender_id)==null?void 0:No.substring(0,8),receiver:(pa=me.receiver_id)==null?void 0:pa.substring(0,8)});const ui=Rt.conversations.findIndex(fr=>fr.profileId===Pn);if(ui!==-1){console.log(" [ADMIN] Updating existing conversation:",Rt.conversations[ui].profileName);const fr=Rt.conversations[ui],Yn=C&&C.userId===Rt.user.id&&C.profileId===fr.profileId;console.log(" [ADMIN] Checking if currently viewing:",{conversation:`${Rt.user.firstName}  ${fr.profileName}`,hasSelectedConversation:!!C,selectedUserId:(Ms=C==null?void 0:C.userId)==null?void 0:Ms.substring(0,8),selectedProfileId:(Tn=C==null?void 0:C.profileId)==null?void 0:Tn.substring(0,8),currentUserId:(Da=Rt.user.id)==null?void 0:Da.substring(0,8),currentProfileId:(Kn=fr.profileId)==null?void 0:Kn.substring(0,8),isCurrentlyViewing:Yn});let hi=fr.unreadCount;Or&&!Yn?(hi=fr.unreadCount+1,console.log(" [ADMIN]  INCREMENTING unread count:",{conversation:`${Rt.user.firstName}  ${fr.profileName}`,from:fr.unreadCount,to:hi,reason:"user sent message, admin not currently viewing conversation"}),hr=!0):Yn?(hi=0,console.log(" [ADMIN] Clearing unread count (admin currently viewing)")):console.log(" [ADMIN] Not incrementing unread count:",{conversation:`${Rt.user.firstName}  ${fr.profileName}`,isUserSendingMessage:Or,isCurrentlyViewing:Yn,reason:Or?"admin is currently viewing conversation":"admin sent message as model"});let Vi=me.content;me.type==="gift"?Vi=` ${me.content}`:me.type==="image"?Vi=" Photo":me.type==="voice"&&(Vi=" Voice message");const Oa=[...Rt.conversations];return Oa[ui]={...fr,lastMessage:Vi,lastMessageAt:me.created_at,unreadCount:hi},{...Rt,conversations:Oa,lastActivity:me.created_at}}else if(Or)return console.log(" [ADMIN] New conversation detected, but not refreshing to preserve unread counts"),Rt;return Rt});if(console.log(" [ADMIN] Message processing complete, wasUpdated:",hr),hr&&(console.log(" [ADMIN] Updated conversations after message:"),it.forEach(Rt=>{Rt.conversations.forEach(Dr=>{Dr.unreadCount>0&&console.log(`   ${Rt.user.firstName}  ${Dr.profileName}: ${Dr.unreadCount} unread`)})})),hr&&"Notification"in window&&Notification.permission==="granted"){const Rt=Rr.find(Dr=>Dr.user.id===me.receiver_id);Rt&&new Notification("New message in admin panel",{body:`${Rt.user.firstName} received: "${me.content.substring(0,50)}${me.content.length>50?"...":""}"`,icon:"/notification-icon.png"})}if(hr)try{new Audio("/notification.mp3").play().catch(Dr=>console.log("Sound play failed:",Dr))}catch(Rt){console.log("Could not play notification sound:",Rt)}return it});const He=Y.current;if(He)if(console.log(" [ADMIN] Checking if message belongs to selected conversation..."),console.log(" [ADMIN] Selected conversation:",{userId:He.userId,profileId:He.profileId}),He.userId===me.sender_id&&He.profileId===me.receiver_id||He.userId===me.receiver_id&&He.profileId===me.sender_id){console.log(" [ADMIN] Adding message to selected conversation");const hr={id:me.id,conversationId:He.id,content:me.content,role:me.sender_id===He.userId?"user":"assistant",timestamp:me.created_at,isAdminResponse:!1,type:me.type||"text",imageUrl:me.type==="image"?me.image_url:void 0,voiceUrl:me.type==="voice"?me.voice_url:void 0,duration:me.duration||void 0,status:"delivered"};let it=me.content;me.type==="gift"?it=` ${me.content}`:me.type==="image"?it=" Photo":me.type==="voice"&&(it=" Voice message"),L(Wt=>Wt?{...Wt,messages:[...Wt.messages,hr],lastMessage:it,lastMessageAt:me.created_at}:null)}else console.log(" [ADMIN] Message does not belong to selected conversation")}).subscribe(ye=>{console.log(" [ADMIN] Message subscription status:",ye),ye==="SUBSCRIBED"?(console.log(" [ADMIN] Successfully subscribed to messages"),Ae=0):(ye==="CHANNEL_ERROR"||ye==="TIMED_OUT")&&(console.warn(" [ADMIN] Message subscription error, attempting to reconnect..."),Ae<De&&navigator.onLine&&(Ae++,setTimeout(()=>B(),1e3*Ae)))}),re=Xt.channel(`admin_conversations_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},ye=>{var qe,et,Pt;console.log(" [ADMIN] Conversation updated:",ye);const me=ye.eventType,He=ye.new||ye.old;me==="INSERT"&&He&&console.log(" [ADMIN] New conversation created:",{id:(qe=He==null?void 0:He.id)==null?void 0:qe.substring(0,8),user1_id:(et=He==null?void 0:He.user1_id)==null?void 0:et.substring(0,8),user2_id:(Pt=He==null?void 0:He.user2_id)==null?void 0:Pt.substring(0,8)}),console.log(" [ADMIN] Conversation change detected, but not auto-refreshing to preserve unread counts")}).subscribe(ye=>{console.log(" [ADMIN] Conversation subscription status:",ye)})}catch(ye){console.error(" [ADMIN] Error setting up subscriptions:",ye)}};B();const xe=()=>{console.log(" [ADMIN] Back online, reconnecting subscriptions..."),Ae=0,P&&Xt.removeChannel(P),re&&Xt.removeChannel(re),B()},je=()=>{console.log(" [ADMIN] Gone offline, pausing real-time subscriptions")};return window.addEventListener("online",xe),window.addEventListener("offline",je),()=>{console.log(" [ADMIN] Cleaning up real-time subscriptions..."),P&&Xt.removeChannel(P),re&&Xt.removeChannel(re),window.removeEventListener("online",xe),window.removeEventListener("offline",je)}},[t,e]);const dr=k.filter(P=>P.user.firstName.toLowerCase().includes(z.toLowerCase())||P.user.lastName.toLowerCase().includes(z.toLowerCase())||P.user.email.toLowerCase().includes(z.toLowerCase())||P.conversations.some(re=>re.profileName.toLowerCase().includes(z.toLowerCase())||re.lastMessage.toLowerCase().includes(z.toLowerCase()))),ps=P=>new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ns=P=>{const re=new Date,Ae=new Date(P),De=(re.getTime()-Ae.getTime())/(1e3*60*60);return De<1?"now":De<24?`${Math.floor(De)}h`:De<48?"yesterday":Ae.toLocaleDateString()},ot=P=>P?{emoji:"",name:P}:{emoji:"",name:"Gift"},ha=()=>{var P;(P=he.current)==null||P.click()},Wn=async P=>{var Ae;const re=(Ae=P.target.files)==null?void 0:Ae[0];if(!(!re||!C||!e)){if(!re.type.startsWith("image/")){console.error("Please select an image file");return}if(re.size>5*1024*1024){console.error("Image size must be less than 5MB");return}We(!0);try{const De=await fn(re,1200,.8),B=`admin-img-${Date.now()}`,xe=await Gr(De,B);await ti.sendImageMessage(C.id,xe,O.trim()||"",C.profile.id,e.id),X("");const je=await ti.getConversation(C.userId,C.profileId);L(je)}catch(De){console.error("Failed to upload image:",De)}finally{We(!1),he.current&&(he.current.value="")}}},fn=(P,re,Ae)=>new Promise((De,B)=>{const xe=document.createElement("canvas"),je=xe.getContext("2d");if(!je){B(new Error("Canvas context not available"));return}const ye=document.createElement("img");ye.onload=()=>{const me=Math.min(re/ye.width,re/ye.height),He=ye.width*me,qe=ye.height*me;xe.width=He,xe.height=qe,je.drawImage(ye,0,0,He,qe),xe.toBlob(et=>{if(et){const Pt=new File([et],P.name,{type:"image/jpeg",lastModified:Date.now()});De(Pt)}else B(new Error("Failed to compress image"))},"image/jpeg",Ae)},ye.onerror=()=>{B(new Error("Failed to load image"))},ye.src=URL.createObjectURL(P)}),Gr=async(P,re)=>{const Ae=`admin-chat/${re}-${Date.now()}.jpg`,{data:De,error:B}=await Oe.storage.from("chat-images").upload(Ae,P);if(B)throw console.error("Upload error:",B),new Error("Failed to upload image");const{data:{publicUrl:xe}}=Oe.storage.from("chat-images").getPublicUrl(Ae);return xe},mn=["","","","","","","","","","","",""],_n=P=>{X(re=>re+P),Ke(!1)};E.useEffect(()=>{Y.current=C},[C]),E.useEffect(()=>{C&&Pe.current&&Pe.current.scrollIntoView({behavior:"smooth"})},[C==null?void 0:C.messages]);const ur=async()=>{try{const[P,re]=await Promise.all([s1(),w3()]);ue(P),W(["all",...re])}catch(P){console.error("Error loading gifts data:",P)}},An=async()=>{try{const{error:P}=await Oe.from("gifts").insert([{name:ze.name,description:ze.description,price:ze.price,image_url:ze.image_url,category:ze.category}]);if(P)throw P;await ur(),oe(!1),En(),n.success("Gift added successfully!")}catch(P){console.error("Error adding gift:",P),n.error("Failed to add gift.")}},Di=async()=>{if(_e)try{const{error:P}=await Oe.from("gifts").update({name:ze.name,description:ze.description,price:ze.price,image_url:ze.image_url,category:ze.category}).eq("id",_e.id);if(P)throw P;await ur(),Ee(null),En(),n.success("Gift updated successfully!")}catch(P){console.error("Error updating gift:",P),n.error("Failed to update gift.")}},Oi=async P=>{if(confirm("Are you sure you want to delete this gift?"))try{const{error:re}=await Oe.from("gifts").delete().eq("id",P);if(re)throw re;await ur(),n.success("Gift deleted successfully!")}catch(re){console.error("Error deleting gift:",re),n.error("Failed to delete gift.")}},En=()=>{Be({name:"",description:"",price:0,image_url:"",category:"flowers"})},Fi=P=>{Ee(P),Be({name:P.name,description:P.description,price:P.price,image_url:P.image_url,category:P.category})},di=se.filter(P=>{const re=Z==="all"||P.category===Z,Ae=P.name.toLowerCase().includes(ae.toLowerCase())||P.description.toLowerCase().includes(ae.toLowerCase());return re&&Ae}),pn=async()=>{q(!0);try{const{data:P,error:re}=await Oe.from("profiles").select("*").order("created_at",{ascending:!1});if(re)throw re;l(P||[])}catch(P){console.error("Error loading users:",P)}finally{q(!1)}},yo=async(P,re)=>{try{if(re==="delete"){const De=o.find(ye=>ye.id===P),B=De?`${De.first_name} ${De.last_name}`:"this user",xe=(De==null?void 0:De.role)||"user";if(!window.confirm(`Are you sure you want to delete ${B}?

`))return}let Ae;switch(re){case"activate":Ae=await Oe.from("profiles").update({is_active:!0}).eq("id",P);break;case"deactivate":Ae=await Oe.from("profiles").update({is_active:!1}).eq("id",P);break;case"delete":Ae=await Oe.from("profiles").delete().eq("id",P);break}if(Ae!=null&&Ae.error)throw Ae.error;await pn(),n.success(`User ${re}d successfully!`)}catch(Ae){console.error(`Error ${re}ing user:`,Ae),n.error(`Failed to ${re} user.`)}},Pl=async()=>{var re,Ae;if(!u)return;if(!((re=N.firstName)!=null&&re.trim())){n.error("First name is required");return}if(!((Ae=N.lastName)!=null&&Ae.trim())){n.error("Last name is required");return}const P={};if(N.firstName&&(P.first_name=N.firstName),N.lastName&&(P.last_name=N.lastName),N.role&&(P.role=N.role),N.photos&&N.photos.length>0&&(P.photos=N.photos),typeof N.coins=="number"&&(P.coins=N.coins),N.gender&&(P.gender=N.gender),N.birthDate&&(P.birth_date=new Date(N.birthDate).toISOString().split("T")[0]),N.country&&(P.country=N.country),N.city&&(P.city=N.city),N.profession&&(P.profession=N.profession),N.languages&&N.languages.length>0&&(P.languages=N.languages),N.bio&&(P.bio=N.bio),N.interests&&N.interests.length>0&&(P.interests=N.interests),N.eyeColor&&N.eyeColor.trim()&&(P.eye_color=N.eyeColor),N.hairColor&&N.hairColor.trim()&&(P.hair_color=N.hairColor),N.appearanceType&&N.appearanceType.trim()&&(P.appearance_type=N.appearanceType),N.alcohol&&N.alcohol.trim()&&(P.alcohol=N.alcohol),N.smoking&&N.smoking.trim()&&(P.smoking=N.smoking),N.children&&N.children.trim()&&(P.children=N.children),N.religion&&N.religion.trim()&&(P.religion=N.religion),N.zodiacSign&&N.zodiacSign.trim()&&(P.zodiac_sign=N.zodiacSign),N.englishLevel&&N.englishLevel.trim()&&(P.english_level=N.englishLevel),P.verified=N.verified,P.premium=N.premium,P.has_intro_video=N.hasIntroVideo,P.is_online=N.isOnline,P.has_video=N.hasVideo,P.has_camera_on=N.hasCameraOn,P.birthday_soon=N.birthdaySoon,P.new_profile=N.newProfile,Object.keys(P).length===0){n.error("No data to update");return}console.log("Updating user with data:",P),console.log("User ID:",u.id);try{console.log("Using admin client for update...");const{data:De,error:B}=await Xt.from("profiles").update(P).eq("id",u.id).select();if(console.log("Update result:",{data:De,error:B}),B)throw console.error("Supabase error updating user:",B),B;p(!1),h(null),await pn(),n.success("User updated successfully!")}catch(De){console.error("Error updating user:",De),console.error("Error details:",{message:De==null?void 0:De.message,details:De==null?void 0:De.details,hint:De==null?void 0:De.hint,code:De==null?void 0:De.code}),n.error(`Failed to update user: ${(De==null?void 0:De.message)||"Unknown error"}`)}},Gn=(P,re="view")=>{h(P),y({firstName:P.first_name,lastName:P.last_name,email:P.email,role:P.role||"user",photos:P.photos&&P.photos.length>0?P.photos:[""],coins:P.coins||0,gender:P.gender||"female",birthDate:P.birth_date||"",country:P.country||"",city:P.city||"",profession:P.profession||"",languages:P.languages||[],bio:P.bio||"",interests:P.interests||[],eyeColor:P.eye_color||"",hairColor:P.hair_color||"",appearanceType:P.appearance_type||"",alcohol:P.alcohol||"",smoking:P.smoking||"",children:P.children||"",religion:P.religion||"",zodiacSign:P.zodiac_sign||"",englishLevel:P.english_level||"",verified:P.verified||!1,premium:P.premium||!1,hasIntroVideo:P.has_intro_video||!1,isOnline:P.is_online||!1,hasVideo:P.has_video||!1,hasCameraOn:P.has_camera_on||!1,birthdaySoon:P.birthday_soon||!1,newProfile:P.new_profile||!1,top1000:P.top1000||!1}),j(re),p(!0),b({})};E.useEffect(()=>{t&&i==="users"&&pn()},[t,i]);const Bi=o.filter(P=>{var De,B,xe;const re=c.toLowerCase();return(st==="models"?P.role==="model":P.role!=="model")&&(((De=P.first_name)==null?void 0:De.toLowerCase().includes(re))||((B=P.last_name)==null?void 0:B.toLowerCase().includes(re))||((xe=P.email)==null?void 0:xe.toLowerCase().includes(re)))}),Tl=async()=>{try{if(!Ui())return;const{user:P,error:re}=await ti.createUser({email:N.email,firstName:N.firstName,lastName:N.lastName,role:N.role,photos:Array.isArray(N.photos)?N.photos:[],coins:N.coins,gender:N.gender,birthDate:N.birthDate?new Date(N.birthDate).toISOString().split("T")[0]:null,country:N.country,city:N.city,profession:N.profession,languages:Array.isArray(N.languages)?N.languages:[],bio:N.bio});if(re)throw re;p(!1),await pn(),n.success("User added successfully! They will receive an email to set their password.")}catch(P){console.error("Error adding user/model:",P),n.error("Failed to add user.")}},Ui=()=>{const P={};return N.firstName.trim()||(P.firstName="First name is required"),N.lastName.trim()||(P.lastName="Last name is required"),N.role==="model"&&(N.birthDate||(P.birthDate="Birth date is required"),N.country.trim()||(P.country="Country is required"),N.city.trim()||(P.city="City is required"),N.profession.trim()||(P.profession="Profession is required"),N.bio.trim()||(P.bio="Bio is required"),(!N.photos||N.photos.length===0||!N.photos[0].trim())&&(P.photos="At least one photo URL is required")),b(P),Object.keys(P).length===0},Ll=async()=>{At(!0);try{const P=[];for(let Ae=0;Ae<at.count;Ae++){const De=Es.firstNames[Math.floor(Math.random()*Es.firstNames.length)],B=Es.lastNames[Math.floor(Math.random()*Es.lastNames.length)],xe=at.countries[Math.floor(Math.random()*at.countries.length)],je=Math.floor(Math.random()*(at.ageRange.max-at.ageRange.min+1))+at.ageRange.min,ye=new Date;ye.setFullYear(ye.getFullYear()-je),ye.setMonth(Math.floor(Math.random()*12)),ye.setDate(Math.floor(Math.random()*28)+1);const me={id:crypto.randomUUID(),firstName:De,lastName:B,email:`${De.toLowerCase()}.${B.toLowerCase()}${Math.floor(Math.random()*1e3)}@example.com`,role:"model",gender:"female",birthDate:ye.toISOString().split("T")[0],country:xe,city:gs(xe),profession:Es.professions[Math.floor(Math.random()*Es.professions.length)],bio:Es.bios[Math.floor(Math.random()*Es.bios.length)],interests:Es.interests[Math.floor(Math.random()*Es.interests.length)],languages:Es.languages[Math.floor(Math.random()*Es.languages.length)],photos:[],verified:at.includeVerified?Math.random()>.3:!1,premium:at.includePremium?Math.random()>.7:!1,coins:Math.floor(Math.random()*1e3)+100,eyeColor:["blue","brown","green","hazel"][Math.floor(Math.random()*4)],hairColor:["blonde","brunette","black","red"][Math.floor(Math.random()*4)],appearanceType:["slim","athletic","average","curvy"][Math.floor(Math.random()*4)],alcohol:["never","rarely","socially","regularly"][Math.floor(Math.random()*4)],smoking:["never","rarely","regularly","trying to quit"][Math.floor(Math.random()*4)],children:["have","want","maybe","no"][Math.floor(Math.random()*4)],religion:["christian","orthodox","catholic","muslim","none"][Math.floor(Math.random()*4)],zodiacSign:["aries","taurus","gemini","cancer","leo","virgo","libra","scorpio","sagittarius","capricorn","aquarius","pisces"][Math.floor(Math.random()*12)],englishLevel:["basic","intermediate","advanced","fluent"][Math.floor(Math.random()*4)],hasIntroVideo:Math.random()>.5,isOnline:Math.random()>.3,hasVideo:Math.random()>.4,hasCameraOn:Math.random()>.6,birthdaySoon:Math.random()>.8,newProfile:Math.random()>.7,top1000:Math.random()>.9};P.push(me)}Hr(P);const re={};P.forEach(Ae=>{re[Ae.id]=[""]}),Gt(re),ft(!1),As(!0)}catch(P){console.error("Error generating models:",P),n.error("Failed to generate models. Please try again.")}finally{At(!1)}},vo=P=>{Gt(re=>({...re,[P]:[...re[P]||[],""]}))},Ml=(P,re)=>{Gt(Ae=>{var De;return{...Ae,[P]:((De=Ae[P])==null?void 0:De.filter((B,xe)=>xe!==re))||[]}})},zi=(P,re,Ae)=>{Gt(De=>{var B;return{...De,[P]:((B=De[P])==null?void 0:B.map((xe,je)=>je===re?Ae:xe))||[]}})},Il=async()=>{var P,re;zt(!0);try{let Ae=0,De=0;for(const B of Ft)try{let xe;Et[B.id]&&Et[B.id].length>0?xe=Et[B.id].filter(me=>me.trim().length>0):xe=[];const{data:je,error:ye}=await Oe.rpc("create_model_profile",{model_first_name:B.firstName,model_last_name:B.lastName,model_gender:B.gender,model_birth_date:B.birthDate,model_country:B.country,model_city:B.city,model_profession:B.profession,model_languages:B.languages,model_bio:B.bio,model_photos:xe,model_coins:B.coins||1e3});if(ye)if(console.error("Error creating model profile:",ye),(P=ye.message)!=null&&P.includes("function")||(re=ye.message)!=null&&re.includes("not found")){console.log("RPC function not found, trying direct insert...");const{error:me}=await Oe.from("profiles").insert([{first_name:B.firstName,last_name:B.lastName,gender:B.gender,birth_date:B.birthDate,country:B.country,city:B.city,bio:B.bio,interests:B.interests,profession:B.profession,languages:B.languages,photos:xe,verified:B.verified,premium:B.premium,coins:B.coins||1e3,role:"model",eye_color:B.eyeColor,hair_color:B.hairColor,appearance_type:B.appearanceType,alcohol:B.alcohol,smoking:B.smoking,children:B.children,religion:B.religion,zodiac_sign:B.zodiacSign,english_level:B.englishLevel,has_intro_video:B.hasIntroVideo,is_online:B.isOnline,has_video:B.hasVideo,has_camera_on:B.hasCameraOn,birthday_soon:B.birthdaySoon,new_profile:B.newProfile,top1000:B.top1000}]);me?(console.error("Direct insert also failed:",me),De++):Ae++}else De++;else Ae++,console.log("Created model:",je)}catch(xe){console.error("Error creating model:",xe),De++}Ae>0&&n.success(`Successfully created ${Ae} out of ${Ft.length} models!`),De>0&&n.error(`Failed to create ${De} models. Check console for details.`),As(!1),Hr([]),Gt({}),await pn()}catch(Ae){console.error("Error saving models:",Ae),n.error("Failed to save models. Please try again.")}finally{zt(!1)}},gs=P=>{const re={Ukraine:["Kyiv","Lviv","Kharkiv","Odesa","Dnipro","Zaporizhzhia","Vinnytsia","Poltava","Sumy","Chernihiv","Cherkasy","Kropyvnytskyi","Mykolaiv","Kherson","Mariupol","Donetsk","Luhansk","Ivano-Frankivsk","Ternopil","Rivne"],Russia:["Moscow","Saint Petersburg","Novosibirsk","Yekaterinburg","Kazan","Nizhny Novgorod","Chelyabinsk","Samara","Omsk","Rostov-on-Don","Ufa","Krasnoyarsk","Perm","Voronezh","Volgograd","Krasnodar","Saratov","Tyumen","Tolyatti","Izhevsk"],Belarus:["Minsk","Gomel","Mogilev","Vitebsk","Grodno","Brest","Baranovichi","Borisov","Pinsk","Orsha","Mozyr","Soligorsk","Novopolotsk","Lida","Molodechno","Polotsk","Slutsk","Kobrin","Slonim","Volkovysk"],Kazakhstan:["Almaty","Nur-Sultan","Shymkent","Aktobe","Karaganda","Taraz","Pavlodar","Semey","Oskemen","Atyrau","Kyzylorda","Kostanay","Petropavl","Taldykorgan","Kokshetau","Ekibastuz","Rudny","Temirtau","Zhezkazgan","Baikonur"],Georgia:["Tbilisi","Batumi","Kutaisi","Rustavi","Gori","Zugdidi","Poti","Khashuri","Samtredia","Senaki","Zestafoni","Marneuli","Telavi","Akhaltsikhe","Ozurgeti","Kaspi","Chiatura","Tsqaltubo","Sagarejo","Gurjaani"],Poland:["Warsaw","Krakow","Lodz","Wroclaw","Poznan","Gdansk","Szczecin","Bydgoszcz","Lublin","Katowice","Bialystok","Gdynia","Czestochowa","Radom","Torun","Kielce","Gliwice","Zabrze","Bytom","Bielsko-Biala"],"Czech Republic":["Prague","Brno","Ostrava","Plzen","Liberec","Olomouc","Usti nad Labem","Ceske Budejovice","Hradec Kralove","Pardubice","Zlin","Havirov","Kladno","Most","Opava","Frydek-Mistek","Karvina","Jihlava","Teplice","Decin"],Slovakia:["Bratislava","Kosice","Presov","Nitra","Zilina","Banska Bystrica","Trnava","Martin","Trencin","Poprad","Prievidza","Zvolen","Povazska Bystrica","Michalovce","Spisska Nova Ves","Komarno","Levice","Humenne","Bardejov","Liptovsky Mikulas"],Hungary:["Budapest","Debrecen","Szeged","Miskolc","Pecs","Gyor","Nyiregyhaza","Kecskemet","Szekesfehervar","Szombathely","Szolnok","Tatabanya","Kaposvar","Bekescsaba","Erd","Veszprem","Zalaegerszeg","Sopron","Eger","Nagykanizsa"],Romania:["Bucharest","Cluj-Napoca","Timisoara","Iasi","Constanta","Craiova","Galati","Brasov","Ploiesti","Braila","Oradea","Bacau","Arad","Pitesti","Sibiu","Targu Mures","Baia Mare","Buzau","Botosani","Satu Mare"],Bulgaria:["Sofia","Plovdiv","Varna","Burgas","Ruse","Stara Zagora","Pleven","Sliven","Dobrich","Shumen","Pernik","Haskovo","Yambol","Pazardzhik","Blagoevgrad","Veliko Tarnovo","Vratsa","Gabrovo","Asenovgrad","Kazanlak"],Serbia:["Belgrade","Novi Sad","Nis","Kragujevac","Subotica","Zrenjanin","Pancevo","Cacak","Leskovac","Novi Pazar","Kraljevo","Uzice","Smederevo","Vranje","Sabac","Sombor","Pozarevac","Pirot","Zajecar","Kikinda"],Croatia:["Zagreb","Split","Rijeka","Osijek","Zadar","Slavonski Brod","Pula","Sesvete","Karlovac","Varazdin","Sibenik","Sisak","Velika Gorica","Vinkovci","Vukovar","Dubrovnik","Bjelovar","Koprivnica","Krapina","Pozega"],Slovenia:["Ljubljana","Maribor","Celje","Kranj","Velenje","Koper","Novo Mesto","Ptuj","Trbovlje","Kamnik","Jesenice","Nova Gorica","Domzale","Skofja Loka","Murska Sobota","Izola","Postojna","Logatec","Slovenj Gradec","Kocevje"],Latvia:["Riga","Daugavpils","Liepaja","Jelgava","Jurmala","Ventspils","Rezekne","Valmiera","Jekabpils","Ogre","Tukums","Cesis","Salaspils","Kuldiga","Olaine","Sigulda","Bauska","Ludza","Gulbene","Madona"],Lithuania:["Vilnius","Kaunas","Klaipeda","Siauliai","Panevezys","Alytus","Marijampole","Mazeikiai","Jonava","Utena","Kedainiai","Telsiai","Visaginas","Taurage","Ukmerge","Plunge","Kretinga","Silute","Radviliskis","Palanga"],Estonia:["Tallinn","Tartu","Narva","Parnu","Kohtla-Jarve","Viljandi","Rakvere","Maardu","Kuressaare","Sillamae","Valga","Voru","Jogeva","Haapsalu","Keila","Paide","Tapa","Polva","Kivioli","Turi"],Moldova:["Chisinau","Tiraspol","Balti","Bender","Ribnita","Cahul","Ungheni","Soroca","Orhei","Dubasari","Comrat","Edinet","Causeni","Straseni","Floresti","Drochia","Slobozia","Singerei","Falesti","Vulcanesti"],Armenia:["Yerevan","Gyumri","Vanadzor","Vagharshapat","Abovyan","Kapan","Hrazdan","Ijevan","Gavar","Armavir","Artashat","Sevan","Goris","Masis","Ashtarak","Ararat","Vedi","Martuni","Spitak","Alaverdi"],Azerbaijan:["Baku","Ganja","Sumqayit","Mingachevir","Lankaran","Shirvan","Nakhchivan","Shaki","Yevlakh","Khankendi","Gabala","Shamakhi","Fuzuli","Salyan","Barda","Neftchala","Agdash","Zaqatala","Goychay","Ujar"]},Ae=re[P]||re.Ukraine;return Ae[Math.floor(Math.random()*Ae.length)]};E.useEffect(()=>{t&&(i==="conversations"?mt():i==="gifts"?ur():i==="users"?pn():i==="analytics"&&$i())},[t,i,Ps]);const $i=async()=>{cs(!0),vt(null);try{console.log(" [DEBUG] Starting analytics load..."),console.log(" [DEBUG] Testing basic database access...");const{data:P,error:re}=await Xt.from("transactions").select("count(*)").limit(1);console.log(" [DEBUG] Test transactions query result:",{data:P,error:re});const{data:Ae,error:De}=await Xt.from("transactions").select("*");console.log(" [DEBUG] All transactions query result:",{count:(Ae==null?void 0:Ae.length)||0,error:De,sample:Ae==null?void 0:Ae.slice(0,2)}),console.log(" [DEBUG] Testing RPC function existence...");try{const{data:Se,error:Ue}=await Oe.rpc("is_admin_user");console.log(" [DEBUG] RPC test result:",{data:Se,error:Ue})}catch(Se){console.log(" [DEBUG] RPC test failed:",Se)}let B=[],xe=null;try{console.log(" [DEBUG] Trying RPC function...");const{data:Se,error:Ue}=await Oe.rpc("get_all_transactions_admin");if(console.log(" [DEBUG] RPC result:",{data:Se==null?void 0:Se.length,error:Ue}),Ue)throw console.log("RPC failed, trying direct query...",Ue),Ue;B=Se||[],console.log(" [DEBUG] Got transactions via RPC:",B.length)}catch{console.log(" [DEBUG] RPC failed, trying admin client...");const{data:Ue,error:St}=await Xt.from("transactions").select("*").order("created_at",{ascending:!1});if(console.log(" [DEBUG] Admin client result:",{data:Ue==null?void 0:Ue.length,error:St,sample:Ue==null?void 0:Ue.slice(0,2)}),St)throw console.error("Admin client also failed:",St),St;B=Ue||[],console.log(" [DEBUG] Got transactions via admin client:",B.length)}const je=[...new Set((B==null?void 0:B.map(Se=>Se.user_id))||[])];console.log(" [DEBUG] Unique user IDs:",je.length);const{data:ye,error:me}=await Xt.from("profiles").select("id, first_name, last_name, role").in("id",je);if(me)throw console.error("Failed to get transaction profiles:",me),me;const He=(ye||[]).reduce((Se,Ue)=>(Se[Ue.id]=Ue,Se),{}),qe=B==null?void 0:B.map(Se=>({...Se,profile:He[Se.user_id]||{first_name:"Unknown",last_name:"User",id:Se.user_id}}));let et=[],Pt=null;try{console.log(" [DEBUG] Trying subscription RPC function...");const{data:Se,error:Ue}=await Oe.rpc("get_all_subscription_purchases_admin");if(console.log(" [DEBUG] Subscription RPC result:",{data:Se==null?void 0:Se.length,error:Ue}),Ue)throw console.log("Subscription RPC failed, trying direct query...",Ue),Ue;et=Se||[],console.log(" [DEBUG] Got subscriptions via RPC:",et.length)}catch{console.log(" [DEBUG] Subscription RPC failed, trying admin client...");const{data:Ue,error:St}=await Xt.from("subscription_purchases").select("*").order("created_at",{ascending:!1});if(console.log(" [DEBUG] Subscription admin client result:",{data:Ue==null?void 0:Ue.length,error:St,sample:Ue==null?void 0:Ue.slice(0,2)}),St)throw console.error("Admin client for subscriptions also failed:",St),St;et=Ue||[],console.log(" [DEBUG] Got subscriptions via admin client:",et.length)}const ct=[...new Set((et==null?void 0:et.map(Se=>Se.user_id))||[])],{data:Ct,error:Ut}=await Xt.from("profiles").select("id, first_name, last_name, role").in("id",ct);if(Ut)throw console.error("Failed to get subscription profiles:",Ut),Ut;const Yt=(Ct||[]).reduce((Se,Ue)=>(Se[Ue.id]=Ue,Se),{}),{data:Mt,error:Rr}=await Xt.from("subscriptions").select("*");if(Rr)throw console.error("Failed to get subscription plans:",Rr),Rr;const hr=(Mt||[]).reduce((Se,Ue)=>(Se[Ue.id]=Ue,Se),{}),{data:it,error:Wt}=await Xt.from("profiles").select("id, first_name, last_name").in("id",(et==null?void 0:et.map(Se=>Se.user_id))||[]);if(Wt)throw console.error("Failed to get subscription profiles:",Wt),Wt;const ma=(it||[]).reduce((Se,Ue)=>(Se[Ue.id]=Ue,Se),{}),gn=et==null?void 0:et.map(Se=>({...Se,profile:Yt[Se.user_id]||{first_name:"Unknown",last_name:"User",id:Se.user_id},subscription:hr[Se.subscription_id]||{name:"Unknown Plan",price:0,duration:0}}));console.log(" [DEBUG] Final data counts:"),console.log("- Transactions:",(B==null?void 0:B.length)||0),console.log("- Subscriptions:",(et==null?void 0:et.length)||0),console.log("- Transaction profiles:",(ye==null?void 0:ye.length)||0),console.log("- Subscription profiles:",(Ct==null?void 0:Ct.length)||0);const Rt=new Date,Dr=new Date(Rt.getFullYear(),Rt.getMonth(),Rt.getDate()),Or=new Date(Rt.getFullYear(),Rt.getMonth(),Rt.getDate(),23,59,59,999),Pn=new Date(Rt.getTime()-7*24*60*60*1e3),ui=new Date(Rt.getFullYear(),Rt.getMonth(),1),wo=Se=>{switch(Ps){case"today":return(Se==null?void 0:Se.filter(Ue=>{const St=new Date(Ue.created_at);return St>=Dr&&St<=Or}))||[];case"week":return(Se==null?void 0:Se.filter(Ue=>new Date(Ue.created_at)>=Pn))||[];case"month":return(Se==null?void 0:Se.filter(Ue=>new Date(Ue.created_at)>=ui))||[];case"all":default:return Se||[]}},No=Se=>{switch(Ps){case"today":return(Se==null?void 0:Se.filter(Ue=>{const St=new Date(Ue.created_at);return St>=Dr&&St<=Or}))||[];case"week":return(Se==null?void 0:Se.filter(Ue=>new Date(Ue.created_at)>=Pn))||[];case"month":return(Se==null?void 0:Se.filter(Ue=>new Date(Ue.created_at)>=ui))||[];case"all":default:return Se||[]}},pa=Se=>{switch(Ps){case"today":return(Se==null?void 0:Se.filter(Ue=>{const St=new Date(Ue.created_at);return St>=Dr&&St<=Or}))||[];case"week":return(Se==null?void 0:Se.filter(Ue=>new Date(Ue.created_at)>=Pn))||[];case"month":return(Se==null?void 0:Se.filter(Ue=>new Date(Ue.created_at)>=ui))||[];case"all":default:return Se||[]}},Ms=wo(qe),Tn=No(gn),Da=Ms.reduce((Se,Ue)=>Se+(Ue.status==="completed"&&Ue.amount||0),0)||0,Kn=Ms.reduce((Se,Ue)=>Se+(Ue.status==="completed"&&Ue.amount||0),0)||0,fr=Ms.reduce((Se,Ue)=>Se+(Ue.status==="completed"&&Ue.type==="subscription"&&Ue.amount||0),0)||0,Yn=Ms.reduce((Se,Ue)=>Se+(Ue.status==="completed"&&Ue.type==="subscription"&&Ue.amount||0),0)||0,hi=Ms.reduce((Se,Ue)=>Se+(Ue.status==="completed"&&Ue.type==="coins"&&Ue.amount||0),0)||0,Vi=Ms.reduce((Se,Ue)=>Se+(Ue.status==="completed"&&Ue.type==="coins"&&Ue.amount||0),0)||0,Oa=Ms.reduce((Se,Ue)=>(Ue.status==="completed"&&Ue.subscription_plan&&(Se[Ue.subscription_plan]=(Se[Ue.subscription_plan]||0)+1),Se),{}),jc=Object.entries(Oa||{}).map(([Se,Ue])=>({plan:Se,count:Ue,revenue:Ms.filter(St=>St.status==="completed"&&St.subscription_plan===Se).reduce((St,mi)=>St+(mi.amount||0),0)||0})).sort((Se,Ue)=>Ue.count-Se.count).slice(0,5),Jn=Array.from({length:7},(Se,Ue)=>{const St=new Date;St.setDate(St.getDate()-Ue);const mi=new Date(St.setHours(0,0,0,0)),Rl=new Date(St.setHours(23,59,59,999)),Dl=Ms.filter(qi=>{const pi=new Date(qi.created_at);return pi>=mi&&pi<=Rl&&qi.status==="completed"})||[],iu=Dl.reduce((qi,pi)=>qi+(pi.amount||0),0);return{date:mi.toISOString().split("T")[0],orders:Dl.length,revenue:iu}}).reverse(),ga=Tn.filter(Se=>Se.is_active&&new Date(Se.expires_at)>new Date).length||0;console.log(" [DEBUG] Calculating coins spent from gift messages...");const{data:jo,error:fi}=await Xt.from("messages").select("gift_cost, created_at, sender_id, receiver_id, gift_name").eq("type","gift").not("gift_cost","is",null);if(fi)throw console.error("Failed to get gift messages:",fi),fi;console.log(" [DEBUG] Gift messages found:",(jo==null?void 0:jo.length)||0);const Cr=pa(jo||[]),So=Cr.reduce((Se,Ue)=>Se+(Ue.gift_cost||0),0)||0,xa=Cr.reduce((Se,Ue)=>Se+(Ue.gift_cost||0),0)||0,Sc=Cr.length||0,Fa=Cr.length||0,nu=Cr.reduce((Se,Ue)=>{const St=Ue.gift_name||"Unknown Gift";return Se[St]=(Se[St]||0)+1,Se},{})||{},ko=Object.entries(nu).map(([Se,Ue])=>({name:Se,count:Ue,totalCost:Cr.filter(St=>St.gift_name===Se).reduce((St,mi)=>St+(mi.gift_cost||0),0)||0})).sort((Se,Ue)=>Ue.count-Se.count).slice(0,5);console.log(" [DEBUG] Coins calculations:"),console.log("- Total coins spent:",So),console.log("- Monthly coins spent:",xa),console.log("- Total gifts sent:",Sc),console.log("- Monthly gifts sent:",Fa),console.log("- Popular gifts:",ko),console.log(" [DEBUG] Revenue calculations:"),console.log("- Total revenue:",Da),console.log("- Monthly revenue:",Kn),console.log("- Subscription revenue:",fr),console.log("- Coins revenue:",hi),cr({totalRevenue:Da,monthlyRevenue:Kn,totalOrders:Ms.filter(Se=>Se.status==="completed").length||0,monthlyOrders:Ms.filter(Se=>Se.status==="completed").length||0,subscriptionRevenue:fr,monthlySubscriptionRevenue:Yn,coinsRevenue:hi,monthlyCoinsRevenue:Vi,popularPlans:jc,recentTransactions:Ms.filter(Se=>Se.status==="completed").slice(0,10).map(Se=>({...Se,profiles:Se.profile}))||[],revenueTrend:Jn.map(Se=>({date:Se.date,value:Se.revenue})),orderTrend:Jn.map(Se=>({date:Se.date,value:Se.orders})),activeSubscriptions:Tn.filter(Se=>Se.is_active&&new Date(Se.expires_at)>new Date).length||0,totalCoinsSpent:So,monthlyCoinsSpent:xa,totalGiftsSent:Sc,monthlyGiftsSent:Fa,popularGifts:ko})}catch(P){console.error(" [DEBUG] Error loading analytics:",P),vt((P==null?void 0:P.message)||(P==null?void 0:P.error_description)||"Failed to load analytics data"),cr({totalRevenue:0,monthlyRevenue:0,totalOrders:0,monthlyOrders:0,subscriptionRevenue:0,monthlySubscriptionRevenue:0,coinsRevenue:0,monthlyCoinsRevenue:0,popularPlans:[],recentTransactions:[],revenueTrend:[],orderTrend:[],activeSubscriptions:0,totalCoinsSpent:0,monthlyCoinsSpent:0,totalGiftsSent:0,monthlyGiftsSent:0,popularGifts:[]})}finally{cs(!1)}},bo=async()=>{await $i()};return E.useEffect(()=>{if(!t||!e)return;const P=Xt.channel("admin-messages").on("postgres_changes",{event:"*",schema:"public",table:"messages"},async re=>{console.log(" Real-time message update:",re),await rs()}).subscribe();return()=>{P.unsubscribe()}},[t,e]),e?t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 via-white to-pink-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 md:py-8",children:[r.jsx("div",{className:"mb-4 md:mb-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent",children:"Admin Dashboard"}),r.jsx("p",{className:"mt-1 md:mt-2 text-xs md:text-sm lg:text-base text-gray-600",children:"Manage conversations and monitor user activity"})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsxs("button",{onClick:()=>s("/"),className:"px-2 md:px-3 lg:px-4 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-colors text-xs md:text-sm flex items-center gap-1 md:gap-2",children:[r.jsx(eE,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Back to Website"}),r.jsx("span",{className:"sm:hidden",children:"Home"})]}),r.jsxs("button",{onClick:i==="analytics"?bo:hn,className:"px-2 md:px-3 lg:px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-lg hover:from-rose-600 hover:to-pink-600 transition-colors text-xs md:text-sm flex items-center gap-1 md:gap-2 relative",disabled:i==="analytics"?Ir:T,children:[i==="analytics"?Ir?r.jsx("span",{className:"animate-spin inline-block mr-1",children:r.jsx(cd,{className:"w-3 h-3 md:w-4 md:h-4"})}):r.jsx(cd,{className:"w-3 h-3 md:w-4 md:h-4"}):T?r.jsx("span",{className:"animate-spin inline-block mr-1",children:r.jsx(cd,{className:"w-3 h-3 md:w-4 md:h-4"})}):r.jsx(cd,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Refresh Data"}),r.jsx("span",{className:"sm:hidden",children:"Refresh"})]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-1 mb-4 md:mb-8",children:r.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row gap-1 md:gap-0",children:[r.jsxs("button",{onClick:()=>a("conversations"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="conversations"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(Ns,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Chats"})]}),r.jsxs("button",{onClick:()=>a("gifts"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="gifts"?"bg-gradient-to-r from-rose-500 to-pink-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(B4,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Gifts"})]}),r.jsxs("button",{onClick:()=>a("users"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="users"?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(yE,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Users"})]}),r.jsxs("button",{onClick:()=>a("models"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 ${i==="models"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(xE,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Models"})]}),r.jsxs("button",{onClick:()=>a("analytics"),className:`px-2 md:px-4 py-2 md:py-3 text-xs md:text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1 md:gap-2 col-span-2 md:col-span-1 ${i==="analytics"?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(kd,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"whitespace-nowrap",children:"Analytics"})]})]})}),i==="conversations"?r.jsxs("div",{className:"flex flex-col md:flex-row h-[600px] md:h-[700px] bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:`w-full md:w-96 ${C?"hidden md:flex":"flex"} border-r md:border-r border-gray-200 flex-col`,children:[r.jsx("div",{className:"px-3 md:px-4 py-3 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Conversations"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[dr.reduce((P,re)=>P+re.conversations.length,0)," active chats"]})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-3 text-xs",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"Users"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-gray-600",children:"Models"})]})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:T?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):dr.length===0?r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Ns,{className:"mx-auto h-8 w-8 text-gray-400 mb-3"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No conversations found"})]}):dr.flatMap(P=>P.conversations.sort((re,Ae)=>new Date(Ae.lastMessageAt).getTime()-new Date(re.lastMessageAt).getTime()).map(re=>r.jsx("div",{className:`p-2 md:p-3 lg:p-4 cursor-pointer transition-all duration-200 border-b border-gray-100 hover:bg-slate-50 ${(C==null?void 0:C.id)===`${P.user.id}-${re.profileId}`?"bg-rose-50 border-l-4 border-l-rose-500":re.unreadCount>0?"bg-rose-50/30 border-l-4 border-l-rose-300":""}`,onClick:async()=>{try{_(De=>De.map(B=>B.user.id===P.user.id?{...B,conversations:B.conversations.map(xe=>xe.profileId===re.profileId?{...xe,unreadCount:0}:xe)}:B));try{await ti.markConversationAsRead(P.user.id,re.profileId)}catch(De){console.log("Failed to mark conversation as read in database:",De)}const Ae=await ti.getConversation(P.user.id,re.profileId);console.log(" [DEBUG] Loaded conversation messages:",Ae.messages.map(De=>{var B;return{id:De.id,type:De.type,content:(B=De.content)==null?void 0:B.substring(0,50),imageUrl:De.imageUrl,hasImageUrl:!!De.imageUrl}})),L(Ae),M(!1)}catch(Ae){console.error("Failed to load conversation:",Ae)}},children:r.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 lg:space-x-3",children:[r.jsxs("div",{className:"relative",children:[P.user.photo?r.jsx("img",{src:P.user.photo,alt:`${P.user.firstName} ${P.user.lastName}`,className:"h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full object-cover border border-blue-200"}):r.jsx("div",{className:"h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border border-blue-200",children:r.jsxs("span",{className:"text-xs font-semibold text-white",children:[P.user.firstName[0],P.user.lastName[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 md:w-2 md:h-2 lg:w-2.5 lg:h-2.5 bg-blue-500 border border-white rounded-full",title:"Real User"})]}),r.jsxs("div",{className:"relative",children:[re.profilePhoto?r.jsx("img",{src:re.profilePhoto,alt:re.profileName,className:"h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full object-cover border border-green-200",onError:Ae=>{if(re.profileName.includes("Elena"))Ae.currentTarget.src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80";else{Ae.currentTarget.style.display="none";const De=Ae.currentTarget.nextElementSibling;De&&(De.style.display="flex")}}}):null,r.jsx("div",{className:`h-6 w-6 md:h-7 md:w-7 lg:h-8 lg:w-8 rounded-full bg-gradient-to-br from-green-400 to-green-500 flex items-center justify-center border border-green-200 ${re.profilePhoto?"hidden":"flex"}`,children:r.jsx("span",{className:"text-xs font-semibold text-white",children:re.profileName[0]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-1.5 h-1.5 md:w-2 md:h-2 lg:w-2.5 lg:h-2.5 bg-green-500 border border-white rounded-full",title:"Model"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:[P.user.firstName,"  ",re.profileName]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:ns(new Date(re.lastMessageAt))}),re.unreadCount>0&&r.jsx("div",{className:"bg-rose-500 text-white text-xs font-semibold rounded-full min-w-[20px] h-[20px] flex items-center justify-center px-1.5 shadow-sm animate-pulse",children:re.unreadCount>99?"99+":re.unreadCount})]})]}),r.jsx("p",{className:"text-xs text-gray-600 truncate mt-0.5",children:re.lastMessage||"No messages yet..."})]})]})},`${P.user.id}-${re.profileId}`)))})]}),r.jsx("div",{className:`flex-1 ${C?"flex":"hidden md:flex"} flex-col h-[100dvh] md:h-auto relative`,children:C?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between p-2 md:p-4",children:[r.jsx("button",{className:"md:hidden h-8 w-8 -ml-1 hover:bg-white/60 rounded-lg flex items-center justify-center transition-colors",onClick:()=>L(null),children:r.jsx(Ah,{className:"h-5 w-5 text-slate-600"})}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[r.jsxs("div",{className:"relative hidden md:block",children:[C.user.photo?r.jsx("img",{src:C.user.photo,alt:`${C.user.firstName} ${C.user.lastName}`,className:"h-10 w-10 rounded-full object-cover border-2 border-blue-200"}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border-2 border-blue-200",children:r.jsxs("span",{className:"text-sm font-semibold text-white",children:[C.user.firstName[0],C.user.lastName[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-blue-500 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"relative md:hidden",children:[C.user.photo?r.jsx("img",{src:C.user.photo,alt:`${C.user.firstName} ${C.user.lastName}`,className:"h-8 w-8 rounded-full object-cover border-2 border-blue-200"}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border-2 border-blue-200",children:r.jsxs("span",{className:"text-xs font-semibold text-white",children:[C.user.firstName[0],C.user.lastName[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-blue-500 border-2 border-white rounded-full"})]}),r.jsxs("div",{className:"relative hidden md:block",children:[C.profile.photo?r.jsx("img",{src:C.profile.photo,alt:`${C.profile.firstName} ${C.profile.lastName}`,className:"h-10 w-10 rounded-full object-cover border-2 border-green-200"}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:e.photos&&e.photos[0]?r.jsx("img",{src:e.photos[0],alt:e.firstName,className:"h-10 w-10 object-cover rounded-full"}):r.jsxs("span",{children:[(Ia=e.firstName)==null?void 0:Ia[0],(fa=e.lastName)==null?void 0:fa[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full",title:"Model"})]}),r.jsxs("div",{className:"relative md:hidden",children:[C.profile.photo?r.jsx("img",{src:C.profile.photo,alt:`${C.profile.firstName} ${C.profile.lastName}`,className:"h-8 w-8 rounded-full object-cover border-2 border-green-200"}):r.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:e.photos&&e.photos[0]?r.jsx("img",{src:e.photos[0],alt:e.firstName,className:"h-8 w-8 object-cover rounded-full"}):r.jsxs("span",{className:"text-xs",children:[(Ra=e.firstName)==null?void 0:Ra[0],(Kr=e.lastName)==null?void 0:Kr[0]]})}),r.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full",title:"Model"})]}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-800 truncate",children:[C.user.firstName,"  ",C.profile.firstName]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mt-0.5 md:mt-1",children:[r.jsx("span",{className:"inline-flex items-center px-1.5 md:px-2 py-0.5 rounded-full text-[10px] md:text-xs font-medium bg-blue-100 text-blue-800",children:"Real User"}),r.jsx("span",{className:"text-[10px] md:text-xs text-slate-500 hidden md:inline",children:""}),r.jsx("span",{className:"inline-flex items-center px-1.5 md:px-2 py-0.5 rounded-full text-[10px] md:text-xs font-medium bg-green-100 text-green-800",children:"Model"})]})]})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-slate-50/30 to-white pb-[150px] md:pb-4",children:[C.messages.length===0?r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ns,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"No messages yet"})]})}):C.messages.map(P=>r.jsxs("div",{className:`flex ${P.role==="user"?"justify-start":"justify-end"}`,children:[r.jsxs("div",{className:`max-w-[85%] md:max-w-[80%] ${P.role==="user","order-2"}`,children:[r.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-sm ${P.type==="gift"?P.role==="user"?"bg-gradient-to-r from-pink-50 to-rose-50 text-slate-800 rounded-bl-md border-2 border-rose-200 shadow-lg":"bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white rounded-br-md border-2 border-yellow-300 shadow-lg":P.role==="user"?"bg-white text-slate-800 rounded-bl-md border border-slate-200":"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md"}`,children:(()=>{var re;return console.log(" [UI DEBUG] Rendering message:",{id:P.id,type:P.type,content:(re=P.content)==null?void 0:re.substring(0,30),imageUrl:P.imageUrl,hasImageUrl:!!P.imageUrl,isGift:P.type==="gift",isImage:P.type==="image",imageCondition:P.type==="image"&&P.imageUrl}),P.type==="gift"?r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("div",{className:"text-2xl animate-bounce",children:ot(P.content).emoji}),r.jsx("p",{className:"text-sm font-medium",children:P.role==="user"?"Gift Sent!":"Gift Received!"}),r.jsx("p",{className:"text-xs opacity-90",children:ot(P.content).name})]}):P.type==="image"&&P.imageUrl?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:P.imageUrl,alt:"Shared image",className:"rounded-lg max-w-48 h-auto cursor-pointer hover:opacity-90 transition-opacity",style:{maxHeight:"200px",objectFit:"cover"},onClick:()=>window.open(P.imageUrl,"_blank"),loading:"lazy",onError:Ae=>{console.error(" [UI DEBUG] Image failed to load:",P.imageUrl)},onLoad:()=>{console.log(" [UI DEBUG] Image loaded successfully:",P.imageUrl)}}),P.content&&r.jsx("p",{className:"text-sm",children:P.content})]}):P.type==="image"&&!P.imageUrl?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 text-red-700 text-sm",children:[" DEBUG: Image message missing imageUrl",r.jsx("br",{}),"Type: ",P.type,r.jsx("br",{}),"ImageUrl: ",P.imageUrl||"null/undefined"]}),P.content&&r.jsx("p",{className:"text-sm",children:P.content})]}):r.jsx("p",{className:"text-sm leading-relaxed break-words",children:P.content})})()}),r.jsxs("p",{className:`text-xs text-slate-500 mt-2 px-1 ${P.role==="user"?"text-left":"text-right"}`,children:[ps(new Date(P.timestamp)),"  ",P.role==="user"?C.user.firstName:C.profile.firstName]})]}),P.role==="user"&&r.jsx("div",{className:"order-1 mr-2",children:C.user.photo?r.jsx("img",{src:C.user.photo,alt:C.user.firstName,className:"w-6 h-6 rounded-full object-cover border border-slate-200"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-slate-400 to-slate-500 flex items-center justify-center border border-slate-200",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:C.user.firstName[0]})})}),P.role!=="user"&&r.jsx("div",{className:"order-3 ml-2",children:C.profile.photo?r.jsx("img",{src:C.profile.photo,alt:C.profile.firstName,className:"w-6 h-6 rounded-full object-cover border border-blue-200"}):r.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center border border-blue-200",children:r.jsx("span",{className:"text-xs font-semibold text-white",children:C.profile.firstName[0]})})})]},P.id)),r.jsx("div",{ref:Pe})]}),Ie&&r.jsx("div",{className:"border-t border-slate-200 p-4 bg-white fixed bottom-[80px] left-0 right-0 md:static",children:r.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2",children:mn.map(P=>r.jsx("button",{onClick:()=>_n(P),className:"p-3 hover:bg-slate-100 active:bg-slate-200 rounded-lg text-lg transition-colors touch-manipulation",children:P},P))})}),r.jsx("div",{className:"border-t border-slate-200 p-4 bg-white fixed bottom-0 left-0 right-0 md:static",children:r.jsxs("div",{className:"space-y-3 max-w-[100vw] md:max-w-none",children:[r.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:ha,disabled:Je||K,children:[Je?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-slate-600 mr-1"}):r.jsx(O4,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Photo"})]}),r.jsxs(Re,{variant:"ghost",size:"sm",className:"h-8 px-3 hover:bg-slate-100 active:bg-slate-200 touch-manipulation flex-shrink-0",onClick:()=>Ke(!Ie),children:[r.jsx(ip,{className:"h-4 w-4 mr-1"}),r.jsx("span",{className:"text-xs",children:"Emoji"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fs,{value:O,onChange:P=>X(P.target.value),onKeyPress:P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),O.trim()&&e&&!K&&(de(!0),ti.sendProfileResponse(C.id,O,C.profile.id,e.id).then(async()=>{X("");const re=await ti.getConversation(C.userId,C.profileId);L(re)}).catch(re=>{console.error("Failed to send response:",re)}).finally(()=>{de(!1)})))},placeholder:`Message ${C.user.firstName}...`,className:"rounded-full border-slate-300 focus:border-rose-400 focus:ring-rose-400 text-base h-12 pr-12"}),r.jsx("button",{onClick:()=>Ke(!Ie),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition-colors",children:r.jsx(ip,{className:"h-5 w-5 text-slate-400"})})]}),!O.trim()&&r.jsx(Re,{variant:"ghost",size:"sm",className:"h-12 w-12 p-0 touch-manipulation transition-colors hover:bg-slate-100 active:bg-slate-200 text-slate-600",onClick:()=>{},title:"Voice message",children:r.jsx(np,{className:"h-5 w-5"})}),O.trim()&&r.jsx(Re,{onClick:async()=>{if(O.trim()&&e&&!K){de(!0);try{await ti.sendProfileResponse(C.id,O,C.profile.id,e.id),X("");const P=await ti.getConversation(C.userId,C.profileId);L(P)}catch(P){console.error("Failed to send response:",P)}finally{de(!1)}}},disabled:K||Je,className:"h-12 w-12 p-0 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 touch-manipulation",children:r.jsx(Kv,{className:"h-4 w-4"})})]})]})}),r.jsx("input",{ref:he,type:"file",accept:"image/*",onChange:Wn,className:"hidden"})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ns,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Choose a conversation from the sidebar to start managing messages"})]})})})]}):i==="gifts"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-rose-50 to-pink-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gifts"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Manage ",di.length," gifts"]})]}),r.jsxs("button",{onClick:()=>{oe(!0),En()},className:"px-4 py-2 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-lg hover:from-rose-600 hover:to-pink-600 transition-colors flex items-center gap-2",children:[r.jsx(Sd,{className:"w-4 h-4"}),"Add Gift"]})]})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(P=>r.jsx("button",{onClick:()=>te(P),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${Z===P?"bg-rose-100 text-rose-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:P.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())},P))})}),r.jsx("div",{className:"p-6",children:T?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):di.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ri,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No gifts found"}),r.jsx("p",{className:"text-gray-600",children:"No gifts match your search criteria."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:di.map(P=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-100",children:r.jsx("img",{src:P.image_url,alt:P.name,className:"w-full h-48 object-cover",onError:re=>{re.currentTarget.src="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400"}})}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:P.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:P.description}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("span",{className:"font-bold text-rose-600",children:[P.price," coins"]}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:P.category.replace(/_/g," ")}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${P.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:P.is_active?"Active":"Inactive"})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>Fi(P),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-1",children:[r.jsx(rg,{className:"w-4 h-4"}),"Edit"]}),r.jsx("button",{onClick:()=>Oi(P.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center justify-center",children:r.jsx(Cd,{className:"w-4 h-4"})})]})]})]},P.id))})})]}):i==="users"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-teal-50 to-emerald-50",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Manage ",Bi.length," users"]})]})})}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:c,onChange:P=>d(P.target.value),placeholder:"Search users by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),r.jsx("div",{className:"p-6",children:T?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Bi.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ta,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"})]}):r.jsx("div",{className:"space-y-4",children:Bi.map(P=>{var re,Ae;return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-teal-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:P.photos&&P.photos[0]?r.jsx("img",{src:P.photos[0],alt:P.first_name,className:"h-10 w-10 object-cover rounded-full"}):r.jsxs("span",{children:[(re=P.first_name)==null?void 0:re[0],(Ae=P.last_name)==null?void 0:Ae[0]]})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 truncate",children:[P.first_name," ",P.last_name]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.email})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${P.role==="admin"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:P.role||"user"}),r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["Joined ",new Date(P.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2 border-t md:border-t-0 pt-3 md:pt-0 mt-3 md:mt-0",children:[r.jsxs("button",{onClick:()=>Gn(P,"view"),className:"flex-1 md:flex-none p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",title:"View Details",children:[r.jsx(Ii,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"View"})]}),r.jsxs("button",{onClick:()=>Gn(P,"edit"),className:"flex-1 md:flex-none p-2 text-blue-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",title:"Edit User",children:[r.jsx(rg,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Edit"})]}),r.jsxs("button",{onClick:()=>yo(P.id,"delete"),className:"flex-1 md:flex-none p-2 text-red-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Delete User",children:[r.jsx(Cd,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Delete"})]})]})]})})},P.id)})})})]}):i==="analytics"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Analytics"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track your sales performance and revenue"})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1 shadow-inner overflow-x-auto scrollbar-hide",children:[r.jsx("button",{onClick:()=>Qs("today"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${Ps==="today"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"Today"}),r.jsx("button",{onClick:()=>Qs("week"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${Ps==="week"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"Last 7 Days"}),r.jsx("button",{onClick:()=>Qs("month"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${Ps==="month"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"This Month"}),r.jsx("button",{onClick:()=>Qs("all"),className:`px-3 md:px-4 py-2 text-xs md:text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 whitespace-nowrap flex-shrink-0 ${Ps==="all"?"bg-white text-blue-600 shadow-sm transform scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 active:scale-95"}`,style:{WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none"},children:"All Time"})]})]})}),Ir?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):Nt?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-red-50 text-red-600 rounded-lg p-4",children:Nt})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6 p-3 md:p-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Total Revenue"}),r.jsx(sg,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsxs("p",{className:"text-lg md:text-2xl font-bold mt-2",children:["$",_t.totalRevenue.toFixed(2)]}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsxs("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:["Subs: $",_t.subscriptionRevenue.toFixed(2)]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Monthly Revenue"}),r.jsx(Nm,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsxs("p",{className:"text-lg md:text-2xl font-bold mt-2",children:["$",_t.monthlyRevenue.toFixed(2)]}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsxs("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:["Subs: $",_t.monthlySubscriptionRevenue.toFixed(2)]})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Subscriptions"}),r.jsx(ms,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold mt-2",children:_t.activeSubscriptions}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsx("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:"Active Plans"})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-4 md:p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm md:text-lg font-semibold",children:"Coins Activity"}),r.jsx(sg,{className:"h-4 w-4 md:h-5 md:w-5 opacity-80"})]}),r.jsx("p",{className:"text-lg md:text-2xl font-bold mt-2",children:_t.totalCoinsSpent}),r.jsx("div",{className:"flex items-center gap-1 md:gap-2 mt-2",children:r.jsx("span",{className:"text-xs bg-white/20 rounded-full px-1.5 md:px-2 py-0.5",children:"Total Coins Spent"})})]})]}),r.jsxs("div",{className:"p-3 md:p-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 md:gap-0 mb-4 md:mb-6",children:[r.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900",children:"Recent Transactions"}),r.jsxs("div",{className:"relative w-full md:w-auto",children:[r.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:un,onChange:P=>qs(P.target.value),placeholder:"Search transactions...",className:"w-full md:w-64 pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsx("div",{className:"overflow-x-auto -mx-3 md:mx-0",children:r.jsxs("table",{className:"w-full min-w-[800px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Transaction ID"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Customer"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Type"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Plan/Coins"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Amount"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Status"}),r.jsx("th",{className:"text-left py-2 md:py-3 px-2 md:px-4 text-xs md:text-sm font-semibold text-gray-600",children:"Date"})]})}),r.jsx("tbody",{children:_t.recentTransactions.filter(P=>{var re,Ae,De,B,xe,je;return((re=P.subscription_plan)==null?void 0:re.toLowerCase().includes(un.toLowerCase()))||((De=(Ae=P.profiles)==null?void 0:Ae.first_name)==null?void 0:De.toLowerCase().includes(un.toLowerCase()))||((xe=(B=P.profiles)==null?void 0:B.last_name)==null?void 0:xe.toLowerCase().includes(un.toLowerCase()))||((je=P.type)==null?void 0:je.toLowerCase().includes(un.toLowerCase()))}).map(P=>{var re,Ae,De,B,xe,je,ye;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:["#",P.id.slice(0,8)]})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[r.jsxs("div",{className:"h-6 w-6 md:h-8 md:w-8 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center text-blue-600 text-xs md:text-sm font-medium",children:[(Ae=(re=P.profiles)==null?void 0:re.first_name)==null?void 0:Ae[0],(B=(De=P.profiles)==null?void 0:De.last_name)==null?void 0:B[0]]}),r.jsx("div",{children:r.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-900",children:[(xe=P.profiles)==null?void 0:xe.first_name," ",(je=P.profiles)==null?void 0:je.last_name]})})]})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:`text-xs font-medium px-1.5 md:px-2 py-0.5 md:py-1 rounded-full ${P.type==="subscription"?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:P.type==="subscription"?"Subscription":"Coins"})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:P.type==="subscription"?P.subscription_plan:`${P.coins_added} coins`})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsxs("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:["$",(ye=P.amount)==null?void 0:ye.toFixed(2)]})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:`text-xs font-medium px-1.5 md:px-2 py-0.5 md:py-1 rounded-full ${P.status==="completed"?"bg-green-100 text-green-700":P.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:P.status})}),r.jsx("td",{className:"py-2 md:py-3 px-2 md:px-4",children:r.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:new Date(P.created_at).toLocaleDateString()})})]},P.id)})})]})})]}),r.jsxs("div",{className:"p-3 md:p-6 border-t border-gray-200",children:[r.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-4 md:mb-6",children:"Popular Subscription Plans"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:_t.popularPlans.map((P,re)=>{var Ae;return r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-900",children:P.plan}),r.jsxs("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-1.5 md:px-2 py-0.5 md:py-1 rounded-full",children:[P.count," sold"]})]}),r.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Revenue: $",(Ae=P.revenue)==null?void 0:Ae.toFixed(2)]})]},re)})})]}),r.jsx("div",{className:"p-3 md:p-6 border-t border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6",children:[r.jsx("h5",{className:"text-sm md:text-base font-semibold text-gray-900 mb-3 md:mb-4",children:"Active Subscriptions"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-bold text-purple-600",children:_t.activeSubscriptions}),r.jsx("div",{className:"bg-purple-100 rounded-full p-2 md:p-3",children:r.jsx(ms,{className:"h-5 w-5 md:h-6 md:w-6 text-purple-600"})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6",children:[r.jsx("h5",{className:"text-sm md:text-base font-semibold text-gray-900 mb-3 md:mb-4",children:"Total Coins Spent"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-bold text-amber-600",children:_t.totalCoinsSpent}),r.jsx("div",{className:"bg-amber-100 rounded-full p-2 md:p-3",children:r.jsx(sg,{className:"h-5 w-5 md:h-6 md:w-6 text-amber-600"})})]}),r.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-2",children:["Monthly: ",_t.monthlyCoinsSpent," coins"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 md:p-6 sm:col-span-2 md:col-span-1",children:[r.jsx("h5",{className:"text-sm md:text-base font-semibold text-gray-900 mb-3 md:mb-4",children:"Gift Activity"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl md:text-3xl font-bold text-pink-600",children:_t.totalGiftsSent}),r.jsx("div",{className:"bg-pink-100 rounded-full p-2 md:p-3",children:r.jsx(Ri,{className:"h-5 w-5 md:h-6 md:w-6 text-pink-600"})})]}),r.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mt-2",children:["Monthly: ",_t.monthlyGiftsSent," gifts"]})]})]})})]})]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 md:gap-4 px-6 pt-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 text-left",children:"Model Management"}),r.jsxs("p",{className:"text-sm md:text-base text-gray-600 mt-1 text-left",children:["Manage ",o.filter(P=>P.role==="model").length," models"]})]}),r.jsxs("button",{onClick:()=>ft(!0),className:"w-full md:w-auto px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-colors flex items-center justify-center gap-2 text-base md:text-lg",children:[r.jsx(kd,{className:"w-4 h-4"}),"Generate Models"]})]}),r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",value:c,onChange:P=>d(P.target.value),placeholder:"Search models by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),r.jsx("div",{className:"p-6",children:T?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):o.filter(P=>{var re,Ae,De;return P.role==="model"&&(((re=P.first_name)==null?void 0:re.toLowerCase().includes(c.toLowerCase()))||((Ae=P.last_name)==null?void 0:Ae.toLowerCase().includes(c.toLowerCase()))||((De=P.email)==null?void 0:De.toLowerCase().includes(c.toLowerCase())))}).length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ta,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No models found"})]}):r.jsx("div",{className:"space-y-4",children:o.filter(P=>{var re,Ae,De;return P.role==="model"&&(((re=P.first_name)==null?void 0:re.toLowerCase().includes(c.toLowerCase()))||((Ae=P.last_name)==null?void 0:Ae.toLowerCase().includes(c.toLowerCase()))||((De=P.email)==null?void 0:De.toLowerCase().includes(c.toLowerCase())))}).map(P=>{var re,Ae;return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:P.photos&&P.photos[0]?r.jsx("img",{src:P.photos[0],alt:P.first_name,className:"h-10 w-10 object-cover rounded-full"}):r.jsxs("span",{children:[(re=P.first_name)==null?void 0:re[0],(Ae=P.last_name)==null?void 0:Ae[0]]})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 truncate",children:[P.first_name," ",P.last_name]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.email})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-600",children:"model"}),r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["Joined ",new Date(P.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2 border-t md:border-t-0 pt-3 md:pt-0 mt-3 md:mt-0",children:[r.jsxs("button",{onClick:()=>Gn(P,"view"),className:"flex-1 md:flex-none p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",title:"View Details",children:[r.jsx(Ii,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"View"})]}),r.jsxs("button",{onClick:()=>Gn(P,"edit"),className:"flex-1 md:flex-none p-2 text-blue-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",title:"Edit Model",children:[r.jsx(rg,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Edit"})]}),r.jsxs("button",{onClick:()=>yo(P.id,"delete"),className:"flex-1 md:flex-none p-2 text-red-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",title:"Delete Model",children:[r.jsx(Cd,{className:"h-4 w-4 mx-auto"}),r.jsx("span",{className:"text-xs mt-1 block md:hidden",children:"Delete"})]})]})]})})},P.id)})})})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x==="edit"?"Edit User/Model":x==="add"?"Add User/Model":"User Details"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:N.firstName,onChange:P=>y(re=>({...re,firstName:P.target.value})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:N.lastName,onChange:P=>y(re=>({...re,lastName:P.target.value})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsxs(ts,{value:N.role,onChange:P=>y(re=>({...re,role:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"model",children:"Model"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birth Date *"}),r.jsx("input",{type:"date",value:N.birthDate||"",onChange:P=>y(re=>({...re,birthDate:P.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.birthDate?"border-red-500":"border-gray-300"}`}),v.birthDate&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.birthDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),r.jsx("input",{type:"text",value:N.country||"",onChange:P=>y(re=>({...re,country:P.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.country?"border-red-500":"border-gray-300"}`}),v.country&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.country})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),r.jsx("input",{type:"text",value:N.city||"",onChange:P=>y(re=>({...re,city:P.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.city?"border-red-500":"border-gray-300"}`}),v.city&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.city})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profession *"}),r.jsx("input",{type:"text",value:N.profession||"",onChange:P=>y(re=>({...re,profession:P.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.profession?"border-red-500":"border-gray-300"}`}),v.profession&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.profession})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages (comma separated)"}),r.jsx("input",{type:"text",value:N.languages?N.languages.join(", "):"",onChange:P=>y(re=>({...re,languages:P.target.value.split(",").map(Ae=>Ae.trim())})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100",placeholder:"English, Spanish, French"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo URLs (comma separated) *"}),r.jsx("input",{type:"text",value:N.photos?N.photos.join(", "):"",onChange:P=>y(re=>({...re,photos:P.target.value.split(",").map(Ae=>Ae.trim())})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 ${v.photos?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/photo1.jpg, https://example.com/photo2.jpg"}),v.photos&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.photos}),N.photos&&N.photos[0]&&r.jsx("img",{src:N.photos[0],alt:"Preview",className:"h-16 w-16 rounded-full mt-2 object-cover border"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio *"}),r.jsx("textarea",{value:N.bio||"",onChange:P=>y(re=>({...re,bio:P.target.value})),disabled:x==="view",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100 min-h-[80px] ${v.bio?"border-red-500":"border-gray-300"}`,placeholder:"Tell us about yourself..."}),v.bio&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.bio})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests (comma separated)"}),r.jsx("input",{type:"text",value:N.interests?N.interests.join(", "):"",onChange:P=>y(re=>({...re,interests:P.target.value.split(",").map(Ae=>Ae.trim())})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100",placeholder:"Travel, Music, Art, Cooking"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coins"}),r.jsx("input",{type:"number",value:N.coins||0,onChange:P=>y(re=>({...re,coins:parseInt(P.target.value)||0})),disabled:x==="view",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent disabled:bg-gray-100",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),r.jsxs(ts,{value:N.gender||"female",onChange:P=>y(re=>({...re,gender:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"female",children:"Female"}),r.jsx("option",{value:"male",children:"Male"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Eye Color"}),r.jsxs(ts,{value:N.eyeColor||"",onChange:P=>y(re=>({...re,eyeColor:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Eye Color"}),r.jsx("option",{value:"blue",children:"Blue"}),r.jsx("option",{value:"brown",children:"Brown"}),r.jsx("option",{value:"green",children:"Green"}),r.jsx("option",{value:"hazel",children:"Hazel"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hair Color"}),r.jsxs(ts,{value:N.hairColor||"",onChange:P=>y(re=>({...re,hairColor:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Hair Color"}),r.jsx("option",{value:"blonde",children:"Blonde"}),r.jsx("option",{value:"brunette",children:"Brunette"}),r.jsx("option",{value:"black",children:"Black"}),r.jsx("option",{value:"red",children:"Red"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appearance Type"}),r.jsxs(ts,{value:N.appearanceType||"",onChange:P=>y(re=>({...re,appearanceType:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"slim",children:"Slim"}),r.jsx("option",{value:"athletic",children:"Athletic"}),r.jsx("option",{value:"average",children:"Average"}),r.jsx("option",{value:"curvy",children:"Curvy"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alcohol"}),r.jsxs(ts,{value:N.alcohol||"",onChange:P=>y(re=>({...re,alcohol:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Preference"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"socially",children:"Socially"}),r.jsx("option",{value:"regularly",children:"Regularly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Smoking"}),r.jsxs(ts,{value:N.smoking||"",onChange:P=>y(re=>({...re,smoking:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Preference"}),r.jsx("option",{value:"never",children:"Never"}),r.jsx("option",{value:"rarely",children:"Rarely"}),r.jsx("option",{value:"regularly",children:"Regularly"}),r.jsx("option",{value:"trying to quit",children:"Trying to Quit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Children"}),r.jsxs(ts,{value:N.children||"",onChange:P=>y(re=>({...re,children:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Preference"}),r.jsx("option",{value:"have",children:"Have"}),r.jsx("option",{value:"want",children:"Want"}),r.jsx("option",{value:"maybe",children:"Maybe"}),r.jsx("option",{value:"no",children:"No"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Religion"}),r.jsxs(ts,{value:N.religion||"",onChange:P=>y(re=>({...re,religion:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Religion"}),r.jsx("option",{value:"christian",children:"Christian"}),r.jsx("option",{value:"orthodox",children:"Orthodox"}),r.jsx("option",{value:"catholic",children:"Catholic"}),r.jsx("option",{value:"muslim",children:"Muslim"}),r.jsx("option",{value:"none",children:"None"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zodiac Sign"}),r.jsxs(ts,{value:N.zodiacSign||"",onChange:P=>y(re=>({...re,zodiacSign:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Sign"}),r.jsx("option",{value:"aries",children:"Aries"}),r.jsx("option",{value:"taurus",children:"Taurus"}),r.jsx("option",{value:"gemini",children:"Gemini"}),r.jsx("option",{value:"cancer",children:"Cancer"}),r.jsx("option",{value:"leo",children:"Leo"}),r.jsx("option",{value:"virgo",children:"Virgo"}),r.jsx("option",{value:"libra",children:"Libra"}),r.jsx("option",{value:"scorpio",children:"Scorpio"}),r.jsx("option",{value:"sagittarius",children:"Sagittarius"}),r.jsx("option",{value:"capricorn",children:"Capricorn"}),r.jsx("option",{value:"aquarius",children:"Aquarius"}),r.jsx("option",{value:"pisces",children:"Pisces"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"English Level"}),r.jsxs(ts,{value:N.englishLevel||"",onChange:P=>y(re=>({...re,englishLevel:P.target.value})),disabled:x==="view",children:[r.jsx("option",{value:"",children:"Select Level"}),r.jsx("option",{value:"basic",children:"Basic"}),r.jsx("option",{value:"intermediate",children:"Intermediate"}),r.jsx("option",{value:"advanced",children:"Advanced"}),r.jsx("option",{value:"fluent",children:"Fluent"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Features"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.verified||!1,onChange:P=>y(re=>({...re,verified:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Verified"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.premium||!1,onChange:P=>y(re=>({...re,premium:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Premium"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.hasIntroVideo||!1,onChange:P=>y(re=>({...re,hasIntroVideo:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Intro Video"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.isOnline||!1,onChange:P=>y(re=>({...re,isOnline:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Online"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.hasVideo||!1,onChange:P=>y(re=>({...re,hasVideo:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Has Video"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.hasCameraOn||!1,onChange:P=>y(re=>({...re,hasCameraOn:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Camera On"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.birthdaySoon||!1,onChange:P=>y(re=>({...re,birthdaySoon:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Birthday Soon"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.newProfile||!1,onChange:P=>y(re=>({...re,newProfile:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"New Profile"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:N.top1000||!1,onChange:P=>y(re=>({...re,top1000:P.target.checked})),disabled:x==="view",className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"text-sm",children:"Top 1000"})]})]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>{p(!1),h(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:x==="view"?"Close":"Cancel"}),x==="edit"&&r.jsx("button",{onClick:()=>{N.role==="model"&&!Ui()||Pl()},disabled:!N.firstName||!N.lastName,className:"px-4 py-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white rounded-lg hover:from-teal-600 hover:to-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Update User/Model"}),x==="add"&&r.jsx("button",{onClick:()=>{N.role==="model"&&!Ui()||Tl()},disabled:!N.firstName||!N.lastName,className:"px-4 py-2 bg-gradient-to-r from-teal-500 to-emerald-500 text-white rounded-lg hover:from-teal-600 hover:to-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add User/Model"})]})]})}),(be||_e)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_e?"Edit Gift":"Add New Gift"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Name"}),r.jsx("input",{type:"text",value:ze.name,onChange:P=>Be(re=>({...re,name:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter gift name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (coins)"}),r.jsx("input",{type:"number",value:ze.price,onChange:P=>Be(re=>({...re,price:parseInt(P.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter price",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsx(ts,{value:ze.category,onChange:P=>Be(re=>({...re,category:P.target.value})),children:I.filter(P=>P!=="all").map(P=>r.jsx("option",{value:P,children:P.replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase())},P))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),r.jsx("input",{type:"url",value:ze.image_url,onChange:P=>Be(re=>({...re,image_url:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:ze.description,onChange:P=>Be(re=>({...re,description:P.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Enter gift description"})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>{oe(!1),Ee(null),En()},className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:_e?Di:An,disabled:!ze.name||!ze.price,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg hover:from-emerald-600 hover:to-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:_e?"Update Gift":"Add Gift"})]})]})}),ht&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Random Models"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automatically create model profiles with realistic data"})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Models to Generate"}),r.jsx("input",{type:"number",min:"1",max:"100",value:at.count,onChange:P=>bt(re=>({...re,count:Math.min(100,Math.max(1,parseInt(P.target.value)||1))})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Countries"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:["Ukraine","Russia","Belarus","Kazakhstan","Georgia","Poland","Czech Republic","Slovakia","Hungary","Romania","Bulgaria","Serbia","Croatia","Slovenia","Latvia","Lithuania","Estonia","Moldova","Armenia","Azerbaijan"].map(P=>r.jsxs("label",{className:"flex items-center text-sm",children:[r.jsx("input",{type:"checkbox",checked:at.countries.includes(P),onChange:re=>{re.target.checked?bt(Ae=>({...Ae,countries:[...Ae.countries,P]})):bt(Ae=>({...Ae,countries:Ae.countries.filter(De=>De!==P)}))},className:"mr-2"}),r.jsx("span",{className:"truncate",children:P})]},P))}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",at.countries.length," countries"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Range"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min Age"}),r.jsx("input",{type:"number",min:"18",max:"65",value:at.ageRange.min,onChange:P=>bt(re=>({...re,ageRange:{...re.ageRange,min:Math.min(re.ageRange.max,Math.max(18,parseInt(P.target.value)||18))}})),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max Age"}),r.jsx("input",{type:"number",min:"18",max:"65",value:at.ageRange.max,onChange:P=>bt(re=>({...re,ageRange:{...re.ageRange,max:Math.max(re.ageRange.min,Math.min(65,parseInt(P.target.value)||35))}})),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:at.includeVerified,onChange:P=>bt(re=>({...re,includeVerified:P.target.checked})),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Include verified profiles (70% chance)"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:at.includePremium,onChange:P=>bt(re=>({...re,includePremium:P.target.checked})),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:"Include premium profiles (30% chance)"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[" Will generate ",at.count," models"]}),r.jsxs("p",{children:[" From countries: ",at.countries.join(", ")]}),r.jsxs("p",{children:[" Age range: ",at.ageRange.min,"-",at.ageRange.max," years"]}),r.jsx("p",{children:" Each model will have random:"}),r.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[r.jsx("li",{children:"Name, profession, bio, and interests"}),r.jsx("li",{children:"Eye color, hair color, and appearance type"}),r.jsx("li",{children:"Lifestyle preferences (alcohol, smoking, children)"}),r.jsx("li",{children:"Religious beliefs and zodiac sign"}),r.jsx("li",{children:"English level and special features"}),r.jsx("li",{children:"Profile photo from Unsplash"})]})]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>ft(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Ll,disabled:xt||at.countries.length===0,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:xt?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(kd,{className:"w-4 h-4"}),"Generate Models"]})})]})]})}),Ze&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Photos for Generated Models"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Ft.length," models generated. Add custom photos or use default ones."]})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-6",children:Ft.map((P,re)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsxs("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-400 to-indigo-400 flex items-center justify-center text-white font-semibold",children:[P.firstName[0],P.lastName[0]]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:[P.firstName," ",P.lastName]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[new Date().getFullYear()-new Date(P.birthDate).getFullYear()," years old  ",P.city,", ",P.country]}),r.jsx("p",{className:"text-xs text-gray-500",children:P.profession})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photo URLs"}),r.jsxs("button",{type:"button",onClick:()=>vo(P.id),className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded hover:bg-purple-200 transition-colors flex items-center gap-1",children:[r.jsx(Sd,{className:"w-3 h-3"}),"Add Photo"]})]}),r.jsx("div",{className:"space-y-2",children:(Et[P.id]||[""]).map((Ae,De)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",placeholder:"https://example.com/photo.jpg",value:Ae||"",onChange:B=>zi(P.id,De,B.target.value),onBlur:B=>{zi(P.id,De,B.target.value.trim())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"}),(Et[P.id]||[]).length>1&&r.jsx("button",{type:"button",onClick:()=>Ml(P.id,De),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Remove photo",children:r.jsx(or,{className:"w-4 h-4"})})]},De))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add photo URLs or leave empty. Multiple photos recommended for better profile presentation."})]})]}),r.jsxs("div",{className:"flex-shrink-0",children:[r.jsxs("div",{className:"w-20 h-20 rounded-lg overflow-hidden border border-gray-200",children:[Et[P.id]&&Et[P.id].length>0&&Et[P.id][0]?r.jsx("img",{src:Et[P.id][0],alt:`${P.firstName}'s photo`,className:"w-full h-full object-cover",onError:Ae=>{var De;Ae.currentTarget.style.display="none",(De=Ae.currentTarget.nextElementSibling)==null||De.classList.remove("hidden")}}):null,r.jsx("div",{className:`w-full h-full bg-gray-200 flex items-center justify-center text-gray-500 text-xs ${Et[P.id]&&Et[P.id].length>0&&Et[P.id][0]?"hidden":""}`,children:"No Photo"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Preview"}),Et[P.id]&&Et[P.id].length>1&&r.jsx("div",{className:"mt-1 text-center",children:r.jsxs("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full",children:[Et[P.id].filter(Ae=>Ae.trim()).length," photos"]})})]})]})},P.id))})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[Ft.length," models ready to create"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>{As(!1),Hr([]),Gt({})},className:"px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Il,disabled:Wr,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Wr?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating Models..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Sd,{className:"w-4 h-4"}),"Create ",Ft.length," Models"]})})]})]})]})})]}),r.jsx(i1,{toasts:n.toasts,onClose:n.removeToast})]}):r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:r.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-red-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin panel."})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-rose-500 mb-6"}),r.jsx("div",{className:"text-lg font-semibold text-gray-700",children:"Loading..."})]})})},DB=()=>{const[e,t]=E.useState({}),[s,n]=E.useState(!1),i=async()=>{n(!0);const a={};try{console.log(" Testing authentication...");const{data:{user:o},error:l}=await Oe.auth.getUser();a.auth={user:o?{id:o.id,email:o.email}:null,error:l},console.log(" Testing profiles table...");try{const{data:c,error:d}=await Oe.from("profiles").select("id, first_name, last_name, role").limit(5);a.profiles={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.profiles={error:c}}console.log(" Testing conversations table...");try{const{data:c,error:d}=await Oe.from("conversations").select("id, user1_id, user2_id").limit(5);a.conversations={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.conversations={error:c}}console.log(" Testing messages table...");try{const{data:c,error:d}=await Oe.from("messages").select("id, sender_id, receiver_id").limit(5);a.messages={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.messages={error:c}}console.log(" Testing conversation_settings table...");try{const{data:c,error:d}=await Oe.from("conversation_settings").select("user_id, other_user_id, is_archived").limit(5);a.conversation_settings={data:(c==null?void 0:c.length)||0,error:d}}catch(c){a.conversation_settings={error:c}}console.log(" Testing admin RPC function...");try{const c=[(o==null?void 0:o.id)||"00000000-0000-0000-0000-000000000000"],{data:d,error:u}=await Oe.rpc("get_all_conversations_for_admin",{user_ids:c});a.admin_rpc={data:(d==null?void 0:d.length)||0,error:u}}catch(c){a.admin_rpc={error:c}}}catch(o){a.general_error=o}console.log(" Debug results:",a),t(a),n(!1)};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Database Debug"}),r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:r.jsx("button",{onClick:i,disabled:s,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:s?"Running Tests...":"Run Database Tests"})}),Object.keys(e).length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Debug Results"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded-md overflow-auto text-sm",children:JSON.stringify(e,null,2)})]})]})})};function OB(){const{notifications:e,addNotification:t,clearAllNotifications:s}=a1(),{openChat:n}=Kp(),i=()=>{const o=["Hi! How are you doing today? ","I was thinking about our last conversation...","Would you like to meet for coffee sometime?","Your profile really caught my attention!","I'd love to get to know you better "],l=[{name:"Elena K.",photo:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80",id:"test-elena",profile:{id:"test-elena",userId:"test-elena",firstName:"Elena",lastName:"K.",gender:"female",birthDate:"1995-05-15",country:"Ukraine",city:"Kyiv",bio:"I feel music in every cell of my body. Looking for someone who shares my passion for arts and travel.",interests:["Music","Travel","Art"],profession:"Graphic Designer",languages:["Ukrainian","English","Russian"],photos:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-01-15",height:168,weight:55,eyeColor:"blue",hairColor:"blonde",appearanceType:"slim",alcohol:"socially",smoking:"never",children:"want",religion:"orthodox",zodiacSign:"taurus",englishLevel:"intermediate",hasIntroVideo:!0,isOnline:!0,hasVideo:!0,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!0}},{name:"Anastasia M.",photo:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80",id:"test-anastasia",profile:{id:"test-anastasia",userId:"test-anastasia",firstName:"Anastasia",lastName:"M.",gender:"female",birthDate:"1992-08-23",country:"Russia",city:"Moscow",bio:"Passionate about literature and philosophy. I enjoy deep conversations and quiet evenings with good wine.",interests:["Reading","Philosophy","Wine Tasting"],profession:"Literature Professor",languages:["Russian","English","French"],photos:["https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=776&q=80"],verified:!0,createdAt:"2023-02-10",height:172,weight:58,eyeColor:"brown",hairColor:"brunette",appearanceType:"average",alcohol:"regularly",smoking:"rarely",children:"none",religion:"orthodox",zodiacSign:"virgo",englishLevel:"advanced",hasIntroVideo:!1,isOnline:!1,hasVideo:!0,hasCameraOn:!0,birthdaySoon:!1,newProfile:!1,top1000:!0}}],c=l[Math.floor(Math.random()*l.length)],d=o[Math.floor(Math.random()*o.length)],u={id:`test-${Date.now()}`,senderName:c.name,senderPhoto:c.photo,message:d,senderId:c.id,timestamp:new Date().toISOString()};t(u),window.testProfiles=window.testProfiles||{},window.testProfiles[c.id]=c.profile},a=()=>{n({id:"test-direct",userId:"test-direct",firstName:"Sofia",lastName:"R.",gender:"female",birthDate:"1994-09-30",country:"Romania",city:"Bucharest",bio:"Software engineer by day, book lover by night. Looking for an intellectual partner who enjoys deep conversations and traveling.",interests:["Technology","Reading","Travel"],profession:"Software Engineer",languages:["Romanian","English","French"],photos:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=774&q=80"],verified:!0,createdAt:"2023-01-05",height:175,weight:62,eyeColor:"gray",hairColor:"brunette",appearanceType:"average",alcohol:"socially",smoking:"never",children:"no-want",religion:"christian",zodiacSign:"libra",englishLevel:"fluent",hasIntroVideo:!1,isOnline:!0,hasVideo:!0,hasCameraOn:!1,birthdaySoon:!1,newProfile:!1,top1000:!0})};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[r.jsx(Xs,{}),r.jsx("main",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mb-6",children:r.jsx(Wv,{className:"w-10 h-10 text-blue-600"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Message Notification Test"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Test the real-time message notification system"})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Click the button below to simulate receiving a message notification"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(Re,{onClick:i,className:"bg-blue-500 hover:bg-blue-600 text-white px-8 py-3 text-lg w-full",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Trigger Test Notification"]}),r.jsxs(Re,{onClick:a,variant:"outline",className:"border-blue-500 text-blue-600 hover:bg-blue-50 px-8 py-3 text-lg w-full",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Open Test Chat Directly"]})]})]}),e.length>0&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Active Notifications (",e.length,")"]}),r.jsxs(Re,{onClick:s,variant:"outline",size:"sm",children:[r.jsx(WA,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),r.jsx("div",{className:"space-y-3",children:e.map(o=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[o.senderPhoto?r.jsx("img",{src:o.senderPhoto,alt:o.senderName,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-400 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-sm",children:o.senderName[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:o.senderName}),r.jsx("p",{className:"text-sm text-gray-600",children:o.message})]})]})},o.id))})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"How it works"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"1"})}),r.jsx("p",{children:"When someone sends you a message, a notification appears in the top-right corner"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"2"})}),r.jsx("p",{children:"Notifications include the sender's photo, name, and message preview"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"3"})}),r.jsx("p",{children:'Click "Reply" or "View Chat" to open the conversation'})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"4"})}),r.jsx("p",{children:"Notifications auto-dismiss after 8 seconds or when you're in an active chat"})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:"5"})}),r.jsx("p",{children:"Browser notifications are also shown if you've granted permission"})]})]})]})]})})]})}),r.jsx(kr,{})]})}const FB=()=>{const{showChatWindow:e,chatProfile:t,closeChat:s}=Kp();return!e||!t?null:r.jsx(e0,{profile:t,isOpen:e,onClose:s})},BB=()=>{const[e,t]=E.useState(!1);E.useEffect(()=>{(()=>{t(!0)})()},[]);const s=n=>{console.log("Cookie consent updated:",n),n.analytics&&console.log("Analytics enabled"),n.marketing&&console.log("Marketing cookies enabled")};return r.jsx(wB,{onConsentChange:s,children:r.jsx(_7,{children:r.jsx(E7,{children:r.jsx(T7,{children:r.jsxs(FA,{children:[r.jsx(f9,{}),!e&&r.jsxs("div",{className:"bg-amber-100 border-l-4 border-amber-500 text-amber-700 p-4 fixed top-0 left-0 right-0 z-50",children:[r.jsx("p",{className:"font-medium",children:"Supabase connection not established. Using mock data."}),r.jsx("p",{className:"text-sm",children:"To connect to Supabase, update your .env file with valid credentials."})]}),r.jsxs(PA,{children:[r.jsx(es,{path:"/",element:r.jsx(h9,{})}),r.jsx(es,{path:"/browse",element:r.jsx(p9,{})}),r.jsx(es,{path:"/profile/:id",element:r.jsx(g9,{})}),r.jsx(es,{path:"/dashboard",element:r.jsx(Du,{children:r.jsx(xB,{})})}),r.jsx(es,{path:"/settings",element:r.jsx(Du,{children:r.jsx(xO,{})})}),r.jsx(es,{path:"/edit-profile",element:r.jsx(Du,{children:r.jsx(x9,{})})}),r.jsx(es,{path:"/billing",element:r.jsx(Du,{children:r.jsx(pB,{})})}),r.jsx(es,{path:"/admin",element:r.jsx(Du,{children:r.jsx(RB,{})})}),r.jsx(es,{path:"/checkout",element:r.jsx(fO,{})}),r.jsx(es,{path:"/success",element:r.jsx(mB,{})}),r.jsx(es,{path:"/pricing",element:r.jsx(N9,{})}),r.jsx(es,{path:"/how-it-works",element:r.jsx(CB,{})}),r.jsx(es,{path:"/success-stories",element:r.jsx(SB,{})}),r.jsx(es,{path:"/safety",element:r.jsx(_B,{})}),r.jsx(es,{path:"/anti-scam",element:r.jsx(IB,{})}),r.jsx(es,{path:"/about",element:r.jsx(kB,{})}),r.jsx(es,{path:"/faq",element:r.jsx(AB,{})}),r.jsx(es,{path:"/contact",element:r.jsx(EB,{})}),r.jsx(es,{path:"/blog",element:r.jsx(gO,{})}),r.jsx(es,{path:"/privacy",element:r.jsx(TB,{})}),r.jsx(es,{path:"/terms",element:r.jsx(PB,{})}),r.jsx(es,{path:"/imbra",element:r.jsx(MB,{})}),r.jsx(es,{path:"/cookie-policy",element:r.jsx(LB,{})}),r.jsx(es,{path:"/cookie-test",element:r.jsx(NB,{})}),r.jsx(es,{path:"/login",element:r.jsx(pO,{})}),r.jsx(es,{path:"/register",element:r.jsx(z5,{})}),r.jsx(es,{path:"/signup",element:r.jsx(z5,{})}),r.jsx(es,{path:"/debug",element:r.jsx(DB,{})}),r.jsx(es,{path:"/notifications-test",element:r.jsx(OB,{})})]}),r.jsx(FB,{})]})})})})})};qg.createRoot(document.getElementById("root")).render(r.jsx(sr.StrictMode,{children:r.jsx(BB,{})}));export{os as _,Ti as c,dC as g};
